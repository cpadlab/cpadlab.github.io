var XV=Object.defineProperty;var qV=(n,e,t)=>e in n?XV(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var An=(n,e,t)=>qV(n,typeof e!="symbol"?e+"":e,t);function YV(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function Vl(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var lE={exports:{}},tv={},cE={exports:{}},yr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W2;function KV(){if(W2)return yr;W2=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function p(ne){return ne===null||typeof ne!="object"?null:(ne=h&&ne[h]||ne["@@iterator"],typeof ne=="function"?ne:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function S(ne,we,nt){this.props=ne,this.context=we,this.refs=w,this.updater=nt||v}S.prototype.isReactComponent={},S.prototype.setState=function(ne,we){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,we,"setState")},S.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function _(){}_.prototype=S.prototype;function A(ne,we,nt){this.props=ne,this.context=we,this.refs=w,this.updater=nt||v}var R=A.prototype=new _;R.constructor=A,y(R,S.prototype),R.isPureReactComponent=!0;var P=Array.isArray,U=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function j(ne,we,nt){var Ce,Ve={},He=null,je=null;if(we!=null)for(Ce in we.ref!==void 0&&(je=we.ref),we.key!==void 0&&(He=""+we.key),we)U.call(we,Ce)&&!E.hasOwnProperty(Ce)&&(Ve[Ce]=we[Ce]);var pt=arguments.length-2;if(pt===1)Ve.children=nt;else if(1<pt){for(var bt=Array(pt),Dt=0;Dt<pt;Dt++)bt[Dt]=arguments[Dt+2];Ve.children=bt}if(ne&&ne.defaultProps)for(Ce in pt=ne.defaultProps,pt)Ve[Ce]===void 0&&(Ve[Ce]=pt[Ce]);return{$$typeof:n,type:ne,key:He,ref:je,props:Ve,_owner:k.current}}function O(ne,we){return{$$typeof:n,type:ne.type,key:we,ref:ne.ref,props:ne.props,_owner:ne._owner}}function F(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===n}function Y(ne){var we={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(nt){return we[nt]})}var te=/\/+/g;function ie(ne,we){return typeof ne=="object"&&ne!==null&&ne.key!=null?Y(""+ne.key):we.toString(36)}function ue(ne,we,nt,Ce,Ve){var He=typeof ne;(He==="undefined"||He==="boolean")&&(ne=null);var je=!1;if(ne===null)je=!0;else switch(He){case"string":case"number":je=!0;break;case"object":switch(ne.$$typeof){case n:case e:je=!0}}if(je)return je=ne,Ve=Ve(je),ne=Ce===""?"."+ie(je,0):Ce,P(Ve)?(nt="",ne!=null&&(nt=ne.replace(te,"$&/")+"/"),ue(Ve,we,nt,"",function(Dt){return Dt})):Ve!=null&&(F(Ve)&&(Ve=O(Ve,nt+(!Ve.key||je&&je.key===Ve.key?"":(""+Ve.key).replace(te,"$&/")+"/")+ne)),we.push(Ve)),1;if(je=0,Ce=Ce===""?".":Ce+":",P(ne))for(var pt=0;pt<ne.length;pt++){He=ne[pt];var bt=Ce+ie(He,pt);je+=ue(He,we,nt,bt,Ve)}else if(bt=p(ne),typeof bt=="function")for(ne=bt.call(ne),pt=0;!(He=ne.next()).done;)He=He.value,bt=Ce+ie(He,pt++),je+=ue(He,we,nt,bt,Ve);else if(He==="object")throw we=String(ne),Error("Objects are not valid as a React child (found: "+(we==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":we)+"). If you meant to render a collection of children, use an array instead.");return je}function _e(ne,we,nt){if(ne==null)return ne;var Ce=[],Ve=0;return ue(ne,Ce,"","",function(He){return we.call(nt,He,Ve++)}),Ce}function he(ne){if(ne._status===-1){var we=ne._result;we=we(),we.then(function(nt){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=nt)},function(nt){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=nt)}),ne._status===-1&&(ne._status=0,ne._result=we)}if(ne._status===1)return ne._result.default;throw ne._result}var ge={current:null},q={transition:null},oe={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:q,ReactCurrentOwner:k};function $(){throw Error("act(...) is not supported in production builds of React.")}return yr.Children={map:_e,forEach:function(ne,we,nt){_e(ne,function(){we.apply(this,arguments)},nt)},count:function(ne){var we=0;return _e(ne,function(){we++}),we},toArray:function(ne){return _e(ne,function(we){return we})||[]},only:function(ne){if(!F(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}},yr.Component=S,yr.Fragment=t,yr.Profiler=i,yr.PureComponent=A,yr.StrictMode=r,yr.Suspense=l,yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,yr.act=$,yr.cloneElement=function(ne,we,nt){if(ne==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ne+".");var Ce=y({},ne.props),Ve=ne.key,He=ne.ref,je=ne._owner;if(we!=null){if(we.ref!==void 0&&(He=we.ref,je=k.current),we.key!==void 0&&(Ve=""+we.key),ne.type&&ne.type.defaultProps)var pt=ne.type.defaultProps;for(bt in we)U.call(we,bt)&&!E.hasOwnProperty(bt)&&(Ce[bt]=we[bt]===void 0&&pt!==void 0?pt[bt]:we[bt])}var bt=arguments.length-2;if(bt===1)Ce.children=nt;else if(1<bt){pt=Array(bt);for(var Dt=0;Dt<bt;Dt++)pt[Dt]=arguments[Dt+2];Ce.children=pt}return{$$typeof:n,type:ne.type,key:Ve,ref:He,props:Ce,_owner:je}},yr.createContext=function(ne){return ne={$$typeof:o,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ne.Provider={$$typeof:s,_context:ne},ne.Consumer=ne},yr.createElement=j,yr.createFactory=function(ne){var we=j.bind(null,ne);return we.type=ne,we},yr.createRef=function(){return{current:null}},yr.forwardRef=function(ne){return{$$typeof:a,render:ne}},yr.isValidElement=F,yr.lazy=function(ne){return{$$typeof:f,_payload:{_status:-1,_result:ne},_init:he}},yr.memo=function(ne,we){return{$$typeof:c,type:ne,compare:we===void 0?null:we}},yr.startTransition=function(ne){var we=q.transition;q.transition={};try{ne()}finally{q.transition=we}},yr.unstable_act=$,yr.useCallback=function(ne,we){return ge.current.useCallback(ne,we)},yr.useContext=function(ne){return ge.current.useContext(ne)},yr.useDebugValue=function(){},yr.useDeferredValue=function(ne){return ge.current.useDeferredValue(ne)},yr.useEffect=function(ne,we){return ge.current.useEffect(ne,we)},yr.useId=function(){return ge.current.useId()},yr.useImperativeHandle=function(ne,we,nt){return ge.current.useImperativeHandle(ne,we,nt)},yr.useInsertionEffect=function(ne,we){return ge.current.useInsertionEffect(ne,we)},yr.useLayoutEffect=function(ne,we){return ge.current.useLayoutEffect(ne,we)},yr.useMemo=function(ne,we){return ge.current.useMemo(ne,we)},yr.useReducer=function(ne,we,nt){return ge.current.useReducer(ne,we,nt)},yr.useRef=function(ne){return ge.current.useRef(ne)},yr.useState=function(ne){return ge.current.useState(ne)},yr.useSyncExternalStore=function(ne,we,nt){return ge.current.useSyncExternalStore(ne,we,nt)},yr.useTransition=function(){return ge.current.useTransition()},yr.version="18.3.1",yr}var G2;function LS(){return G2||(G2=1,cE.exports=KV()),cE.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $2;function ZV(){if($2)return tv;$2=1;var n=LS(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,c){var f,h={},p=null,v=null;c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(v=l.ref);for(f in l)r.call(l,f)&&!s.hasOwnProperty(f)&&(h[f]=l[f]);if(a&&a.defaultProps)for(f in l=a.defaultProps,l)h[f]===void 0&&(h[f]=l[f]);return{$$typeof:e,type:a,key:p,ref:v,props:h,_owner:i.current}}return tv.Fragment=t,tv.jsx=o,tv.jsxs=o,tv}var X2;function JV(){return X2||(X2=1,lE.exports=ZV()),lE.exports}var N=JV(),z=LS();const Te=Vl(z),QV=YV({__proto__:null,default:Te},[z]);var m_={},uE={exports:{}},ua={},fE={exports:{}},dE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q2;function eH(){return q2||(q2=1,function(n){function e(q,oe){var $=q.length;q.push(oe);e:for(;0<$;){var ne=$-1>>>1,we=q[ne];if(0<i(we,oe))q[ne]=oe,q[$]=we,$=ne;else break e}}function t(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var oe=q[0],$=q.pop();if($!==oe){q[0]=$;e:for(var ne=0,we=q.length,nt=we>>>1;ne<nt;){var Ce=2*(ne+1)-1,Ve=q[Ce],He=Ce+1,je=q[He];if(0>i(Ve,$))He<we&&0>i(je,Ve)?(q[ne]=je,q[He]=$,ne=He):(q[ne]=Ve,q[Ce]=$,ne=Ce);else if(He<we&&0>i(je,$))q[ne]=je,q[He]=$,ne=He;else break e}}return oe}function i(q,oe){var $=q.sortIndex-oe.sortIndex;return $!==0?$:q.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,h=null,p=3,v=!1,y=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(q){for(var oe=t(c);oe!==null;){if(oe.callback===null)r(c);else if(oe.startTime<=q)r(c),oe.sortIndex=oe.expirationTime,e(l,oe);else break;oe=t(c)}}function P(q){if(w=!1,R(q),!y)if(t(l)!==null)y=!0,he(U);else{var oe=t(c);oe!==null&&ge(P,oe.startTime-q)}}function U(q,oe){y=!1,w&&(w=!1,_(j),j=-1),v=!0;var $=p;try{for(R(oe),h=t(l);h!==null&&(!(h.expirationTime>oe)||q&&!Y());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,p=h.priorityLevel;var we=ne(h.expirationTime<=oe);oe=n.unstable_now(),typeof we=="function"?h.callback=we:h===t(l)&&r(l),R(oe)}else r(l);h=t(l)}if(h!==null)var nt=!0;else{var Ce=t(c);Ce!==null&&ge(P,Ce.startTime-oe),nt=!1}return nt}finally{h=null,p=$,v=!1}}var k=!1,E=null,j=-1,O=5,F=-1;function Y(){return!(n.unstable_now()-F<O)}function te(){if(E!==null){var q=n.unstable_now();F=q;var oe=!0;try{oe=E(!0,q)}finally{oe?ie():(k=!1,E=null)}}else k=!1}var ie;if(typeof A=="function")ie=function(){A(te)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,_e=ue.port2;ue.port1.onmessage=te,ie=function(){_e.postMessage(null)}}else ie=function(){S(te,0)};function he(q){E=q,k||(k=!0,ie())}function ge(q,oe){j=S(function(){q(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_continueExecution=function(){y||v||(y=!0,he(U))},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(q){switch(p){case 1:case 2:case 3:var oe=3;break;default:oe=p}var $=p;p=oe;try{return q()}finally{p=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(q,oe){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var $=p;p=q;try{return oe()}finally{p=$}},n.unstable_scheduleCallback=function(q,oe,$){var ne=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ne+$:ne):$=ne,q){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=$+we,q={id:f++,callback:oe,priorityLevel:q,startTime:$,expirationTime:we,sortIndex:-1},$>ne?(q.sortIndex=$,e(c,q),t(l)===null&&q===t(c)&&(w?(_(j),j=-1):w=!0,ge(P,$-ne))):(q.sortIndex=we,e(l,q),y||v||(y=!0,he(U))),q},n.unstable_shouldYield=Y,n.unstable_wrapCallback=function(q){var oe=p;return function(){var $=p;p=oe;try{return q.apply(this,arguments)}finally{p=$}}}}(dE)),dE}var Y2;function tH(){return Y2||(Y2=1,fE.exports=eH()),fE.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K2;function nH(){if(K2)return ua;K2=1;var n=LS(),e=tH();function t(u){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+u,x=1;x<arguments.length;x++)d+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(u,d){o(u,d),o(u+"Capture",d)}function o(u,d){for(i[u]=d,u=0;u<d.length;u++)r.add(d[u])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function p(u){return l.call(h,u)?!0:l.call(f,u)?!1:c.test(u)?h[u]=!0:(f[u]=!0,!1)}function v(u,d,x,M){if(x!==null&&x.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return M?!1:x!==null?!x.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function y(u,d,x,M){if(d===null||typeof d>"u"||v(u,d,x,M))return!0;if(M)return!1;if(x!==null)switch(x.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function w(u,d,x,M,L,H,Q){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=M,this.attributeNamespace=L,this.mustUseProperty=x,this.propertyName=u,this.type=d,this.sanitizeURL=H,this.removeEmptyString=Q}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){S[u]=new w(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var d=u[0];S[d]=new w(d,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){S[u]=new w(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){S[u]=new w(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){S[u]=new w(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){S[u]=new w(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){S[u]=new w(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){S[u]=new w(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){S[u]=new w(u,5,!1,u.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function A(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var d=u.replace(_,A);S[d]=new w(d,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var d=u.replace(_,A);S[d]=new w(d,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var d=u.replace(_,A);S[d]=new w(d,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){S[u]=new w(u,1,!1,u.toLowerCase(),null,!1,!1)}),S.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){S[u]=new w(u,1,!1,u.toLowerCase(),null,!0,!0)});function R(u,d,x,M){var L=S.hasOwnProperty(d)?S[d]:null;(L!==null?L.type!==0:M||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(y(d,x,L,M)&&(x=null),M||L===null?p(d)&&(x===null?u.removeAttribute(d):u.setAttribute(d,""+x)):L.mustUseProperty?u[L.propertyName]=x===null?L.type===3?!1:"":x:(d=L.attributeName,M=L.attributeNamespace,x===null?u.removeAttribute(d):(L=L.type,x=L===3||L===4&&x===!0?"":""+x,M?u.setAttributeNS(M,d,x):u.setAttribute(d,x))))}var P=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),k=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),Y=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),_e=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),q=Symbol.iterator;function oe(u){return u===null||typeof u!="object"?null:(u=q&&u[q]||u["@@iterator"],typeof u=="function"?u:null)}var $=Object.assign,ne;function we(u){if(ne===void 0)try{throw Error()}catch(x){var d=x.stack.trim().match(/\n( *(at )?)/);ne=d&&d[1]||""}return`
`+ne+u}var nt=!1;function Ce(u,d){if(!u||nt)return"";nt=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(st){var M=st}Reflect.construct(u,[],d)}else{try{d.call()}catch(st){M=st}u.call(d.prototype)}else{try{throw Error()}catch(st){M=st}u()}}catch(st){if(st&&M&&typeof st.stack=="string"){for(var L=st.stack.split(`
`),H=M.stack.split(`
`),Q=L.length-1,ye=H.length-1;1<=Q&&0<=ye&&L[Q]!==H[ye];)ye--;for(;1<=Q&&0<=ye;Q--,ye--)if(L[Q]!==H[ye]){if(Q!==1||ye!==1)do if(Q--,ye--,0>ye||L[Q]!==H[ye]){var Ie=`
`+L[Q].replace(" at new "," at ");return u.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",u.displayName)),Ie}while(1<=Q&&0<=ye);break}}}finally{nt=!1,Error.prepareStackTrace=x}return(u=u?u.displayName||u.name:"")?we(u):""}function Ve(u){switch(u.tag){case 5:return we(u.type);case 16:return we("Lazy");case 13:return we("Suspense");case 19:return we("SuspenseList");case 0:case 2:case 15:return u=Ce(u.type,!1),u;case 11:return u=Ce(u.type.render,!1),u;case 1:return u=Ce(u.type,!0),u;default:return""}}function He(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case E:return"Fragment";case k:return"Portal";case O:return"Profiler";case j:return"StrictMode";case ie:return"Suspense";case ue:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case Y:return(u.displayName||"Context")+".Consumer";case F:return(u._context.displayName||"Context")+".Provider";case te:var d=u.render;return u=u.displayName,u||(u=d.displayName||d.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case _e:return d=u.displayName||null,d!==null?d:He(u.type)||"Memo";case he:d=u._payload,u=u._init;try{return He(u(d))}catch{}}return null}function je(u){var d=u.type;switch(u.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=d.render,u=u.displayName||u.name||"",d.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return He(d);case 8:return d===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function pt(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function bt(u){var d=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Dt(u){var d=bt(u)?"checked":"value",x=Object.getOwnPropertyDescriptor(u.constructor.prototype,d),M=""+u[d];if(!u.hasOwnProperty(d)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var L=x.get,H=x.set;return Object.defineProperty(u,d,{configurable:!0,get:function(){return L.call(this)},set:function(Q){M=""+Q,H.call(this,Q)}}),Object.defineProperty(u,d,{enumerable:x.enumerable}),{getValue:function(){return M},setValue:function(Q){M=""+Q},stopTracking:function(){u._valueTracker=null,delete u[d]}}}}function Jt(u){u._valueTracker||(u._valueTracker=Dt(u))}function at(u){if(!u)return!1;var d=u._valueTracker;if(!d)return!0;var x=d.getValue(),M="";return u&&(M=bt(u)?u.checked?"true":"false":u.value),u=M,u!==x?(d.setValue(u),!0):!1}function Xe(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function ae(u,d){var x=d.checked;return $({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??u._wrapperState.initialChecked})}function Bt(u,d){var x=d.defaultValue==null?"":d.defaultValue,M=d.checked!=null?d.checked:d.defaultChecked;x=pt(d.value!=null?d.value:x),u._wrapperState={initialChecked:M,initialValue:x,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function ht(u,d){d=d.checked,d!=null&&R(u,"checked",d,!1)}function Re(u,d){ht(u,d);var x=pt(d.value),M=d.type;if(x!=null)M==="number"?(x===0&&u.value===""||u.value!=x)&&(u.value=""+x):u.value!==""+x&&(u.value=""+x);else if(M==="submit"||M==="reset"){u.removeAttribute("value");return}d.hasOwnProperty("value")?tn(u,d.type,x):d.hasOwnProperty("defaultValue")&&tn(u,d.type,pt(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(u.defaultChecked=!!d.defaultChecked)}function mt(u,d,x){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var M=d.type;if(!(M!=="submit"&&M!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+u._wrapperState.initialValue,x||d===u.value||(u.value=d),u.defaultValue=d}x=u.name,x!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,x!==""&&(u.name=x)}function tn(u,d,x){(d!=="number"||Xe(u.ownerDocument)!==u)&&(x==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+x&&(u.defaultValue=""+x))}var It=Array.isArray;function se(u,d,x,M){if(u=u.options,d){d={};for(var L=0;L<x.length;L++)d["$"+x[L]]=!0;for(x=0;x<u.length;x++)L=d.hasOwnProperty("$"+u[x].value),u[x].selected!==L&&(u[x].selected=L),L&&M&&(u[x].defaultSelected=!0)}else{for(x=""+pt(x),d=null,L=0;L<u.length;L++){if(u[L].value===x){u[L].selected=!0,M&&(u[L].defaultSelected=!0);return}d!==null||u[L].disabled||(d=u[L])}d!==null&&(d.selected=!0)}}function ee(u,d){if(d.dangerouslySetInnerHTML!=null)throw Error(t(91));return $({},d,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function xe(u,d){var x=d.value;if(x==null){if(x=d.children,d=d.defaultValue,x!=null){if(d!=null)throw Error(t(92));if(It(x)){if(1<x.length)throw Error(t(93));x=x[0]}d=x}d==null&&(d=""),x=d}u._wrapperState={initialValue:pt(x)}}function Oe(u,d){var x=pt(d.value),M=pt(d.defaultValue);x!=null&&(x=""+x,x!==u.value&&(u.value=x),d.defaultValue==null&&u.defaultValue!==x&&(u.defaultValue=x)),M!=null&&(u.defaultValue=""+M)}function Le(u){var d=u.textContent;d===u._wrapperState.initialValue&&d!==""&&d!==null&&(u.value=d)}function Ge(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function St(u,d){return u==null||u==="http://www.w3.org/1999/xhtml"?Ge(d):u==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var wt,Rt=function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,x,M,L){MSApp.execUnsafeLocalFunction(function(){return u(d,x,M,L)})}:u}(function(u,d){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=d;else{for(wt=wt||document.createElement("div"),wt.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=wt.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;d.firstChild;)u.appendChild(d.firstChild)}});function vn(u,d){if(d){var x=u.firstChild;if(x&&x===u.lastChild&&x.nodeType===3){x.nodeValue=d;return}}u.textContent=d}var xt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tt=["Webkit","ms","Moz","O"];Object.keys(xt).forEach(function(u){Tt.forEach(function(d){d=d+u.charAt(0).toUpperCase()+u.substring(1),xt[d]=xt[u]})});function Zt(u,d,x){return d==null||typeof d=="boolean"||d===""?"":x||typeof d!="number"||d===0||xt.hasOwnProperty(u)&&xt[u]?(""+d).trim():d+"px"}function Wt(u,d){u=u.style;for(var x in d)if(d.hasOwnProperty(x)){var M=x.indexOf("--")===0,L=Zt(x,d[x],M);x==="float"&&(x="cssFloat"),M?u.setProperty(x,L):u[x]=L}}var Ot=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ae(u,d){if(d){if(Ot[u]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(t(137,u));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(t(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(t(61))}if(d.style!=null&&typeof d.style!="object")throw Error(t(62))}}function Ye(u,d){if(u.indexOf("-")===-1)return typeof d.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=null;function me(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Be=null,ze=null,ot=null;function Ft(u){if(u=Zl(u)){if(typeof Be!="function")throw Error(t(280));var d=u.stateNode;d&&(d=pm(d),Be(u.stateNode,u.type,d))}}function Ut(u){ze?ot?ot.push(u):ot=[u]:ze=u}function Qt(){if(ze){var u=ze,d=ot;if(ot=ze=null,Ft(u),d)for(u=0;u<d.length;u++)Ft(d[u])}}function _n(u,d){return u(d)}function mr(){}var Gt=!1;function nn(u,d,x){if(Gt)return u(d,x);Gt=!0;try{return _n(u,d,x)}finally{Gt=!1,(ze!==null||ot!==null)&&(mr(),Qt())}}function Pn(u,d){var x=u.stateNode;if(x===null)return null;var M=pm(x);if(M===null)return null;x=M[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(M=!M.disabled)||(u=u.type,M=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!M;break e;default:u=!1}if(u)return null;if(x&&typeof x!="function")throw Error(t(231,d,typeof x));return x}var zt=!1;if(a)try{var En={};Object.defineProperty(En,"passive",{get:function(){zt=!0}}),window.addEventListener("test",En,En),window.removeEventListener("test",En,En)}catch{zt=!1}function an(u,d,x,M,L,H,Q,ye,Ie){var st=Array.prototype.slice.call(arguments,3);try{d.apply(x,st)}catch(Ct){this.onError(Ct)}}var wn=!1,br=null,Nn=!1,dn=null,Xr={onError:function(u){wn=!0,br=u}};function Mr(u,d,x,M,L,H,Q,ye,Ie){wn=!1,br=null,an.apply(Xr,arguments)}function Z(u,d,x,M,L,H,Q,ye,Ie){if(Mr.apply(this,arguments),wn){if(wn){var st=br;wn=!1,br=null}else throw Error(t(198));Nn||(Nn=!0,dn=st)}}function re(u){var d=u,x=u;if(u.alternate)for(;d.return;)d=d.return;else{u=d;do d=u,d.flags&4098&&(x=d.return),u=d.return;while(u)}return d.tag===3?x:null}function Me(u){if(u.tag===13){var d=u.memoizedState;if(d===null&&(u=u.alternate,u!==null&&(d=u.memoizedState)),d!==null)return d.dehydrated}return null}function Fe(u){if(re(u)!==u)throw Error(t(188))}function Je(u){var d=u.alternate;if(!d){if(d=re(u),d===null)throw Error(t(188));return d!==u?null:u}for(var x=u,M=d;;){var L=x.return;if(L===null)break;var H=L.alternate;if(H===null){if(M=L.return,M!==null){x=M;continue}break}if(L.child===H.child){for(H=L.child;H;){if(H===x)return Fe(L),u;if(H===M)return Fe(L),d;H=H.sibling}throw Error(t(188))}if(x.return!==M.return)x=L,M=H;else{for(var Q=!1,ye=L.child;ye;){if(ye===x){Q=!0,x=L,M=H;break}if(ye===M){Q=!0,M=L,x=H;break}ye=ye.sibling}if(!Q){for(ye=H.child;ye;){if(ye===x){Q=!0,x=H,M=L;break}if(ye===M){Q=!0,M=H,x=L;break}ye=ye.sibling}if(!Q)throw Error(t(189))}}if(x.alternate!==M)throw Error(t(190))}if(x.tag!==3)throw Error(t(188));return x.stateNode.current===x?u:d}function Qe(u){return u=Je(u),u!==null?vt(u):null}function vt(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var d=vt(u);if(d!==null)return d;u=u.sibling}return null}var K=e.unstable_scheduleCallback,fe=e.unstable_cancelCallback,be=e.unstable_shouldYield,Ee=e.unstable_requestPaint,le=e.unstable_now,it=e.unstable_getCurrentPriorityLevel,et=e.unstable_ImmediatePriority,ut=e.unstable_UserBlockingPriority,yt=e.unstable_NormalPriority,Pt=e.unstable_LowPriority,kt=e.unstable_IdlePriority,At=null,Lt=null;function Yt(u){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(At,u,void 0,(u.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:Xt,On=Math.log,Ht=Math.LN2;function Xt(u){return u>>>=0,u===0?32:31-(On(u)/Ht|0)|0}var er=64,In=4194304;function _r(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Yn(u,d){var x=u.pendingLanes;if(x===0)return 0;var M=0,L=u.suspendedLanes,H=u.pingedLanes,Q=x&268435455;if(Q!==0){var ye=Q&~L;ye!==0?M=_r(ye):(H&=Q,H!==0&&(M=_r(H)))}else Q=x&~L,Q!==0?M=_r(Q):H!==0&&(M=_r(H));if(M===0)return 0;if(d!==0&&d!==M&&!(d&L)&&(L=M&-M,H=d&-d,L>=H||L===16&&(H&4194240)!==0))return d;if(M&4&&(M|=x&16),d=u.entangledLanes,d!==0)for(u=u.entanglements,d&=M;0<d;)x=31-un(d),L=1<<x,M|=u[x],d&=~L;return M}function vr(u,d){switch(u){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lr(u,d){for(var x=u.suspendedLanes,M=u.pingedLanes,L=u.expirationTimes,H=u.pendingLanes;0<H;){var Q=31-un(H),ye=1<<Q,Ie=L[Q];Ie===-1?(!(ye&x)||ye&M)&&(L[Q]=vr(ye,d)):Ie<=d&&(u.expiredLanes|=ye),H&=~ye}}function Sn(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function cr(){var u=er;return er<<=1,!(er&4194240)&&(er=64),u}function Kr(u){for(var d=[],x=0;31>x;x++)d.push(u);return d}function $n(u,d,x){u.pendingLanes|=d,d!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,d=31-un(d),u[d]=x}function Wr(u,d){var x=u.pendingLanes&~d;u.pendingLanes=d,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=d,u.mutableReadLanes&=d,u.entangledLanes&=d,d=u.entanglements;var M=u.eventTimes;for(u=u.expirationTimes;0<x;){var L=31-un(x),H=1<<L;d[L]=0,M[L]=-1,u[L]=-1,x&=~H}}function Rs(u,d){var x=u.entangledLanes|=d;for(u=u.entanglements;x;){var M=31-un(x),L=1<<M;L&d|u[M]&d&&(u[M]|=d),x&=~L}}var tr=0;function Dc(u){return u&=-u,1<u?4<u?u&268435455?16:536870912:4:1}var Ao,Ma,Af,Cf,ll,cl=!1,Nc=[],Co=null,nr=null,Aa=null,ul=new Map,kc=new Map,fl=[],Kd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bi(u,d){switch(u){case"focusin":case"focusout":Co=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":Aa=null;break;case"pointerover":case"pointerout":ul.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":kc.delete(d.pointerId)}}function Wl(u,d,x,M,L,H){return u===null||u.nativeEvent!==H?(u={blockedOn:d,domEventName:x,eventSystemFlags:M,nativeEvent:H,targetContainers:[L]},d!==null&&(d=Zl(d),d!==null&&Ma(d)),u):(u.eventSystemFlags|=M,d=u.targetContainers,L!==null&&d.indexOf(L)===-1&&d.push(L),u)}function y0(u,d,x,M,L){switch(d){case"focusin":return Co=Wl(Co,u,d,x,M,L),!0;case"dragenter":return nr=Wl(nr,u,d,x,M,L),!0;case"mouseover":return Aa=Wl(Aa,u,d,x,M,L),!0;case"pointerover":var H=L.pointerId;return ul.set(H,Wl(ul.get(H)||null,u,d,x,M,L)),!0;case"gotpointercapture":return H=L.pointerId,kc.set(H,Wl(kc.get(H)||null,u,d,x,M,L)),!0}return!1}function Rf(u){var d=Vc(u.target);if(d!==null){var x=re(d);if(x!==null){if(d=x.tag,d===13){if(d=Me(x),d!==null){u.blockedOn=d,ll(u.priority,function(){Af(x)});return}}else if(d===3&&x.stateNode.current.memoizedState.isDehydrated){u.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Pf(u){if(u.blockedOn!==null)return!1;for(var d=u.targetContainers;0<d.length;){var x=ro(u.domEventName,u.eventSystemFlags,d[0],u.nativeEvent);if(x===null){x=u.nativeEvent;var M=new x.constructor(x.type,x);_t=M,x.target.dispatchEvent(M),_t=null}else return d=Zl(x),d!==null&&Ma(d),u.blockedOn=x,!1;d.shift()}return!0}function wu(u,d,x){Pf(u)&&x.delete(d)}function na(){cl=!1,Co!==null&&Pf(Co)&&(Co=null),nr!==null&&Pf(nr)&&(nr=null),Aa!==null&&Pf(Aa)&&(Aa=null),ul.forEach(wu),kc.forEach(wu)}function Oc(u,d){u.blockedOn===d&&(u.blockedOn=null,cl||(cl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,na)))}function Gl(u){function d(L){return Oc(L,u)}if(0<Nc.length){Oc(Nc[0],u);for(var x=1;x<Nc.length;x++){var M=Nc[x];M.blockedOn===u&&(M.blockedOn=null)}}for(Co!==null&&Oc(Co,u),nr!==null&&Oc(nr,u),Aa!==null&&Oc(Aa,u),ul.forEach(d),kc.forEach(d),x=0;x<fl.length;x++)M=fl[x],M.blockedOn===u&&(M.blockedOn=null);for(;0<fl.length&&(x=fl[0],x.blockedOn===null);)Rf(x),x.blockedOn===null&&fl.shift()}var es=P.ReactCurrentBatchConfig,Ps=!0;function Su(u,d,x,M){var L=tr,H=es.transition;es.transition=null;try{tr=1,Fc(u,d,x,M)}finally{tr=L,es.transition=H}}function If(u,d,x,M){var L=tr,H=es.transition;es.transition=null;try{tr=4,Fc(u,d,x,M)}finally{tr=L,es.transition=H}}function Fc(u,d,x,M){if(Ps){var L=ro(u,d,x,M);if(L===null)lm(u,d,M,Lf,x),bi(u,M);else if(y0(L,u,d,x,M))M.stopPropagation();else if(bi(u,M),d&4&&-1<Kd.indexOf(u)){for(;L!==null;){var H=Zl(L);if(H!==null&&Ao(H),H=ro(u,d,x,M),H===null&&lm(u,d,M,Lf,x),H===L)break;L=H}L!==null&&M.stopPropagation()}else lm(u,d,M,null,x)}}var Lf=null;function ro(u,d,x,M){if(Lf=null,u=me(M),u=Vc(u),u!==null)if(d=re(u),d===null)u=null;else if(x=d.tag,x===13){if(u=Me(d),u!==null)return u;u=null}else if(x===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;u=null}else d!==u&&(u=null);return Lf=u,null}function nm(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(it()){case et:return 1;case ut:return 4;case yt:case Pt:return 16;case kt:return 536870912;default:return 16}default:return 16}}var ps=null,Df=null,ts=null;function bu(){if(ts)return ts;var u,d=Df,x=d.length,M,L="value"in ps?ps.value:ps.textContent,H=L.length;for(u=0;u<x&&d[u]===L[u];u++);var Q=x-u;for(M=1;M<=Q&&d[x-M]===L[H-M];M++);return ts=L.slice(u,1<M?1-M:void 0)}function $l(u){var d=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&d===13&&(u=13)):u=d,u===10&&(u=13),32<=u||u===13?u:0}function Ca(){return!0}function b(){return!1}function C(u){function d(x,M,L,H,Q){this._reactName=x,this._targetInst=L,this.type=M,this.nativeEvent=H,this.target=Q,this.currentTarget=null;for(var ye in u)u.hasOwnProperty(ye)&&(x=u[ye],this[ye]=x?x(H):H[ye]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?Ca:b,this.isPropagationStopped=b,this}return $(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Ca)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Ca)},persist:function(){},isPersistent:Ca}),d}var D={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},V=C(D),G=$({},D,{view:0,detail:0}),X=C(G),J,Se,ve,De=$({},G,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:so,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==ve&&(ve&&u.type==="mousemove"?(J=u.screenX-ve.screenX,Se=u.screenY-ve.screenY):Se=J=0,ve=u),J)},movementY:function(u){return"movementY"in u?u.movementY:Se}}),lt=C(De),ft=$({},De,{dataTransfer:0}),$e=C(ft),Mt=$({},G,{relatedTarget:0}),Un=C(Mt),dr=$({},D,{animationName:0,elapsedTime:0,pseudoElement:0}),Qn=C(dr),Oi=$({},D,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),hi=C(Oi),$s=$({},D,{data:0}),io=C($s),hr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zr(u){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(u):(u=gr[u])?!!d[u]:!1}function so(){return zr}var Uc=$({},G,{key:function(u){if(u.key){var d=hr[u.key]||u.key;if(d!=="Unidentified")return d}return u.type==="keypress"?(u=$l(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?dl[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:so,charCode:function(u){return u.type==="keypress"?$l(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?$l(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Xs=C(Uc),ns=$({},De,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oi=C(ns),Is=$({},G,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:so}),rs=C(Is),gi=$({},D,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ra=C(gi),ra=$({},De,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Ro=C(ra),Zd=[9,13,27,32],ms=a&&"CompositionEvent"in window,Gi=null;a&&"documentMode"in document&&(Gi=document.documentMode);var kn=a&&"TextEvent"in window&&!Gi,Pa=a&&(!ms||Gi&&8<Gi&&11>=Gi),ai=" ",hl=!1;function Jd(u,d){switch(u){case"keyup":return Zd.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nf(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Ia=!1;function pl(u,d){switch(u){case"compositionend":return Nf(d);case"keypress":return d.which!==32?null:(hl=!0,ai);case"textInput":return u=d.data,u===ai&&hl?null:u;default:return null}}function Xl(u,d){if(Ia)return u==="compositionend"||!ms&&Jd(u,d)?(u=bu(),ts=Df=ps=null,Ia=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Pa&&d.locale!=="ko"?null:d.data;default:return null}}var qs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eu(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d==="input"?!!qs[u.type]:d==="textarea"}function ia(u,d,x,M){Ut(M),d=cm(d,"onChange"),0<d.length&&(x=new V("onChange","change",null,x,M),u.push({event:x,listeners:d}))}var Po=null,La=null;function kf(u){Of(u,0)}function Da(u){var d=Ei(u);if(at(d))return u}function Tu(u,d){if(u==="change")return d}var ml=!1;if(a){var is;if(a){var ql="oninput"in document;if(!ql){var Na=document.createElement("div");Na.setAttribute("oninput","return;"),ql=typeof Na.oninput=="function"}is=ql}else is=!1;ml=is&&(!document.documentMode||9<document.documentMode)}function oo(){Po&&(Po.detachEvent("onpropertychange",de),La=Po=null)}function de(u){if(u.propertyName==="value"&&Da(La)){var d=[];ia(d,La,u,me(u)),nn(kf,d)}}function Pe(u,d,x){u==="focusin"?(oo(),Po=d,La=x,Po.attachEvent("onpropertychange",de)):u==="focusout"&&oo()}function qe(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Da(La)}function tt(u,d){if(u==="click")return Da(d)}function rt(u,d){if(u==="input"||u==="change")return Da(d)}function jt(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var qt=typeof Object.is=="function"?Object.is:jt;function hn(u,d){if(qt(u,d))return!0;if(typeof u!="object"||u===null||typeof d!="object"||d===null)return!1;var x=Object.keys(u),M=Object.keys(d);if(x.length!==M.length)return!1;for(M=0;M<x.length;M++){var L=x[M];if(!l.call(d,L)||!qt(u[L],d[L]))return!1}return!0}function en(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function Bn(u,d){var x=en(u);u=0;for(var M;x;){if(x.nodeType===3){if(M=u+x.textContent.length,u<=d&&M>=d)return{node:x,offset:d-u};u=M}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=en(x)}}function Ln(u,d){return u&&d?u===d?!0:u&&u.nodeType===3?!1:d&&d.nodeType===3?Ln(u,d.parentNode):"contains"in u?u.contains(d):u.compareDocumentPosition?!!(u.compareDocumentPosition(d)&16):!1:!1}function fn(){for(var u=window,d=Xe();d instanceof u.HTMLIFrameElement;){try{var x=typeof d.contentWindow.location.href=="string"}catch{x=!1}if(x)u=d.contentWindow;else break;d=Xe(u.document)}return d}function Dn(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d&&(d==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||d==="textarea"||u.contentEditable==="true")}function ln(u){var d=fn(),x=u.focusedElem,M=u.selectionRange;if(d!==x&&x&&x.ownerDocument&&Ln(x.ownerDocument.documentElement,x)){if(M!==null&&Dn(x)){if(d=M.start,u=M.end,u===void 0&&(u=d),"selectionStart"in x)x.selectionStart=d,x.selectionEnd=Math.min(u,x.value.length);else if(u=(d=x.ownerDocument||document)&&d.defaultView||window,u.getSelection){u=u.getSelection();var L=x.textContent.length,H=Math.min(M.start,L);M=M.end===void 0?H:Math.min(M.end,L),!u.extend&&H>M&&(L=M,M=H,H=L),L=Bn(x,H);var Q=Bn(x,M);L&&Q&&(u.rangeCount!==1||u.anchorNode!==L.node||u.anchorOffset!==L.offset||u.focusNode!==Q.node||u.focusOffset!==Q.offset)&&(d=d.createRange(),d.setStart(L.node,L.offset),u.removeAllRanges(),H>M?(u.addRange(d),u.extend(Q.node,Q.offset)):(d.setEnd(Q.node,Q.offset),u.addRange(d)))}}for(d=[],u=x;u=u.parentNode;)u.nodeType===1&&d.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<d.length;x++)u=d[x],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var Nr=a&&"documentMode"in document&&11>=document.documentMode,ni=null,li=null,ss=null,Vr=!1;function ka(u,d,x){var M=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Vr||ni==null||ni!==Xe(M)||(M=ni,"selectionStart"in M&&Dn(M)?M={start:M.selectionStart,end:M.selectionEnd}:(M=(M.ownerDocument&&M.ownerDocument.defaultView||window).getSelection(),M={anchorNode:M.anchorNode,anchorOffset:M.anchorOffset,focusNode:M.focusNode,focusOffset:M.focusOffset}),ss&&hn(ss,M)||(ss=M,M=cm(li,"onSelect"),0<M.length&&(d=new V("onSelect","select",null,d,x),u.push({event:d,listeners:M}),d.target=ni)))}function vi(u,d){var x={};return x[u.toLowerCase()]=d.toLowerCase(),x["Webkit"+u]="webkit"+d,x["Moz"+u]="moz"+d,x}var Bc={animationend:vi("Animation","AnimationEnd"),animationiteration:vi("Animation","AnimationIteration"),animationstart:vi("Animation","AnimationStart"),transitionend:vi("Transition","TransitionEnd")},Oa={},Fa={};a&&(Fa=document.createElement("div").style,"AnimationEvent"in window||(delete Bc.animationend.animation,delete Bc.animationiteration.animation,delete Bc.animationstart.animation),"TransitionEvent"in window||delete Bc.transitionend.transition);function gl(u){if(Oa[u])return Oa[u];if(!Bc[u])return u;var d=Bc[u],x;for(x in d)if(d.hasOwnProperty(x)&&x in Fa)return Oa[u]=d[x];return u}var Qd=gl("animationend"),eh=gl("animationiteration"),x0=gl("animationstart"),_0=gl("transitionend"),w0=new Map,S0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yl(u,d){w0.set(u,d),s(d,[u])}for(var rm=0;rm<S0.length;rm++){var th=S0[rm],nh=th.toLowerCase(),Nx=th[0].toUpperCase()+th.slice(1);Yl(nh,"on"+Nx)}Yl(Qd,"onAnimationEnd"),Yl(eh,"onAnimationIteration"),Yl(x0,"onAnimationStart"),Yl("dblclick","onDoubleClick"),Yl("focusin","onFocus"),Yl("focusout","onBlur"),Yl(_0,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),im=new Set("cancel close invalid load scroll toggle".split(" ").concat(zc));function sm(u,d,x){var M=u.type||"unknown-event";u.currentTarget=x,Z(M,d,void 0,u),u.currentTarget=null}function Of(u,d){d=(d&4)!==0;for(var x=0;x<u.length;x++){var M=u[x],L=M.event;M=M.listeners;e:{var H=void 0;if(d)for(var Q=M.length-1;0<=Q;Q--){var ye=M[Q],Ie=ye.instance,st=ye.currentTarget;if(ye=ye.listener,Ie!==H&&L.isPropagationStopped())break e;sm(L,ye,st),H=Ie}else for(Q=0;Q<M.length;Q++){if(ye=M[Q],Ie=ye.instance,st=ye.currentTarget,ye=ye.listener,Ie!==H&&L.isPropagationStopped())break e;sm(L,ye,st),H=Ie}}}if(Nn)throw u=dn,Nn=!1,dn=null,u}function Zr(u,d){var x=d[Cu];x===void 0&&(x=d[Cu]=new Set);var M=u+"__bubble";x.has(M)||(am(d,u,2,!1),x.add(M))}function om(u,d,x){var M=0;d&&(M|=4),am(x,u,M,d)}var rh="_reactListening"+Math.random().toString(36).slice(2);function Ff(u){if(!u[rh]){u[rh]=!0,r.forEach(function(x){x!=="selectionchange"&&(im.has(x)||om(x,!1,u),om(x,!0,u))});var d=u.nodeType===9?u:u.ownerDocument;d===null||d[rh]||(d[rh]=!0,om("selectionchange",!1,d))}}function am(u,d,x,M){switch(nm(d)){case 1:var L=Su;break;case 4:L=If;break;default:L=Fc}x=L.bind(null,d,x,u),L=void 0,!zt||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(L=!0),M?L!==void 0?u.addEventListener(d,x,{capture:!0,passive:L}):u.addEventListener(d,x,!0):L!==void 0?u.addEventListener(d,x,{passive:L}):u.addEventListener(d,x,!1)}function lm(u,d,x,M,L){var H=M;if(!(d&1)&&!(d&2)&&M!==null)e:for(;;){if(M===null)return;var Q=M.tag;if(Q===3||Q===4){var ye=M.stateNode.containerInfo;if(ye===L||ye.nodeType===8&&ye.parentNode===L)break;if(Q===4)for(Q=M.return;Q!==null;){var Ie=Q.tag;if((Ie===3||Ie===4)&&(Ie=Q.stateNode.containerInfo,Ie===L||Ie.nodeType===8&&Ie.parentNode===L))return;Q=Q.return}for(;ye!==null;){if(Q=Vc(ye),Q===null)return;if(Ie=Q.tag,Ie===5||Ie===6){M=H=Q;continue e}ye=ye.parentNode}}M=M.return}nn(function(){var st=H,Ct=me(x),Nt=[];e:{var Et=w0.get(u);if(Et!==void 0){var pn=V,bn=u;switch(u){case"keypress":if($l(x)===0)break e;case"keydown":case"keyup":pn=Xs;break;case"focusin":bn="focus",pn=Un;break;case"focusout":bn="blur",pn=Un;break;case"beforeblur":case"afterblur":pn=Un;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pn=lt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pn=$e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pn=rs;break;case Qd:case eh:case x0:pn=Qn;break;case _0:pn=Ra;break;case"scroll":pn=X;break;case"wheel":pn=Ro;break;case"copy":case"cut":case"paste":pn=hi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pn=oi}var Tn=(d&4)!==0,Xi=!Tn&&u==="scroll",We=Tn?Et!==null?Et+"Capture":null:Et;Tn=[];for(var Ne=st,Ke;Ne!==null;){Ke=Ne;var $t=Ke.stateNode;if(Ke.tag===5&&$t!==null&&(Ke=$t,We!==null&&($t=Pn(Ne,We),$t!=null&&Tn.push(Uf(Ne,$t,Ke)))),Xi)break;Ne=Ne.return}0<Tn.length&&(Et=new pn(Et,bn,null,x,Ct),Nt.push({event:Et,listeners:Tn}))}}if(!(d&7)){e:{if(Et=u==="mouseover"||u==="pointerover",pn=u==="mouseout"||u==="pointerout",Et&&x!==_t&&(bn=x.relatedTarget||x.fromElement)&&(Vc(bn)||bn[Io]))break e;if((pn||Et)&&(Et=Ct.window===Ct?Ct:(Et=Ct.ownerDocument)?Et.defaultView||Et.parentWindow:window,pn?(bn=x.relatedTarget||x.toElement,pn=st,bn=bn?Vc(bn):null,bn!==null&&(Xi=re(bn),bn!==Xi||bn.tag!==5&&bn.tag!==6)&&(bn=null)):(pn=null,bn=st),pn!==bn)){if(Tn=lt,$t="onMouseLeave",We="onMouseEnter",Ne="mouse",(u==="pointerout"||u==="pointerover")&&(Tn=oi,$t="onPointerLeave",We="onPointerEnter",Ne="pointer"),Xi=pn==null?Et:Ei(pn),Ke=bn==null?Et:Ei(bn),Et=new Tn($t,Ne+"leave",pn,x,Ct),Et.target=Xi,Et.relatedTarget=Ke,$t=null,Vc(Ct)===st&&(Tn=new Tn(We,Ne+"enter",bn,x,Ct),Tn.target=Ke,Tn.relatedTarget=Xi,$t=Tn),Xi=$t,pn&&bn)t:{for(Tn=pn,We=bn,Ne=0,Ke=Tn;Ke;Ke=Mu(Ke))Ne++;for(Ke=0,$t=We;$t;$t=Mu($t))Ke++;for(;0<Ne-Ke;)Tn=Mu(Tn),Ne--;for(;0<Ke-Ne;)We=Mu(We),Ke--;for(;Ne--;){if(Tn===We||We!==null&&Tn===We.alternate)break t;Tn=Mu(Tn),We=Mu(We)}Tn=null}else Tn=null;pn!==null&&kx(Nt,Et,pn,Tn,!1),bn!==null&&Xi!==null&&kx(Nt,Xi,bn,Tn,!0)}}e:{if(Et=st?Ei(st):window,pn=Et.nodeName&&Et.nodeName.toLowerCase(),pn==="select"||pn==="input"&&Et.type==="file")var Rn=Tu;else if(Eu(Et))if(ml)Rn=rt;else{Rn=qe;var zn=Pe}else(pn=Et.nodeName)&&pn.toLowerCase()==="input"&&(Et.type==="checkbox"||Et.type==="radio")&&(Rn=tt);if(Rn&&(Rn=Rn(u,st))){ia(Nt,Rn,x,Ct);break e}zn&&zn(u,Et,st),u==="focusout"&&(zn=Et._wrapperState)&&zn.controlled&&Et.type==="number"&&tn(Et,"number",Et.value)}switch(zn=st?Ei(st):window,u){case"focusin":(Eu(zn)||zn.contentEditable==="true")&&(ni=zn,li=st,ss=null);break;case"focusout":ss=li=ni=null;break;case"mousedown":Vr=!0;break;case"contextmenu":case"mouseup":case"dragend":Vr=!1,ka(Nt,x,Ct);break;case"selectionchange":if(Nr)break;case"keydown":case"keyup":ka(Nt,x,Ct)}var Vn;if(ms)e:{switch(u){case"compositionstart":var qn="onCompositionStart";break e;case"compositionend":qn="onCompositionEnd";break e;case"compositionupdate":qn="onCompositionUpdate";break e}qn=void 0}else Ia?Jd(u,x)&&(qn="onCompositionEnd"):u==="keydown"&&x.keyCode===229&&(qn="onCompositionStart");qn&&(Pa&&x.locale!=="ko"&&(Ia||qn!=="onCompositionStart"?qn==="onCompositionEnd"&&Ia&&(Vn=bu()):(ps=Ct,Df="value"in ps?ps.value:ps.textContent,Ia=!0)),zn=cm(st,qn),0<zn.length&&(qn=new io(qn,u,null,x,Ct),Nt.push({event:qn,listeners:zn}),Vn?qn.data=Vn:(Vn=Nf(x),Vn!==null&&(qn.data=Vn)))),(Vn=kn?pl(u,x):Xl(u,x))&&(st=cm(st,"onBeforeInput"),0<st.length&&(Ct=new io("onBeforeInput","beforeinput",null,x,Ct),Nt.push({event:Ct,listeners:st}),Ct.data=Vn))}Of(Nt,d)})}function Uf(u,d,x){return{instance:u,listener:d,currentTarget:x}}function cm(u,d){for(var x=d+"Capture",M=[];u!==null;){var L=u,H=L.stateNode;L.tag===5&&H!==null&&(L=H,H=Pn(u,x),H!=null&&M.unshift(Uf(u,H,L)),H=Pn(u,d),H!=null&&M.push(Uf(u,H,L))),u=u.return}return M}function Mu(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function kx(u,d,x,M,L){for(var H=d._reactName,Q=[];x!==null&&x!==M;){var ye=x,Ie=ye.alternate,st=ye.stateNode;if(Ie!==null&&Ie===M)break;ye.tag===5&&st!==null&&(ye=st,L?(Ie=Pn(x,H),Ie!=null&&Q.unshift(Uf(x,Ie,ye))):L||(Ie=Pn(x,H),Ie!=null&&Q.push(Uf(x,Ie,ye)))),x=x.return}Q.length!==0&&u.push({event:d,listeners:Q})}var kb=/\r\n?/g,Ox=/\u0000|\uFFFD/g;function b0(u){return(typeof u=="string"?u:""+u).replace(kb,`
`).replace(Ox,"")}function ih(u,d,x){if(d=b0(d),b0(u)!==d&&x)throw Error(t(425))}function sh(){}var Bf=null,E0=null;function T0(u,d){return u==="textarea"||u==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var M0=typeof setTimeout=="function"?setTimeout:void 0,A0=typeof clearTimeout=="function"?clearTimeout:void 0,um=typeof Promise=="function"?Promise:void 0,Ob=typeof queueMicrotask=="function"?queueMicrotask:typeof um<"u"?function(u){return um.resolve(null).then(u).catch(Fx)}:M0;function Fx(u){setTimeout(function(){throw u})}function fm(u,d){var x=d,M=0;do{var L=x.nextSibling;if(u.removeChild(x),L&&L.nodeType===8)if(x=L.data,x==="/$"){if(M===0){u.removeChild(L),Gl(d);return}M--}else x!=="$"&&x!=="$?"&&x!=="$!"||M++;x=L}while(x);Gl(d)}function Kl(u){for(;u!=null;u=u.nextSibling){var d=u.nodeType;if(d===1||d===3)break;if(d===8){if(d=u.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return u}function C0(u){u=u.previousSibling;for(var d=0;u;){if(u.nodeType===8){var x=u.data;if(x==="$"||x==="$!"||x==="$?"){if(d===0)return u;d--}else x==="/$"&&d++}u=u.previousSibling}return null}var Au=Math.random().toString(36).slice(2),$i="__reactFiber$"+Au,zf="__reactProps$"+Au,Io="__reactContainer$"+Au,Cu="__reactEvents$"+Au,dm="__reactListeners$"+Au,hm="__reactHandles$"+Au;function Vc(u){var d=u[$i];if(d)return d;for(var x=u.parentNode;x;){if(d=x[Io]||x[$i]){if(x=d.alternate,d.child!==null||x!==null&&x.child!==null)for(u=C0(u);u!==null;){if(x=u[$i])return x;u=C0(u)}return d}u=x,x=u.parentNode}return null}function Zl(u){return u=u[$i]||u[Io],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Ei(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(t(33))}function pm(u){return u[zf]||null}var R0=[],os=-1;function yi(u){return{current:u}}function Jr(u){0>os||(u.current=R0[os],R0[os]=null,os--)}function qr(u,d){os++,R0[os]=u.current,u.current=d}var Jl={},gs=yi(Jl),Ys=yi(!1),Ql=Jl;function Ru(u,d){var x=u.type.contextTypes;if(!x)return Jl;var M=u.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===d)return M.__reactInternalMemoizedMaskedChildContext;var L={},H;for(H in x)L[H]=d[H];return M&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=d,u.__reactInternalMemoizedMaskedChildContext=L),L}function Ls(u){return u=u.childContextTypes,u!=null}function oh(){Jr(Ys),Jr(gs)}function P0(u,d,x){if(gs.current!==Jl)throw Error(t(168));qr(gs,d),qr(Ys,x)}function ah(u,d,x){var M=u.stateNode;if(d=d.childContextTypes,typeof M.getChildContext!="function")return x;M=M.getChildContext();for(var L in M)if(!(L in d))throw Error(t(108,je(u)||"Unknown",L));return $({},x,M)}function Pu(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Jl,Ql=gs.current,qr(gs,u),qr(Ys,Ys.current),!0}function I0(u,d,x){var M=u.stateNode;if(!M)throw Error(t(169));x?(u=ah(u,d,Ql),M.__reactInternalMemoizedMergedChildContext=u,Jr(Ys),Jr(gs),qr(gs,u)):Jr(Ys),qr(Ys,x)}var Ua=null,lh=!1,mm=!1;function ch(u){Ua===null?Ua=[u]:Ua.push(u)}function Ux(u){lh=!0,ch(u)}function vl(){if(!mm&&Ua!==null){mm=!0;var u=0,d=tr;try{var x=Ua;for(tr=1;u<x.length;u++){var M=x[u];do M=M(!0);while(M!==null)}Ua=null,lh=!1}catch(L){throw Ua!==null&&(Ua=Ua.slice(u+1)),K(et,vl),L}finally{tr=d,mm=!1}}return null}var Iu=[],ao=0,gm=null,vm=0,Ks=[],as=0,Lu=null,Kt=1,sa="";function ec(u,d){Iu[ao++]=vm,Iu[ao++]=gm,gm=u,vm=d}function L0(u,d,x){Ks[as++]=Kt,Ks[as++]=sa,Ks[as++]=Lu,Lu=u;var M=Kt;u=sa;var L=32-un(M)-1;M&=~(1<<L),x+=1;var H=32-un(d)+L;if(30<H){var Q=L-L%5;H=(M&(1<<Q)-1).toString(32),M>>=Q,L-=Q,Kt=1<<32-un(d)+L|x<<L|M,sa=H+u}else Kt=1<<H|x<<L|M,sa=u}function D0(u){u.return!==null&&(ec(u,1),L0(u,1,0))}function tc(u){for(;u===gm;)gm=Iu[--ao],Iu[ao]=null,vm=Iu[--ao],Iu[ao]=null;for(;u===Lu;)Lu=Ks[--as],Ks[as]=null,sa=Ks[--as],Ks[as]=null,Kt=Ks[--as],Ks[as]=null}var vs=null,Zs=null,ri=!1,oa=null;function N0(u,d){var x=Sl(5,null,null,0);x.elementType="DELETED",x.stateNode=d,x.return=u,d=u.deletions,d===null?(u.deletions=[x],u.flags|=16):d.push(x)}function k0(u,d){switch(u.tag){case 5:var x=u.type;return d=d.nodeType!==1||x.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(u.stateNode=d,vs=u,Zs=Kl(d.firstChild),!0):!1;case 6:return d=u.pendingProps===""||d.nodeType!==3?null:d,d!==null?(u.stateNode=d,vs=u,Zs=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(x=Lu!==null?{id:Kt,overflow:sa}:null,u.memoizedState={dehydrated:d,treeContext:x,retryLane:1073741824},x=Sl(18,null,null,0),x.stateNode=d,x.return=u,u.child=x,vs=u,Zs=null,!0):!1;default:return!1}}function ym(u){return(u.mode&1)!==0&&(u.flags&128)===0}function xm(u){if(ri){var d=Zs;if(d){var x=d;if(!k0(u,d)){if(ym(u))throw Error(t(418));d=Kl(x.nextSibling);var M=vs;d&&k0(u,d)?N0(M,x):(u.flags=u.flags&-4097|2,ri=!1,vs=u)}}else{if(ym(u))throw Error(t(418));u.flags=u.flags&-4097|2,ri=!1,vs=u}}}function _m(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;vs=u}function Vf(u){if(u!==vs)return!1;if(!ri)return _m(u),ri=!0,!1;var d;if((d=u.tag!==3)&&!(d=u.tag!==5)&&(d=u.type,d=d!=="head"&&d!=="body"&&!T0(u.type,u.memoizedProps)),d&&(d=Zs)){if(ym(u))throw O0(),Error(t(418));for(;d;)N0(u,d),d=Kl(d.nextSibling)}if(_m(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(t(317));e:{for(u=u.nextSibling,d=0;u;){if(u.nodeType===8){var x=u.data;if(x==="/$"){if(d===0){Zs=Kl(u.nextSibling);break e}d--}else x!=="$"&&x!=="$!"&&x!=="$?"||d++}u=u.nextSibling}Zs=null}}else Zs=vs?Kl(u.stateNode.nextSibling):null;return!0}function O0(){for(var u=Zs;u;)u=Kl(u.nextSibling)}function Hc(){Zs=vs=null,ri=!1}function Hf(u){oa===null?oa=[u]:oa.push(u)}var Fb=P.ReactCurrentBatchConfig;function uh(u,d,x){if(u=x.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(t(309));var M=x.stateNode}if(!M)throw Error(t(147,u));var L=M,H=""+u;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===H?d.ref:(d=function(Q){var ye=L.refs;Q===null?delete ye[H]:ye[H]=Q},d._stringRef=H,d)}if(typeof u!="string")throw Error(t(284));if(!x._owner)throw Error(t(290,u))}return u}function fh(u,d){throw u=Object.prototype.toString.call(d),Error(t(31,u==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":u))}function F0(u){var d=u._init;return d(u._payload)}function U0(u){function d(We,Ne){if(u){var Ke=We.deletions;Ke===null?(We.deletions=[Ne],We.flags|=16):Ke.push(Ne)}}function x(We,Ne){if(!u)return null;for(;Ne!==null;)d(We,Ne),Ne=Ne.sibling;return null}function M(We,Ne){for(We=new Map;Ne!==null;)Ne.key!==null?We.set(Ne.key,Ne):We.set(Ne.index,Ne),Ne=Ne.sibling;return We}function L(We,Ne){return We=Qf(We,Ne),We.index=0,We.sibling=null,We}function H(We,Ne,Ke){return We.index=Ke,u?(Ke=We.alternate,Ke!==null?(Ke=Ke.index,Ke<Ne?(We.flags|=2,Ne):Ke):(We.flags|=2,Ne)):(We.flags|=1048576,Ne)}function Q(We){return u&&We.alternate===null&&(We.flags|=2),We}function ye(We,Ne,Ke,$t){return Ne===null||Ne.tag!==6?(Ne=nE(Ke,We.mode,$t),Ne.return=We,Ne):(Ne=L(Ne,Ke),Ne.return=We,Ne)}function Ie(We,Ne,Ke,$t){var Rn=Ke.type;return Rn===E?Ct(We,Ne,Ke.props.children,$t,Ke.key):Ne!==null&&(Ne.elementType===Rn||typeof Rn=="object"&&Rn!==null&&Rn.$$typeof===he&&F0(Rn)===Ne.type)?($t=L(Ne,Ke.props),$t.ref=uh(We,Ne,Ke),$t.return=We,$t):($t=a_(Ke.type,Ke.key,Ke.props,null,We.mode,$t),$t.ref=uh(We,Ne,Ke),$t.return=We,$t)}function st(We,Ne,Ke,$t){return Ne===null||Ne.tag!==4||Ne.stateNode.containerInfo!==Ke.containerInfo||Ne.stateNode.implementation!==Ke.implementation?(Ne=rE(Ke,We.mode,$t),Ne.return=We,Ne):(Ne=L(Ne,Ke.children||[]),Ne.return=We,Ne)}function Ct(We,Ne,Ke,$t,Rn){return Ne===null||Ne.tag!==7?(Ne=Ch(Ke,We.mode,$t,Rn),Ne.return=We,Ne):(Ne=L(Ne,Ke),Ne.return=We,Ne)}function Nt(We,Ne,Ke){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return Ne=nE(""+Ne,We.mode,Ke),Ne.return=We,Ne;if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case U:return Ke=a_(Ne.type,Ne.key,Ne.props,null,We.mode,Ke),Ke.ref=uh(We,null,Ne),Ke.return=We,Ke;case k:return Ne=rE(Ne,We.mode,Ke),Ne.return=We,Ne;case he:var $t=Ne._init;return Nt(We,$t(Ne._payload),Ke)}if(It(Ne)||oe(Ne))return Ne=Ch(Ne,We.mode,Ke,null),Ne.return=We,Ne;fh(We,Ne)}return null}function Et(We,Ne,Ke,$t){var Rn=Ne!==null?Ne.key:null;if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return Rn!==null?null:ye(We,Ne,""+Ke,$t);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case U:return Ke.key===Rn?Ie(We,Ne,Ke,$t):null;case k:return Ke.key===Rn?st(We,Ne,Ke,$t):null;case he:return Rn=Ke._init,Et(We,Ne,Rn(Ke._payload),$t)}if(It(Ke)||oe(Ke))return Rn!==null?null:Ct(We,Ne,Ke,$t,null);fh(We,Ke)}return null}function pn(We,Ne,Ke,$t,Rn){if(typeof $t=="string"&&$t!==""||typeof $t=="number")return We=We.get(Ke)||null,ye(Ne,We,""+$t,Rn);if(typeof $t=="object"&&$t!==null){switch($t.$$typeof){case U:return We=We.get($t.key===null?Ke:$t.key)||null,Ie(Ne,We,$t,Rn);case k:return We=We.get($t.key===null?Ke:$t.key)||null,st(Ne,We,$t,Rn);case he:var zn=$t._init;return pn(We,Ne,Ke,zn($t._payload),Rn)}if(It($t)||oe($t))return We=We.get(Ke)||null,Ct(Ne,We,$t,Rn,null);fh(Ne,$t)}return null}function bn(We,Ne,Ke,$t){for(var Rn=null,zn=null,Vn=Ne,qn=Ne=0,Os=null;Vn!==null&&qn<Ke.length;qn++){Vn.index>qn?(Os=Vn,Vn=null):Os=Vn.sibling;var Fr=Et(We,Vn,Ke[qn],$t);if(Fr===null){Vn===null&&(Vn=Os);break}u&&Vn&&Fr.alternate===null&&d(We,Vn),Ne=H(Fr,Ne,qn),zn===null?Rn=Fr:zn.sibling=Fr,zn=Fr,Vn=Os}if(qn===Ke.length)return x(We,Vn),ri&&ec(We,qn),Rn;if(Vn===null){for(;qn<Ke.length;qn++)Vn=Nt(We,Ke[qn],$t),Vn!==null&&(Ne=H(Vn,Ne,qn),zn===null?Rn=Vn:zn.sibling=Vn,zn=Vn);return ri&&ec(We,qn),Rn}for(Vn=M(We,Vn);qn<Ke.length;qn++)Os=pn(Vn,We,qn,Ke[qn],$t),Os!==null&&(u&&Os.alternate!==null&&Vn.delete(Os.key===null?qn:Os.key),Ne=H(Os,Ne,qn),zn===null?Rn=Os:zn.sibling=Os,zn=Os);return u&&Vn.forEach(function(ed){return d(We,ed)}),ri&&ec(We,qn),Rn}function Tn(We,Ne,Ke,$t){var Rn=oe(Ke);if(typeof Rn!="function")throw Error(t(150));if(Ke=Rn.call(Ke),Ke==null)throw Error(t(151));for(var zn=Rn=null,Vn=Ne,qn=Ne=0,Os=null,Fr=Ke.next();Vn!==null&&!Fr.done;qn++,Fr=Ke.next()){Vn.index>qn?(Os=Vn,Vn=null):Os=Vn.sibling;var ed=Et(We,Vn,Fr.value,$t);if(ed===null){Vn===null&&(Vn=Os);break}u&&Vn&&ed.alternate===null&&d(We,Vn),Ne=H(ed,Ne,qn),zn===null?Rn=ed:zn.sibling=ed,zn=ed,Vn=Os}if(Fr.done)return x(We,Vn),ri&&ec(We,qn),Rn;if(Vn===null){for(;!Fr.done;qn++,Fr=Ke.next())Fr=Nt(We,Fr.value,$t),Fr!==null&&(Ne=H(Fr,Ne,qn),zn===null?Rn=Fr:zn.sibling=Fr,zn=Fr);return ri&&ec(We,qn),Rn}for(Vn=M(We,Vn);!Fr.done;qn++,Fr=Ke.next())Fr=pn(Vn,We,qn,Fr.value,$t),Fr!==null&&(u&&Fr.alternate!==null&&Vn.delete(Fr.key===null?qn:Fr.key),Ne=H(Fr,Ne,qn),zn===null?Rn=Fr:zn.sibling=Fr,zn=Fr);return u&&Vn.forEach(function($V){return d(We,$V)}),ri&&ec(We,qn),Rn}function Xi(We,Ne,Ke,$t){if(typeof Ke=="object"&&Ke!==null&&Ke.type===E&&Ke.key===null&&(Ke=Ke.props.children),typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case U:e:{for(var Rn=Ke.key,zn=Ne;zn!==null;){if(zn.key===Rn){if(Rn=Ke.type,Rn===E){if(zn.tag===7){x(We,zn.sibling),Ne=L(zn,Ke.props.children),Ne.return=We,We=Ne;break e}}else if(zn.elementType===Rn||typeof Rn=="object"&&Rn!==null&&Rn.$$typeof===he&&F0(Rn)===zn.type){x(We,zn.sibling),Ne=L(zn,Ke.props),Ne.ref=uh(We,zn,Ke),Ne.return=We,We=Ne;break e}x(We,zn);break}else d(We,zn);zn=zn.sibling}Ke.type===E?(Ne=Ch(Ke.props.children,We.mode,$t,Ke.key),Ne.return=We,We=Ne):($t=a_(Ke.type,Ke.key,Ke.props,null,We.mode,$t),$t.ref=uh(We,Ne,Ke),$t.return=We,We=$t)}return Q(We);case k:e:{for(zn=Ke.key;Ne!==null;){if(Ne.key===zn)if(Ne.tag===4&&Ne.stateNode.containerInfo===Ke.containerInfo&&Ne.stateNode.implementation===Ke.implementation){x(We,Ne.sibling),Ne=L(Ne,Ke.children||[]),Ne.return=We,We=Ne;break e}else{x(We,Ne);break}else d(We,Ne);Ne=Ne.sibling}Ne=rE(Ke,We.mode,$t),Ne.return=We,We=Ne}return Q(We);case he:return zn=Ke._init,Xi(We,Ne,zn(Ke._payload),$t)}if(It(Ke))return bn(We,Ne,Ke,$t);if(oe(Ke))return Tn(We,Ne,Ke,$t);fh(We,Ke)}return typeof Ke=="string"&&Ke!==""||typeof Ke=="number"?(Ke=""+Ke,Ne!==null&&Ne.tag===6?(x(We,Ne.sibling),Ne=L(Ne,Ke),Ne.return=We,We=Ne):(x(We,Ne),Ne=nE(Ke,We.mode,$t),Ne.return=We,We=Ne),Q(We)):x(We,Ne)}return Xi}var Du=U0(!0),dh=U0(!1),Nu=yi(null),ku=null,nc=null,jf=null;function Ou(){jf=nc=ku=null}function hh(u){var d=Nu.current;Jr(Nu),u._currentValue=d}function ph(u,d,x){for(;u!==null;){var M=u.alternate;if((u.childLanes&d)!==d?(u.childLanes|=d,M!==null&&(M.childLanes|=d)):M!==null&&(M.childLanes&d)!==d&&(M.childLanes|=d),u===x)break;u=u.return}}function jc(u,d){ku=u,jf=nc=null,u=u.dependencies,u!==null&&u.firstContext!==null&&(u.lanes&d&&(ur=!0),u.firstContext=null)}function Lo(u){var d=u._currentValue;if(jf!==u)if(u={context:u,memoizedValue:d,next:null},nc===null){if(ku===null)throw Error(t(308));nc=u,ku.dependencies={lanes:0,firstContext:u}}else nc=nc.next=u;return d}var rc=null;function B0(u){rc===null?rc=[u]:rc.push(u)}function mh(u,d,x,M){var L=d.interleaved;return L===null?(x.next=x,B0(d)):(x.next=L.next,L.next=x),d.interleaved=x,Ba(u,M)}function Ba(u,d){u.lanes|=d;var x=u.alternate;for(x!==null&&(x.lanes|=d),x=u,u=u.return;u!==null;)u.childLanes|=d,x=u.alternate,x!==null&&(x.childLanes|=d),x=u,u=u.return;return x.tag===3?x.stateNode:null}var Gr=!1;function sr(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ti(u,d){u=u.updateQueue,d.updateQueue===u&&(d.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function $r(u,d){return{eventTime:u,lane:d,tag:0,payload:null,callback:null,next:null}}function ci(u,d,x){var M=u.updateQueue;if(M===null)return null;if(M=M.shared,kr&2){var L=M.pending;return L===null?d.next=d:(d.next=L.next,L.next=d),M.pending=d,Ba(u,x)}return L=M.interleaved,L===null?(d.next=d,B0(M)):(d.next=L.next,L.next=d),M.interleaved=d,Ba(u,x)}function Ds(u,d,x){if(d=d.updateQueue,d!==null&&(d=d.shared,(x&4194240)!==0)){var M=d.lanes;M&=u.pendingLanes,x|=M,d.lanes=x,Rs(u,x)}}function Fu(u,d){var x=u.updateQueue,M=u.alternate;if(M!==null&&(M=M.updateQueue,x===M)){var L=null,H=null;if(x=x.firstBaseUpdate,x!==null){do{var Q={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};H===null?L=H=Q:H=H.next=Q,x=x.next}while(x!==null);H===null?L=H=d:H=H.next=d}else L=H=d;x={baseState:M.baseState,firstBaseUpdate:L,lastBaseUpdate:H,shared:M.shared,effects:M.effects},u.updateQueue=x;return}u=x.lastBaseUpdate,u===null?x.firstBaseUpdate=d:u.next=d,x.lastBaseUpdate=d}function xi(u,d,x,M){var L=u.updateQueue;Gr=!1;var H=L.firstBaseUpdate,Q=L.lastBaseUpdate,ye=L.shared.pending;if(ye!==null){L.shared.pending=null;var Ie=ye,st=Ie.next;Ie.next=null,Q===null?H=st:Q.next=st,Q=Ie;var Ct=u.alternate;Ct!==null&&(Ct=Ct.updateQueue,ye=Ct.lastBaseUpdate,ye!==Q&&(ye===null?Ct.firstBaseUpdate=st:ye.next=st,Ct.lastBaseUpdate=Ie))}if(H!==null){var Nt=L.baseState;Q=0,Ct=st=Ie=null,ye=H;do{var Et=ye.lane,pn=ye.eventTime;if((M&Et)===Et){Ct!==null&&(Ct=Ct.next={eventTime:pn,lane:0,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null});e:{var bn=u,Tn=ye;switch(Et=d,pn=x,Tn.tag){case 1:if(bn=Tn.payload,typeof bn=="function"){Nt=bn.call(pn,Nt,Et);break e}Nt=bn;break e;case 3:bn.flags=bn.flags&-65537|128;case 0:if(bn=Tn.payload,Et=typeof bn=="function"?bn.call(pn,Nt,Et):bn,Et==null)break e;Nt=$({},Nt,Et);break e;case 2:Gr=!0}}ye.callback!==null&&ye.lane!==0&&(u.flags|=64,Et=L.effects,Et===null?L.effects=[ye]:Et.push(ye))}else pn={eventTime:pn,lane:Et,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null},Ct===null?(st=Ct=pn,Ie=Nt):Ct=Ct.next=pn,Q|=Et;if(ye=ye.next,ye===null){if(ye=L.shared.pending,ye===null)break;Et=ye,ye=Et.next,Et.next=null,L.lastBaseUpdate=Et,L.shared.pending=null}}while(!0);if(Ct===null&&(Ie=Nt),L.baseState=Ie,L.firstBaseUpdate=st,L.lastBaseUpdate=Ct,d=L.shared.interleaved,d!==null){L=d;do Q|=L.lane,L=L.next;while(L!==d)}else H===null&&(L.shared.lanes=0);Eh|=Q,u.lanes=Q,u.memoizedState=Nt}}function Wf(u,d,x){if(u=d.effects,d.effects=null,u!==null)for(d=0;d<u.length;d++){var M=u[d],L=M.callback;if(L!==null){if(M.callback=null,M=x,typeof L!="function")throw Error(t(191,L));L.call(M)}}}var yl={},Do=yi(yl),Uu=yi(yl),ic=yi(yl);function Fi(u){if(u===yl)throw Error(t(174));return u}function gh(u,d){switch(qr(ic,d),qr(Uu,u),qr(Do,yl),u=d.nodeType,u){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:St(null,"");break;default:u=u===8?d.parentNode:d,d=u.namespaceURI||null,u=u.tagName,d=St(d,u)}Jr(Do),qr(Do,d)}function Wc(){Jr(Do),Jr(Uu),Jr(ic)}function Bu(u){Fi(ic.current);var d=Fi(Do.current),x=St(d,u.type);d!==x&&(qr(Uu,u),qr(Do,x))}function Gf(u){Uu.current===u&&(Jr(Do),Jr(Uu))}var ii=yi(0);function za(u){for(var d=u;d!==null;){if(d.tag===13){var x=d.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var $f=[];function xl(){for(var u=0;u<$f.length;u++)$f[u]._workInProgressVersionPrimary=null;$f.length=0}var zu=P.ReactCurrentDispatcher,Vu=P.ReactCurrentBatchConfig,sc=0,Qr=null,_i=null,Lr=null,Va=!1,Ns=!1,Gc=0,lo=0;function ys(){throw Error(t(321))}function vh(u,d){if(d===null)return!1;for(var x=0;x<d.length&&x<u.length;x++)if(!qt(u[x],d[x]))return!1;return!0}function yh(u,d,x,M,L,H){if(sc=H,Qr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,zu.current=u===null||u.memoizedState===null?Gx:$x,u=x(M,L),Ns){H=0;do{if(Ns=!1,Gc=0,25<=H)throw Error(t(301));H+=1,Lr=_i=null,d.updateQueue=null,zu.current=Xx,u=x(M,L)}while(Ns)}if(zu.current=Am,d=_i!==null&&_i.next!==null,sc=0,Lr=_i=Qr=null,Va=!1,d)throw Error(t(300));return u}function z0(){var u=Gc!==0;return Gc=0,u}function xs(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lr===null?Qr.memoizedState=Lr=u:Lr=Lr.next=u,Lr}function No(){if(_i===null){var u=Qr.alternate;u=u!==null?u.memoizedState:null}else u=_i.next;var d=Lr===null?Qr.memoizedState:Lr.next;if(d!==null)Lr=d,_i=u;else{if(u===null)throw Error(t(310));_i=u,u={memoizedState:_i.memoizedState,baseState:_i.baseState,baseQueue:_i.baseQueue,queue:_i.queue,next:null},Lr===null?Qr.memoizedState=Lr=u:Lr=Lr.next=u}return Lr}function Xf(u,d){return typeof d=="function"?d(u):d}function xh(u){var d=No(),x=d.queue;if(x===null)throw Error(t(311));x.lastRenderedReducer=u;var M=_i,L=M.baseQueue,H=x.pending;if(H!==null){if(L!==null){var Q=L.next;L.next=H.next,H.next=Q}M.baseQueue=L=H,x.pending=null}if(L!==null){H=L.next,M=M.baseState;var ye=Q=null,Ie=null,st=H;do{var Ct=st.lane;if((sc&Ct)===Ct)Ie!==null&&(Ie=Ie.next={lane:0,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),M=st.hasEagerState?st.eagerState:u(M,st.action);else{var Nt={lane:Ct,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null};Ie===null?(ye=Ie=Nt,Q=M):Ie=Ie.next=Nt,Qr.lanes|=Ct,Eh|=Ct}st=st.next}while(st!==null&&st!==H);Ie===null?Q=M:Ie.next=ye,qt(M,d.memoizedState)||(ur=!0),d.memoizedState=M,d.baseState=Q,d.baseQueue=Ie,x.lastRenderedState=M}if(u=x.interleaved,u!==null){L=u;do H=L.lane,Qr.lanes|=H,Eh|=H,L=L.next;while(L!==u)}else L===null&&(x.lanes=0);return[d.memoizedState,x.dispatch]}function oc(u){var d=No(),x=d.queue;if(x===null)throw Error(t(311));x.lastRenderedReducer=u;var M=x.dispatch,L=x.pending,H=d.memoizedState;if(L!==null){x.pending=null;var Q=L=L.next;do H=u(H,Q.action),Q=Q.next;while(Q!==L);qt(H,d.memoizedState)||(ur=!0),d.memoizedState=H,d.baseQueue===null&&(d.baseState=H),x.lastRenderedState=H}return[H,M]}function V0(){}function H0(u,d){var x=Qr,M=No(),L=d(),H=!qt(M.memoizedState,L);if(H&&(M.memoizedState=L,ur=!0),M=M.queue,G0(Bx.bind(null,x,M,u),[u]),M.getSnapshot!==d||H||Lr!==null&&Lr.memoizedState.tag&1){if(x.flags|=2048,Ha(9,_h.bind(null,x,M,L,d),void 0,null),ks===null)throw Error(t(349));sc&30||wm(x,d,L)}return L}function wm(u,d,x){u.flags|=16384,u={getSnapshot:d,value:x},d=Qr.updateQueue,d===null?(d={lastEffect:null,stores:null},Qr.updateQueue=d,d.stores=[u]):(x=d.stores,x===null?d.stores=[u]:x.push(u))}function _h(u,d,x,M){d.value=x,d.getSnapshot=M,zx(d)&&j0(u)}function Bx(u,d,x){return x(function(){zx(d)&&j0(u)})}function zx(u){var d=u.getSnapshot;u=u.value;try{var x=d();return!qt(u,x)}catch{return!0}}function j0(u){var d=Ba(u,1);d!==null&&fc(d,u,1,-1)}function W0(u){var d=xs();return typeof u=="function"&&(u=u()),d.memoizedState=d.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xf,lastRenderedState:u},d.queue=u,u=u.dispatch=Hu.bind(null,Qr,u),[d.memoizedState,u]}function Ha(u,d,x,M){return u={tag:u,create:d,destroy:x,deps:M,next:null},d=Qr.updateQueue,d===null?(d={lastEffect:null,stores:null},Qr.updateQueue=d,d.lastEffect=u.next=u):(x=d.lastEffect,x===null?d.lastEffect=u.next=u:(M=x.next,x.next=u,u.next=M,d.lastEffect=u)),u}function Vx(){return No().memoizedState}function _l(u,d,x,M){var L=xs();Qr.flags|=u,L.memoizedState=Ha(1|d,x,void 0,M===void 0?null:M)}function wh(u,d,x,M){var L=No();M=M===void 0?null:M;var H=void 0;if(_i!==null){var Q=_i.memoizedState;if(H=Q.destroy,M!==null&&vh(M,Q.deps)){L.memoizedState=Ha(d,x,H,M);return}}Qr.flags|=u,L.memoizedState=Ha(1|d,x,H,M)}function Js(u,d){return _l(8390656,8,u,d)}function G0(u,d){return wh(2048,8,u,d)}function $0(u,d){return wh(4,2,u,d)}function Hx(u,d){return wh(4,4,u,d)}function jx(u,d){if(typeof d=="function")return u=u(),d(u),function(){d(null)};if(d!=null)return u=u(),d.current=u,function(){d.current=null}}function X0(u,d,x){return x=x!=null?x.concat([u]):null,wh(4,4,jx.bind(null,d,u),x)}function Sm(){}function Wx(u,d){var x=No();d=d===void 0?null:d;var M=x.memoizedState;return M!==null&&d!==null&&vh(d,M[1])?M[0]:(x.memoizedState=[u,d],u)}function ko(u,d){var x=No();d=d===void 0?null:d;var M=x.memoizedState;return M!==null&&d!==null&&vh(d,M[1])?M[0]:(u=u(),x.memoizedState=[u,d],u)}function bm(u,d,x){return sc&21?(qt(x,d)||(x=cr(),Qr.lanes|=x,Eh|=x,u.baseState=!0),d):(u.baseState&&(u.baseState=!1,ur=!0),u.memoizedState=x)}function Ub(u,d){var x=tr;tr=x!==0&&4>x?x:4,u(!0);var M=Vu.transition;Vu.transition={};try{u(!1),d()}finally{tr=x,Vu.transition=M}}function ac(){return No().memoizedState}function Em(u,d,x){var M=Zf(u);if(x={lane:M,action:x,hasEagerState:!1,eagerState:null,next:null},Sh(u))Tm(d,x);else if(x=mh(u,d,x,M),x!==null){var L=Fo();fc(x,u,M,L),Mm(x,d,M)}}function Hu(u,d,x){var M=Zf(u),L={lane:M,action:x,hasEagerState:!1,eagerState:null,next:null};if(Sh(u))Tm(d,L);else{var H=u.alternate;if(u.lanes===0&&(H===null||H.lanes===0)&&(H=d.lastRenderedReducer,H!==null))try{var Q=d.lastRenderedState,ye=H(Q,x);if(L.hasEagerState=!0,L.eagerState=ye,qt(ye,Q)){var Ie=d.interleaved;Ie===null?(L.next=L,B0(d)):(L.next=Ie.next,Ie.next=L),d.interleaved=L;return}}catch{}finally{}x=mh(u,d,L,M),x!==null&&(L=Fo(),fc(x,u,M,L),Mm(x,d,M))}}function Sh(u){var d=u.alternate;return u===Qr||d!==null&&d===Qr}function Tm(u,d){Ns=Va=!0;var x=u.pending;x===null?d.next=d:(d.next=x.next,x.next=d),u.pending=d}function Mm(u,d,x){if(x&4194240){var M=d.lanes;M&=u.pendingLanes,x|=M,d.lanes=x,Rs(u,x)}}var Am={readContext:Lo,useCallback:ys,useContext:ys,useEffect:ys,useImperativeHandle:ys,useInsertionEffect:ys,useLayoutEffect:ys,useMemo:ys,useReducer:ys,useRef:ys,useState:ys,useDebugValue:ys,useDeferredValue:ys,useTransition:ys,useMutableSource:ys,useSyncExternalStore:ys,useId:ys,unstable_isNewReconciler:!1},Gx={readContext:Lo,useCallback:function(u,d){return xs().memoizedState=[u,d===void 0?null:d],u},useContext:Lo,useEffect:Js,useImperativeHandle:function(u,d,x){return x=x!=null?x.concat([u]):null,_l(4194308,4,jx.bind(null,d,u),x)},useLayoutEffect:function(u,d){return _l(4194308,4,u,d)},useInsertionEffect:function(u,d){return _l(4,2,u,d)},useMemo:function(u,d){var x=xs();return d=d===void 0?null:d,u=u(),x.memoizedState=[u,d],u},useReducer:function(u,d,x){var M=xs();return d=x!==void 0?x(d):d,M.memoizedState=M.baseState=d,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:d},M.queue=u,u=u.dispatch=Em.bind(null,Qr,u),[M.memoizedState,u]},useRef:function(u){var d=xs();return u={current:u},d.memoizedState=u},useState:W0,useDebugValue:Sm,useDeferredValue:function(u){return xs().memoizedState=u},useTransition:function(){var u=W0(!1),d=u[0];return u=Ub.bind(null,u[1]),xs().memoizedState=u,[d,u]},useMutableSource:function(){},useSyncExternalStore:function(u,d,x){var M=Qr,L=xs();if(ri){if(x===void 0)throw Error(t(407));x=x()}else{if(x=d(),ks===null)throw Error(t(349));sc&30||wm(M,d,x)}L.memoizedState=x;var H={value:x,getSnapshot:d};return L.queue=H,Js(Bx.bind(null,M,H,u),[u]),M.flags|=2048,Ha(9,_h.bind(null,M,H,x,d),void 0,null),x},useId:function(){var u=xs(),d=ks.identifierPrefix;if(ri){var x=sa,M=Kt;x=(M&~(1<<32-un(M)-1)).toString(32)+x,d=":"+d+"R"+x,x=Gc++,0<x&&(d+="H"+x.toString(32)),d+=":"}else x=lo++,d=":"+d+"r"+x.toString(32)+":";return u.memoizedState=d},unstable_isNewReconciler:!1},$x={readContext:Lo,useCallback:Wx,useContext:Lo,useEffect:G0,useImperativeHandle:X0,useInsertionEffect:$0,useLayoutEffect:Hx,useMemo:ko,useReducer:xh,useRef:Vx,useState:function(){return xh(Xf)},useDebugValue:Sm,useDeferredValue:function(u){var d=No();return bm(d,_i.memoizedState,u)},useTransition:function(){var u=xh(Xf)[0],d=No().memoizedState;return[u,d]},useMutableSource:V0,useSyncExternalStore:H0,useId:ac,unstable_isNewReconciler:!1},Xx={readContext:Lo,useCallback:Wx,useContext:Lo,useEffect:G0,useImperativeHandle:X0,useInsertionEffect:$0,useLayoutEffect:Hx,useMemo:ko,useReducer:oc,useRef:Vx,useState:function(){return oc(Xf)},useDebugValue:Sm,useDeferredValue:function(u){var d=No();return _i===null?d.memoizedState=u:bm(d,_i.memoizedState,u)},useTransition:function(){var u=oc(Xf)[0],d=No().memoizedState;return[u,d]},useMutableSource:V0,useSyncExternalStore:H0,useId:ac,unstable_isNewReconciler:!1};function aa(u,d){if(u&&u.defaultProps){d=$({},d),u=u.defaultProps;for(var x in u)d[x]===void 0&&(d[x]=u[x]);return d}return d}function bh(u,d,x,M){d=u.memoizedState,x=x(M,d),x=x==null?d:$({},d,x),u.memoizedState=x,u.lanes===0&&(u.updateQueue.baseState=x)}var Cm={isMounted:function(u){return(u=u._reactInternals)?re(u)===u:!1},enqueueSetState:function(u,d,x){u=u._reactInternals;var M=Fo(),L=Zf(u),H=$r(M,L);H.payload=d,x!=null&&(H.callback=x),d=ci(u,H,L),d!==null&&(fc(d,u,L,M),Ds(d,u,L))},enqueueReplaceState:function(u,d,x){u=u._reactInternals;var M=Fo(),L=Zf(u),H=$r(M,L);H.tag=1,H.payload=d,x!=null&&(H.callback=x),d=ci(u,H,L),d!==null&&(fc(d,u,L,M),Ds(d,u,L))},enqueueForceUpdate:function(u,d){u=u._reactInternals;var x=Fo(),M=Zf(u),L=$r(x,M);L.tag=2,d!=null&&(L.callback=d),d=ci(u,L,M),d!==null&&(fc(d,u,M,x),Ds(d,u,M))}};function qx(u,d,x,M,L,H,Q){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(M,H,Q):d.prototype&&d.prototype.isPureReactComponent?!hn(x,M)||!hn(L,H):!0}function m(u,d,x){var M=!1,L=Jl,H=d.contextType;return typeof H=="object"&&H!==null?H=Lo(H):(L=Ls(d)?Ql:gs.current,M=d.contextTypes,H=(M=M!=null)?Ru(u,L):Jl),d=new d(x,H),u.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Cm,u.stateNode=d,d._reactInternals=u,M&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=L,u.__reactInternalMemoizedMaskedChildContext=H),d}function g(u,d,x,M){u=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(x,M),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(x,M),d.state!==u&&Cm.enqueueReplaceState(d,d.state,null)}function T(u,d,x,M){var L=u.stateNode;L.props=x,L.state=u.memoizedState,L.refs={},sr(u);var H=d.contextType;typeof H=="object"&&H!==null?L.context=Lo(H):(H=Ls(d)?Ql:gs.current,L.context=Ru(u,H)),L.state=u.memoizedState,H=d.getDerivedStateFromProps,typeof H=="function"&&(bh(u,d,H,x),L.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(d=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),d!==L.state&&Cm.enqueueReplaceState(L,L.state,null),xi(u,x,L,M),L.state=u.memoizedState),typeof L.componentDidMount=="function"&&(u.flags|=4194308)}function I(u,d){try{var x="",M=d;do x+=Ve(M),M=M.return;while(M);var L=x}catch(H){L=`
Error generating stack: `+H.message+`
`+H.stack}return{value:u,source:d,stack:L,digest:null}}function B(u,d,x){return{value:u,source:null,stack:x??null,digest:d??null}}function W(u,d){try{console.error(d.value)}catch(x){setTimeout(function(){throw x})}}var pe=typeof WeakMap=="function"?WeakMap:Map;function ke(u,d,x){x=$r(-1,x),x.tag=3,x.payload={element:null};var M=d.value;return x.callback=function(){t_||(t_=!0,qb=M),W(u,d)},x}function dt(u,d,x){x=$r(-1,x),x.tag=3;var M=u.type.getDerivedStateFromError;if(typeof M=="function"){var L=d.value;x.payload=function(){return M(L)},x.callback=function(){W(u,d)}}var H=u.stateNode;return H!==null&&typeof H.componentDidCatch=="function"&&(x.callback=function(){W(u,d),typeof M!="function"&&(Yf===null?Yf=new Set([this]):Yf.add(this));var Q=d.stack;this.componentDidCatch(d.value,{componentStack:Q!==null?Q:""})}),x}function Vt(u,d,x){var M=u.pingCache;if(M===null){M=u.pingCache=new pe;var L=new Set;M.set(d,L)}else L=M.get(d),L===void 0&&(L=new Set,M.set(d,L));L.has(x)||(L.add(x),u=kV.bind(null,u,d,x),d.then(u,u))}function mn(u){do{var d;if((d=u.tag===13)&&(d=u.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return u;u=u.return}while(u!==null);return null}function Kn(u,d,x,M,L){return u.mode&1?(u.flags|=65536,u.lanes=L,u):(u===d?u.flags|=65536:(u.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(d=$r(-1,1),d.tag=2,ci(x,d,1))),x.lanes|=1),u)}var Fn=P.ReactCurrentOwner,ur=!1;function cn(u,d,x,M){d.child=u===null?dh(d,null,x,M):Du(d,u.child,x,M)}function _s(u,d,x,M,L){x=x.render;var H=d.ref;return jc(d,L),M=yh(u,d,x,M,H,L),x=z0(),u!==null&&!ur?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~L,ju(u,d,L)):(ri&&x&&D0(d),d.flags|=1,cn(u,d,M,L),d.child)}function Oo(u,d,x,M,L){if(u===null){var H=x.type;return typeof H=="function"&&!tE(H)&&H.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(d.tag=15,d.type=H,Ze(u,d,H,M,L)):(u=a_(x.type,null,M,d,d.mode,L),u.ref=d.ref,u.return=d,d.child=u)}if(H=u.child,!(u.lanes&L)){var Q=H.memoizedProps;if(x=x.compare,x=x!==null?x:hn,x(Q,M)&&u.ref===d.ref)return ju(u,d,L)}return d.flags|=1,u=Qf(H,M),u.ref=d.ref,u.return=d,d.child=u}function Ze(u,d,x,M,L){if(u!==null){var H=u.memoizedProps;if(hn(H,M)&&u.ref===d.ref)if(ur=!1,d.pendingProps=M=H,(u.lanes&L)!==0)u.flags&131072&&(ur=!0);else return d.lanes=u.lanes,ju(u,d,L)}return sn(u,d,x,M,L)}function Ue(u,d,x){var M=d.pendingProps,L=M.children,H=u!==null?u.memoizedState:null;if(M.mode==="hidden")if(!(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null,transitions:null},qr(Pm,ja),ja|=x;else{if(!(x&1073741824))return u=H!==null?H.baseLanes|x:x,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:u,cachePool:null,transitions:null},d.updateQueue=null,qr(Pm,ja),ja|=u,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},M=H!==null?H.baseLanes:x,qr(Pm,ja),ja|=M}else H!==null?(M=H.baseLanes|x,d.memoizedState=null):M=x,qr(Pm,ja),ja|=M;return cn(u,d,L,x),d.child}function ct(u,d){var x=d.ref;(u===null&&x!==null||u!==null&&u.ref!==x)&&(d.flags|=512,d.flags|=2097152)}function sn(u,d,x,M,L){var H=Ls(x)?Ql:gs.current;return H=Ru(d,H),jc(d,L),x=yh(u,d,x,M,H,L),M=z0(),u!==null&&!ur?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~L,ju(u,d,L)):(ri&&M&&D0(d),d.flags|=1,cn(u,d,x,L),d.child)}function Mn(u,d,x,M,L){if(Ls(x)){var H=!0;Pu(d)}else H=!1;if(jc(d,L),d.stateNode===null)Kx(u,d),m(d,x,M),T(d,x,M,L),M=!0;else if(u===null){var Q=d.stateNode,ye=d.memoizedProps;Q.props=ye;var Ie=Q.context,st=x.contextType;typeof st=="object"&&st!==null?st=Lo(st):(st=Ls(x)?Ql:gs.current,st=Ru(d,st));var Ct=x.getDerivedStateFromProps,Nt=typeof Ct=="function"||typeof Q.getSnapshotBeforeUpdate=="function";Nt||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(ye!==M||Ie!==st)&&g(d,Q,M,st),Gr=!1;var Et=d.memoizedState;Q.state=Et,xi(d,M,Q,L),Ie=d.memoizedState,ye!==M||Et!==Ie||Ys.current||Gr?(typeof Ct=="function"&&(bh(d,x,Ct,M),Ie=d.memoizedState),(ye=Gr||qx(d,x,ye,M,Et,Ie,st))?(Nt||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount()),typeof Q.componentDidMount=="function"&&(d.flags|=4194308)):(typeof Q.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=M,d.memoizedState=Ie),Q.props=M,Q.state=Ie,Q.context=st,M=ye):(typeof Q.componentDidMount=="function"&&(d.flags|=4194308),M=!1)}else{Q=d.stateNode,Ti(u,d),ye=d.memoizedProps,st=d.type===d.elementType?ye:aa(d.type,ye),Q.props=st,Nt=d.pendingProps,Et=Q.context,Ie=x.contextType,typeof Ie=="object"&&Ie!==null?Ie=Lo(Ie):(Ie=Ls(x)?Ql:gs.current,Ie=Ru(d,Ie));var pn=x.getDerivedStateFromProps;(Ct=typeof pn=="function"||typeof Q.getSnapshotBeforeUpdate=="function")||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(ye!==Nt||Et!==Ie)&&g(d,Q,M,Ie),Gr=!1,Et=d.memoizedState,Q.state=Et,xi(d,M,Q,L);var bn=d.memoizedState;ye!==Nt||Et!==bn||Ys.current||Gr?(typeof pn=="function"&&(bh(d,x,pn,M),bn=d.memoizedState),(st=Gr||qx(d,x,st,M,Et,bn,Ie)||!1)?(Ct||typeof Q.UNSAFE_componentWillUpdate!="function"&&typeof Q.componentWillUpdate!="function"||(typeof Q.componentWillUpdate=="function"&&Q.componentWillUpdate(M,bn,Ie),typeof Q.UNSAFE_componentWillUpdate=="function"&&Q.UNSAFE_componentWillUpdate(M,bn,Ie)),typeof Q.componentDidUpdate=="function"&&(d.flags|=4),typeof Q.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof Q.componentDidUpdate!="function"||ye===u.memoizedProps&&Et===u.memoizedState||(d.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||ye===u.memoizedProps&&Et===u.memoizedState||(d.flags|=1024),d.memoizedProps=M,d.memoizedState=bn),Q.props=M,Q.state=bn,Q.context=Ie,M=st):(typeof Q.componentDidUpdate!="function"||ye===u.memoizedProps&&Et===u.memoizedState||(d.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||ye===u.memoizedProps&&Et===u.memoizedState||(d.flags|=1024),M=!1)}return rr(u,d,x,M,H,L)}function rr(u,d,x,M,L,H){ct(u,d);var Q=(d.flags&128)!==0;if(!M&&!Q)return L&&I0(d,x,!1),ju(u,d,H);M=d.stateNode,Fn.current=d;var ye=Q&&typeof x.getDerivedStateFromError!="function"?null:M.render();return d.flags|=1,u!==null&&Q?(d.child=Du(d,u.child,null,H),d.child=Du(d,null,ye,H)):cn(u,d,ye,H),d.memoizedState=M.state,L&&I0(d,x,!0),d.child}function Zn(u){var d=u.stateNode;d.pendingContext?P0(u,d.pendingContext,d.pendingContext!==d.context):d.context&&P0(u,d.context,!1),gh(u,d.containerInfo)}function Ar(u,d,x,M,L){return Hc(),Hf(L),d.flags|=256,cn(u,d,x,M),d.child}var Ui={dehydrated:null,treeContext:null,retryLane:0};function Er(u){return{baseLanes:u,cachePool:null,transitions:null}}function lc(u,d,x){var M=d.pendingProps,L=ii.current,H=!1,Q=(d.flags&128)!==0,ye;if((ye=Q)||(ye=u!==null&&u.memoizedState===null?!1:(L&2)!==0),ye?(H=!0,d.flags&=-129):(u===null||u.memoizedState!==null)&&(L|=1),qr(ii,L&1),u===null)return xm(d),u=d.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?(d.mode&1?u.data==="$!"?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(Q=M.children,u=M.fallback,H?(M=d.mode,H=d.child,Q={mode:"hidden",children:Q},!(M&1)&&H!==null?(H.childLanes=0,H.pendingProps=Q):H=l_(Q,M,0,null),u=Ch(u,M,x,null),H.return=d,u.return=d,H.sibling=u,d.child=H,d.child.memoizedState=Er(x),d.memoizedState=Ui,u):q0(d,Q));if(L=u.memoizedState,L!==null&&(ye=L.dehydrated,ye!==null))return bV(u,d,Q,M,ye,L,x);if(H){H=M.fallback,Q=d.mode,L=u.child,ye=L.sibling;var Ie={mode:"hidden",children:M.children};return!(Q&1)&&d.child!==L?(M=d.child,M.childLanes=0,M.pendingProps=Ie,d.deletions=null):(M=Qf(L,Ie),M.subtreeFlags=L.subtreeFlags&14680064),ye!==null?H=Qf(ye,H):(H=Ch(H,Q,x,null),H.flags|=2),H.return=d,M.return=d,M.sibling=H,d.child=M,M=H,H=d.child,Q=u.child.memoizedState,Q=Q===null?Er(x):{baseLanes:Q.baseLanes|x,cachePool:null,transitions:Q.transitions},H.memoizedState=Q,H.childLanes=u.childLanes&~x,d.memoizedState=Ui,M}return H=u.child,u=H.sibling,M=Qf(H,{mode:"visible",children:M.children}),!(d.mode&1)&&(M.lanes=x),M.return=d,M.sibling=null,u!==null&&(x=d.deletions,x===null?(d.deletions=[u],d.flags|=16):x.push(u)),d.child=M,d.memoizedState=null,M}function q0(u,d){return d=l_({mode:"visible",children:d},u.mode,0,null),d.return=u,u.child=d}function Yx(u,d,x,M){return M!==null&&Hf(M),Du(d,u.child,null,x),u=q0(d,d.pendingProps.children),u.flags|=2,d.memoizedState=null,u}function bV(u,d,x,M,L,H,Q){if(x)return d.flags&256?(d.flags&=-257,M=B(Error(t(422))),Yx(u,d,Q,M)):d.memoizedState!==null?(d.child=u.child,d.flags|=128,null):(H=M.fallback,L=d.mode,M=l_({mode:"visible",children:M.children},L,0,null),H=Ch(H,L,Q,null),H.flags|=2,M.return=d,H.return=d,M.sibling=H,d.child=M,d.mode&1&&Du(d,u.child,null,Q),d.child.memoizedState=Er(Q),d.memoizedState=Ui,H);if(!(d.mode&1))return Yx(u,d,Q,null);if(L.data==="$!"){if(M=L.nextSibling&&L.nextSibling.dataset,M)var ye=M.dgst;return M=ye,H=Error(t(419)),M=B(H,M,void 0),Yx(u,d,Q,M)}if(ye=(Q&u.childLanes)!==0,ur||ye){if(M=ks,M!==null){switch(Q&-Q){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}L=L&(M.suspendedLanes|Q)?0:L,L!==0&&L!==H.retryLane&&(H.retryLane=L,Ba(u,L),fc(M,u,L,-1))}return eE(),M=B(Error(t(421))),Yx(u,d,Q,M)}return L.data==="$?"?(d.flags|=128,d.child=u.child,d=OV.bind(null,u),L._reactRetry=d,null):(u=H.treeContext,Zs=Kl(L.nextSibling),vs=d,ri=!0,oa=null,u!==null&&(Ks[as++]=Kt,Ks[as++]=sa,Ks[as++]=Lu,Kt=u.id,sa=u.overflow,Lu=d),d=q0(d,M.children),d.flags|=4096,d)}function h2(u,d,x){u.lanes|=d;var M=u.alternate;M!==null&&(M.lanes|=d),ph(u.return,d,x)}function Bb(u,d,x,M,L){var H=u.memoizedState;H===null?u.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:M,tail:x,tailMode:L}:(H.isBackwards=d,H.rendering=null,H.renderingStartTime=0,H.last=M,H.tail=x,H.tailMode=L)}function p2(u,d,x){var M=d.pendingProps,L=M.revealOrder,H=M.tail;if(cn(u,d,M.children,x),M=ii.current,M&2)M=M&1|2,d.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=d.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&h2(u,x,d);else if(u.tag===19)h2(u,x,d);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===d)break e;for(;u.sibling===null;){if(u.return===null||u.return===d)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}M&=1}if(qr(ii,M),!(d.mode&1))d.memoizedState=null;else switch(L){case"forwards":for(x=d.child,L=null;x!==null;)u=x.alternate,u!==null&&za(u)===null&&(L=x),x=x.sibling;x=L,x===null?(L=d.child,d.child=null):(L=x.sibling,x.sibling=null),Bb(d,!1,L,x,H);break;case"backwards":for(x=null,L=d.child,d.child=null;L!==null;){if(u=L.alternate,u!==null&&za(u)===null){d.child=L;break}u=L.sibling,L.sibling=x,x=L,L=u}Bb(d,!0,x,null,H);break;case"together":Bb(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Kx(u,d){!(d.mode&1)&&u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2)}function ju(u,d,x){if(u!==null&&(d.dependencies=u.dependencies),Eh|=d.lanes,!(x&d.childLanes))return null;if(u!==null&&d.child!==u.child)throw Error(t(153));if(d.child!==null){for(u=d.child,x=Qf(u,u.pendingProps),d.child=x,x.return=d;u.sibling!==null;)u=u.sibling,x=x.sibling=Qf(u,u.pendingProps),x.return=d;x.sibling=null}return d.child}function EV(u,d,x){switch(d.tag){case 3:Zn(d),Hc();break;case 5:Bu(d);break;case 1:Ls(d.type)&&Pu(d);break;case 4:gh(d,d.stateNode.containerInfo);break;case 10:var M=d.type._context,L=d.memoizedProps.value;qr(Nu,M._currentValue),M._currentValue=L;break;case 13:if(M=d.memoizedState,M!==null)return M.dehydrated!==null?(qr(ii,ii.current&1),d.flags|=128,null):x&d.child.childLanes?lc(u,d,x):(qr(ii,ii.current&1),u=ju(u,d,x),u!==null?u.sibling:null);qr(ii,ii.current&1);break;case 19:if(M=(x&d.childLanes)!==0,u.flags&128){if(M)return p2(u,d,x);d.flags|=128}if(L=d.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),qr(ii,ii.current),M)break;return null;case 22:case 23:return d.lanes=0,Ue(u,d,x)}return ju(u,d,x)}var m2,zb,g2,v2;m2=function(u,d){for(var x=d.child;x!==null;){if(x.tag===5||x.tag===6)u.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===d)break;for(;x.sibling===null;){if(x.return===null||x.return===d)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},zb=function(){},g2=function(u,d,x,M){var L=u.memoizedProps;if(L!==M){u=d.stateNode,Fi(Do.current);var H=null;switch(x){case"input":L=ae(u,L),M=ae(u,M),H=[];break;case"select":L=$({},L,{value:void 0}),M=$({},M,{value:void 0}),H=[];break;case"textarea":L=ee(u,L),M=ee(u,M),H=[];break;default:typeof L.onClick!="function"&&typeof M.onClick=="function"&&(u.onclick=sh)}Ae(x,M);var Q;x=null;for(st in L)if(!M.hasOwnProperty(st)&&L.hasOwnProperty(st)&&L[st]!=null)if(st==="style"){var ye=L[st];for(Q in ye)ye.hasOwnProperty(Q)&&(x||(x={}),x[Q]="")}else st!=="dangerouslySetInnerHTML"&&st!=="children"&&st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&st!=="autoFocus"&&(i.hasOwnProperty(st)?H||(H=[]):(H=H||[]).push(st,null));for(st in M){var Ie=M[st];if(ye=L!=null?L[st]:void 0,M.hasOwnProperty(st)&&Ie!==ye&&(Ie!=null||ye!=null))if(st==="style")if(ye){for(Q in ye)!ye.hasOwnProperty(Q)||Ie&&Ie.hasOwnProperty(Q)||(x||(x={}),x[Q]="");for(Q in Ie)Ie.hasOwnProperty(Q)&&ye[Q]!==Ie[Q]&&(x||(x={}),x[Q]=Ie[Q])}else x||(H||(H=[]),H.push(st,x)),x=Ie;else st==="dangerouslySetInnerHTML"?(Ie=Ie?Ie.__html:void 0,ye=ye?ye.__html:void 0,Ie!=null&&ye!==Ie&&(H=H||[]).push(st,Ie)):st==="children"?typeof Ie!="string"&&typeof Ie!="number"||(H=H||[]).push(st,""+Ie):st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&(i.hasOwnProperty(st)?(Ie!=null&&st==="onScroll"&&Zr("scroll",u),H||ye===Ie||(H=[])):(H=H||[]).push(st,Ie))}x&&(H=H||[]).push("style",x);var st=H;(d.updateQueue=st)&&(d.flags|=4)}},v2=function(u,d,x,M){x!==M&&(d.flags|=4)};function Y0(u,d){if(!ri)switch(u.tailMode){case"hidden":d=u.tail;for(var x=null;d!==null;)d.alternate!==null&&(x=d),d=d.sibling;x===null?u.tail=null:x.sibling=null;break;case"collapsed":x=u.tail;for(var M=null;x!==null;)x.alternate!==null&&(M=x),x=x.sibling;M===null?d||u.tail===null?u.tail=null:u.tail.sibling=null:M.sibling=null}}function co(u){var d=u.alternate!==null&&u.alternate.child===u.child,x=0,M=0;if(d)for(var L=u.child;L!==null;)x|=L.lanes|L.childLanes,M|=L.subtreeFlags&14680064,M|=L.flags&14680064,L.return=u,L=L.sibling;else for(L=u.child;L!==null;)x|=L.lanes|L.childLanes,M|=L.subtreeFlags,M|=L.flags,L.return=u,L=L.sibling;return u.subtreeFlags|=M,u.childLanes=x,d}function TV(u,d,x){var M=d.pendingProps;switch(tc(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return co(d),null;case 1:return Ls(d.type)&&oh(),co(d),null;case 3:return M=d.stateNode,Wc(),Jr(Ys),Jr(gs),xl(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(u===null||u.child===null)&&(Vf(d)?d.flags|=4:u===null||u.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,oa!==null&&(Zb(oa),oa=null))),zb(u,d),co(d),null;case 5:Gf(d);var L=Fi(ic.current);if(x=d.type,u!==null&&d.stateNode!=null)g2(u,d,x,M,L),u.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!M){if(d.stateNode===null)throw Error(t(166));return co(d),null}if(u=Fi(Do.current),Vf(d)){M=d.stateNode,x=d.type;var H=d.memoizedProps;switch(M[$i]=d,M[zf]=H,u=(d.mode&1)!==0,x){case"dialog":Zr("cancel",M),Zr("close",M);break;case"iframe":case"object":case"embed":Zr("load",M);break;case"video":case"audio":for(L=0;L<zc.length;L++)Zr(zc[L],M);break;case"source":Zr("error",M);break;case"img":case"image":case"link":Zr("error",M),Zr("load",M);break;case"details":Zr("toggle",M);break;case"input":Bt(M,H),Zr("invalid",M);break;case"select":M._wrapperState={wasMultiple:!!H.multiple},Zr("invalid",M);break;case"textarea":xe(M,H),Zr("invalid",M)}Ae(x,H),L=null;for(var Q in H)if(H.hasOwnProperty(Q)){var ye=H[Q];Q==="children"?typeof ye=="string"?M.textContent!==ye&&(H.suppressHydrationWarning!==!0&&ih(M.textContent,ye,u),L=["children",ye]):typeof ye=="number"&&M.textContent!==""+ye&&(H.suppressHydrationWarning!==!0&&ih(M.textContent,ye,u),L=["children",""+ye]):i.hasOwnProperty(Q)&&ye!=null&&Q==="onScroll"&&Zr("scroll",M)}switch(x){case"input":Jt(M),mt(M,H,!0);break;case"textarea":Jt(M),Le(M);break;case"select":case"option":break;default:typeof H.onClick=="function"&&(M.onclick=sh)}M=L,d.updateQueue=M,M!==null&&(d.flags|=4)}else{Q=L.nodeType===9?L:L.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=Ge(x)),u==="http://www.w3.org/1999/xhtml"?x==="script"?(u=Q.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof M.is=="string"?u=Q.createElement(x,{is:M.is}):(u=Q.createElement(x),x==="select"&&(Q=u,M.multiple?Q.multiple=!0:M.size&&(Q.size=M.size))):u=Q.createElementNS(u,x),u[$i]=d,u[zf]=M,m2(u,d,!1,!1),d.stateNode=u;e:{switch(Q=Ye(x,M),x){case"dialog":Zr("cancel",u),Zr("close",u),L=M;break;case"iframe":case"object":case"embed":Zr("load",u),L=M;break;case"video":case"audio":for(L=0;L<zc.length;L++)Zr(zc[L],u);L=M;break;case"source":Zr("error",u),L=M;break;case"img":case"image":case"link":Zr("error",u),Zr("load",u),L=M;break;case"details":Zr("toggle",u),L=M;break;case"input":Bt(u,M),L=ae(u,M),Zr("invalid",u);break;case"option":L=M;break;case"select":u._wrapperState={wasMultiple:!!M.multiple},L=$({},M,{value:void 0}),Zr("invalid",u);break;case"textarea":xe(u,M),L=ee(u,M),Zr("invalid",u);break;default:L=M}Ae(x,L),ye=L;for(H in ye)if(ye.hasOwnProperty(H)){var Ie=ye[H];H==="style"?Wt(u,Ie):H==="dangerouslySetInnerHTML"?(Ie=Ie?Ie.__html:void 0,Ie!=null&&Rt(u,Ie)):H==="children"?typeof Ie=="string"?(x!=="textarea"||Ie!=="")&&vn(u,Ie):typeof Ie=="number"&&vn(u,""+Ie):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(i.hasOwnProperty(H)?Ie!=null&&H==="onScroll"&&Zr("scroll",u):Ie!=null&&R(u,H,Ie,Q))}switch(x){case"input":Jt(u),mt(u,M,!1);break;case"textarea":Jt(u),Le(u);break;case"option":M.value!=null&&u.setAttribute("value",""+pt(M.value));break;case"select":u.multiple=!!M.multiple,H=M.value,H!=null?se(u,!!M.multiple,H,!1):M.defaultValue!=null&&se(u,!!M.multiple,M.defaultValue,!0);break;default:typeof L.onClick=="function"&&(u.onclick=sh)}switch(x){case"button":case"input":case"select":case"textarea":M=!!M.autoFocus;break e;case"img":M=!0;break e;default:M=!1}}M&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return co(d),null;case 6:if(u&&d.stateNode!=null)v2(u,d,u.memoizedProps,M);else{if(typeof M!="string"&&d.stateNode===null)throw Error(t(166));if(x=Fi(ic.current),Fi(Do.current),Vf(d)){if(M=d.stateNode,x=d.memoizedProps,M[$i]=d,(H=M.nodeValue!==x)&&(u=vs,u!==null))switch(u.tag){case 3:ih(M.nodeValue,x,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&ih(M.nodeValue,x,(u.mode&1)!==0)}H&&(d.flags|=4)}else M=(x.nodeType===9?x:x.ownerDocument).createTextNode(M),M[$i]=d,d.stateNode=M}return co(d),null;case 13:if(Jr(ii),M=d.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(ri&&Zs!==null&&d.mode&1&&!(d.flags&128))O0(),Hc(),d.flags|=98560,H=!1;else if(H=Vf(d),M!==null&&M.dehydrated!==null){if(u===null){if(!H)throw Error(t(318));if(H=d.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(t(317));H[$i]=d}else Hc(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;co(d),H=!1}else oa!==null&&(Zb(oa),oa=null),H=!0;if(!H)return d.flags&65536?d:null}return d.flags&128?(d.lanes=x,d):(M=M!==null,M!==(u!==null&&u.memoizedState!==null)&&M&&(d.child.flags|=8192,d.mode&1&&(u===null||ii.current&1?ws===0&&(ws=3):eE())),d.updateQueue!==null&&(d.flags|=4),co(d),null);case 4:return Wc(),zb(u,d),u===null&&Ff(d.stateNode.containerInfo),co(d),null;case 10:return hh(d.type._context),co(d),null;case 17:return Ls(d.type)&&oh(),co(d),null;case 19:if(Jr(ii),H=d.memoizedState,H===null)return co(d),null;if(M=(d.flags&128)!==0,Q=H.rendering,Q===null)if(M)Y0(H,!1);else{if(ws!==0||u!==null&&u.flags&128)for(u=d.child;u!==null;){if(Q=za(u),Q!==null){for(d.flags|=128,Y0(H,!1),M=Q.updateQueue,M!==null&&(d.updateQueue=M,d.flags|=4),d.subtreeFlags=0,M=x,x=d.child;x!==null;)H=x,u=M,H.flags&=14680066,Q=H.alternate,Q===null?(H.childLanes=0,H.lanes=u,H.child=null,H.subtreeFlags=0,H.memoizedProps=null,H.memoizedState=null,H.updateQueue=null,H.dependencies=null,H.stateNode=null):(H.childLanes=Q.childLanes,H.lanes=Q.lanes,H.child=Q.child,H.subtreeFlags=0,H.deletions=null,H.memoizedProps=Q.memoizedProps,H.memoizedState=Q.memoizedState,H.updateQueue=Q.updateQueue,H.type=Q.type,u=Q.dependencies,H.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),x=x.sibling;return qr(ii,ii.current&1|2),d.child}u=u.sibling}H.tail!==null&&le()>Im&&(d.flags|=128,M=!0,Y0(H,!1),d.lanes=4194304)}else{if(!M)if(u=za(Q),u!==null){if(d.flags|=128,M=!0,x=u.updateQueue,x!==null&&(d.updateQueue=x,d.flags|=4),Y0(H,!0),H.tail===null&&H.tailMode==="hidden"&&!Q.alternate&&!ri)return co(d),null}else 2*le()-H.renderingStartTime>Im&&x!==1073741824&&(d.flags|=128,M=!0,Y0(H,!1),d.lanes=4194304);H.isBackwards?(Q.sibling=d.child,d.child=Q):(x=H.last,x!==null?x.sibling=Q:d.child=Q,H.last=Q)}return H.tail!==null?(d=H.tail,H.rendering=d,H.tail=d.sibling,H.renderingStartTime=le(),d.sibling=null,x=ii.current,qr(ii,M?x&1|2:x&1),d):(co(d),null);case 22:case 23:return Qb(),M=d.memoizedState!==null,u!==null&&u.memoizedState!==null!==M&&(d.flags|=8192),M&&d.mode&1?ja&1073741824&&(co(d),d.subtreeFlags&6&&(d.flags|=8192)):co(d),null;case 24:return null;case 25:return null}throw Error(t(156,d.tag))}function MV(u,d){switch(tc(d),d.tag){case 1:return Ls(d.type)&&oh(),u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 3:return Wc(),Jr(Ys),Jr(gs),xl(),u=d.flags,u&65536&&!(u&128)?(d.flags=u&-65537|128,d):null;case 5:return Gf(d),null;case 13:if(Jr(ii),u=d.memoizedState,u!==null&&u.dehydrated!==null){if(d.alternate===null)throw Error(t(340));Hc()}return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 19:return Jr(ii),null;case 4:return Wc(),null;case 10:return hh(d.type._context),null;case 22:case 23:return Qb(),null;case 24:return null;default:return null}}var Zx=!1,uo=!1,AV=typeof WeakSet=="function"?WeakSet:Set,gn=null;function Rm(u,d){var x=u.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(M){Bi(u,d,M)}else x.current=null}function Vb(u,d,x){try{x()}catch(M){Bi(u,d,M)}}var y2=!1;function CV(u,d){if(Bf=Ps,u=fn(),Dn(u)){if("selectionStart"in u)var x={start:u.selectionStart,end:u.selectionEnd};else e:{x=(x=u.ownerDocument)&&x.defaultView||window;var M=x.getSelection&&x.getSelection();if(M&&M.rangeCount!==0){x=M.anchorNode;var L=M.anchorOffset,H=M.focusNode;M=M.focusOffset;try{x.nodeType,H.nodeType}catch{x=null;break e}var Q=0,ye=-1,Ie=-1,st=0,Ct=0,Nt=u,Et=null;t:for(;;){for(var pn;Nt!==x||L!==0&&Nt.nodeType!==3||(ye=Q+L),Nt!==H||M!==0&&Nt.nodeType!==3||(Ie=Q+M),Nt.nodeType===3&&(Q+=Nt.nodeValue.length),(pn=Nt.firstChild)!==null;)Et=Nt,Nt=pn;for(;;){if(Nt===u)break t;if(Et===x&&++st===L&&(ye=Q),Et===H&&++Ct===M&&(Ie=Q),(pn=Nt.nextSibling)!==null)break;Nt=Et,Et=Nt.parentNode}Nt=pn}x=ye===-1||Ie===-1?null:{start:ye,end:Ie}}else x=null}x=x||{start:0,end:0}}else x=null;for(E0={focusedElem:u,selectionRange:x},Ps=!1,gn=d;gn!==null;)if(d=gn,u=d.child,(d.subtreeFlags&1028)!==0&&u!==null)u.return=d,gn=u;else for(;gn!==null;){d=gn;try{var bn=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(bn!==null){var Tn=bn.memoizedProps,Xi=bn.memoizedState,We=d.stateNode,Ne=We.getSnapshotBeforeUpdate(d.elementType===d.type?Tn:aa(d.type,Tn),Xi);We.__reactInternalSnapshotBeforeUpdate=Ne}break;case 3:var Ke=d.stateNode.containerInfo;Ke.nodeType===1?Ke.textContent="":Ke.nodeType===9&&Ke.documentElement&&Ke.removeChild(Ke.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch($t){Bi(d,d.return,$t)}if(u=d.sibling,u!==null){u.return=d.return,gn=u;break}gn=d.return}return bn=y2,y2=!1,bn}function K0(u,d,x){var M=d.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var L=M=M.next;do{if((L.tag&u)===u){var H=L.destroy;L.destroy=void 0,H!==void 0&&Vb(d,x,H)}L=L.next}while(L!==M)}}function Jx(u,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var x=d=d.next;do{if((x.tag&u)===u){var M=x.create;x.destroy=M()}x=x.next}while(x!==d)}}function Hb(u){var d=u.ref;if(d!==null){var x=u.stateNode;switch(u.tag){case 5:u=x;break;default:u=x}typeof d=="function"?d(u):d.current=u}}function x2(u){var d=u.alternate;d!==null&&(u.alternate=null,x2(d)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(d=u.stateNode,d!==null&&(delete d[$i],delete d[zf],delete d[Cu],delete d[dm],delete d[hm])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function _2(u){return u.tag===5||u.tag===3||u.tag===4}function w2(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||_2(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function jb(u,d,x){var M=u.tag;if(M===5||M===6)u=u.stateNode,d?x.nodeType===8?x.parentNode.insertBefore(u,d):x.insertBefore(u,d):(x.nodeType===8?(d=x.parentNode,d.insertBefore(u,x)):(d=x,d.appendChild(u)),x=x._reactRootContainer,x!=null||d.onclick!==null||(d.onclick=sh));else if(M!==4&&(u=u.child,u!==null))for(jb(u,d,x),u=u.sibling;u!==null;)jb(u,d,x),u=u.sibling}function Wb(u,d,x){var M=u.tag;if(M===5||M===6)u=u.stateNode,d?x.insertBefore(u,d):x.appendChild(u);else if(M!==4&&(u=u.child,u!==null))for(Wb(u,d,x),u=u.sibling;u!==null;)Wb(u,d,x),u=u.sibling}var Qs=null,cc=!1;function qf(u,d,x){for(x=x.child;x!==null;)S2(u,d,x),x=x.sibling}function S2(u,d,x){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(At,x)}catch{}switch(x.tag){case 5:uo||Rm(x,d);case 6:var M=Qs,L=cc;Qs=null,qf(u,d,x),Qs=M,cc=L,Qs!==null&&(cc?(u=Qs,x=x.stateNode,u.nodeType===8?u.parentNode.removeChild(x):u.removeChild(x)):Qs.removeChild(x.stateNode));break;case 18:Qs!==null&&(cc?(u=Qs,x=x.stateNode,u.nodeType===8?fm(u.parentNode,x):u.nodeType===1&&fm(u,x),Gl(u)):fm(Qs,x.stateNode));break;case 4:M=Qs,L=cc,Qs=x.stateNode.containerInfo,cc=!0,qf(u,d,x),Qs=M,cc=L;break;case 0:case 11:case 14:case 15:if(!uo&&(M=x.updateQueue,M!==null&&(M=M.lastEffect,M!==null))){L=M=M.next;do{var H=L,Q=H.destroy;H=H.tag,Q!==void 0&&(H&2||H&4)&&Vb(x,d,Q),L=L.next}while(L!==M)}qf(u,d,x);break;case 1:if(!uo&&(Rm(x,d),M=x.stateNode,typeof M.componentWillUnmount=="function"))try{M.props=x.memoizedProps,M.state=x.memoizedState,M.componentWillUnmount()}catch(ye){Bi(x,d,ye)}qf(u,d,x);break;case 21:qf(u,d,x);break;case 22:x.mode&1?(uo=(M=uo)||x.memoizedState!==null,qf(u,d,x),uo=M):qf(u,d,x);break;default:qf(u,d,x)}}function b2(u){var d=u.updateQueue;if(d!==null){u.updateQueue=null;var x=u.stateNode;x===null&&(x=u.stateNode=new AV),d.forEach(function(M){var L=FV.bind(null,u,M);x.has(M)||(x.add(M),M.then(L,L))})}}function uc(u,d){var x=d.deletions;if(x!==null)for(var M=0;M<x.length;M++){var L=x[M];try{var H=u,Q=d,ye=Q;e:for(;ye!==null;){switch(ye.tag){case 5:Qs=ye.stateNode,cc=!1;break e;case 3:Qs=ye.stateNode.containerInfo,cc=!0;break e;case 4:Qs=ye.stateNode.containerInfo,cc=!0;break e}ye=ye.return}if(Qs===null)throw Error(t(160));S2(H,Q,L),Qs=null,cc=!1;var Ie=L.alternate;Ie!==null&&(Ie.return=null),L.return=null}catch(st){Bi(L,d,st)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)E2(d,u),d=d.sibling}function E2(u,d){var x=u.alternate,M=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(uc(d,u),$c(u),M&4){try{K0(3,u,u.return),Jx(3,u)}catch(Tn){Bi(u,u.return,Tn)}try{K0(5,u,u.return)}catch(Tn){Bi(u,u.return,Tn)}}break;case 1:uc(d,u),$c(u),M&512&&x!==null&&Rm(x,x.return);break;case 5:if(uc(d,u),$c(u),M&512&&x!==null&&Rm(x,x.return),u.flags&32){var L=u.stateNode;try{vn(L,"")}catch(Tn){Bi(u,u.return,Tn)}}if(M&4&&(L=u.stateNode,L!=null)){var H=u.memoizedProps,Q=x!==null?x.memoizedProps:H,ye=u.type,Ie=u.updateQueue;if(u.updateQueue=null,Ie!==null)try{ye==="input"&&H.type==="radio"&&H.name!=null&&ht(L,H),Ye(ye,Q);var st=Ye(ye,H);for(Q=0;Q<Ie.length;Q+=2){var Ct=Ie[Q],Nt=Ie[Q+1];Ct==="style"?Wt(L,Nt):Ct==="dangerouslySetInnerHTML"?Rt(L,Nt):Ct==="children"?vn(L,Nt):R(L,Ct,Nt,st)}switch(ye){case"input":Re(L,H);break;case"textarea":Oe(L,H);break;case"select":var Et=L._wrapperState.wasMultiple;L._wrapperState.wasMultiple=!!H.multiple;var pn=H.value;pn!=null?se(L,!!H.multiple,pn,!1):Et!==!!H.multiple&&(H.defaultValue!=null?se(L,!!H.multiple,H.defaultValue,!0):se(L,!!H.multiple,H.multiple?[]:"",!1))}L[zf]=H}catch(Tn){Bi(u,u.return,Tn)}}break;case 6:if(uc(d,u),$c(u),M&4){if(u.stateNode===null)throw Error(t(162));L=u.stateNode,H=u.memoizedProps;try{L.nodeValue=H}catch(Tn){Bi(u,u.return,Tn)}}break;case 3:if(uc(d,u),$c(u),M&4&&x!==null&&x.memoizedState.isDehydrated)try{Gl(d.containerInfo)}catch(Tn){Bi(u,u.return,Tn)}break;case 4:uc(d,u),$c(u);break;case 13:uc(d,u),$c(u),L=u.child,L.flags&8192&&(H=L.memoizedState!==null,L.stateNode.isHidden=H,!H||L.alternate!==null&&L.alternate.memoizedState!==null||(Xb=le())),M&4&&b2(u);break;case 22:if(Ct=x!==null&&x.memoizedState!==null,u.mode&1?(uo=(st=uo)||Ct,uc(d,u),uo=st):uc(d,u),$c(u),M&8192){if(st=u.memoizedState!==null,(u.stateNode.isHidden=st)&&!Ct&&u.mode&1)for(gn=u,Ct=u.child;Ct!==null;){for(Nt=gn=Ct;gn!==null;){switch(Et=gn,pn=Et.child,Et.tag){case 0:case 11:case 14:case 15:K0(4,Et,Et.return);break;case 1:Rm(Et,Et.return);var bn=Et.stateNode;if(typeof bn.componentWillUnmount=="function"){M=Et,x=Et.return;try{d=M,bn.props=d.memoizedProps,bn.state=d.memoizedState,bn.componentWillUnmount()}catch(Tn){Bi(M,x,Tn)}}break;case 5:Rm(Et,Et.return);break;case 22:if(Et.memoizedState!==null){A2(Nt);continue}}pn!==null?(pn.return=Et,gn=pn):A2(Nt)}Ct=Ct.sibling}e:for(Ct=null,Nt=u;;){if(Nt.tag===5){if(Ct===null){Ct=Nt;try{L=Nt.stateNode,st?(H=L.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none"):(ye=Nt.stateNode,Ie=Nt.memoizedProps.style,Q=Ie!=null&&Ie.hasOwnProperty("display")?Ie.display:null,ye.style.display=Zt("display",Q))}catch(Tn){Bi(u,u.return,Tn)}}}else if(Nt.tag===6){if(Ct===null)try{Nt.stateNode.nodeValue=st?"":Nt.memoizedProps}catch(Tn){Bi(u,u.return,Tn)}}else if((Nt.tag!==22&&Nt.tag!==23||Nt.memoizedState===null||Nt===u)&&Nt.child!==null){Nt.child.return=Nt,Nt=Nt.child;continue}if(Nt===u)break e;for(;Nt.sibling===null;){if(Nt.return===null||Nt.return===u)break e;Ct===Nt&&(Ct=null),Nt=Nt.return}Ct===Nt&&(Ct=null),Nt.sibling.return=Nt.return,Nt=Nt.sibling}}break;case 19:uc(d,u),$c(u),M&4&&b2(u);break;case 21:break;default:uc(d,u),$c(u)}}function $c(u){var d=u.flags;if(d&2){try{e:{for(var x=u.return;x!==null;){if(_2(x)){var M=x;break e}x=x.return}throw Error(t(160))}switch(M.tag){case 5:var L=M.stateNode;M.flags&32&&(vn(L,""),M.flags&=-33);var H=w2(u);Wb(u,H,L);break;case 3:case 4:var Q=M.stateNode.containerInfo,ye=w2(u);jb(u,ye,Q);break;default:throw Error(t(161))}}catch(Ie){Bi(u,u.return,Ie)}u.flags&=-3}d&4096&&(u.flags&=-4097)}function RV(u,d,x){gn=u,T2(u)}function T2(u,d,x){for(var M=(u.mode&1)!==0;gn!==null;){var L=gn,H=L.child;if(L.tag===22&&M){var Q=L.memoizedState!==null||Zx;if(!Q){var ye=L.alternate,Ie=ye!==null&&ye.memoizedState!==null||uo;ye=Zx;var st=uo;if(Zx=Q,(uo=Ie)&&!st)for(gn=L;gn!==null;)Q=gn,Ie=Q.child,Q.tag===22&&Q.memoizedState!==null?C2(L):Ie!==null?(Ie.return=Q,gn=Ie):C2(L);for(;H!==null;)gn=H,T2(H),H=H.sibling;gn=L,Zx=ye,uo=st}M2(u)}else L.subtreeFlags&8772&&H!==null?(H.return=L,gn=H):M2(u)}}function M2(u){for(;gn!==null;){var d=gn;if(d.flags&8772){var x=d.alternate;try{if(d.flags&8772)switch(d.tag){case 0:case 11:case 15:uo||Jx(5,d);break;case 1:var M=d.stateNode;if(d.flags&4&&!uo)if(x===null)M.componentDidMount();else{var L=d.elementType===d.type?x.memoizedProps:aa(d.type,x.memoizedProps);M.componentDidUpdate(L,x.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var H=d.updateQueue;H!==null&&Wf(d,H,M);break;case 3:var Q=d.updateQueue;if(Q!==null){if(x=null,d.child!==null)switch(d.child.tag){case 5:x=d.child.stateNode;break;case 1:x=d.child.stateNode}Wf(d,Q,x)}break;case 5:var ye=d.stateNode;if(x===null&&d.flags&4){x=ye;var Ie=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":Ie.autoFocus&&x.focus();break;case"img":Ie.src&&(x.src=Ie.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var st=d.alternate;if(st!==null){var Ct=st.memoizedState;if(Ct!==null){var Nt=Ct.dehydrated;Nt!==null&&Gl(Nt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}uo||d.flags&512&&Hb(d)}catch(Et){Bi(d,d.return,Et)}}if(d===u){gn=null;break}if(x=d.sibling,x!==null){x.return=d.return,gn=x;break}gn=d.return}}function A2(u){for(;gn!==null;){var d=gn;if(d===u){gn=null;break}var x=d.sibling;if(x!==null){x.return=d.return,gn=x;break}gn=d.return}}function C2(u){for(;gn!==null;){var d=gn;try{switch(d.tag){case 0:case 11:case 15:var x=d.return;try{Jx(4,d)}catch(Ie){Bi(d,x,Ie)}break;case 1:var M=d.stateNode;if(typeof M.componentDidMount=="function"){var L=d.return;try{M.componentDidMount()}catch(Ie){Bi(d,L,Ie)}}var H=d.return;try{Hb(d)}catch(Ie){Bi(d,H,Ie)}break;case 5:var Q=d.return;try{Hb(d)}catch(Ie){Bi(d,Q,Ie)}}}catch(Ie){Bi(d,d.return,Ie)}if(d===u){gn=null;break}var ye=d.sibling;if(ye!==null){ye.return=d.return,gn=ye;break}gn=d.return}}var PV=Math.ceil,Qx=P.ReactCurrentDispatcher,Gb=P.ReactCurrentOwner,wl=P.ReactCurrentBatchConfig,kr=0,ks=null,ls=null,eo=0,ja=0,Pm=yi(0),ws=0,Z0=null,Eh=0,e_=0,$b=0,J0=null,la=null,Xb=0,Im=1/0,Wu=null,t_=!1,qb=null,Yf=null,n_=!1,Kf=null,r_=0,Q0=0,Yb=null,i_=-1,s_=0;function Fo(){return kr&6?le():i_!==-1?i_:i_=le()}function Zf(u){return u.mode&1?kr&2&&eo!==0?eo&-eo:Fb.transition!==null?(s_===0&&(s_=cr()),s_):(u=tr,u!==0||(u=window.event,u=u===void 0?16:nm(u.type)),u):1}function fc(u,d,x,M){if(50<Q0)throw Q0=0,Yb=null,Error(t(185));$n(u,x,M),(!(kr&2)||u!==ks)&&(u===ks&&(!(kr&2)&&(e_|=x),ws===4&&Jf(u,eo)),ca(u,M),x===1&&kr===0&&!(d.mode&1)&&(Im=le()+500,lh&&vl()))}function ca(u,d){var x=u.callbackNode;lr(u,d);var M=Yn(u,u===ks?eo:0);if(M===0)x!==null&&fe(x),u.callbackNode=null,u.callbackPriority=0;else if(d=M&-M,u.callbackPriority!==d){if(x!=null&&fe(x),d===1)u.tag===0?Ux(P2.bind(null,u)):ch(P2.bind(null,u)),Ob(function(){!(kr&6)&&vl()}),x=null;else{switch(Dc(M)){case 1:x=et;break;case 4:x=ut;break;case 16:x=yt;break;case 536870912:x=kt;break;default:x=yt}x=U2(x,R2.bind(null,u))}u.callbackPriority=d,u.callbackNode=x}}function R2(u,d){if(i_=-1,s_=0,kr&6)throw Error(t(327));var x=u.callbackNode;if(Lm()&&u.callbackNode!==x)return null;var M=Yn(u,u===ks?eo:0);if(M===0)return null;if(M&30||M&u.expiredLanes||d)d=o_(u,M);else{d=M;var L=kr;kr|=2;var H=L2();(ks!==u||eo!==d)&&(Wu=null,Im=le()+500,Mh(u,d));do try{DV();break}catch(ye){I2(u,ye)}while(!0);Ou(),Qx.current=H,kr=L,ls!==null?d=0:(ks=null,eo=0,d=ws)}if(d!==0){if(d===2&&(L=Sn(u),L!==0&&(M=L,d=Kb(u,L))),d===1)throw x=Z0,Mh(u,0),Jf(u,M),ca(u,le()),x;if(d===6)Jf(u,M);else{if(L=u.current.alternate,!(M&30)&&!IV(L)&&(d=o_(u,M),d===2&&(H=Sn(u),H!==0&&(M=H,d=Kb(u,H))),d===1))throw x=Z0,Mh(u,0),Jf(u,M),ca(u,le()),x;switch(u.finishedWork=L,u.finishedLanes=M,d){case 0:case 1:throw Error(t(345));case 2:Ah(u,la,Wu);break;case 3:if(Jf(u,M),(M&130023424)===M&&(d=Xb+500-le(),10<d)){if(Yn(u,0)!==0)break;if(L=u.suspendedLanes,(L&M)!==M){Fo(),u.pingedLanes|=u.suspendedLanes&L;break}u.timeoutHandle=M0(Ah.bind(null,u,la,Wu),d);break}Ah(u,la,Wu);break;case 4:if(Jf(u,M),(M&4194240)===M)break;for(d=u.eventTimes,L=-1;0<M;){var Q=31-un(M);H=1<<Q,Q=d[Q],Q>L&&(L=Q),M&=~H}if(M=L,M=le()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*PV(M/1960))-M,10<M){u.timeoutHandle=M0(Ah.bind(null,u,la,Wu),M);break}Ah(u,la,Wu);break;case 5:Ah(u,la,Wu);break;default:throw Error(t(329))}}}return ca(u,le()),u.callbackNode===x?R2.bind(null,u):null}function Kb(u,d){var x=J0;return u.current.memoizedState.isDehydrated&&(Mh(u,d).flags|=256),u=o_(u,d),u!==2&&(d=la,la=x,d!==null&&Zb(d)),u}function Zb(u){la===null?la=u:la.push.apply(la,u)}function IV(u){for(var d=u;;){if(d.flags&16384){var x=d.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var M=0;M<x.length;M++){var L=x[M],H=L.getSnapshot;L=L.value;try{if(!qt(H(),L))return!1}catch{return!1}}}if(x=d.child,d.subtreeFlags&16384&&x!==null)x.return=d,d=x;else{if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Jf(u,d){for(d&=~$b,d&=~e_,u.suspendedLanes|=d,u.pingedLanes&=~d,u=u.expirationTimes;0<d;){var x=31-un(d),M=1<<x;u[x]=-1,d&=~M}}function P2(u){if(kr&6)throw Error(t(327));Lm();var d=Yn(u,0);if(!(d&1))return ca(u,le()),null;var x=o_(u,d);if(u.tag!==0&&x===2){var M=Sn(u);M!==0&&(d=M,x=Kb(u,M))}if(x===1)throw x=Z0,Mh(u,0),Jf(u,d),ca(u,le()),x;if(x===6)throw Error(t(345));return u.finishedWork=u.current.alternate,u.finishedLanes=d,Ah(u,la,Wu),ca(u,le()),null}function Jb(u,d){var x=kr;kr|=1;try{return u(d)}finally{kr=x,kr===0&&(Im=le()+500,lh&&vl())}}function Th(u){Kf!==null&&Kf.tag===0&&!(kr&6)&&Lm();var d=kr;kr|=1;var x=wl.transition,M=tr;try{if(wl.transition=null,tr=1,u)return u()}finally{tr=M,wl.transition=x,kr=d,!(kr&6)&&vl()}}function Qb(){ja=Pm.current,Jr(Pm)}function Mh(u,d){u.finishedWork=null,u.finishedLanes=0;var x=u.timeoutHandle;if(x!==-1&&(u.timeoutHandle=-1,A0(x)),ls!==null)for(x=ls.return;x!==null;){var M=x;switch(tc(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&oh();break;case 3:Wc(),Jr(Ys),Jr(gs),xl();break;case 5:Gf(M);break;case 4:Wc();break;case 13:Jr(ii);break;case 19:Jr(ii);break;case 10:hh(M.type._context);break;case 22:case 23:Qb()}x=x.return}if(ks=u,ls=u=Qf(u.current,null),eo=ja=d,ws=0,Z0=null,$b=e_=Eh=0,la=J0=null,rc!==null){for(d=0;d<rc.length;d++)if(x=rc[d],M=x.interleaved,M!==null){x.interleaved=null;var L=M.next,H=x.pending;if(H!==null){var Q=H.next;H.next=L,M.next=Q}x.pending=M}rc=null}return u}function I2(u,d){do{var x=ls;try{if(Ou(),zu.current=Am,Va){for(var M=Qr.memoizedState;M!==null;){var L=M.queue;L!==null&&(L.pending=null),M=M.next}Va=!1}if(sc=0,Lr=_i=Qr=null,Ns=!1,Gc=0,Gb.current=null,x===null||x.return===null){ws=1,Z0=d,ls=null;break}e:{var H=u,Q=x.return,ye=x,Ie=d;if(d=eo,ye.flags|=32768,Ie!==null&&typeof Ie=="object"&&typeof Ie.then=="function"){var st=Ie,Ct=ye,Nt=Ct.tag;if(!(Ct.mode&1)&&(Nt===0||Nt===11||Nt===15)){var Et=Ct.alternate;Et?(Ct.updateQueue=Et.updateQueue,Ct.memoizedState=Et.memoizedState,Ct.lanes=Et.lanes):(Ct.updateQueue=null,Ct.memoizedState=null)}var pn=mn(Q);if(pn!==null){pn.flags&=-257,Kn(pn,Q,ye,H,d),pn.mode&1&&Vt(H,st,d),d=pn,Ie=st;var bn=d.updateQueue;if(bn===null){var Tn=new Set;Tn.add(Ie),d.updateQueue=Tn}else bn.add(Ie);break e}else{if(!(d&1)){Vt(H,st,d),eE();break e}Ie=Error(t(426))}}else if(ri&&ye.mode&1){var Xi=mn(Q);if(Xi!==null){!(Xi.flags&65536)&&(Xi.flags|=256),Kn(Xi,Q,ye,H,d),Hf(I(Ie,ye));break e}}H=Ie=I(Ie,ye),ws!==4&&(ws=2),J0===null?J0=[H]:J0.push(H),H=Q;do{switch(H.tag){case 3:H.flags|=65536,d&=-d,H.lanes|=d;var We=ke(H,Ie,d);Fu(H,We);break e;case 1:ye=Ie;var Ne=H.type,Ke=H.stateNode;if(!(H.flags&128)&&(typeof Ne.getDerivedStateFromError=="function"||Ke!==null&&typeof Ke.componentDidCatch=="function"&&(Yf===null||!Yf.has(Ke)))){H.flags|=65536,d&=-d,H.lanes|=d;var $t=dt(H,ye,d);Fu(H,$t);break e}}H=H.return}while(H!==null)}N2(x)}catch(Rn){d=Rn,ls===x&&x!==null&&(ls=x=x.return);continue}break}while(!0)}function L2(){var u=Qx.current;return Qx.current=Am,u===null?Am:u}function eE(){(ws===0||ws===3||ws===2)&&(ws=4),ks===null||!(Eh&268435455)&&!(e_&268435455)||Jf(ks,eo)}function o_(u,d){var x=kr;kr|=2;var M=L2();(ks!==u||eo!==d)&&(Wu=null,Mh(u,d));do try{LV();break}catch(L){I2(u,L)}while(!0);if(Ou(),kr=x,Qx.current=M,ls!==null)throw Error(t(261));return ks=null,eo=0,ws}function LV(){for(;ls!==null;)D2(ls)}function DV(){for(;ls!==null&&!be();)D2(ls)}function D2(u){var d=F2(u.alternate,u,ja);u.memoizedProps=u.pendingProps,d===null?N2(u):ls=d,Gb.current=null}function N2(u){var d=u;do{var x=d.alternate;if(u=d.return,d.flags&32768){if(x=MV(x,d),x!==null){x.flags&=32767,ls=x;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{ws=6,ls=null;return}}else if(x=TV(x,d,ja),x!==null){ls=x;return}if(d=d.sibling,d!==null){ls=d;return}ls=d=u}while(d!==null);ws===0&&(ws=5)}function Ah(u,d,x){var M=tr,L=wl.transition;try{wl.transition=null,tr=1,NV(u,d,x,M)}finally{wl.transition=L,tr=M}return null}function NV(u,d,x,M){do Lm();while(Kf!==null);if(kr&6)throw Error(t(327));x=u.finishedWork;var L=u.finishedLanes;if(x===null)return null;if(u.finishedWork=null,u.finishedLanes=0,x===u.current)throw Error(t(177));u.callbackNode=null,u.callbackPriority=0;var H=x.lanes|x.childLanes;if(Wr(u,H),u===ks&&(ls=ks=null,eo=0),!(x.subtreeFlags&2064)&&!(x.flags&2064)||n_||(n_=!0,U2(yt,function(){return Lm(),null})),H=(x.flags&15990)!==0,x.subtreeFlags&15990||H){H=wl.transition,wl.transition=null;var Q=tr;tr=1;var ye=kr;kr|=4,Gb.current=null,CV(u,x),E2(x,u),ln(E0),Ps=!!Bf,E0=Bf=null,u.current=x,RV(x),Ee(),kr=ye,tr=Q,wl.transition=H}else u.current=x;if(n_&&(n_=!1,Kf=u,r_=L),H=u.pendingLanes,H===0&&(Yf=null),Yt(x.stateNode),ca(u,le()),d!==null)for(M=u.onRecoverableError,x=0;x<d.length;x++)L=d[x],M(L.value,{componentStack:L.stack,digest:L.digest});if(t_)throw t_=!1,u=qb,qb=null,u;return r_&1&&u.tag!==0&&Lm(),H=u.pendingLanes,H&1?u===Yb?Q0++:(Q0=0,Yb=u):Q0=0,vl(),null}function Lm(){if(Kf!==null){var u=Dc(r_),d=wl.transition,x=tr;try{if(wl.transition=null,tr=16>u?16:u,Kf===null)var M=!1;else{if(u=Kf,Kf=null,r_=0,kr&6)throw Error(t(331));var L=kr;for(kr|=4,gn=u.current;gn!==null;){var H=gn,Q=H.child;if(gn.flags&16){var ye=H.deletions;if(ye!==null){for(var Ie=0;Ie<ye.length;Ie++){var st=ye[Ie];for(gn=st;gn!==null;){var Ct=gn;switch(Ct.tag){case 0:case 11:case 15:K0(8,Ct,H)}var Nt=Ct.child;if(Nt!==null)Nt.return=Ct,gn=Nt;else for(;gn!==null;){Ct=gn;var Et=Ct.sibling,pn=Ct.return;if(x2(Ct),Ct===st){gn=null;break}if(Et!==null){Et.return=pn,gn=Et;break}gn=pn}}}var bn=H.alternate;if(bn!==null){var Tn=bn.child;if(Tn!==null){bn.child=null;do{var Xi=Tn.sibling;Tn.sibling=null,Tn=Xi}while(Tn!==null)}}gn=H}}if(H.subtreeFlags&2064&&Q!==null)Q.return=H,gn=Q;else e:for(;gn!==null;){if(H=gn,H.flags&2048)switch(H.tag){case 0:case 11:case 15:K0(9,H,H.return)}var We=H.sibling;if(We!==null){We.return=H.return,gn=We;break e}gn=H.return}}var Ne=u.current;for(gn=Ne;gn!==null;){Q=gn;var Ke=Q.child;if(Q.subtreeFlags&2064&&Ke!==null)Ke.return=Q,gn=Ke;else e:for(Q=Ne;gn!==null;){if(ye=gn,ye.flags&2048)try{switch(ye.tag){case 0:case 11:case 15:Jx(9,ye)}}catch(Rn){Bi(ye,ye.return,Rn)}if(ye===Q){gn=null;break e}var $t=ye.sibling;if($t!==null){$t.return=ye.return,gn=$t;break e}gn=ye.return}}if(kr=L,vl(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(At,u)}catch{}M=!0}return M}finally{tr=x,wl.transition=d}}return!1}function k2(u,d,x){d=I(x,d),d=ke(u,d,1),u=ci(u,d,1),d=Fo(),u!==null&&($n(u,1,d),ca(u,d))}function Bi(u,d,x){if(u.tag===3)k2(u,u,x);else for(;d!==null;){if(d.tag===3){k2(d,u,x);break}else if(d.tag===1){var M=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(Yf===null||!Yf.has(M))){u=I(x,u),u=dt(d,u,1),d=ci(d,u,1),u=Fo(),d!==null&&($n(d,1,u),ca(d,u));break}}d=d.return}}function kV(u,d,x){var M=u.pingCache;M!==null&&M.delete(d),d=Fo(),u.pingedLanes|=u.suspendedLanes&x,ks===u&&(eo&x)===x&&(ws===4||ws===3&&(eo&130023424)===eo&&500>le()-Xb?Mh(u,0):$b|=x),ca(u,d)}function O2(u,d){d===0&&(u.mode&1?(d=In,In<<=1,!(In&130023424)&&(In=4194304)):d=1);var x=Fo();u=Ba(u,d),u!==null&&($n(u,d,x),ca(u,x))}function OV(u){var d=u.memoizedState,x=0;d!==null&&(x=d.retryLane),O2(u,x)}function FV(u,d){var x=0;switch(u.tag){case 13:var M=u.stateNode,L=u.memoizedState;L!==null&&(x=L.retryLane);break;case 19:M=u.stateNode;break;default:throw Error(t(314))}M!==null&&M.delete(d),O2(u,x)}var F2;F2=function(u,d,x){if(u!==null)if(u.memoizedProps!==d.pendingProps||Ys.current)ur=!0;else{if(!(u.lanes&x)&&!(d.flags&128))return ur=!1,EV(u,d,x);ur=!!(u.flags&131072)}else ur=!1,ri&&d.flags&1048576&&L0(d,vm,d.index);switch(d.lanes=0,d.tag){case 2:var M=d.type;Kx(u,d),u=d.pendingProps;var L=Ru(d,gs.current);jc(d,x),L=yh(null,d,M,u,L,x);var H=z0();return d.flags|=1,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Ls(M)?(H=!0,Pu(d)):H=!1,d.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,sr(d),L.updater=Cm,d.stateNode=L,L._reactInternals=d,T(d,M,u,x),d=rr(null,d,M,!0,H,x)):(d.tag=0,ri&&H&&D0(d),cn(null,d,L,x),d=d.child),d;case 16:M=d.elementType;e:{switch(Kx(u,d),u=d.pendingProps,L=M._init,M=L(M._payload),d.type=M,L=d.tag=BV(M),u=aa(M,u),L){case 0:d=sn(null,d,M,u,x);break e;case 1:d=Mn(null,d,M,u,x);break e;case 11:d=_s(null,d,M,u,x);break e;case 14:d=Oo(null,d,M,aa(M.type,u),x);break e}throw Error(t(306,M,""))}return d;case 0:return M=d.type,L=d.pendingProps,L=d.elementType===M?L:aa(M,L),sn(u,d,M,L,x);case 1:return M=d.type,L=d.pendingProps,L=d.elementType===M?L:aa(M,L),Mn(u,d,M,L,x);case 3:e:{if(Zn(d),u===null)throw Error(t(387));M=d.pendingProps,H=d.memoizedState,L=H.element,Ti(u,d),xi(d,M,null,x);var Q=d.memoizedState;if(M=Q.element,H.isDehydrated)if(H={element:M,isDehydrated:!1,cache:Q.cache,pendingSuspenseBoundaries:Q.pendingSuspenseBoundaries,transitions:Q.transitions},d.updateQueue.baseState=H,d.memoizedState=H,d.flags&256){L=I(Error(t(423)),d),d=Ar(u,d,M,x,L);break e}else if(M!==L){L=I(Error(t(424)),d),d=Ar(u,d,M,x,L);break e}else for(Zs=Kl(d.stateNode.containerInfo.firstChild),vs=d,ri=!0,oa=null,x=dh(d,null,M,x),d.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Hc(),M===L){d=ju(u,d,x);break e}cn(u,d,M,x)}d=d.child}return d;case 5:return Bu(d),u===null&&xm(d),M=d.type,L=d.pendingProps,H=u!==null?u.memoizedProps:null,Q=L.children,T0(M,L)?Q=null:H!==null&&T0(M,H)&&(d.flags|=32),ct(u,d),cn(u,d,Q,x),d.child;case 6:return u===null&&xm(d),null;case 13:return lc(u,d,x);case 4:return gh(d,d.stateNode.containerInfo),M=d.pendingProps,u===null?d.child=Du(d,null,M,x):cn(u,d,M,x),d.child;case 11:return M=d.type,L=d.pendingProps,L=d.elementType===M?L:aa(M,L),_s(u,d,M,L,x);case 7:return cn(u,d,d.pendingProps,x),d.child;case 8:return cn(u,d,d.pendingProps.children,x),d.child;case 12:return cn(u,d,d.pendingProps.children,x),d.child;case 10:e:{if(M=d.type._context,L=d.pendingProps,H=d.memoizedProps,Q=L.value,qr(Nu,M._currentValue),M._currentValue=Q,H!==null)if(qt(H.value,Q)){if(H.children===L.children&&!Ys.current){d=ju(u,d,x);break e}}else for(H=d.child,H!==null&&(H.return=d);H!==null;){var ye=H.dependencies;if(ye!==null){Q=H.child;for(var Ie=ye.firstContext;Ie!==null;){if(Ie.context===M){if(H.tag===1){Ie=$r(-1,x&-x),Ie.tag=2;var st=H.updateQueue;if(st!==null){st=st.shared;var Ct=st.pending;Ct===null?Ie.next=Ie:(Ie.next=Ct.next,Ct.next=Ie),st.pending=Ie}}H.lanes|=x,Ie=H.alternate,Ie!==null&&(Ie.lanes|=x),ph(H.return,x,d),ye.lanes|=x;break}Ie=Ie.next}}else if(H.tag===10)Q=H.type===d.type?null:H.child;else if(H.tag===18){if(Q=H.return,Q===null)throw Error(t(341));Q.lanes|=x,ye=Q.alternate,ye!==null&&(ye.lanes|=x),ph(Q,x,d),Q=H.sibling}else Q=H.child;if(Q!==null)Q.return=H;else for(Q=H;Q!==null;){if(Q===d){Q=null;break}if(H=Q.sibling,H!==null){H.return=Q.return,Q=H;break}Q=Q.return}H=Q}cn(u,d,L.children,x),d=d.child}return d;case 9:return L=d.type,M=d.pendingProps.children,jc(d,x),L=Lo(L),M=M(L),d.flags|=1,cn(u,d,M,x),d.child;case 14:return M=d.type,L=aa(M,d.pendingProps),L=aa(M.type,L),Oo(u,d,M,L,x);case 15:return Ze(u,d,d.type,d.pendingProps,x);case 17:return M=d.type,L=d.pendingProps,L=d.elementType===M?L:aa(M,L),Kx(u,d),d.tag=1,Ls(M)?(u=!0,Pu(d)):u=!1,jc(d,x),m(d,M,L),T(d,M,L,x),rr(null,d,M,!0,u,x);case 19:return p2(u,d,x);case 22:return Ue(u,d,x)}throw Error(t(156,d.tag))};function U2(u,d){return K(u,d)}function UV(u,d,x,M){this.tag=u,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sl(u,d,x,M){return new UV(u,d,x,M)}function tE(u){return u=u.prototype,!(!u||!u.isReactComponent)}function BV(u){if(typeof u=="function")return tE(u)?1:0;if(u!=null){if(u=u.$$typeof,u===te)return 11;if(u===_e)return 14}return 2}function Qf(u,d){var x=u.alternate;return x===null?(x=Sl(u.tag,d,u.key,u.mode),x.elementType=u.elementType,x.type=u.type,x.stateNode=u.stateNode,x.alternate=u,u.alternate=x):(x.pendingProps=d,x.type=u.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=u.flags&14680064,x.childLanes=u.childLanes,x.lanes=u.lanes,x.child=u.child,x.memoizedProps=u.memoizedProps,x.memoizedState=u.memoizedState,x.updateQueue=u.updateQueue,d=u.dependencies,x.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},x.sibling=u.sibling,x.index=u.index,x.ref=u.ref,x}function a_(u,d,x,M,L,H){var Q=2;if(M=u,typeof u=="function")tE(u)&&(Q=1);else if(typeof u=="string")Q=5;else e:switch(u){case E:return Ch(x.children,L,H,d);case j:Q=8,L|=8;break;case O:return u=Sl(12,x,d,L|2),u.elementType=O,u.lanes=H,u;case ie:return u=Sl(13,x,d,L),u.elementType=ie,u.lanes=H,u;case ue:return u=Sl(19,x,d,L),u.elementType=ue,u.lanes=H,u;case ge:return l_(x,L,H,d);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case F:Q=10;break e;case Y:Q=9;break e;case te:Q=11;break e;case _e:Q=14;break e;case he:Q=16,M=null;break e}throw Error(t(130,u==null?u:typeof u,""))}return d=Sl(Q,x,d,L),d.elementType=u,d.type=M,d.lanes=H,d}function Ch(u,d,x,M){return u=Sl(7,u,M,d),u.lanes=x,u}function l_(u,d,x,M){return u=Sl(22,u,M,d),u.elementType=ge,u.lanes=x,u.stateNode={isHidden:!1},u}function nE(u,d,x){return u=Sl(6,u,null,d),u.lanes=x,u}function rE(u,d,x){return d=Sl(4,u.children!==null?u.children:[],u.key,d),d.lanes=x,d.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},d}function zV(u,d,x,M,L){this.tag=d,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kr(0),this.expirationTimes=Kr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kr(0),this.identifierPrefix=M,this.onRecoverableError=L,this.mutableSourceEagerHydrationData=null}function iE(u,d,x,M,L,H,Q,ye,Ie){return u=new zV(u,d,x,ye,Ie),d===1?(d=1,H===!0&&(d|=8)):d=0,H=Sl(3,null,null,d),u.current=H,H.stateNode=u,H.memoizedState={element:M,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},sr(H),u}function VV(u,d,x){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:M==null?null:""+M,children:u,containerInfo:d,implementation:x}}function B2(u){if(!u)return Jl;u=u._reactInternals;e:{if(re(u)!==u||u.tag!==1)throw Error(t(170));var d=u;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Ls(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(t(171))}if(u.tag===1){var x=u.type;if(Ls(x))return ah(u,x,d)}return d}function z2(u,d,x,M,L,H,Q,ye,Ie){return u=iE(x,M,!0,u,L,H,Q,ye,Ie),u.context=B2(null),x=u.current,M=Fo(),L=Zf(x),H=$r(M,L),H.callback=d??null,ci(x,H,L),u.current.lanes=L,$n(u,L,M),ca(u,M),u}function c_(u,d,x,M){var L=d.current,H=Fo(),Q=Zf(L);return x=B2(x),d.context===null?d.context=x:d.pendingContext=x,d=$r(H,Q),d.payload={element:u},M=M===void 0?null:M,M!==null&&(d.callback=M),u=ci(L,d,Q),u!==null&&(fc(u,L,Q,H),Ds(u,L,Q)),Q}function u_(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function V2(u,d){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var x=u.retryLane;u.retryLane=x!==0&&x<d?x:d}}function sE(u,d){V2(u,d),(u=u.alternate)&&V2(u,d)}function HV(){return null}var H2=typeof reportError=="function"?reportError:function(u){console.error(u)};function oE(u){this._internalRoot=u}f_.prototype.render=oE.prototype.render=function(u){var d=this._internalRoot;if(d===null)throw Error(t(409));c_(u,d,null,null)},f_.prototype.unmount=oE.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var d=u.containerInfo;Th(function(){c_(null,u,null,null)}),d[Io]=null}};function f_(u){this._internalRoot=u}f_.prototype.unstable_scheduleHydration=function(u){if(u){var d=Cf();u={blockedOn:null,target:u,priority:d};for(var x=0;x<fl.length&&d!==0&&d<fl[x].priority;x++);fl.splice(x,0,u),x===0&&Rf(u)}};function aE(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function d_(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function j2(){}function jV(u,d,x,M,L){if(L){if(typeof M=="function"){var H=M;M=function(){var st=u_(Q);H.call(st)}}var Q=z2(d,M,u,0,null,!1,!1,"",j2);return u._reactRootContainer=Q,u[Io]=Q.current,Ff(u.nodeType===8?u.parentNode:u),Th(),Q}for(;L=u.lastChild;)u.removeChild(L);if(typeof M=="function"){var ye=M;M=function(){var st=u_(Ie);ye.call(st)}}var Ie=iE(u,0,!1,null,null,!1,!1,"",j2);return u._reactRootContainer=Ie,u[Io]=Ie.current,Ff(u.nodeType===8?u.parentNode:u),Th(function(){c_(d,Ie,x,M)}),Ie}function h_(u,d,x,M,L){var H=x._reactRootContainer;if(H){var Q=H;if(typeof L=="function"){var ye=L;L=function(){var Ie=u_(Q);ye.call(Ie)}}c_(d,Q,u,L)}else Q=jV(x,d,u,L,M);return u_(Q)}Ao=function(u){switch(u.tag){case 3:var d=u.stateNode;if(d.current.memoizedState.isDehydrated){var x=_r(d.pendingLanes);x!==0&&(Rs(d,x|1),ca(d,le()),!(kr&6)&&(Im=le()+500,vl()))}break;case 13:Th(function(){var M=Ba(u,1);if(M!==null){var L=Fo();fc(M,u,1,L)}}),sE(u,1)}},Ma=function(u){if(u.tag===13){var d=Ba(u,134217728);if(d!==null){var x=Fo();fc(d,u,134217728,x)}sE(u,134217728)}},Af=function(u){if(u.tag===13){var d=Zf(u),x=Ba(u,d);if(x!==null){var M=Fo();fc(x,u,d,M)}sE(u,d)}},Cf=function(){return tr},ll=function(u,d){var x=tr;try{return tr=u,d()}finally{tr=x}},Be=function(u,d,x){switch(d){case"input":if(Re(u,x),d=x.name,x.type==="radio"&&d!=null){for(x=u;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<x.length;d++){var M=x[d];if(M!==u&&M.form===u.form){var L=pm(M);if(!L)throw Error(t(90));at(M),Re(M,L)}}}break;case"textarea":Oe(u,x);break;case"select":d=x.value,d!=null&&se(u,!!x.multiple,d,!1)}},_n=Jb,mr=Th;var WV={usingClientEntryPoint:!1,Events:[Zl,Ei,pm,Ut,Qt,Jb]},ev={findFiberByHostInstance:Vc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GV={bundleType:ev.bundleType,version:ev.version,rendererPackageName:ev.rendererPackageName,rendererConfig:ev.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=Qe(u),u===null?null:u.stateNode},findFiberByHostInstance:ev.findFiberByHostInstance||HV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var p_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!p_.isDisabled&&p_.supportsFiber)try{At=p_.inject(GV),Lt=p_}catch{}}return ua.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WV,ua.createPortal=function(u,d){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aE(d))throw Error(t(200));return VV(u,d,null,x)},ua.createRoot=function(u,d){if(!aE(u))throw Error(t(299));var x=!1,M="",L=H2;return d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(M=d.identifierPrefix),d.onRecoverableError!==void 0&&(L=d.onRecoverableError)),d=iE(u,1,!1,null,null,x,!1,M,L),u[Io]=d.current,Ff(u.nodeType===8?u.parentNode:u),new oE(d)},ua.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var d=u._reactInternals;if(d===void 0)throw typeof u.render=="function"?Error(t(188)):(u=Object.keys(u).join(","),Error(t(268,u)));return u=Qe(d),u=u===null?null:u.stateNode,u},ua.flushSync=function(u){return Th(u)},ua.hydrate=function(u,d,x){if(!d_(d))throw Error(t(200));return h_(null,u,d,!0,x)},ua.hydrateRoot=function(u,d,x){if(!aE(u))throw Error(t(405));var M=x!=null&&x.hydratedSources||null,L=!1,H="",Q=H2;if(x!=null&&(x.unstable_strictMode===!0&&(L=!0),x.identifierPrefix!==void 0&&(H=x.identifierPrefix),x.onRecoverableError!==void 0&&(Q=x.onRecoverableError)),d=z2(d,null,u,1,x??null,L,!1,H,Q),u[Io]=d.current,Ff(u),M)for(u=0;u<M.length;u++)x=M[u],L=x._getVersion,L=L(x._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[x,L]:d.mutableSourceEagerHydrationData.push(x,L);return new f_(d)},ua.render=function(u,d,x){if(!d_(d))throw Error(t(200));return h_(null,u,d,!1,x)},ua.unmountComponentAtNode=function(u){if(!d_(u))throw Error(t(40));return u._reactRootContainer?(Th(function(){h_(null,null,u,!1,function(){u._reactRootContainer=null,u[Io]=null})}),!0):!1},ua.unstable_batchedUpdates=Jb,ua.unstable_renderSubtreeIntoContainer=function(u,d,x,M){if(!d_(x))throw Error(t(200));if(u==null||u._reactInternals===void 0)throw Error(t(38));return h_(u,d,x,!1,M)},ua.version="18.3.1-next-f1338f8080-20240426",ua}var Z2;function uO(){if(Z2)return uE.exports;Z2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),uE.exports=nH(),uE.exports}var J2;function rH(){if(J2)return m_;J2=1;var n=uO();return m_.createRoot=n.createRoot,m_.hydrateRoot=n.hydrateRoot,m_}var iH=rH();const sH=Vl(iH);var nv={},Q2;function oH(){if(Q2)return nv;Q2=1,Object.defineProperty(nv,"__esModule",{value:!0}),nv.parse=o,nv.serialize=c;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function o(p,v){const y=new s,w=p.length;if(w<2)return y;const S=(v==null?void 0:v.decode)||f;let _=0;do{const A=p.indexOf("=",_);if(A===-1)break;const R=p.indexOf(";",_),P=R===-1?w:R;if(A>P){_=p.lastIndexOf(";",A-1)+1;continue}const U=a(p,_,A),k=l(p,A,U),E=p.slice(U,k);if(y[E]===void 0){let j=a(p,A+1,P),O=l(p,P,j);const F=S(p.slice(j,O));y[E]=F}_=P+1}while(_<w);return y}function a(p,v,y){do{const w=p.charCodeAt(v);if(w!==32&&w!==9)return v}while(++v<y);return y}function l(p,v,y){for(;v>y;){const w=p.charCodeAt(--v);if(w!==32&&w!==9)return v+1}return y}function c(p,v,y){const w=(y==null?void 0:y.encode)||encodeURIComponent;if(!n.test(p))throw new TypeError(`argument name is invalid: ${p}`);const S=w(v);if(!e.test(S))throw new TypeError(`argument val is invalid: ${v}`);let _=p+"="+S;if(!y)return _;if(y.maxAge!==void 0){if(!Number.isInteger(y.maxAge))throw new TypeError(`option maxAge is invalid: ${y.maxAge}`);_+="; Max-Age="+y.maxAge}if(y.domain){if(!t.test(y.domain))throw new TypeError(`option domain is invalid: ${y.domain}`);_+="; Domain="+y.domain}if(y.path){if(!r.test(y.path))throw new TypeError(`option path is invalid: ${y.path}`);_+="; Path="+y.path}if(y.expires){if(!h(y.expires)||!Number.isFinite(y.expires.valueOf()))throw new TypeError(`option expires is invalid: ${y.expires}`);_+="; Expires="+y.expires.toUTCString()}if(y.httpOnly&&(_+="; HttpOnly"),y.secure&&(_+="; Secure"),y.partitioned&&(_+="; Partitioned"),y.priority)switch(typeof y.priority=="string"?y.priority.toLowerCase():void 0){case"low":_+="; Priority=Low";break;case"medium":_+="; Priority=Medium";break;case"high":_+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${y.priority}`)}if(y.sameSite)switch(typeof y.sameSite=="string"?y.sameSite.toLowerCase():y.sameSite){case!0:case"strict":_+="; SameSite=Strict";break;case"lax":_+="; SameSite=Lax";break;case"none":_+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${y.sameSite}`)}return _}function f(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function h(p){return i.call(p)==="[object Date]"}return nv}oH();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var e3="popstate";function aH(n={}){function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=qp(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),OM("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:wy(s))}function r(i,s){Ec(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return cH(e,t,r,n)}function ki(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ec(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lH(){return Math.random().toString(36).substring(2,10)}function t3(n,e){return{usr:n.state,key:n.key,idx:e}}function OM(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?qp(e):e,state:t,key:e&&e.key||r||lH()}}function wy({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function qp(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function cH(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=f();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function f(){return(o.state||{idx:null}).idx}function h(){a="POP";let S=f(),_=S==null?null:S-c;c=S,l&&l({action:a,location:w.location,delta:_})}function p(S,_){a="PUSH";let A=OM(w.location,S,_);t&&t(A,S),c=f()+1;let R=t3(A,c),P=w.createHref(A);try{o.pushState(R,"",P)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(P)}s&&l&&l({action:a,location:w.location,delta:1})}function v(S,_){a="REPLACE";let A=OM(w.location,S,_);t&&t(A,S),c=f();let R=t3(A,c),P=w.createHref(A);o.replaceState(R,"",P),s&&l&&l({action:a,location:w.location,delta:0})}function y(S){let _=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof S=="string"?S:wy(S);return A=A.replace(/ $/,"%20"),ki(_,`No window.location.(origin|href) available to create URL for href: ${A}`),new URL(A,_)}let w={get action(){return a},get location(){return n(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(e3,h),l=S,()=>{i.removeEventListener(e3,h),l=null}},createHref(S){return e(i,S)},createURL:y,encodeLocation(S){let _=y(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:v,go(S){return o.go(S)}};return w}function fO(n,e,t="/"){return uH(n,e,t,!1)}function uH(n,e,t,r){let i=typeof e=="string"?qp(e):e,s=Rd(i.pathname||"/",t);if(s==null)return null;let o=dO(n);fH(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=SH(s);a=_H(o[l],c,r)}return a}function dO(n,e=[],t=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ki(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=ff([r,l.relativePath]),f=t.concat(l);s.children&&s.children.length>0&&(ki(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),dO(s.children,e,f,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:yH(c,s.index),routesMeta:f})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of hO(s.path))i(s,o,l)}),e}function hO(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=hO(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function fH(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:xH(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var dH=/^:[\w-]+$/,hH=3,pH=2,mH=1,gH=10,vH=-2,n3=n=>n==="*";function yH(n,e){let t=n.split("/"),r=t.length;return t.some(n3)&&(r+=vH),e&&(r+=pH),t.filter(i=>!n3(i)).reduce((i,s)=>i+(dH.test(s)?hH:s===""?mH:gH),r)}function xH(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function _H(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",h=cw({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),p=l.route;if(!h&&c&&t&&!r[r.length-1].route.index&&(h=cw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:ff([s,h.pathname]),pathnameBase:MH(ff([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=ff([s,h.pathnameBase]))}return o}function cw(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=wH(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:f,isOptional:h},p)=>{if(f==="*"){let y=a[p]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const v=a[p];return h&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:n}}function wH(n,e=!1,t=!0){Ec(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function SH(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ec(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Rd(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function bH(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?qp(n):n;return{pathname:t?t.startsWith("/")?t:EH(t,e):e,search:AH(r),hash:CH(i)}}function EH(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function hE(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TH(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function pO(n){let e=TH(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function mO(n,e,t,r=!1){let i;typeof n=="string"?i=qp(n):(i={...n},ki(!i.pathname||!i.pathname.includes("?"),hE("?","pathname","search",i)),ki(!i.pathname||!i.pathname.includes("#"),hE("#","pathname","hash",i)),ki(!i.search||!i.search.includes("#"),hE("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=bH(i,a),c=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}var ff=n=>n.join("/").replace(/\/\/+/g,"/"),MH=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),AH=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,CH=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function RH(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var gO=["POST","PUT","PATCH","DELETE"];new Set(gO);var PH=["GET",...gO];new Set(PH);var i0=z.createContext(null);i0.displayName="DataRouter";var DS=z.createContext(null);DS.displayName="DataRouterState";var vO=z.createContext({isTransitioning:!1});vO.displayName="ViewTransition";var IH=z.createContext(new Map);IH.displayName="Fetchers";var LH=z.createContext(null);LH.displayName="Await";var vu=z.createContext(null);vu.displayName="Navigation";var ex=z.createContext(null);ex.displayName="Location";var Tf=z.createContext({outlet:null,matches:[],isDataRoute:!1});Tf.displayName="Route";var TC=z.createContext(null);TC.displayName="RouteError";function DH(n,{relative:e}={}){ki(tx(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=z.useContext(vu),{hash:i,pathname:s,search:o}=nx(n,{relative:e}),a=s;return t!=="/"&&(a=s==="/"?t:ff([t,s])),r.createHref({pathname:a,search:o,hash:i})}function tx(){return z.useContext(ex)!=null}function Hd(){return ki(tx(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(ex).location}var yO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xO(n){z.useContext(vu).static||z.useLayoutEffect(n)}function NH(){let{isDataRoute:n}=z.useContext(Tf);return n?XH():kH()}function kH(){ki(tx(),"useNavigate() may be used only in the context of a <Router> component.");let n=z.useContext(i0),{basename:e,navigator:t}=z.useContext(vu),{matches:r}=z.useContext(Tf),{pathname:i}=Hd(),s=JSON.stringify(pO(r)),o=z.useRef(!1);return xO(()=>{o.current=!0}),z.useCallback((l,c={})=>{if(Ec(o.current,yO),!o.current)return;if(typeof l=="number"){t.go(l);return}let f=mO(l,JSON.parse(s),i,c.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ff([e,f.pathname])),(c.replace?t.replace:t.push)(f,c.state,c)},[e,t,s,i,n])}z.createContext(null);function nx(n,{relative:e}={}){let{matches:t}=z.useContext(Tf),{pathname:r}=Hd(),i=JSON.stringify(pO(t));return z.useMemo(()=>mO(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function OH(n,e){return _O(n,e)}function _O(n,e,t,r){var _;ki(tx(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=z.useContext(vu),{matches:s}=z.useContext(Tf),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",c=o?o.pathnameBase:"/",f=o&&o.route;{let A=f&&f.path||"";wO(l,!f||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let h=Hd(),p;if(e){let A=typeof e=="string"?qp(e):e;ki(c==="/"||((_=A.pathname)==null?void 0:_.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${A.pathname}" was given in the \`location\` prop.`),p=A}else p=h;let v=p.pathname||"/",y=v;if(c!=="/"){let A=c.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(A.length).join("/")}let w=fO(n,{pathname:y});Ec(f||w!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Ec(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=VH(w&&w.map(A=>Object.assign({},A,{params:Object.assign({},a,A.params),pathname:ff([c,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?c:ff([c,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,t,r);return e&&S?z.createElement(ex.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},S):S}function FH(){let n=$H(),e=RH(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:s},"ErrorBoundary")," or"," ",z.createElement("code",{style:s},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:i},t):null,o)}var UH=z.createElement(FH,null),BH=class extends z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?z.createElement(Tf.Provider,{value:this.props.routeContext},z.createElement(TC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zH({routeContext:n,match:e,children:t}){let r=z.useContext(i0);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Tf.Provider,{value:n},t)}function VH(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);ki(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(t)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:f,errors:h}=t,p=c.route.loader&&!f.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||p){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,f)=>{let h,p=!1,v=null,y=null;t&&(h=s&&c.route.id?s[c.route.id]:void 0,v=c.route.errorElement||UH,o&&(a<0&&f===0?(wO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,y=null):a===f&&(p=!0,y=c.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,f+1)),S=()=>{let _;return h?_=v:p?_=y:c.route.Component?_=z.createElement(c.route.Component,null):c.route.element?_=c.route.element:_=l,z.createElement(zH,{match:c,routeContext:{outlet:l,matches:w,isDataRoute:t!=null},children:_})};return t&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?z.createElement(BH,{location:t.location,revalidation:t.revalidation,component:v,error:h,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}function MC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HH(n){let e=z.useContext(i0);return ki(e,MC(n)),e}function jH(n){let e=z.useContext(DS);return ki(e,MC(n)),e}function WH(n){let e=z.useContext(Tf);return ki(e,MC(n)),e}function AC(n){let e=WH(n),t=e.matches[e.matches.length-1];return ki(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function GH(){return AC("useRouteId")}function $H(){var r;let n=z.useContext(TC),e=jH("useRouteError"),t=AC("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function XH(){let{router:n}=HH("useNavigate"),e=AC("useNavigate"),t=z.useRef(!1);return xO(()=>{t.current=!0}),z.useCallback(async(i,s={})=>{Ec(t.current,yO),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var r3={};function wO(n,e,t){!e&&!r3[n]&&(r3[n]=!0,Ec(!1,t))}z.memo(qH);function qH({routes:n,future:e,state:t}){return _O(n,void 0,t,e)}function da(n){ki(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function YH({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){ki(!tx(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),a=z.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof t=="string"&&(t=qp(t));let{pathname:l="/",search:c="",hash:f="",state:h=null,key:p="default"}=t,v=z.useMemo(()=>{let y=Rd(l,o);return y==null?null:{location:{pathname:y,search:c,hash:f,state:h,key:p},navigationType:r}},[o,l,c,f,h,p,r]);return Ec(v!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:z.createElement(vu.Provider,{value:a},z.createElement(ex.Provider,{children:e,value:v}))}function KH({children:n,location:e}){return OH(FM(n),e)}function FM(n,e=[]){let t=[];return z.Children.forEach(n,(r,i)=>{if(!z.isValidElement(r))return;let s=[...e,i];if(r.type===z.Fragment){t.push.apply(t,FM(r.props.children,s));return}ki(r.type===da,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ki(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=FM(r.props.children,s)),t.push(o)}),t}var B1="get",z1="application/x-www-form-urlencoded";function NS(n){return n!=null&&typeof n.tagName=="string"}function ZH(n){return NS(n)&&n.tagName.toLowerCase()==="button"}function JH(n){return NS(n)&&n.tagName.toLowerCase()==="form"}function QH(n){return NS(n)&&n.tagName.toLowerCase()==="input"}function e6(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function t6(n,e){return n.button===0&&(!e||e==="_self")&&!e6(n)}var g_=null;function n6(){if(g_===null)try{new FormData(document.createElement("form"),0),g_=!1}catch{g_=!0}return g_}var r6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pE(n){return n!=null&&!r6.has(n)?(Ec(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${z1}"`),null):n}function i6(n,e){let t,r,i,s,o;if(JH(n)){let a=n.getAttribute("action");r=a?Rd(a,e):null,t=n.getAttribute("method")||B1,i=pE(n.getAttribute("enctype"))||z1,s=new FormData(n)}else if(ZH(n)||QH(n)&&(n.type==="submit"||n.type==="image")){let a=n.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||a.getAttribute("action");if(r=l?Rd(l,e):null,t=n.getAttribute("formmethod")||a.getAttribute("method")||B1,i=pE(n.getAttribute("formenctype"))||pE(a.getAttribute("enctype"))||z1,s=new FormData(a,n),!n6()){let{name:c,type:f,value:h}=n;if(f==="image"){let p=c?`${c}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else c&&s.append(c,h)}}else{if(NS(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=B1,r=null,i=z1,o=n}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:o}}function CC(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function s6(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function o6(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function a6(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await s6(s,t);return o.links?o.links():[]}return[]}));return f6(r.flat(1).filter(o6).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function i3(n,e,t,r,i,s){let o=(l,c)=>t[c]?l.route.id!==t[c].route.id:!0,a=(l,c)=>{var f;return t[c].pathname!==l.pathname||((f=t[c].route.path)==null?void 0:f.endsWith("*"))&&t[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var h;let f=r.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=t[0])==null?void 0:h.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function l6(n,e){return c6(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function c6(n){return[...new Set(n)]}function u6(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function f6(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(u6(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function d6(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function h6(){let n=z.useContext(i0);return CC(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function p6(){let n=z.useContext(DS);return CC(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var RC=z.createContext(void 0);RC.displayName="FrameworkContext";function SO(){let n=z.useContext(RC);return CC(n,"You must render this element inside a <HydratedRouter> element"),n}function m6(n,e){let t=z.useContext(RC),[r,i]=z.useState(!1),[s,o]=z.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:f,onTouchStart:h}=e,p=z.useRef(null);z.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let w=_=>{_.forEach(A=>{o(A.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return p.current&&S.observe(p.current),()=>{S.disconnect()}}},[n]),z.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let v=()=>{i(!0)},y=()=>{i(!1),o(!1)};return t?n!=="intent"?[s,p,{}]:[s,p,{onFocus:rv(a,v),onBlur:rv(l,y),onMouseEnter:rv(c,v),onMouseLeave:rv(f,y),onTouchStart:rv(h,v)}]:[!1,p,{}]}function rv(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function g6({page:n,...e}){let{router:t}=h6(),r=z.useMemo(()=>fO(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?z.createElement(y6,{page:n,matches:r,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function v6(n){let{manifest:e,routeModules:t}=SO(),[r,i]=z.useState([]);return z.useEffect(()=>{let s=!1;return a6(n,e,t).then(o=>{s||i(o)}),()=>{s=!0}},[n,e,t]),r}function y6({page:n,matches:e,...t}){let r=Hd(),{manifest:i,routeModules:s}=SO(),{loaderData:o,matches:a}=p6(),l=z.useMemo(()=>i3(n,e,a,i,r,"data"),[n,e,a,i,r]),c=z.useMemo(()=>i3(n,e,a,i,r,"assets"),[n,e,a,i,r]),f=z.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let v=new Set,y=!1;if(e.forEach(S=>{var A;let _=i.routes[S.route.id];!_||!_.hasLoader||(!l.some(R=>R.route.id===S.route.id)&&S.route.id in o&&((A=s[S.route.id])!=null&&A.shouldRevalidate)||_.hasClientLoader?y=!0:v.add(S.route.id))}),v.size===0)return[];let w=d6(n);return y&&v.size>0&&w.searchParams.set("_routes",e.filter(S=>v.has(S.route.id)).map(S=>S.route.id).join(",")),[w.pathname+w.search]},[o,r,i,l,e,n,s]),h=z.useMemo(()=>l6(c,i),[c,i]),p=v6(c);return z.createElement(z.Fragment,null,f.map(v=>z.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...t})),h.map(v=>z.createElement("link",{key:v,rel:"modulepreload",href:v,...t})),p.map(({key:v,link:y})=>z.createElement("link",{key:v,...y})))}function x6(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var bO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bO&&(window.__reactRouterVersion="7.0.2")}catch{}function _6({basename:n,children:e,window:t}){let r=z.useRef();r.current==null&&(r.current=aH({window:t,v5Compat:!0}));let i=r.current,[s,o]=z.useState({action:i.action,location:i.location}),a=z.useCallback(l=>{z.startTransition(()=>o(l))},[o]);return z.useLayoutEffect(()=>i.listen(a),[i,a]),z.createElement(YH,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var EO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Es=z.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:f,viewTransition:h,...p},v){let{basename:y}=z.useContext(vu),w=typeof c=="string"&&EO.test(c),S,_=!1;if(typeof c=="string"&&w&&(S=c,bO))try{let O=new URL(window.location.href),F=c.startsWith("//")?new URL(O.protocol+c):new URL(c),Y=Rd(F.pathname,y);F.origin===O.origin&&Y!=null?c=Y+F.search+F.hash:_=!0}catch{Ec(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=DH(c,{relative:i}),[R,P,U]=m6(r,p),k=E6(c,{replace:o,state:a,target:l,preventScrollReset:f,relative:i,viewTransition:h});function E(O){e&&e(O),O.defaultPrevented||k(O)}let j=z.createElement("a",{...p,...U,href:S||A,onClick:_||s?e:E,ref:x6(v,P),target:l,"data-discover":!w&&t==="render"?"true":void 0});return R&&!w?z.createElement(z.Fragment,null,j,z.createElement(g6,{page:A})):j});Es.displayName="Link";var w6=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},f){let h=nx(o,{relative:c.relative}),p=Hd(),v=z.useContext(DS),{navigator:y,basename:w}=z.useContext(vu),S=v!=null&&R6(h)&&a===!0,_=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,A=p.pathname,R=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(A=A.toLowerCase(),R=R?R.toLowerCase():null,_=_.toLowerCase()),R&&w&&(R=Rd(R,w)||R);const P=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let U=A===_||!i&&A.startsWith(_)&&A.charAt(P)==="/",k=R!=null&&(R===_||!i&&R.startsWith(_)&&R.charAt(_.length)==="/"),E={isActive:U,isPending:k,isTransitioning:S},j=U?e:void 0,O;typeof r=="function"?O=r(E):O=[r,U?"active":null,k?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let F=typeof s=="function"?s(E):s;return z.createElement(Es,{...c,"aria-current":j,className:O,ref:f,style:F,to:o,viewTransition:a},typeof l=="function"?l(E):l)});w6.displayName="NavLink";var S6=z.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:o=B1,action:a,onSubmit:l,relative:c,preventScrollReset:f,viewTransition:h,...p},v)=>{let y=A6(),w=C6(a,{relative:c}),S=o.toLowerCase()==="get"?"get":"post",_=typeof a=="string"&&EO.test(a),A=R=>{if(l&&l(R),R.defaultPrevented)return;R.preventDefault();let P=R.nativeEvent.submitter,U=(P==null?void 0:P.getAttribute("formmethod"))||o;y(P||R.currentTarget,{fetcherKey:e,method:U,navigate:t,replace:i,state:s,relative:c,preventScrollReset:f,viewTransition:h})};return z.createElement("form",{ref:v,method:S,action:w,onSubmit:r?l:A,...p,"data-discover":!_&&n==="render"?"true":void 0})});S6.displayName="Form";function b6(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TO(n){let e=z.useContext(i0);return ki(e,b6(n)),e}function E6(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=NH(),l=Hd(),c=nx(n,{relative:s});return z.useCallback(f=>{if(t6(f,e)){f.preventDefault();let h=t!==void 0?t:wy(l)===wy(c);a(n,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,t,r,e,n,i,s,o])}var T6=0,M6=()=>`__${String(++T6)}__`;function A6(){let{router:n}=TO("useSubmit"),{basename:e}=z.useContext(vu),t=GH();return z.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=i6(r,e);if(i.navigate===!1){let f=i.fetcherKey||M6();await n.fetch(f,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function C6(n,{relative:e}={}){let{basename:t}=z.useContext(vu),r=z.useContext(Tf);ki(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...nx(n||".",{relative:e})},o=Hd();if(n==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(f=>f==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let f=a.toString();s.search=f?`?${f}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:ff([t,s.pathname])),wy(s)}function R6(n,e={}){let t=z.useContext(vO);ki(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=TO("useViewTransitionState"),i=nx(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Rd(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=Rd(t.nextLocation.pathname,r)||t.nextLocation.pathname;return cw(i.pathname,o)!=null||cw(i.pathname,s)!=null}new TextEncoder;var PC=uO();const MO=Vl(PC);function P6(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,i)=>i==="create"?n:(e.has(i)||e.set(i,n(i)),e.get(i))})}function kS(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const UM=n=>Array.isArray(n);function AO(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Sy(n){return typeof n=="string"||Array.isArray(n)}function s3(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function IC(n,e,t,r){if(typeof e=="function"){const[i,s]=s3(r);e=e(t!==void 0?t:n.custom,i,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,s]=s3(r);e=e(t!==void 0?t:n.custom,i,s)}return e}function OS(n,e,t){const r=n.getProps();return IC(r,e,t!==void 0?t:r.custom,n)}const LC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],DC=["initial",...LC],rx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yp=new Set(rx),df=n=>n*1e3,hf=n=>n/1e3,I6={type:"spring",stiffness:500,damping:25,restSpeed:10},L6=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),D6={type:"keyframes",duration:.8},N6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},k6=(n,{keyframes:e})=>e.length>2?D6:Yp.has(n)?n.startsWith("scale")?L6(e[1]):I6:N6;function NC(n,e){return n?n[e]||n.default||n:void 0}const O6={skipAnimations:!1,useManualTiming:!1},F6=n=>n!==null;function FS(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(F6),s=e&&t!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Qo=n=>n;let U6=Qo,BM=Qo;function B6(n){let e=new Set,t=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),n()),c(o)}const l={schedule:(c,f=!1,h=!1)=>{const v=h&&r?e:t;return f&&s.add(c),v.has(c)||v.add(c),c},cancel:c=>{t.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,t]=[t,e],t.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(c))}};return l}const v_=["read","resolveKeyframes","update","preRender","render","postRender"],z6=40;function CO(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,o=v_.reduce((_,A)=>(_[A]=B6(s),_),{}),{read:a,resolveKeyframes:l,update:c,preRender:f,render:h,postRender:p}=o,v=()=>{const _=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,z6),1),i.timestamp=_,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),f.process(i),h.process(i),p.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(v))},y=()=>{t=!0,r=!0,i.isProcessing||n(v)};return{schedule:v_.reduce((_,A)=>{const R=o[A];return _[A]=(P,U=!1,k=!1)=>(t||y(),R.schedule(P,U,k)),_},{}),cancel:_=>{for(let A=0;A<v_.length;A++)o[v_[A]].cancel(_)},state:i,steps:o}}const{schedule:Hr,cancel:Tc,state:zs,steps:mE}=CO(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qo,!0),RO=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,V6=1e-7,H6=12;function j6(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=RO(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>V6&&++a<H6);return o}function ix(n,e,t,r){if(n===e&&t===r)return Qo;const i=s=>j6(s,0,1,n,t);return s=>s===0||s===1?s:RO(i(s),e,r)}const PO=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,IO=n=>e=>1-n(1-e),LO=ix(.33,1.53,.69,.99),kC=IO(LO),DO=PO(kC),NO=n=>(n*=2)<1?.5*kC(n):.5*(2-Math.pow(2,-10*(n-1))),OC=n=>1-Math.sin(Math.acos(n)),kO=IO(OC),OO=PO(OC),FO=n=>/^0[^.\s]+$/u.test(n);function W6(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||FO(n):!0}const UO=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),BO=n=>e=>typeof e=="string"&&e.startsWith(n),zO=BO("--"),G6=BO("var(--"),FC=n=>G6(n)?$6.test(n.split("/*")[0].trim()):!1,$6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,X6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function q6(n){const e=X6.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function VO(n,e,t=1){const[r,i]=q6(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return UO(o)?parseFloat(o):o}return FC(i)?VO(i,e,t+1):i}const yf=(n,e,t)=>t>e?e:t<n?n:t,s0={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},by={...s0,transform:n=>yf(0,1,n)},y_={...s0,default:1},sx=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),dd=sx("deg"),nu=sx("%"),Gn=sx("px"),Y6=sx("vh"),K6=sx("vw"),o3={...nu,parse:n=>nu.parse(n)/100,transform:n=>nu.transform(n*100)},Z6=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),a3=n=>n===s0||n===Gn,l3=(n,e)=>parseFloat(n.split(", ")[e]),c3=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return l3(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?l3(s[1],n):0}},J6=new Set(["x","y","z"]),Q6=rx.filter(n=>!J6.has(n));function ej(n){const e=[];return Q6.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Fg={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:c3(4,13),y:c3(5,14)};Fg.translateX=Fg.x;Fg.translateY=Fg.y;const HO=n=>e=>e.test(n),tj={test:n=>n==="auto",parse:n=>n},jO=[s0,Gn,nu,dd,K6,Y6,tj],u3=n=>jO.find(HO(n)),pp=new Set;let zM=!1,VM=!1;function WO(){if(VM){const n=Array.from(pp).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=ej(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}VM=!1,zM=!1,pp.forEach(n=>n.complete()),pp.clear()}function GO(){pp.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(VM=!0)})}function nj(){GO(),WO()}class UC{constructor(e,t,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(pp.add(this),zM||(zM=!0,Hr.read(GO),Hr.resolveKeyframes(WO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&t){const l=r.readValue(t,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),pp.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,pp.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Wv=n=>Math.round(n*1e5)/1e5,BC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rj(n){return n==null}const ij=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zC=(n,e)=>t=>!!(typeof t=="string"&&ij.test(t)&&t.startsWith(n)||e&&!rj(t)&&Object.prototype.hasOwnProperty.call(t,e)),$O=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(BC);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},sj=n=>yf(0,255,n),gE={...s0,transform:n=>Math.round(sj(n))},np={test:zC("rgb","red"),parse:$O("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+gE.transform(n)+", "+gE.transform(e)+", "+gE.transform(t)+", "+Wv(by.transform(r))+")"};function oj(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const HM={test:zC("#"),parse:oj,transform:np.transform},ug={test:zC("hsl","hue"),parse:$O("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+nu.transform(Wv(e))+", "+nu.transform(Wv(t))+", "+Wv(by.transform(r))+")"},go={test:n=>np.test(n)||HM.test(n)||ug.test(n),parse:n=>np.test(n)?np.parse(n):ug.test(n)?ug.parse(n):HM.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?np.transform(n):ug.transform(n)},aj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function lj(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(BC))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(aj))===null||t===void 0?void 0:t.length)||0)>0}const XO="number",qO="color",cj="var",uj="var(",f3="${}",fj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ey(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(fj,l=>(go.test(l)?(r.color.push(s),i.push(qO),t.push(go.parse(l))):l.startsWith(uj)?(r.var.push(s),i.push(cj),t.push(l)):(r.number.push(s),i.push(XO),t.push(parseFloat(l))),++s,f3)).split(f3);return{values:t,split:a,indexes:r,types:i}}function YO(n){return Ey(n).values}function KO(n){const{split:e,types:t}=Ey(n),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=t[o];a===XO?s+=Wv(i[o]):a===qO?s+=go.transform(i[o]):s+=i[o]}return s}}const dj=n=>typeof n=="number"?0:n;function hj(n){const e=YO(n);return KO(n)(e.map(dj))}const Pd={test:lj,parse:YO,createTransformer:KO,getAnimatableNone:hj},pj=new Set(["brightness","contrast","saturate","opacity"]);function mj(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(BC)||[];if(!r)return n;const i=t.replace(r,"");let s=pj.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const gj=/\b([a-z-]*)\(.*?\)/gu,jM={...Pd,getAnimatableNone:n=>{const e=n.match(gj);return e?e.map(mj).join(" "):n}},vj={borderWidth:Gn,borderTopWidth:Gn,borderRightWidth:Gn,borderBottomWidth:Gn,borderLeftWidth:Gn,borderRadius:Gn,radius:Gn,borderTopLeftRadius:Gn,borderTopRightRadius:Gn,borderBottomRightRadius:Gn,borderBottomLeftRadius:Gn,width:Gn,maxWidth:Gn,height:Gn,maxHeight:Gn,top:Gn,right:Gn,bottom:Gn,left:Gn,padding:Gn,paddingTop:Gn,paddingRight:Gn,paddingBottom:Gn,paddingLeft:Gn,margin:Gn,marginTop:Gn,marginRight:Gn,marginBottom:Gn,marginLeft:Gn,backgroundPositionX:Gn,backgroundPositionY:Gn},yj={rotate:dd,rotateX:dd,rotateY:dd,rotateZ:dd,scale:y_,scaleX:y_,scaleY:y_,scaleZ:y_,skew:dd,skewX:dd,skewY:dd,distance:Gn,translateX:Gn,translateY:Gn,translateZ:Gn,x:Gn,y:Gn,z:Gn,perspective:Gn,transformPerspective:Gn,opacity:by,originX:o3,originY:o3,originZ:Gn},d3={...s0,transform:Math.round},VC={...vj,...yj,zIndex:d3,size:Gn,fillOpacity:by,strokeOpacity:by,numOctaves:d3},xj={...VC,color:go,backgroundColor:go,outlineColor:go,fill:go,stroke:go,borderColor:go,borderTopColor:go,borderRightColor:go,borderBottomColor:go,borderLeftColor:go,filter:jM,WebkitFilter:jM},HC=n=>xj[n];function ZO(n,e){let t=HC(n);return t!==jM&&(t=Pd),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const _j=new Set(["auto","none","0"]);function wj(n,e,t){let r=0,i;for(;r<n.length&&!i;){const s=n[r];typeof s=="string"&&!_j.has(s)&&Ey(s).values.length&&(i=n[r]),r++}if(i&&t)for(const s of e)n[s]=ZO(t,i)}class JO extends UC{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),FC(c))){const f=VO(c,t.current);f!==void 0&&(e[l]=f),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Z6.has(r)||e.length!==2)return;const[i,s]=e,o=u3(i),a=u3(s);if(o!==a)if(a3(o)&&a3(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)W6(e[i])&&r.push(i);r.length&&wj(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fg[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Fg[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function jC(n){return typeof n=="function"}let V1;function Sj(){V1=void 0}const ru={now:()=>(V1===void 0&&ru.set(zs.isProcessing||O6.useManualTiming?zs.timestamp:performance.now()),V1),set:n=>{V1=n,queueMicrotask(Sj)}},h3=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Pd.test(n)||n==="0")&&!n.startsWith("url("));function bj(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function Ej(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],o=h3(i,e),a=h3(s,e);return!o||!a?!1:bj(n)||(t==="spring"||jC(t))&&r}const Tj=40;class QO{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ru.now(),this.options={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Tj?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&nj(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=ru.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!Ej(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(FS(e,this.options,t)),a==null||a(),this.resolveFinishedPromise();return}const f=this.initPlayback(e,t);f!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...f},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Rp=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},eF=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let s=0;s<i;s++)r+=n(Rp(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function WC(n,e){return e?n*(1e3/e):0}const Mj=5;function tF(n,e,t){const r=Math.max(e-Mj,0);return WC(t-n(r),e-r)}const Vi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vE=.001;function Aj({duration:n=Vi.duration,bounce:e=Vi.bounce,velocity:t=Vi.velocity,mass:r=Vi.mass}){let i,s,o=1-e;o=yf(Vi.minDamping,Vi.maxDamping,o),n=yf(Vi.minDuration,Vi.maxDuration,hf(n)),o<1?(i=c=>{const f=c*o,h=f*n,p=f-t,v=WM(c,o),y=Math.exp(-h);return vE-p/v*y},s=c=>{const h=c*o*n,p=h*t+t,v=Math.pow(o,2)*Math.pow(c,2)*n,y=Math.exp(-h),w=WM(Math.pow(c,2),o);return(-i(c)+vE>0?-1:1)*((p-v)*y)/w}):(i=c=>{const f=Math.exp(-c*n),h=(c-t)*n+1;return-vE+f*h},s=c=>{const f=Math.exp(-c*n),h=(t-c)*(n*n);return f*h});const a=5/n,l=Rj(i,s,a);if(n=df(n),isNaN(l))return{stiffness:Vi.stiffness,damping:Vi.damping,duration:n};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:n}}}const Cj=12;function Rj(n,e,t){let r=t;for(let i=1;i<Cj;i++)r=r-n(r)/e(r);return r}function WM(n,e){return n*Math.sqrt(1-e*e)}const GM=2e4;function nF(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<GM;)e+=t,r=n.next(e);return e>=GM?1/0:e}const Pj=["duration","bounce"],Ij=["stiffness","damping","mass"];function p3(n,e){return e.some(t=>n[t]!==void 0)}function Lj(n){let e={velocity:Vi.velocity,stiffness:Vi.stiffness,damping:Vi.damping,mass:Vi.mass,isResolvedFromDuration:!1,...n};if(!p3(n,Ij)&&p3(n,Pj))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,s=2*yf(.05,1,1-n.bounce)*Math.sqrt(i);e={...e,mass:Vi.mass,stiffness:i,damping:s}}else{const t=Aj(n);e={...e,...t,mass:Vi.mass},e.isResolvedFromDuration=!0}return e}function rF(n=Vi.visualDuration,e=Vi.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const s=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:f,duration:h,velocity:p,isResolvedFromDuration:v}=Lj({...t,velocity:-hf(t.velocity||0)}),y=p||0,w=c/(2*Math.sqrt(l*f)),S=o-s,_=hf(Math.sqrt(l/f)),A=Math.abs(S)<5;r||(r=A?Vi.restSpeed.granular:Vi.restSpeed.default),i||(i=A?Vi.restDelta.granular:Vi.restDelta.default);let R;if(w<1){const U=WM(_,w);R=k=>{const E=Math.exp(-w*_*k);return o-E*((y+w*_*S)/U*Math.sin(U*k)+S*Math.cos(U*k))}}else if(w===1)R=U=>o-Math.exp(-_*U)*(S+(y+_*S)*U);else{const U=_*Math.sqrt(w*w-1);R=k=>{const E=Math.exp(-w*_*k),j=Math.min(U*k,300);return o-E*((y+w*_*S)*Math.sinh(j)+U*S*Math.cosh(j))/U}}const P={calculatedDuration:v&&h||null,next:U=>{const k=R(U);if(v)a.done=U>=h;else{let E=0;w<1&&(E=U===0?df(y):tF(R,U,k));const j=Math.abs(E)<=r,O=Math.abs(o-k)<=i;a.done=j&&O}return a.value=a.done?o:k,a},toString:()=>{const U=Math.min(nF(P),GM),k=eF(E=>P.next(U*E).value,U,30);return U+"ms "+k}};return P}function m3({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:f}){const h=n[0],p={done:!1,value:h},v=j=>a!==void 0&&j<a||l!==void 0&&j>l,y=j=>a===void 0?l:l===void 0||Math.abs(a-j)<Math.abs(l-j)?a:l;let w=t*e;const S=h+w,_=o===void 0?S:o(S);_!==S&&(w=_-h);const A=j=>-w*Math.exp(-j/r),R=j=>_+A(j),P=j=>{const O=A(j),F=R(j);p.done=Math.abs(O)<=c,p.value=p.done?_:F};let U,k;const E=j=>{v(p.value)&&(U=j,k=rF({keyframes:[p.value,y(p.value)],velocity:tF(R,j,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:f}))};return E(0),{calculatedDuration:null,next:j=>{let O=!1;return!k&&U===void 0&&(O=!0,P(j),E(j)),U!==void 0&&j>=U?k.next(j-U):(!O&&P(j),p)}}}const Dj=ix(.42,0,1,1),Nj=ix(0,0,.58,1),iF=ix(.42,0,.58,1),kj=n=>Array.isArray(n)&&typeof n[0]!="number",GC=n=>Array.isArray(n)&&typeof n[0]=="number",g3={linear:Qo,easeIn:Dj,easeInOut:iF,easeOut:Nj,circIn:OC,circInOut:OO,circOut:kO,backIn:kC,backInOut:DO,backOut:LO,anticipate:NO},v3=n=>{if(GC(n)){BM(n.length===4);const[e,t,r,i]=n;return ix(e,t,r,i)}else if(typeof n=="string")return BM(g3[n]!==void 0),g3[n];return n},Oj=(n,e)=>t=>e(n(t)),ox=(...n)=>n.reduce(Oj),Pi=(n,e,t)=>n+(e-n)*t;function yE(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Fj({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=yE(l,a,n+1/3),s=yE(l,a,n),o=yE(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function uw(n,e){return t=>t>0?e:n}const xE=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Uj=[HM,np,ug],Bj=n=>Uj.find(e=>e.test(n));function y3(n){const e=Bj(n);if(!e)return!1;let t=e.parse(n);return e===ug&&(t=Fj(t)),t}const x3=(n,e)=>{const t=y3(n),r=y3(e);if(!t||!r)return uw(n,e);const i={...t};return s=>(i.red=xE(t.red,r.red,s),i.green=xE(t.green,r.green,s),i.blue=xE(t.blue,r.blue,s),i.alpha=Pi(t.alpha,r.alpha,s),np.transform(i))},$M=new Set(["none","hidden"]);function zj(n,e){return $M.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function Vj(n,e){return t=>Pi(n,e,t)}function $C(n){return typeof n=="number"?Vj:typeof n=="string"?FC(n)?uw:go.test(n)?x3:Wj:Array.isArray(n)?sF:typeof n=="object"?go.test(n)?x3:Hj:uw}function sF(n,e){const t=[...n],r=t.length,i=n.map((s,o)=>$C(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}}function Hj(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=$C(n[i])(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}}function jj(n,e){var t;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=n.indexes[o][i[o]],l=(t=n.values[a])!==null&&t!==void 0?t:0;r[s]=l,i[o]++}return r}const Wj=(n,e)=>{const t=Pd.createTransformer(e),r=Ey(n),i=Ey(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?$M.has(n)&&!i.values.length||$M.has(e)&&!r.values.length?zj(n,e):ox(sF(jj(r,i),i.values),t):uw(n,e)};function oF(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Pi(n,e,t):$C(n)(n,e)}function Gj(n,e,t){const r=[],i=t||oF,s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||Qo:e;a=ox(l,a)}r.push(a)}return r}function XC(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(BM(s===e.length),s===1)return()=>e[0];if(s===2&&n[0]===n[1])return()=>e[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=Gj(e,r,i),a=o.length,l=c=>{let f=0;if(a>1)for(;f<n.length-2&&!(c<n[f+1]);f++);const h=Rp(n[f],n[f+1],c);return o[f](h)};return t?c=>l(yf(n[0],n[s-1],c)):l}function $j(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=Rp(0,e,r);n.push(Pi(t,1,i))}}function aF(n){const e=[0];return $j(e,n.length-1),e}function Xj(n,e){return n.map(t=>t*e)}function qj(n,e){return n.map(()=>e||iF).splice(0,n.length-1)}function fw({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=kj(r)?r.map(v3):v3(r),s={done:!1,value:e[0]},o=Xj(t&&t.length===e.length?t:aF(e),n),a=XC(o,e,{ease:Array.isArray(i)?i:qj(e,i)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}const Yj=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Hr.update(e,!0),stop:()=>Tc(e),now:()=>zs.isProcessing?zs.timestamp:ru.now()}},Kj={decay:m3,inertia:m3,tween:fw,keyframes:fw,spring:rF},Zj=n=>n/100;class qC extends QO{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:t,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||UC,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,t,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=jC(t)?t:Kj[t]||fw;let l,c;a!==fw&&typeof e[0]!="number"&&(l=ox(Zj,oF(e[0],e[1])),e=[0,100]);const f=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=nF(f));const{calculatedDuration:h}=f,p=h+i,v=p*(r+1)-i;return{generator:f,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:p,totalDuration:v}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:j}=this.options;return{done:!0,value:j[j.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:f,resolvedDuration:h}=r;if(this.startTime===null)return s.next(0);const{delay:p,repeat:v,repeatType:y,repeatDelay:w,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-f/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-p*(this.speed>=0?1:-1),A=this.speed>=0?_<0:_>f;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let R=this.currentTime,P=s;if(v){const j=Math.min(this.currentTime,f)/h;let O=Math.floor(j),F=j%1;!F&&j>=1&&(F=1),F===1&&O--,O=Math.min(O,v+1),!!(O%2)&&(y==="reverse"?(F=1-F,w&&(F-=w/h)):y==="mirror"&&(P=o)),R=yf(0,1,F)*h}const U=A?{done:!1,value:l[0]}:P.next(R);a&&(U.value=a(U.value));let{done:k}=U;!A&&c!==null&&(k=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return E&&i!==void 0&&(U.value=FS(l,this.options,i)),S&&S(U.value),E&&this.finish(),U}get duration(){const{resolved:e}=this;return e?hf(e.calculatedDuration):0}get time(){return hf(this.currentTime)}set time(e){e=df(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=hf(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Yj,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Jj=new Set(["opacity","clipPath","filter","transform"]);function YC(n){let e;return()=>(e===void 0&&(e=n()),e)}const Qj={linearEasing:void 0};function eW(n,e){const t=YC(n);return()=>{var r;return(r=Qj[e])!==null&&r!==void 0?r:t()}}const dw=eW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function lF(n){return!!(typeof n=="function"&&dw()||!n||typeof n=="string"&&(n in XM||dw())||GC(n)||Array.isArray(n)&&n.every(lF))}const Iv=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,XM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Iv([0,.65,.55,1]),circOut:Iv([.55,0,1,.45]),backIn:Iv([.31,.01,.66,-.59]),backOut:Iv([.33,1.53,.69,.99])};function cF(n,e){if(n)return typeof n=="function"&&dw()?eF(n,e):GC(n)?Iv(n):Array.isArray(n)?n.map(t=>cF(t,e)||XM.easeOut):XM[n]}function tW(n,e,t,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:t};l&&(c.offset=l);const f=cF(a,i);return Array.isArray(f)&&(c.easing=f),n.animate(c,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function _3(n,e){n.timeline=e,n.onfinish=null}const nW=YC(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),hw=10,rW=2e4;function iW(n){return jC(n.type)||n.type==="spring"||!lF(n.ease)}function sW(n,e){const t=new qC({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const i=[];let s=0;for(;!r.done&&s<rW;)r=t.sample(s),i.push(r.value),s+=hw;return{times:void 0,keyframes:i,duration:s-hw,ease:"linear"}}const uF={anticipate:NO,backInOut:DO,circInOut:OO};function oW(n){return n in uF}class w3 extends QO{constructor(e){super(e);const{name:t,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new JO(s,(o,a)=>this.onKeyframesResolved(o,a),t,r,i),this.resolver.scheduleResolve()}initPlayback(e,t){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:c,startTime:f}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&dw()&&oW(o)&&(o=uF[o]),iW(this.options)){const{onComplete:p,onUpdate:v,motionValue:y,element:w,...S}=this.options,_=sW(e,S);e=_.keyframes,e.length===1&&(e[1]=e[0]),i=_.duration,s=_.times,o=_.ease,a="keyframes"}const h=tW(l.owner.current,c,e,{...this.options,duration:i,times:s,ease:o});return h.startTime=f??this.calcStartTime(),this.pendingTimeline?(_3(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:p}=this.options;l.set(FS(e,this.options,t)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return hf(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return hf(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=df(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Qo;const{animation:r}=t;_3(r,e)}return Qo}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:f,onComplete:h,element:p,...v}=this.options,y=new qC({...v,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),w=df(this.time);c.setWithVelocity(y.sample(w-hw).value,y.sample(w).value,hw)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return nW()&&r&&Jj.has(r)&&t&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const fF=YC(()=>window.ScrollTimeline!==void 0);class aW{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(i=>fF()&&i.attachTimeline?i.attachTimeline(e):t(i));return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function lW({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...f}){return!!Object.keys(f).length}const KC=(n,e,t,r={},i,s)=>o=>{const a=NC(r,n)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-df(l);let f={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:n,motionValue:e,element:s?void 0:i};lW(a)||(f={...f,...k6(n,f)}),f.duration&&(f.duration=df(f.duration)),f.repeatDelay&&(f.repeatDelay=df(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let h=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(h=!0)),h&&!s&&e.get()!==void 0){const p=FS(f.keyframes,a);if(p!==void 0)return Hr.update(()=>{f.onUpdate(p),f.onComplete()}),new aW([])}return!s&&w3.supports(f)?new w3(f):new qC(f)},cW=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),uW=n=>UM(n)?n[n.length-1]||0:n;function ZC(n,e){n.indexOf(e)===-1&&n.push(e)}function JC(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class QC{constructor(){this.subscriptions=[]}add(e){return ZC(this.subscriptions,e),()=>JC(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const S3=30,fW=n=>!isNaN(parseFloat(n)),Gv={current:void 0};class dW{constructor(e,t={}){this.version="11.14.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=ru.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ru.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=fW(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new QC);const r=this.events[e].add(t);return e==="change"?()=>{r(),Hr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Gv.current&&Gv.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=ru.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>S3)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,S3);return WC(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zc(n,e){return new dW(n,e)}function hW(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Zc(t))}function pW(n,e){const t=OS(n,e);let{transitionEnd:r={},transition:i={},...s}=t||{};s={...s,...r};for(const o in s){const a=uW(s[o]);hW(n,o,a)}}const eR=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),mW="framerAppearId",dF="data-"+eR(mW);function hF(n){return n.props[dF]}const xo=n=>!!(n&&n.getVelocity);function gW(n){return!!(xo(n)&&n.add)}function qM(n,e){const t=n.getValue("willChange");if(gW(t))return t.add(e)}function vW({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function pF(n,e,{delay:t=0,transitionOverride:r,type:i}={}){var s;let{transition:o=n.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],f=i&&n.animationState&&n.animationState.getState()[i];for(const h in l){const p=n.getValue(h,(s=n.latestValues[h])!==null&&s!==void 0?s:null),v=l[h];if(v===void 0||f&&vW(f,h))continue;const y={delay:t,...NC(o||{},h)};let w=!1;if(window.MotionHandoffAnimation){const _=hF(n);if(_){const A=window.MotionHandoffAnimation(_,h,Hr);A!==null&&(y.startTime=A,w=!0)}}qM(n,h),p.start(KC(h,p,v,n.shouldReduceMotion&&Yp.has(h)?{type:!1}:y,n,w));const S=p.animation;S&&c.push(S)}return a&&Promise.all(c).then(()=>{Hr.update(()=>{a&&pW(n,a)})}),c}function YM(n,e,t={}){var r;const i=OS(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(s=t.transitionOverride);const o=i?()=>Promise.all(pF(n,i,t)):()=>Promise.resolve(),a=n.variantChildren&&n.variantChildren.size?(c=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:p}=s;return yW(n,e,f+c,h,p,t)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,f]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>f())}else return Promise.all([o(),a(t.delay)])}function yW(n,e,t=0,r=0,i=1,s){const o=[],a=(n.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(n.variantChildren).sort(xW).forEach((c,f)=>{c.notify("AnimationStart",e),o.push(YM(c,e,{...s,delay:t+l(f)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function xW(n,e){return n.sortNodePosition(e)}function _W(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>YM(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=YM(n,e,t);else{const i=typeof e=="function"?OS(n,e,t.custom):e;r=Promise.all(pF(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const wW=DC.length;function mF(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?mF(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<wW;t++){const r=DC[t],i=n.props[r];(Sy(i)||i===!1)&&(e[r]=i)}return e}const SW=[...LC].reverse(),bW=LC.length;function EW(n){return e=>Promise.all(e.map(({animation:t,options:r})=>_W(n,t,r)))}function TW(n){let e=EW(n),t=b3(),r=!0;const i=l=>(c,f)=>{var h;const p=OS(n,f,l==="exit"?(h=n.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:v,transitionEnd:y,...w}=p;c={...c,...w,...y}}return c};function s(l){e=l(n)}function o(l){const{props:c}=n,f=mF(n.parent)||{},h=[],p=new Set;let v={},y=1/0;for(let S=0;S<bW;S++){const _=SW[S],A=t[_],R=c[_]!==void 0?c[_]:f[_],P=Sy(R),U=_===l?A.isActive:null;U===!1&&(y=S);let k=R===f[_]&&R!==c[_]&&P;if(k&&r&&n.manuallyAnimateOnMount&&(k=!1),A.protectedKeys={...v},!A.isActive&&U===null||!R&&!A.prevProp||kS(R)||typeof R=="boolean")continue;const E=MW(A.prevProp,R);let j=E||_===l&&A.isActive&&!k&&P||S>y&&P,O=!1;const F=Array.isArray(R)?R:[R];let Y=F.reduce(i(_),{});U===!1&&(Y={});const{prevResolvedValues:te={}}=A,ie={...te,...Y},ue=ge=>{j=!0,p.has(ge)&&(O=!0,p.delete(ge)),A.needsAnimating[ge]=!0;const q=n.getValue(ge);q&&(q.liveStyle=!1)};for(const ge in ie){const q=Y[ge],oe=te[ge];if(v.hasOwnProperty(ge))continue;let $=!1;UM(q)&&UM(oe)?$=!AO(q,oe):$=q!==oe,$?q!=null?ue(ge):p.add(ge):q!==void 0&&p.has(ge)?ue(ge):A.protectedKeys[ge]=!0}A.prevProp=R,A.prevResolvedValues=Y,A.isActive&&(v={...v,...Y}),r&&n.blockInitialAnimation&&(j=!1),j&&(!(k&&E)||O)&&h.push(...F.map(ge=>({animation:ge,options:{type:_}})))}if(p.size){const S={};p.forEach(_=>{const A=n.getBaseTarget(_),R=n.getValue(_);R&&(R.liveStyle=!0),S[_]=A??null}),h.push({animation:S})}let w=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!n.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(h):Promise.resolve()}function a(l,c){var f;if(t[l].isActive===c)return Promise.resolve();(f=n.variantChildren)===null||f===void 0||f.forEach(p=>{var v;return(v=p.animationState)===null||v===void 0?void 0:v.setActive(l,c)}),t[l].isActive=c;const h=o(l);for(const p in t)t[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t,reset:()=>{t=b3(),r=!0}}}function MW(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!AO(e,n):!1}function Rh(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function b3(){return{animate:Rh(!0),whileInView:Rh(),whileHover:Rh(),whileTap:Rh(),whileDrag:Rh(),whileFocus:Rh(),exit:Rh()}}class jd{constructor(e){this.isMounted=!1,this.node=e}update(){}}class AW extends jd{constructor(e){super(e),e.animationState||(e.animationState=TW(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();kS(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let CW=0;class RW extends jd{constructor(){super(...arguments),this.id=CW++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const PW={animation:{Feature:AW},exit:{Feature:RW}},vc={x:!1,y:!1};function gF(){return vc.x||vc.y}function vF(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}function yF(n,e){const t=vF(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function E3(n){return e=>{e.pointerType==="touch"||gF()||n(e)}}function IW(n,e,t={}){const[r,i,s]=yF(n,t),o=E3(a=>{const{target:l}=a,c=e(a);if(!c||!l)return;const f=E3(h=>{c(h),l.removeEventListener("pointerleave",f)});l.addEventListener("pointerleave",f,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const tR=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Lv=new WeakSet;function T3(n){return e=>{e.key==="Enter"&&n(e)}}function _E(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const LW=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=T3(()=>{if(Lv.has(t))return;_E(t,"down");const i=T3(()=>{_E(t,"up")}),s=()=>_E(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)},DW=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function NW(n){return DW.has(n.tagName)||n.tabIndex!==-1}const xF=(n,e)=>e?n===e?!0:xF(n,e.parentElement):!1;function M3(n){return tR(n)&&!gF()}function kW(n,e,t={}){const[r,i,s]=yF(n,t),o=a=>{const l=a.currentTarget;if(!M3(a)||Lv.has(l))return;Lv.add(l);const c=e(a),f=(v,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),!(!M3(v)||!Lv.has(l))&&(Lv.delete(l),c&&c(v,{success:y}))},h=v=>{f(v,t.useGlobalTarget||xF(l,v.target))},p=v=>{f(v,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{NW(a)||(a.tabIndex=0),(t.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",c=>LW(c,i),i)}),s}function OW(n){return n==="x"||n==="y"?vc[n]?null:(vc[n]=!0,()=>{vc[n]=!1}):vc.x||vc.y?null:(vc.x=vc.y=!0,()=>{vc.x=vc.y=!1})}function ax(n){return{point:{x:n.pageX,y:n.pageY}}}const FW=n=>e=>tR(e)&&n(e,ax(e));function Ty(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function $v(n,e,t,r){return Ty(n,e,FW(t),r)}const A3=(n,e)=>Math.abs(n-e);function UW(n,e){const t=A3(n.x,e.x),r=A3(n.y,e.y);return Math.sqrt(t**2+r**2)}class _F{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=SE(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=UW(h.offset,{x:0,y:0})>=3;if(!p&&!v)return;const{point:y}=h,{timestamp:w}=zs;this.history.push({...y,timestamp:w});const{onStart:S,onMove:_}=this.handlers;p||(S&&S(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=wE(p,this.transformPagePoint),Hr.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:v,onSessionEnd:y,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=SE(h.type==="pointercancel"?this.lastMoveEventInfo:wE(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(h,S),y&&y(h,S)},!tR(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const o=ax(e),a=wE(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=zs;this.history=[{...l,timestamp:c}];const{onSessionStart:f}=t;f&&f(e,SE(a,this.history)),this.removeListeners=ox($v(this.contextWindow,"pointermove",this.handlePointerMove),$v(this.contextWindow,"pointerup",this.handlePointerUp),$v(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Tc(this.updatePoint)}}function wE(n,e){return e?{point:e(n.point)}:n}function C3(n,e){return{x:n.x-e.x,y:n.y-e.y}}function SE({point:n},e){return{point:n,delta:C3(n,wF(e)),offset:C3(n,BW(e)),velocity:zW(e,.1)}}function BW(n){return n[0]}function wF(n){return n[n.length-1]}function zW(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=wF(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>df(e)));)t--;if(!r)return{x:0,y:0};const s=hf(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function fg(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}const SF=1e-4,VW=1-SF,HW=1+SF,bF=.01,jW=0-bF,WW=0+bF;function rl(n){return n.max-n.min}function GW(n,e,t){return Math.abs(n-e)<=t}function R3(n,e,t,r=.5){n.origin=r,n.originPoint=Pi(e.min,e.max,n.origin),n.scale=rl(t)/rl(e),n.translate=Pi(t.min,t.max,n.origin)-n.originPoint,(n.scale>=VW&&n.scale<=HW||isNaN(n.scale))&&(n.scale=1),(n.translate>=jW&&n.translate<=WW||isNaN(n.translate))&&(n.translate=0)}function Xv(n,e,t,r){R3(n.x,e.x,t.x,r?r.originX:void 0),R3(n.y,e.y,t.y,r?r.originY:void 0)}function P3(n,e,t){n.min=t.min+e.min,n.max=n.min+rl(e)}function $W(n,e,t){P3(n.x,e.x,t.x),P3(n.y,e.y,t.y)}function I3(n,e,t){n.min=e.min-t.min,n.max=n.min+rl(e)}function qv(n,e,t){I3(n.x,e.x,t.x),I3(n.y,e.y,t.y)}function XW(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Pi(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Pi(t,n,r.max):Math.min(n,t)),n}function L3(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function qW(n,{top:e,left:t,bottom:r,right:i}){return{x:L3(n.x,t,i),y:L3(n.y,e,r)}}function D3(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function YW(n,e){return{x:D3(n.x,e.x),y:D3(n.y,e.y)}}function KW(n,e){let t=.5;const r=rl(n),i=rl(e);return i>r?t=Rp(e.min,e.max-r,n.min):r>i&&(t=Rp(n.min,n.max-i,e.min)),yf(0,1,t)}function ZW(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const KM=.35;function JW(n=KM){return n===!1?n=0:n===!0&&(n=KM),{x:N3(n,"left","right"),y:N3(n,"top","bottom")}}function N3(n,e,t){return{min:k3(n,e),max:k3(n,t)}}function k3(n,e){return typeof n=="number"?n:n[e]||0}const O3=()=>({translate:0,scale:1,origin:0,originPoint:0}),dg=()=>({x:O3(),y:O3()}),F3=()=>({min:0,max:0}),Yi=()=>({x:F3(),y:F3()});function Tl(n){return[n("x"),n("y")]}function EF({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function QW({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function e9(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function bE(n){return n===void 0||n===1}function ZM({scale:n,scaleX:e,scaleY:t}){return!bE(n)||!bE(e)||!bE(t)}function $h(n){return ZM(n)||TF(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function TF(n){return U3(n.x)||U3(n.y)}function U3(n){return n&&n!=="0%"}function pw(n,e,t){const r=n-t,i=e*r;return t+i}function B3(n,e,t,r,i){return i!==void 0&&(n=pw(n,i,r)),pw(n,t,r)+e}function JM(n,e=0,t=1,r,i){n.min=B3(n.min,e,t,r,i),n.max=B3(n.max,e,t,r,i)}function MF(n,{x:e,y:t}){JM(n.x,e.translate,e.scale,e.originPoint),JM(n.y,t.translate,t.scale,t.originPoint)}const z3=.999999999999,V3=1.0000000000001;function t9(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&pg(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,MF(n,o)),r&&$h(s.latestValues)&&pg(n,s.latestValues))}e.x<V3&&e.x>z3&&(e.x=1),e.y<V3&&e.y>z3&&(e.y=1)}function hg(n,e){n.min=n.min+e,n.max=n.max+e}function H3(n,e,t,r,i=.5){const s=Pi(n.min,n.max,i);JM(n,e,t,s,r)}function pg(n,e){H3(n.x,e.x,e.scaleX,e.scale,e.originX),H3(n.y,e.y,e.scaleY,e.scale,e.originY)}function AF(n,e){return EF(e9(n.getBoundingClientRect(),e))}function n9(n,e,t){const r=AF(n,t),{scroll:i}=e;return i&&(hg(r.x,i.offset.x),hg(r.y,i.offset.y)),r}const CF=({current:n})=>n?n.ownerDocument.defaultView:null,r9=new WeakMap;class i9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yi(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(ax(f).point)},s=(f,h)=>{const{drag:p,dragPropagation:v,onDragStart:y}=this.getProps();if(p&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=OW(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Tl(S=>{let _=this.getAxisMotionValue(S).get()||0;if(nu.test(_)){const{projection:A}=this.visualElement;if(A&&A.layout){const R=A.layout.layoutBox[S];R&&(_=rl(R)*(parseFloat(_)/100))}}this.originPoint[S]=_}),y&&Hr.postRender(()=>y(f,h)),qM(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(f,h)=>{const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:y,onDrag:w}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:S}=h;if(v&&this.currentDirection===null){this.currentDirection=s9(S),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,S),this.updateAxis("y",h.point,S),this.visualElement.render(),w&&w(f,h)},a=(f,h)=>this.stop(f,h),l=()=>Tl(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new _F(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:CF(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Hr.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!x_(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=XW(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&fg(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=qW(i.layoutBox,t):this.constraints=!1,this.elastic=JW(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Tl(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=ZW(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!fg(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=n9(r,i.root,this.visualElement.getTransformPagePoint());let o=YW(i.layout.layoutBox,s);if(t){const a=t(QW(o));this.hasMutatedConstraints=!!a,a&&(o=EF(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Tl(f=>{if(!x_(f,t,this.currentDirection))return;let h=l&&l[f]||{};o&&(h={min:0,max:0});const p=i?200:1e6,v=i?40:1e7,y={type:"inertia",velocity:r?e[f]:0,bounceStiffness:p,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(f,y)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return qM(this.visualElement,e),r.start(KC(e,r,0,t,this.visualElement,!1))}stopAnimation(){Tl(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Tl(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Tl(t=>{const{drag:r}=this.getProps();if(!x_(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-Pi(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!fg(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Tl(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=KW({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Tl(o=>{if(!x_(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Pi(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;r9.set(this.visualElement,this);const e=this.visualElement.current,t=$v(e,"pointerdown",l=>{const{drag:c,dragListener:f=!0}=this.getProps();c&&f&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();fg(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Hr.read(r);const o=Ty(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Tl(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=l[f].translate,h.set(h.get()+l[f].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=KM,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function x_(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function s9(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class o9 extends jd{constructor(e){super(e),this.removeGroupControls=Qo,this.removeListeners=Qo,this.controls=new i9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qo}unmount(){this.removeGroupControls(),this.removeListeners()}}const j3=n=>(e,t)=>{n&&Hr.postRender(()=>n(e,t))};class a9 extends jd{constructor(){super(...arguments),this.removePointerDownListener=Qo}onPointerDown(e){this.session=new _F(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:CF(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:j3(e),onStart:j3(t),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Hr.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=$v(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const US=z.createContext(null);function l9(){const n=z.useContext(US);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,i=z.useId();z.useEffect(()=>r(i),[]);const s=z.useCallback(()=>t&&t(i),[i,t]);return!e&&t?[!1,s]:[!0]}const nR=z.createContext({}),RF=z.createContext({}),H1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function W3(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const iv={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Gn.test(n))n=parseFloat(n);else return n;const t=W3(n,e.target.x),r=W3(n,e.target.y);return`${t}% ${r}%`}},c9={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=Pd.parse(n);if(i.length>5)return r;const s=Pd.createTransformer(n),o=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Pi(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}},mw={};function u9(n){Object.assign(mw,n)}const{schedule:rR,cancel:khe}=CO(queueMicrotask,!1);class f9 extends z.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;u9(d9),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),H1.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Hr.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),rR.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function PF(n){const[e,t]=l9(),r=z.useContext(nR);return N.jsx(f9,{...n,layoutGroup:r,switchLayoutGroup:z.useContext(RF),isPresent:e,safeToRemove:t})}const d9={borderRadius:{...iv,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:iv,borderTopRightRadius:iv,borderBottomLeftRadius:iv,borderBottomRightRadius:iv,boxShadow:c9},IF=["TopLeft","TopRight","BottomLeft","BottomRight"],h9=IF.length,G3=n=>typeof n=="string"?parseFloat(n):n,$3=n=>typeof n=="number"||Gn.test(n);function p9(n,e,t,r,i,s){i?(n.opacity=Pi(0,t.opacity!==void 0?t.opacity:1,m9(r)),n.opacityExit=Pi(e.opacity!==void 0?e.opacity:1,0,g9(r))):s&&(n.opacity=Pi(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let o=0;o<h9;o++){const a=`border${IF[o]}Radius`;let l=X3(e,a),c=X3(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||$3(l)===$3(c)?(n[a]=Math.max(Pi(G3(l),G3(c),r),0),(nu.test(c)||nu.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=Pi(e.rotate||0,t.rotate||0,r))}function X3(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const m9=LF(0,.5,kO),g9=LF(.5,.95,Qo);function LF(n,e,t){return r=>r<n?0:r>e?1:t(Rp(n,e,r))}function q3(n,e){n.min=e.min,n.max=e.max}function bl(n,e){q3(n.x,e.x),q3(n.y,e.y)}function Y3(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function K3(n,e,t,r,i){return n-=e,n=pw(n,1/t,r),i!==void 0&&(n=pw(n,1/i,r)),n}function v9(n,e=0,t=1,r=.5,i,s=n,o=n){if(nu.test(e)&&(e=parseFloat(e),e=Pi(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Pi(s.min,s.max,r);n===s&&(a-=e),n.min=K3(n.min,e,t,a,i),n.max=K3(n.max,e,t,a,i)}function Z3(n,e,[t,r,i],s,o){v9(n,e[t],e[r],e[i],e.scale,s,o)}const y9=["x","scaleX","originX"],x9=["y","scaleY","originY"];function J3(n,e,t,r){Z3(n.x,e,y9,t?t.x:void 0,r?r.x:void 0),Z3(n.y,e,x9,t?t.y:void 0,r?r.y:void 0)}function Q3(n){return n.translate===0&&n.scale===1}function DF(n){return Q3(n.x)&&Q3(n.y)}function eI(n,e){return n.min===e.min&&n.max===e.max}function _9(n,e){return eI(n.x,e.x)&&eI(n.y,e.y)}function tI(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function NF(n,e){return tI(n.x,e.x)&&tI(n.y,e.y)}function nI(n){return rl(n.x)/rl(n.y)}function rI(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class w9{constructor(){this.members=[]}add(e){ZC(this.members,e),e.scheduleRender()}remove(e){if(JC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function S9(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:c,rotate:f,rotateX:h,rotateY:p,skewX:v,skewY:y}=t;c&&(r=`perspective(${c}px) ${r}`),f&&(r+=`rotate(${f}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),v&&(r+=`skewX(${v}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=n.x.scale*e.x,l=n.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const b9=(n,e)=>n.depth-e.depth;class E9{constructor(){this.children=[],this.isDirty=!1}add(e){ZC(this.children,e),this.isDirty=!0}remove(e){JC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(b9),this.isDirty=!1,this.children.forEach(e)}}function j1(n){const e=xo(n)?n.get():n;return cW(e)?e.toValue():e}function T9(n,e){const t=ru.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Tc(r),n(s-e))};return Hr.read(r,!0),()=>Tc(r)}function M9(n){return n instanceof SVGElement&&n.tagName!=="svg"}function A9(n,e,t){const r=xo(n)?n:Zc(n);return r.start(KC("",r,e,t)),r.animation}const Xh={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Dv=typeof window<"u"&&window.MotionDebug!==void 0,EE=["","X","Y","Z"],C9={visibility:"hidden"},iI=1e3;let R9=0;function TE(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function kF(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=hF(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Hr,!(i||s))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&kF(r)}function OF({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=R9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Dv&&(Xh.totalNodes=Xh.resolvedTargetDeltas=Xh.recalculatedProjection=0),this.nodes.forEach(L9),this.nodes.forEach(F9),this.nodes.forEach(U9),this.nodes.forEach(D9),Dv&&window.MotionDebug.record(Xh)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new E9)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new QC),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=M9(o),this.instance=o;const{layoutId:l,layout:c,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),n){let h;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=T9(p,250),H1.hasAnimatedSinceResize&&(H1.hasAnimatedSinceResize=!1,this.nodes.forEach(oI))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:v,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||f.getDefaultTransition()||j9,{onLayoutAnimationStart:S,onLayoutAnimationComplete:_}=f.getProps(),A=!this.targetLayout||!NF(this.targetLayout,y)||v,R=!p&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||R||p&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,R);const P={...NC(w,"layout"),onPlay:S,onComplete:_};(f.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else p||oI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Tc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(B9),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kF(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sI);return}this.isUpdating||this.nodes.forEach(k9),this.isUpdating=!1,this.nodes.forEach(O9),this.nodes.forEach(P9),this.nodes.forEach(I9),this.clearAllSnapshots();const a=ru.now();zs.delta=yf(0,1e3/60,a-zs.timestamp),zs.timestamp=a,zs.isProcessing=!0,mE.update.process(zs),mE.preRender.process(zs),mE.render.process(zs),zs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rR.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(N9),this.sharedNodes.forEach(z9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Hr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Hr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Yi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!DF(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,f=c!==this.prevTransformTemplateValue;o&&(a||$h(this.latestValues)||f)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),W9(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Yi();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(G9))){const{scroll:f}=this.root;f&&(hg(l.x,f.offset.x),hg(l.y,f.offset.y))}return l}removeElementScroll(o){var a;const l=Yi();if(bl(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const f=this.path[c],{scroll:h,options:p}=f;f!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&bl(l,o),hg(l.x,h.offset.x),hg(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=Yi();bl(l,o);for(let c=0;c<this.path.length;c++){const f=this.path[c];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&pg(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),$h(f.latestValues)&&pg(l,f.latestValues)}return $h(this.latestValues)&&pg(l,this.latestValues),l}removeTransform(o){const a=Yi();bl(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!$h(c.latestValues))continue;ZM(c.latestValues)&&c.updateSnapshot();const f=Yi(),h=c.measurePageBox();bl(f,h),J3(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,f)}return $h(this.latestValues)&&J3(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=zs.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yi(),this.relativeTargetOrigin=Yi(),qv(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),bl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Yi(),this.targetWithTransforms=Yi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$W(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bl(this.target,this.layout.layoutBox),MF(this.target,this.targetDelta)):bl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yi(),this.relativeTargetOrigin=Yi(),qv(this.relativeTargetOrigin,this.target,v.target),bl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Dv&&Xh.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ZM(this.parent.latestValues)||TF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===zs.timestamp&&(c=!1),c)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;bl(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,v=this.treeScale.y;t9(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Yi());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Y3(this.prevProjectionDelta.x,this.projectionDelta.x),Y3(this.prevProjectionDelta.y,this.projectionDelta.y)),Xv(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==v||!rI(this.projectionDelta.x,this.prevProjectionDelta.x)||!rI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Dv&&Xh.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=dg(),this.projectionDelta=dg(),this.projectionDeltaWithTransform=dg()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},f={...this.latestValues},h=dg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Yi(),v=l?l.source:void 0,y=this.layout?this.layout.source:void 0,w=v!==y,S=this.getStack(),_=!S||S.members.length<=1,A=!!(w&&!_&&this.options.crossfade===!0&&!this.path.some(H9));this.animationProgress=0;let R;this.mixTargetDelta=P=>{const U=P/1e3;aI(h.x,o.x,U),aI(h.y,o.y,U),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qv(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),V9(this.relativeTarget,this.relativeTargetOrigin,p,U),R&&_9(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Yi()),bl(R,this.relativeTarget)),w&&(this.animationValues=f,p9(f,c,this.latestValues,U,A,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Tc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Hr.update(()=>{H1.hasAnimatedSinceResize=!0,this.currentAnimation=A9(0,iI,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:f}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&FF(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Yi();const h=rl(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=rl(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}bl(a,l),pg(a,f),Xv(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new w9),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&TE("z",o,c,this.animationValues);for(let f=0;f<EE.length;f++)TE(`rotate${EE[f]}`,o,c,this.animationValues),TE(`skew${EE[f]}`,o,c,this.animationValues);o.render();for(const f in c)o.setStaticValue(f,c[f]),this.animationValues&&(this.animationValues[f]=c[f]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return C9;const c={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=j1(o==null?void 0:o.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=j1(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!$h(this.latestValues)&&(w.transform=f?f({},""):"none",this.hasProjected=!1),w}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=S9(this.projectionDeltaWithTransform,this.treeScale,p),f&&(c.transform=f(p,c.transform));const{x:v,y}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${y.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const w in mw){if(p[w]===void 0)continue;const{correct:S,applyTo:_}=mw[w],A=c.transform==="none"?p[w]:S(p[w],h);if(_){const R=_.length;for(let P=0;P<R;P++)c[_[P]]=A}else c[w]=A}return this.options.layoutId&&(c.pointerEvents=h===this?j1(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(sI),this.root.sharedNodes.clear()}}}function P9(n){n.updateLayout()}function I9(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?Tl(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],v=rl(p);p.min=r[h].min,p.max=p.min+v}):FF(s,t.layoutBox,r)&&Tl(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],v=rl(r[h]);p.max=p.min+v,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[h].max=n.relativeTarget[h].min+v)});const a=dg();Xv(a,r,t.layoutBox);const l=dg();o?Xv(l,n.applyTransform(i,!0),t.measuredBox):Xv(l,r,t.layoutBox);const c=!DF(a);let f=!1;if(!n.resumeFrom){const h=n.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:v}=h;if(p&&v){const y=Yi();qv(y,t.layoutBox,p.layoutBox);const w=Yi();qv(w,r,v.layoutBox),NF(y,w)||(f=!0),h.options.layoutRoot&&(n.relativeTarget=w,n.relativeTargetOrigin=y,n.relativeParent=h)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:f})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function L9(n){Dv&&Xh.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function D9(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function N9(n){n.clearSnapshot()}function sI(n){n.clearMeasurements()}function k9(n){n.isLayoutDirty=!1}function O9(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function oI(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function F9(n){n.resolveTargetDelta()}function U9(n){n.calcProjection()}function B9(n){n.resetSkewAndRotation()}function z9(n){n.removeLeadSnapshot()}function aI(n,e,t){n.translate=Pi(e.translate,0,t),n.scale=Pi(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function lI(n,e,t,r){n.min=Pi(e.min,t.min,r),n.max=Pi(e.max,t.max,r)}function V9(n,e,t,r){lI(n.x,e.x,t.x,r),lI(n.y,e.y,t.y,r)}function H9(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const j9={duration:.45,ease:[.4,0,.1,1]},cI=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),uI=cI("applewebkit/")&&!cI("chrome/")?Math.round:Qo;function fI(n){n.min=uI(n.min),n.max=uI(n.max)}function W9(n){fI(n.x),fI(n.y)}function FF(n,e,t){return n==="position"||n==="preserve-aspect"&&!GW(nI(e),nI(t),.2)}function G9(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const $9=OF({attachResizeListener:(n,e)=>Ty(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ME={current:void 0},UF=OF({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!ME.current){const n=new $9({});n.mount(window),n.setOptions({layoutScroll:!0}),ME.current=n}return ME.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),X9={pan:{Feature:a9},drag:{Feature:o9,ProjectionNode:UF,MeasureLayout:PF}};function dI(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,s=r[i];s&&Hr.postRender(()=>s(e,ax(e)))}class q9 extends jd{mount(){const{current:e}=this.node;e&&(this.unmount=IW(e,t=>(dI(this.node,t,"Start"),r=>dI(this.node,r,"End"))))}unmount(){}}class Y9 extends jd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ox(Ty(this.node.current,"focus",()=>this.onFocus()),Ty(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hI(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),s=r[i];s&&Hr.postRender(()=>s(e,ax(e)))}class K9 extends jd{mount(){const{current:e}=this.node;e&&(this.unmount=kW(e,t=>(hI(this.node,t,"Start"),(r,{success:i})=>hI(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const QM=new WeakMap,AE=new WeakMap,Z9=n=>{const e=QM.get(n.target);e&&e(n)},J9=n=>{n.forEach(Z9)};function Q9({root:n,...e}){const t=n||document;AE.has(t)||AE.set(t,{});const r=AE.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(J9,{root:n,...e})),r[i]}function eG(n,e,t){const r=Q9(e);return QM.set(n,t),r.observe(n),()=>{QM.delete(n),r.unobserve(n)}}const tG={some:0,all:1};class nG extends jd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:tG[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),p=c?f:h;p&&p(l)};return eG(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(rG(e,t))&&this.startObserver()}unmount(){}}function rG({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const iG={inView:{Feature:nG},tap:{Feature:K9},focus:{Feature:Y9},hover:{Feature:q9}},sG={layout:{ProjectionNode:UF,MeasureLayout:PF}},BS=z.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),zS=z.createContext({}),iR=typeof window<"u",VS=iR?z.useLayoutEffect:z.useEffect,BF=z.createContext({strict:!1});function oG(n,e,t,r,i){var s,o;const{visualElement:a}=z.useContext(zS),l=z.useContext(BF),c=z.useContext(US),f=z.useContext(BS).reducedMotion,h=z.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(n,{visualState:e,parent:a,props:t,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:f}));const p=h.current,v=z.useContext(RF);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&aG(h.current,t,i,v);const y=z.useRef(!1);z.useInsertionEffect(()=>{p&&y.current&&p.update(t,c)});const w=t[dF],S=z.useRef(!!w&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,w))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,w)));return VS(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),rR.render(p.render),S.current&&p.animationState&&p.animationState.animateChanges())}),z.useEffect(()=>{p&&(!S.current&&p.animationState&&p.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)===null||_===void 0||_.call(window,w)}),S.current=!1))}),p}function aG(n,e,t,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:zF(n.parent)),n.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&fg(a),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function zF(n){if(n)return n.options.allowProjection!==!1?n.projection:zF(n.parent)}function lG(n,e,t){return z.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):fg(t)&&(t.current=r))},[e])}function HS(n){return kS(n.animate)||DC.some(e=>Sy(n[e]))}function VF(n){return!!(HS(n)||n.variants)}function cG(n,e){if(HS(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Sy(t)?t:void 0,animate:Sy(r)?r:void 0}}return n.inherit!==!1?e:{}}function uG(n){const{initial:e,animate:t}=cG(n,z.useContext(zS));return z.useMemo(()=>({initial:e,animate:t}),[pI(e),pI(t)])}function pI(n){return Array.isArray(n)?n.join(" "):n}const mI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ug={};for(const n in mI)Ug[n]={isEnabled:e=>mI[n].some(t=>!!e[t])};function fG(n){for(const e in n)Ug[e]={...Ug[e],...n[e]}}const dG=Symbol.for("motionComponentSymbol");function hG({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){n&&fG(n);function s(a,l){let c;const f={...z.useContext(BS),...a,layoutId:pG(a)},{isStatic:h}=f,p=uG(a),v=r(a,h);if(!h&&iR){mG();const y=gG(f);c=y.MeasureLayout,p.visualElement=oG(i,v,f,e,y.ProjectionNode)}return N.jsxs(zS.Provider,{value:p,children:[c&&p.visualElement?N.jsx(c,{visualElement:p.visualElement,...f}):null,t(i,a,lG(v,p.visualElement,l),v,h,p.visualElement)]})}const o=z.forwardRef(s);return o[dG]=i,o}function pG({layoutId:n}){const e=z.useContext(nR).id;return e&&n!==void 0?e+"-"+n:n}function mG(n,e){z.useContext(BF).strict}function gG(n){const{drag:e,layout:t}=Ug;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const vG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sR(n){return typeof n!="string"||n.includes("-")?!1:!!(vG.indexOf(n)>-1||/[A-Z]/u.test(n))}function HF(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const jF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function WF(n,e,t,r){HF(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(jF.has(i)?i:eR(i),e.attrs[i])}function GF(n,{layout:e,layoutId:t}){return Yp.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!mw[n]||n==="opacity")}function oR(n,e,t){var r;const{style:i}=n,s={};for(const o in i)(xo(i[o])||e.style&&xo(e.style[o])||GF(o,n)||((r=t==null?void 0:t.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function $F(n,e,t){const r=oR(n,e,t);for(const i in n)if(xo(n[i])||xo(e[i])){const s=rx.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=n[i]}return r}function o0(n){const e=z.useRef(null);return e.current===null&&(e.current=n()),e.current}function yG({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,i,s){const o={latestValues:xG(r,i,s,n),renderState:e()};return t&&(o.mount=a=>t(r,a,o)),o}const XF=n=>(e,t)=>{const r=z.useContext(zS),i=z.useContext(US),s=()=>yG(n,e,r,i);return t?s():o0(s)};function xG(n,e,t,r){const i={},s=r(n,{});for(const p in s)i[p]=j1(s[p]);let{initial:o,animate:a}=n;const l=HS(n),c=VF(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=t?t.initial===!1:!1;f=f||o===!1;const h=f?a:o;if(h&&typeof h!="boolean"&&!kS(h)){const p=Array.isArray(h)?h:[h];for(let v=0;v<p.length;v++){const y=IC(n,p[v]);if(y){const{transitionEnd:w,transition:S,..._}=y;for(const A in _){let R=_[A];if(Array.isArray(R)){const P=f?R.length-1:0;R=R[P]}R!==null&&(i[A]=R)}for(const A in w)i[A]=w[A]}}}return i}const aR=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),qF=()=>({...aR(),attrs:{}}),YF=(n,e)=>e&&typeof n=="number"?e.transform(n):n,_G={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wG=rx.length;function SG(n,e,t){let r="",i=!0;for(let s=0;s<wG;s++){const o=rx[s],a=n[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||t){const c=YF(a,VC[o]);if(!l){i=!1;const f=_G[o]||o;r+=`${f}(${c}) `}t&&(e[o]=c)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function lR(n,e,t){const{style:r,vars:i,transformOrigin:s}=n;let o=!1,a=!1;for(const l in e){const c=e[l];if(Yp.has(l)){o=!0;continue}else if(zO(l)){i[l]=c;continue}else{const f=YF(c,VC[l]);l.startsWith("origin")?(a=!0,s[l]=f):r[l]=f}}if(e.transform||(o||t?r.transform=SG(e,n.transform,t):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:f=0}=s;r.transformOrigin=`${l} ${c} ${f}`}}function gI(n,e,t){return typeof n=="string"?n:Gn.transform(e+t*n)}function bG(n,e,t){const r=gI(e,n.x,n.width),i=gI(t,n.y,n.height);return`${r} ${i}`}const EG={offset:"stroke-dashoffset",array:"stroke-dasharray"},TG={offset:"strokeDashoffset",array:"strokeDasharray"};function MG(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?EG:TG;n[s.offset]=Gn.transform(-r);const o=Gn.transform(e),a=Gn.transform(t);n[s.array]=`${o} ${a}`}function cR(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},f,h){if(lR(n,c,h),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:v,dimensions:y}=n;p.transform&&(y&&(v.transform=p.transform),delete p.transform),y&&(i!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=bG(y,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),r!==void 0&&(p.scale=r),o!==void 0&&MG(p,o,a,l,!1)}const uR=n=>typeof n=="string"&&n.toLowerCase()==="svg",AG={useVisualState:XF({scrapeMotionValuesFromProps:$F,createRenderState:qF,onMount:(n,e,{renderState:t,latestValues:r})=>{Hr.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),Hr.render(()=>{cR(t,r,uR(e.tagName),n.transformTemplate),WF(e,t)})}})},CG={useVisualState:XF({scrapeMotionValuesFromProps:oR,createRenderState:aR})};function KF(n,e,t){for(const r in e)!xo(e[r])&&!GF(r,t)&&(n[r]=e[r])}function RG({transformTemplate:n},e){return z.useMemo(()=>{const t=aR();return lR(t,e,n),Object.assign({},t.vars,t.style)},[e])}function PG(n,e){const t=n.style||{},r={};return KF(r,t,n),Object.assign(r,RG(n,e)),r}function IG(n,e){const t={},r=PG(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const LG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gw(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||LG.has(n)}let ZF=n=>!gw(n);function DG(n){n&&(ZF=e=>e.startsWith("on")?!gw(e):n(e))}try{DG(require("@emotion/is-prop-valid").default)}catch{}function NG(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(ZF(i)||t===!0&&gw(i)||!e&&!gw(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function kG(n,e,t,r){const i=z.useMemo(()=>{const s=qF();return cR(s,e,uR(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};KF(s,n.style,n),i.style={...s,...i.style}}return i}function OG(n=!1){return(t,r,i,{latestValues:s},o)=>{const l=(sR(t)?kG:IG)(r,s,o,t),c=NG(r,typeof t=="string",n),f=t!==z.Fragment?{...c,...l,ref:i}:{},{children:h}=r,p=z.useMemo(()=>xo(h)?h.get():h,[h]);return z.createElement(t,{...f,children:p})}}function FG(n,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...sR(r)?AG:CG,preloadedFeatures:n,useRender:OG(i),createVisualElement:e,Component:r};return hG(o)}}const eA={current:null},JF={current:!1};function UG(){if(JF.current=!0,!!iR)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>eA.current=n.matches;n.addListener(e),e()}else eA.current=!1}function BG(n,e,t){for(const r in e){const i=e[r],s=t[r];if(xo(i))n.addValue(r,i);else if(xo(s))n.addValue(r,Zc(i,{owner:n}));else if(s!==i)if(n.hasValue(r)){const o=n.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=n.getStaticValue(r);n.addValue(r,Zc(o!==void 0?o:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const vI=new WeakMap,zG=[...jO,go,Pd],VG=n=>zG.find(HO(n)),yI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class HG{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=UC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=ru.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Hr.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=HS(t),this.isVariantNode=VF(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(t,{},this);for(const p in h){const v=h[p];l[p]!==void 0&&xo(v)&&v.set(l[p],!1)}}mount(e){this.current=e,vI.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),JF.current||UG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:eA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){vI.delete(this.current),this.projection&&this.projection.unmount(),Tc(this.notifyUpdate),Tc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Yp.has(e),i=t.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Hr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ug){const t=Ug[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<yI.length;r++){const i=yI[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=BG(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Zc(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(UO(i)||FO(i))?i=parseFloat(i):!VG(i)&&Pd.test(t)&&(i=ZO(e,t)),this.setBaseTarget(e,xo(i)?i.get():i)),xo(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=IC(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!xo(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new QC),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class QF extends HG{constructor(){super(...arguments),this.KeyframeResolver=JO}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xo(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function jG(n){return window.getComputedStyle(n)}class WG extends QF{constructor(){super(...arguments),this.type="html",this.renderInstance=HF}readValueFromInstance(e,t){if(Yp.has(t)){const r=HC(t);return r&&r.default||0}else{const r=jG(e),i=(zO(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return AF(e,t)}build(e,t,r){lR(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return oR(e,t,r)}}class GG extends QF{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Yi}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Yp.has(t)){const r=HC(t);return r&&r.default||0}return t=jF.has(t)?t:eR(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return $F(e,t,r)}build(e,t,r){cR(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,i){WF(e,t,r,i)}mount(e){this.isSVGTag=uR(e.tagName),super.mount(e)}}const $G=(n,e)=>sR(n)?new GG(e):new WG(e,{allowProjection:n!==z.Fragment}),XG=FG({...PW,...iG,...X9,...sG},$G),Pp=P6(XG);class qG extends z.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function YG({children:n,isPresent:e}){const t=z.useId(),r=z.useRef(null),i=z.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=z.useContext(BS);return z.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=t;const f=document.createElement("style");return s&&(f.nonce=s),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[e]),N.jsx(qG,{isPresent:e,childRef:r,sizeRef:i,children:z.cloneElement(n,{ref:r})})}const KG=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=o0(ZG),l=z.useId(),c=z.useCallback(h=>{a.set(h,!0);for(const p of a.values())if(!p)return;r&&r()},[a,r]),f=z.useMemo(()=>({id:l,initial:e,isPresent:t,custom:i,onExitComplete:c,register:h=>(a.set(h,!1),()=>a.delete(h))}),s?[Math.random(),c]:[t,c]);return z.useMemo(()=>{a.forEach((h,p)=>a.set(p,!1))},[t]),z.useEffect(()=>{!t&&!a.size&&r&&r()},[t]),o==="popLayout"&&(n=N.jsx(YG,{isPresent:t,children:n})),N.jsx(US.Provider,{value:f,children:n})};function ZG(){return new Map}const __=n=>n.key||"";function xI(n){const e=[];return z.Children.forEach(n,t=>{z.isValidElement(t)&&e.push(t)}),e}const eU=({children:n,exitBeforeEnter:e,custom:t,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=z.useMemo(()=>xI(n),[n]),l=a.map(__),c=z.useRef(!0),f=z.useRef(a),h=o0(()=>new Map),[p,v]=z.useState(a),[y,w]=z.useState(a);VS(()=>{c.current=!1,f.current=a;for(let A=0;A<y.length;A++){const R=__(y[A]);l.includes(R)?h.delete(R):h.get(R)!==!0&&h.set(R,!1)}},[y,l.length,l.join("-")]);const S=[];if(a!==p){let A=[...a];for(let R=0;R<y.length;R++){const P=y[R],U=__(P);l.includes(U)||(A.splice(R,0,P),S.push(P))}o==="wait"&&S.length&&(A=S),w(xI(A)),v(a);return}const{forceRender:_}=z.useContext(nR);return N.jsx(N.Fragment,{children:y.map(A=>{const R=__(A),P=a===y||l.includes(R),U=()=>{if(h.has(R))h.set(R,!0);else return;let k=!0;h.forEach(E=>{E||(k=!1)}),k&&(_==null||_(),w(f.current),i&&i())};return N.jsx(KG,{isPresent:P,initial:!c.current||r?void 0:!1,custom:P?void 0:t,presenceAffectsLayout:s,mode:o,onExitComplete:P?void 0:U,children:A},R)})})};function JG(n){const e=o0(()=>Zc(n)),{isStatic:t}=z.useContext(BS);if(t){const[,r]=z.useState(n);z.useEffect(()=>e.on("change",r),[])}return e}function tU(n,e){const t=JG(e()),r=()=>t.set(e());return r(),VS(()=>{const i=()=>Hr.preRender(r,!1,!0),s=n.map(o=>o.on("change",i));return()=>{s.forEach(o=>o()),Tc(r)}}),t}const QG=n=>n&&typeof n=="object"&&n.mix,e$=n=>QG(n)?n.mix:void 0;function t$(...n){const e=!Array.isArray(n[0]),t=e?0:-1,r=n[0+t],i=n[1+t],s=n[2+t],o=n[3+t],a=XC(i,s,{mixer:e$(s[0]),...o});return e?a(r):a}function n$(n){Gv.current=[],n();const e=tU(Gv.current,n);return Gv.current=void 0,e}function W1(n,e,t,r){if(typeof n=="function")return n$(n);const i=typeof e=="function"?e:t$(e,t,r);return Array.isArray(n)?_I(n,i):_I([n],([s])=>i(s))}function _I(n,e){const t=o0(()=>[]);return tU(n,()=>{t.length=0;const r=n.length;for(let i=0;i<r;i++)t[i]=n[i].get();return e(t)})}const G1=new WeakMap;let hd;function r$(n,e){if(e){const{inlineSize:t,blockSize:r}=e[0];return{width:t,height:r}}else return n instanceof SVGElement&&"getBBox"in n?n.getBBox():{width:n.offsetWidth,height:n.offsetHeight}}function i$({target:n,contentRect:e,borderBoxSize:t}){var r;(r=G1.get(n))===null||r===void 0||r.forEach(i=>{i({target:n,contentSize:e,get size(){return r$(n,t)}})})}function s$(n){n.forEach(i$)}function o$(){typeof ResizeObserver>"u"||(hd=new ResizeObserver(s$))}function a$(n,e){hd||o$();const t=vF(n);return t.forEach(r=>{let i=G1.get(r);i||(i=new Set,G1.set(r,i)),i.add(e),hd==null||hd.observe(r)}),()=>{t.forEach(r=>{const i=G1.get(r);i==null||i.delete(e),i!=null&&i.size||hd==null||hd.unobserve(r)})}}const $1=new Set;let Yv;function l$(){Yv=()=>{const n={width:window.innerWidth,height:window.innerHeight},e={target:window,size:n,contentSize:n};$1.forEach(t=>t(e))},window.addEventListener("resize",Yv)}function c$(n){return $1.add(n),Yv||l$(),()=>{$1.delete(n),!$1.size&&Yv&&(Yv=void 0)}}function u$(n,e){return typeof n=="function"?c$(n):a$(n,e)}const f$=50,wI=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),d$=()=>({time:0,x:wI(),y:wI()}),h$={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function SI(n,e,t,r){const i=t[e],{length:s,position:o}=h$[e],a=i.current,l=t.time;i.current=n[`scroll${o}`],i.scrollLength=n[`scroll${s}`]-n[`client${s}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Rp(0,i.scrollLength,i.current);const c=r-l;i.velocity=c>f$?0:WC(i.current-a,c)}function p$(n,e,t){SI(n,"x",e,t),SI(n,"y",e,t),e.time=t}function m$(n,e){const t={x:0,y:0};let r=n;for(;r&&r!==e;)if(r instanceof HTMLElement)t.x+=r.offsetLeft,t.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const i=r.getBoundingClientRect();r=r.parentElement;const s=r.getBoundingClientRect();t.x+=i.left-s.left,t.y+=i.top-s.top}else if(r instanceof SVGGraphicsElement){const{x:i,y:s}=r.getBBox();t.x+=i,t.y+=s;let o=null,a=r.parentNode;for(;!o;)a.tagName==="svg"&&(o=a),a=r.parentNode;r=o}else break;return t}const g$={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},tA={start:0,center:.5,end:1};function bI(n,e,t=0){let r=0;if(n in tA&&(n=tA[n]),typeof n=="string"){const i=parseFloat(n);n.endsWith("px")?r=i:n.endsWith("%")?n=i/100:n.endsWith("vw")?r=i/100*document.documentElement.clientWidth:n.endsWith("vh")?r=i/100*document.documentElement.clientHeight:n=i}return typeof n=="number"&&(r=e*n),t+r}const v$=[0,0];function y$(n,e,t,r){let i=Array.isArray(n)?n:v$,s=0,o=0;return typeof n=="number"?i=[n,n]:typeof n=="string"&&(n=n.trim(),n.includes(" ")?i=n.split(" "):i=[n,tA[n]?n:"0"]),s=bI(i[0],t,r),o=bI(i[1],e),s-o}const x$={x:0,y:0};function _$(n){return"getBBox"in n&&n.tagName!=="svg"?n.getBBox():{width:n.clientWidth,height:n.clientHeight}}function w$(n,e,t){const{offset:r=g$.All}=t,{target:i=n,axis:s="y"}=t,o=s==="y"?"height":"width",a=i!==n?m$(i,n):x$,l=i===n?{width:n.scrollWidth,height:n.scrollHeight}:_$(i),c={width:n.clientWidth,height:n.clientHeight};e[s].offset.length=0;let f=!e[s].interpolate;const h=r.length;for(let p=0;p<h;p++){const v=y$(r[p],c[o],l[o],a[s]);!f&&v!==e[s].interpolatorOffsets[p]&&(f=!0),e[s].offset[p]=v}f&&(e[s].interpolate=XC(e[s].offset,aF(r)),e[s].interpolatorOffsets=[...e[s].offset]),e[s].progress=e[s].interpolate(e[s].current)}function S$(n,e=n,t){if(t.x.targetOffset=0,t.y.targetOffset=0,e!==n){let r=e;for(;r&&r!==n;)t.x.targetOffset+=r.offsetLeft,t.y.targetOffset+=r.offsetTop,r=r.offsetParent}t.x.targetLength=e===n?e.scrollWidth:e.clientWidth,t.y.targetLength=e===n?e.scrollHeight:e.clientHeight,t.x.containerLength=n.clientWidth,t.y.containerLength=n.clientHeight}function b$(n,e,t,r={}){return{measure:()=>S$(n,r.target,t),update:i=>{p$(n,t,i),(r.offset||r.target)&&w$(n,t,r)},notify:()=>e(t)}}const sv=new WeakMap,EI=new WeakMap,CE=new WeakMap,TI=n=>n===document.documentElement?window:n;function fR(n,{container:e=document.documentElement,...t}={}){let r=CE.get(e);r||(r=new Set,CE.set(e,r));const i=d$(),s=b$(e,n,i,t);if(r.add(s),!sv.has(e)){const a=()=>{for(const p of r)p.measure()},l=()=>{for(const p of r)p.update(zs.timestamp)},c=()=>{for(const p of r)p.notify()},f=()=>{Hr.read(a,!1,!0),Hr.read(l,!1,!0),Hr.update(c,!1,!0)};sv.set(e,f);const h=TI(e);window.addEventListener("resize",f,{passive:!0}),e!==document.documentElement&&EI.set(e,u$(e,f)),h.addEventListener("scroll",f,{passive:!0})}const o=sv.get(e);return Hr.read(o,!1,!0),()=>{var a;Tc(o);const l=CE.get(e);if(!l||(l.delete(s),l.size))return;const c=sv.get(e);sv.delete(e),c&&(TI(e).removeEventListener("scroll",c),(a=EI.get(e))===null||a===void 0||a(),window.removeEventListener("resize",c))}}function nU(n,e){let t;const r=()=>{const{currentTime:i}=e,o=(i===null?0:i.value)/100;t!==o&&n(o),t=o};return Hr.update(r,!0),()=>Tc(r)}function E$({source:n,container:e,axis:t="y"}){n&&(e=n);const r={value:0},i=fR(s=>{r.value=s[t].progress*100},{container:e,axis:t});return{currentTime:r,cancel:i}}const RE=new Map;function rU({source:n,container:e=document.documentElement,axis:t="y"}={}){n&&(e=n),RE.has(e)||RE.set(e,{});const r=RE.get(e);return r[t]||(r[t]=fF()?new ScrollTimeline({source:e,axis:t}):E$({source:e,axis:t})),r[t]}function T$(n){return n.length===2}function iU(n){return n&&(n.target||n.offset)}function M$(n,e){return T$(n)||iU(e)?fR(t=>{n(t[e.axis].progress,t)},e):nU(n,rU(e))}function A$(n,e){if(n.flatten(),iU(e))return n.pause(),fR(t=>{n.time=n.duration*t[e.axis].progress},e);{const t=rU(e);return n.attachTimeline?n.attachTimeline(t,r=>(r.pause(),nU(i=>{r.time=r.duration*i},t))):Qo}}function C$(n,{axis:e="y",...t}={}){const r={axis:e,...t};return typeof n=="function"?M$(n,r):A$(n,r)}function MI(n,e){U6(!!(!e||e.current))}const R$=()=>({scrollX:Zc(0),scrollY:Zc(0),scrollXProgress:Zc(0),scrollYProgress:Zc(0)});function sU({container:n,target:e,layoutEffect:t=!0,...r}={}){const i=o0(R$);return(t?VS:z.useEffect)(()=>(MI("target",e),MI("container",n),C$((o,{x:a,y:l})=>{i.scrollX.set(a.current),i.scrollXProgress.set(a.progress),i.scrollY.set(l.current),i.scrollYProgress.set(l.progress)},{...r,container:(n==null?void 0:n.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[n,e,JSON.stringify(r.offset)]),i}var PE,AI;function P$(){if(AI)return PE;AI=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var a,l,c;if(Array.isArray(s)){if(a=s.length,a!=o.length)return!1;for(l=a;l--!==0;)if(!i(s[l],o[l]))return!1;return!0}var f;if(e&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(f=s.entries();!(l=f.next()).done;)if(!o.has(l.value[0]))return!1;for(f=s.entries();!(l=f.next()).done;)if(!i(l.value[1],o.get(l.value[0])))return!1;return!0}if(t&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(f=s.entries();!(l=f.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(a=s.length,a!=o.length)return!1;for(l=a;l--!==0;)if(s[l]!==o[l])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(c=Object.keys(s),a=c.length,a!==Object.keys(o).length)return!1;for(l=a;l--!==0;)if(!Object.prototype.hasOwnProperty.call(o,c[l]))return!1;if(n&&s instanceof Element)return!1;for(l=a;l--!==0;)if(!((c[l]==="_owner"||c[l]==="__v"||c[l]==="__o")&&s.$$typeof)&&!i(s[c[l]],o[c[l]]))return!1;return!0}return s!==s&&o!==o}return PE=function(o,a){try{return i(o,a)}catch(l){if((l.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw l}},PE}var I$=P$();const L$=Vl(I$);var IE,CI;function D$(){if(CI)return IE;CI=1;var n=function(e,t,r,i,s,o,a,l){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[r,i,s,o,a,l],h=0;c=new Error(t.replace(/%s/g,function(){return f[h++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};return IE=n,IE}var N$=D$();const RI=Vl(N$);var LE,PI;function k$(){return PI||(PI=1,LE=function(e,t,r,i){var s=r?r.call(i,e,t):void 0;if(s!==void 0)return!!s;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var f=o[c];if(!l(f))return!1;var h=e[f],p=t[f];if(s=r?r.call(i,h,p,f):void 0,s===!1||s===void 0&&h!==p)return!1}return!0}),LE}var O$=k$();const F$=Vl(O$);var oU=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(oU||{}),DE={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},II=Object.values(oU),dR={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},U$=Object.entries(dR).reduce((n,[e,t])=>(n[t]=e,n),{}),wc="data-rh",bg={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Eg=(n,e)=>{for(let t=n.length-1;t>=0;t-=1){const r=n[t];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},B$=n=>{let e=Eg(n,"title");const t=Eg(n,bg.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const r=Eg(n,bg.DEFAULT_TITLE);return e||r||void 0},z$=n=>Eg(n,bg.ON_CHANGE_CLIENT_STATE)||(()=>{}),NE=(n,e)=>e.filter(t=>typeof t[n]<"u").map(t=>t[n]).reduce((t,r)=>({...t,...r}),{}),V$=(n,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,r)=>{if(!t.length){const i=Object.keys(r);for(let s=0;s<i.length;s+=1){const a=i[s].toLowerCase();if(n.indexOf(a)!==-1&&r[a])return t.concat(r)}}return t},[]),H$=n=>console&&typeof console.warn=="function"&&console.warn(n),ov=(n,e,t)=>{const r={};return t.filter(i=>Array.isArray(i[n])?!0:(typeof i[n]<"u"&&H$(`Helmet: ${n} should be of type "Array". Instead found type "${typeof i[n]}"`),!1)).map(i=>i[n]).reverse().reduce((i,s)=>{const o={};s.filter(l=>{let c;const f=Object.keys(l);for(let p=0;p<f.length;p+=1){const v=f[p],y=v.toLowerCase();e.indexOf(y)!==-1&&!(c==="rel"&&l[c].toLowerCase()==="canonical")&&!(y==="rel"&&l[y].toLowerCase()==="stylesheet")&&(c=y),e.indexOf(v)!==-1&&(v==="innerHTML"||v==="cssText"||v==="itemprop")&&(c=v)}if(!c||!l[c])return!1;const h=l[c].toLowerCase();return r[c]||(r[c]={}),o[c]||(o[c]={}),r[c][h]?!1:(o[c][h]=!0,!0)}).reverse().forEach(l=>i.push(l));const a=Object.keys(o);for(let l=0;l<a.length;l+=1){const c=a[l],f={...r[c],...o[c]};r[c]=f}return i},[]).reverse()},j$=(n,e)=>{if(Array.isArray(n)&&n.length){for(let t=0;t<n.length;t+=1)if(n[t][e])return!0}return!1},W$=n=>({baseTag:V$(["href"],n),bodyAttributes:NE("bodyAttributes",n),defer:Eg(n,bg.DEFER),encode:Eg(n,bg.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:NE("htmlAttributes",n),linkTags:ov("link",["rel","href"],n),metaTags:ov("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:ov("noscript",["innerHTML"],n),onChangeClientState:z$(n),scriptTags:ov("script",["src","innerHTML"],n),styleTags:ov("style",["cssText"],n),title:B$(n),titleAttributes:NE("titleAttributes",n),prioritizeSeoTags:j$(n,bg.PRIORITIZE_SEO_TAGS)}),aU=n=>Array.isArray(n)?n.join(""):n,G$=(n,e)=>{const t=Object.keys(n);for(let r=0;r<t.length;r+=1)if(e[t[r]]&&e[t[r]].includes(n[t[r]]))return!0;return!1},kE=(n,e)=>Array.isArray(n)?n.reduce((t,r)=>(G$(r,e)?t.priority.push(r):t.default.push(r),t),{priority:[],default:[]}):{default:n,priority:[]},LI=(n,e)=>({...n,[e]:void 0}),$$=["noscript","script","style"],nA=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),lU=n=>Object.keys(n).reduce((e,t)=>{const r=typeof n[t]<"u"?`${t}="${n[t]}"`:`${t}`;return e?`${e} ${r}`:r},""),X$=(n,e,t,r)=>{const i=lU(t),s=aU(e);return i?`<${n} ${wc}="true" ${i}>${nA(s,r)}</${n}>`:`<${n} ${wc}="true">${nA(s,r)}</${n}>`},q$=(n,e,t=!0)=>e.reduce((r,i)=>{const s=i,o=Object.keys(s).filter(c=>!(c==="innerHTML"||c==="cssText")).reduce((c,f)=>{const h=typeof s[f]>"u"?f:`${f}="${nA(s[f],t)}"`;return c?`${c} ${h}`:h},""),a=s.innerHTML||s.cssText||"",l=$$.indexOf(n)===-1;return`${r}<${n} ${wc}="true" ${o}${l?"/>":`>${a}</${n}>`}`},""),cU=(n,e={})=>Object.keys(n).reduce((t,r)=>{const i=dR[r];return t[i||r]=n[r],t},e),Y$=(n,e,t)=>{const r={key:e,[wc]:!0},i=cU(t,r);return[Te.createElement("title",i,e)]},X1=(n,e)=>e.map((t,r)=>{const i={key:r,[wc]:!0};return Object.keys(t).forEach(s=>{const a=dR[s]||s;if(a==="innerHTML"||a==="cssText"){const l=t.innerHTML||t.cssText;i.dangerouslySetInnerHTML={__html:l}}else i[a]=t[s]}),Te.createElement(n,i)}),Al=(n,e,t=!0)=>{switch(n){case"title":return{toComponent:()=>Y$(n,e.title,e.titleAttributes),toString:()=>X$(n,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>cU(e),toString:()=>lU(e)};default:return{toComponent:()=>X1(n,e),toString:()=>q$(n,e,t)}}},K$=({metaTags:n,linkTags:e,scriptTags:t,encode:r})=>{const i=kE(n,DE.meta),s=kE(e,DE.link),o=kE(t,DE.script);return{priorityMethods:{toComponent:()=>[...X1("meta",i.priority),...X1("link",s.priority),...X1("script",o.priority)],toString:()=>`${Al("meta",i.priority,r)} ${Al("link",s.priority,r)} ${Al("script",o.priority,r)}`},metaTags:i.default,linkTags:s.default,scriptTags:o.default}},Z$=n=>{const{baseTag:e,bodyAttributes:t,encode:r=!0,htmlAttributes:i,noscriptTags:s,styleTags:o,title:a="",titleAttributes:l,prioritizeSeoTags:c}=n;let{linkTags:f,metaTags:h,scriptTags:p}=n,v={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:v,linkTags:f,metaTags:h,scriptTags:p}=K$(n)),{priority:v,base:Al("base",e,r),bodyAttributes:Al("bodyAttributes",t,r),htmlAttributes:Al("htmlAttributes",i,r),link:Al("link",f,r),meta:Al("meta",h,r),noscript:Al("noscript",s,r),script:Al("script",p,r),style:Al("style",o,r),title:Al("title",{title:a,titleAttributes:l},r)}},rA=Z$,w_=[],uU=!!(typeof window<"u"&&window.document&&window.document.createElement),iA=class{constructor(n,e){An(this,"instances",[]);An(this,"canUseDOM",uU);An(this,"context");An(this,"value",{setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?w_:this.instances,add:n=>{(this.canUseDOM?w_:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?w_:this.instances).indexOf(n);(this.canUseDOM?w_:this.instances).splice(e,1)}}});this.context=n,this.canUseDOM=e||!1,e||(n.helmet=rA({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},J$={},fU=Te.createContext(J$),hp,dU=(hp=class extends z.Component{constructor(t){super(t);An(this,"helmetData");this.helmetData=new iA(this.props.context||{},hp.canUseDOM)}render(){return Te.createElement(fU.Provider,{value:this.helmetData.value},this.props.children)}},An(hp,"canUseDOM",uU),hp),Dm=(n,e)=>{const t=document.head||document.querySelector("head"),r=t.querySelectorAll(`${n}[${wc}]`),i=[].slice.call(r),s=[];let o;return e&&e.length&&e.forEach(a=>{const l=document.createElement(n);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c))if(c==="innerHTML")l.innerHTML=a.innerHTML;else if(c==="cssText")l.styleSheet?l.styleSheet.cssText=a.cssText:l.appendChild(document.createTextNode(a.cssText));else{const f=c,h=typeof a[f]>"u"?"":a[f];l.setAttribute(c,h)}l.setAttribute(wc,"true"),i.some((c,f)=>(o=f,l.isEqualNode(c)))?i.splice(o,1):s.push(l)}),i.forEach(a=>{var l;return(l=a.parentNode)==null?void 0:l.removeChild(a)}),s.forEach(a=>t.appendChild(a)),{oldTags:i,newTags:s}},sA=(n,e)=>{const t=document.getElementsByTagName(n)[0];if(!t)return;const r=t.getAttribute(wc),i=r?r.split(","):[],s=[...i],o=Object.keys(e);for(const a of o){const l=e[a]||"";t.getAttribute(a)!==l&&t.setAttribute(a,l),i.indexOf(a)===-1&&i.push(a);const c=s.indexOf(a);c!==-1&&s.splice(c,1)}for(let a=s.length-1;a>=0;a-=1)t.removeAttribute(s[a]);i.length===s.length?t.removeAttribute(wc):t.getAttribute(wc)!==o.join(",")&&t.setAttribute(wc,o.join(","))},Q$=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=aU(n)),sA("title",e)},DI=(n,e)=>{const{baseTag:t,bodyAttributes:r,htmlAttributes:i,linkTags:s,metaTags:o,noscriptTags:a,onChangeClientState:l,scriptTags:c,styleTags:f,title:h,titleAttributes:p}=n;sA("body",r),sA("html",i),Q$(h,p);const v={baseTag:Dm("base",t),linkTags:Dm("link",s),metaTags:Dm("meta",o),noscriptTags:Dm("noscript",a),scriptTags:Dm("script",c),styleTags:Dm("style",f)},y={},w={};Object.keys(v).forEach(S=>{const{newTags:_,oldTags:A}=v[S];_.length&&(y[S]=_),A.length&&(w[S]=v[S].oldTags)}),e&&e(),l(n,y,w)},av=null,e7=n=>{av&&cancelAnimationFrame(av),n.defer?av=requestAnimationFrame(()=>{DI(n,()=>{av=null})}):(DI(n),av=null)},t7=e7,NI=class extends z.Component{constructor(){super(...arguments);An(this,"rendered",!1)}shouldComponentUpdate(e){return!F$(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const i=W$(e.get().map(s=>{const o={...s.props};return delete o.context,o}));dU.canUseDOM?t7(i):rA&&(r=rA(i)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},kM,Hl=(kM=class extends z.Component{shouldComponentUpdate(n){return!L$(LI(this.props,"helmetData"),LI(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,t,r){return{...e,[n.type]:[...e[n.type]||[],{...t,...this.mapNestedChildrenToProps(n,r)}]}}mapObjectTypeChildren(n,e,t,r){switch(n.type){case"title":return{...e,[n.type]:r,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[n.type]:{...t}}}}mapArrayTypeChildrenToProps(n,e){let t={...e};return Object.keys(n).forEach(r=>{t={...t,[r]:n[r]}}),t}warnOnInvalidChildren(n,e){return RI(II.some(t=>n.type===t),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${II.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),RI(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let t={};return Te.Children.forEach(n,r=>{if(!r||!r.props)return;const{children:i,...s}=r.props,o=Object.keys(s).reduce((l,c)=>(l[U$[c]||c]=s[c],l),{});let{type:a}=r;switch(typeof a=="symbol"?a=a.toString():this.warnOnInvalidChildren(r,i),a){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(r,t,o,i);break;default:e=this.mapObjectTypeChildren(r,e,o,i);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:n,...e}=this.props;let t={...e},{helmetData:r}=e;if(n&&(t=this.mapChildrenToProps(n,t)),r&&!(r instanceof iA)){const i=r;r=new iA(i.context,!0),delete t.helmetData}return r?Te.createElement(NI,{...t,context:r.value}):Te.createElement(fU.Consumer,null,i=>Te.createElement(NI,{...t,context:i}))}},An(kM,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),kM);function vw(){return vw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vw.apply(null,arguments)}/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const lx="171",qh={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Yh={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},hU=0,oA=1,pU=2,n7=3,mU=0,jS=1,Kv=2,yc=3,fu=0,ea=1,Dl=2,iu=0,mp=1,aA=2,lA=3,cA=4,gU=5,vd=100,vU=101,yU=102,xU=103,_U=104,wU=200,SU=201,bU=202,EU=203,yw=204,xw=205,TU=206,MU=207,AU=208,CU=209,RU=210,PU=211,IU=212,LU=213,DU=214,_w=0,ww=1,Sw=2,Ip=3,bw=4,Ew=5,Tw=6,Mw=7,cx=0,NU=1,kU=2,su=0,OU=1,FU=2,UU=3,hR=4,BU=5,zU=6,VU=7,uA="attached",HU="detached",Id=300,du=301,Ld=302,Bg=303,My=304,a0=306,Dd=1e3,Zi=1001,zg=1002,Ts=1003,WS=1004,r7=1004,rp=1005,i7=1005,Ur=1006,Tg=1007,s7=1007,kl=1008,fA=1008,ba=1009,GS=1010,$S=1011,Vg=1012,ux=1013,hu=1014,Di=1015,js=1016,XS=1017,qS=1018,Lp=1020,pR=35902,mR=1021,gR=1022,Ji=1023,vR=1024,yR=1025,gp=1026,Dp=1027,fx=1028,dx=1029,xR=1030,YS=1031,o7=1032,KS=1033,Zv=33776,Jv=33777,Qv=33778,ey=33779,Aw=35840,Cw=35841,Rw=35842,Pw=35843,Iw=36196,Lw=37492,Dw=37496,Nw=37808,kw=37809,Ow=37810,Fw=37811,Uw=37812,Bw=37813,zw=37814,Vw=37815,Hw=37816,jw=37817,Ww=37818,Gw=37819,$w=37820,Xw=37821,ty=36492,qw=36494,Yw=36495,_R=36283,Kw=36284,Zw=36285,Jw=36286,jU=2200,WU=2201,GU=2202,Hg=2300,jg=2301,q1=2302,ip=2400,sp=2401,Ay=2402,ZS=2500,wR=2501,$U=0,SR=1,Qw=2,XU=3200,qU=3201,a7=3202,l7=3203,Wd=0,YU=1,rf="",ds="srgb",Ms="srgb-linear",Cy="linear",Yr="srgb",c7=0,Kh=7680,u7=7681,f7=7682,d7=7683,h7=34055,p7=34056,m7=5386,g7=512,v7=513,y7=514,x7=515,_7=516,w7=517,S7=518,dA=519,KU=512,ZU=513,JU=514,bR=515,QU=516,e4=517,t4=518,n4=519,Ry=35044,b7=35048,E7=35040,T7=35045,M7=35049,A7=35041,C7=35046,R7=35050,P7=35042,I7="100",hA="300 es",Jc=2e3,Py=2001;let yu=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}};const fo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let kI=1234567;const vp=Math.PI/180,Wg=180/Math.PI;function el(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(fo[n&255]+fo[n>>8&255]+fo[n>>16&255]+fo[n>>24&255]+"-"+fo[e&255]+fo[e>>8&255]+"-"+fo[e>>16&15|64]+fo[e>>24&255]+"-"+fo[t&63|128]+fo[t>>8&255]+"-"+fo[t>>16&255]+fo[t>>24&255]+fo[r&255]+fo[r>>8&255]+fo[r>>16&255]+fo[r>>24&255]).toLowerCase()}function ir(n,e,t){return Math.max(e,Math.min(t,n))}function ER(n,e){return(n%e+e)%e}function L7(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function D7(n,e,t){return n!==e?(t-n)/(e-n):0}function ny(n,e,t){return(1-t)*n+t*e}function N7(n,e,t,r){return ny(n,e,1-Math.exp(-t*r))}function k7(n,e=1){return e-Math.abs(ER(n,e*2)-e)}function O7(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function F7(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function U7(n,e){return n+Math.floor(Math.random()*(e-n+1))}function B7(n,e){return n+Math.random()*(e-n)}function z7(n){return n*(.5-Math.random())}function V7(n){n!==void 0&&(kI=n);let e=kI+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function H7(n){return n*vp}function j7(n){return n*Wg}function W7(n){return(n&n-1)===0&&n!==0}function G7(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function $7(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function X7(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+r)/2),f=o((e+r)/2),h=s((e-r)/2),p=o((e-r)/2),v=s((r-e)/2),y=o((r-e)/2);switch(i){case"XYX":n.set(a*f,l*h,l*p,a*c);break;case"YZY":n.set(l*p,a*f,l*h,a*c);break;case"ZXZ":n.set(l*h,l*p,a*f,a*c);break;case"XZX":n.set(a*f,l*y,l*v,a*c);break;case"YXY":n.set(l*v,a*f,l*y,a*c);break;case"ZYZ":n.set(l*y,l*v,a*f,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Xo(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function fr(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const r4={DEG2RAD:vp,RAD2DEG:Wg,generateUUID:el,clamp:ir,euclideanModulo:ER,mapLinear:L7,inverseLerp:D7,lerp:ny,damp:N7,pingpong:k7,smoothstep:O7,smootherstep:F7,randInt:U7,randFloat:B7,randFloatSpread:z7,seededRandom:V7,degToRad:H7,radToDeg:j7,isPowerOfTwo:W7,ceilPowerOfTwo:G7,floorPowerOfTwo:$7,setQuaternionFromProperEuler:X7,normalize:fr,denormalize:Xo};class gt{constructor(e=0,t=0){gt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=ir(this.x,e.x,t.x),this.y=ir(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=ir(this.x,e,t),this.y=ir(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(ir(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(ir(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class or{constructor(e,t,r,i,s,o,a,l,c){or.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,o,a,l,c)}set(e,t,r,i,s,o,a,l,c){const f=this.elements;return f[0]=e,f[1]=i,f[2]=a,f[3]=t,f[4]=s,f[5]=l,f[6]=r,f[7]=o,f[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],f=r[4],h=r[7],p=r[2],v=r[5],y=r[8],w=i[0],S=i[3],_=i[6],A=i[1],R=i[4],P=i[7],U=i[2],k=i[5],E=i[8];return s[0]=o*w+a*A+l*U,s[3]=o*S+a*R+l*k,s[6]=o*_+a*P+l*E,s[1]=c*w+f*A+h*U,s[4]=c*S+f*R+h*k,s[7]=c*_+f*P+h*E,s[2]=p*w+v*A+y*U,s[5]=p*S+v*R+y*k,s[8]=p*_+v*P+y*E,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],f=e[8];return t*o*f-t*a*c-r*s*f+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],f=e[8],h=f*o-a*c,p=a*l-f*s,v=c*s-o*l,y=t*h+r*p+i*v;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const w=1/y;return e[0]=h*w,e[1]=(i*c-f*r)*w,e[2]=(a*r-i*o)*w,e[3]=p*w,e[4]=(f*t-i*l)*w,e[5]=(i*s-a*t)*w,e[6]=v*w,e[7]=(r*l-c*t)*w,e[8]=(o*t-r*s)*w,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(OE.makeScale(e,t)),this}rotate(e){return this.premultiply(OE.makeRotation(-e)),this}translate(e,t){return this.premultiply(OE.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const OE=new or;function i4(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const q7={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function mg(n,e){return new q7[n](e)}function Iy(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function s4(){const n=Iy("canvas");return n.style.display="block",n}const OI={};function sg(n){n in OI||(OI[n]=!0,console.warn(n))}function Y7(n,e,t){return new Promise(function(r,i){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:i();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:r()}}setTimeout(s,t)})}function K7(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function Z7(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const FI=new or().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),UI=new or().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function J7(){const n={enabled:!0,workingColorSpace:Ms,spaces:{},convert:function(i,s,o){return this.enabled===!1||s===o||!s||!o||(this.spaces[s].transfer===Yr&&(i.r=pf(i.r),i.g=pf(i.g),i.b=pf(i.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===Yr&&(i.r=Mg(i.r),i.g=Mg(i.g),i.b=Mg(i.b))),i},fromWorkingColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},toWorkingColorSpace:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===rf?Cy:this.spaces[i].transfer},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,o){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[Ms]:{primaries:e,whitePoint:r,transfer:Cy,toXYZ:FI,fromXYZ:UI,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:ds},outputColorSpaceConfig:{drawingBufferColorSpace:ds}},[ds]:{primaries:e,whitePoint:r,transfer:Yr,toXYZ:FI,fromXYZ:UI,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:ds}}}),n}const Tr=J7();function pf(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Mg(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Nm;class o4{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Nm===void 0&&(Nm=Iy("canvas")),Nm.width=e.width,Nm.height=e.height;const r=Nm.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=Nm}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Iy("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=pf(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(pf(t[r]/255)*255):t[r]=pf(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Q7=0;class op{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Q7++}),this.uuid=el(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(FE(i[o].image)):s.push(FE(i[o]))}else s=FE(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function FE(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?o4.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let eX=0;class Br extends yu{constructor(e=Br.DEFAULT_IMAGE,t=Br.DEFAULT_MAPPING,r=Zi,i=Zi,s=Ur,o=kl,a=Ji,l=ba,c=Br.DEFAULT_ANISOTROPY,f=rf){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:eX++}),this.uuid=el(),this.name="",this.source=new op(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new gt(0,0),this.repeat=new gt(1,1),this.center=new gt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new or,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=f,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Id)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Dd:e.x=e.x-Math.floor(e.x);break;case Zi:e.x=e.x<0?0:1;break;case zg:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Dd:e.y=e.y-Math.floor(e.y);break;case Zi:e.y=e.y<0?0:1;break;case zg:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Br.DEFAULT_IMAGE=null;Br.DEFAULT_MAPPING=Id;Br.DEFAULT_ANISOTROPY=1;class Or{constructor(e=0,t=0,r=0,i=1){Or.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],f=l[4],h=l[8],p=l[1],v=l[5],y=l[9],w=l[2],S=l[6],_=l[10];if(Math.abs(f-p)<.01&&Math.abs(h-w)<.01&&Math.abs(y-S)<.01){if(Math.abs(f+p)<.1&&Math.abs(h+w)<.1&&Math.abs(y+S)<.1&&Math.abs(c+v+_-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const R=(c+1)/2,P=(v+1)/2,U=(_+1)/2,k=(f+p)/4,E=(h+w)/4,j=(y+S)/4;return R>P&&R>U?R<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(R),i=k/r,s=E/r):P>U?P<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(P),r=k/i,s=j/i):U<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(U),r=E/s,i=j/s),this.set(r,i,s,t),this}let A=Math.sqrt((S-y)*(S-y)+(h-w)*(h-w)+(p-f)*(p-f));return Math.abs(A)<.001&&(A=1),this.x=(S-y)/A,this.y=(h-w)/A,this.z=(p-f)/A,this.w=Math.acos((c+v+_-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=ir(this.x,e.x,t.x),this.y=ir(this.y,e.y,t.y),this.z=ir(this.z,e.z,t.z),this.w=ir(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=ir(this.x,e,t),this.y=ir(this.y,e,t),this.z=ir(this.z,e,t),this.w=ir(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(ir(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class a4 extends yu{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Or(0,0,e,t),this.scissorTest=!1,this.viewport=new Or(0,0,e,t);const i={width:e,height:t,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ur,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const s=new Br(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);s.flipY=!1,s.generateMipmaps=r.generateMipmaps,s.internalFormat=r.internalFormat,this.textures=[];const o=r.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new op(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class il extends a4{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class JS extends Br{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Ts,this.minFilter=Ts,this.wrapR=Zi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class tX extends il{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new JS(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class TR extends Br{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Ts,this.minFilter=Ts,this.wrapR=Zi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class nX extends il{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new TR(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class Ws{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],f=r[i+2],h=r[i+3];const p=s[o+0],v=s[o+1],y=s[o+2],w=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=f,e[t+3]=h;return}if(a===1){e[t+0]=p,e[t+1]=v,e[t+2]=y,e[t+3]=w;return}if(h!==w||l!==p||c!==v||f!==y){let S=1-a;const _=l*p+c*v+f*y+h*w,A=_>=0?1:-1,R=1-_*_;if(R>Number.EPSILON){const U=Math.sqrt(R),k=Math.atan2(U,_*A);S=Math.sin(S*k)/U,a=Math.sin(a*k)/U}const P=a*A;if(l=l*S+p*P,c=c*S+v*P,f=f*S+y*P,h=h*S+w*P,S===1-a){const U=1/Math.sqrt(l*l+c*c+f*f+h*h);l*=U,c*=U,f*=U,h*=U}}e[t]=l,e[t+1]=c,e[t+2]=f,e[t+3]=h}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],f=r[i+3],h=s[o],p=s[o+1],v=s[o+2],y=s[o+3];return e[t]=a*y+f*h+l*v-c*p,e[t+1]=l*y+f*p+c*h-a*v,e[t+2]=c*y+f*v+a*p-l*h,e[t+3]=f*y-a*h-l*p-c*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),f=a(i/2),h=a(s/2),p=l(r/2),v=l(i/2),y=l(s/2);switch(o){case"XYZ":this._x=p*f*h+c*v*y,this._y=c*v*h-p*f*y,this._z=c*f*y+p*v*h,this._w=c*f*h-p*v*y;break;case"YXZ":this._x=p*f*h+c*v*y,this._y=c*v*h-p*f*y,this._z=c*f*y-p*v*h,this._w=c*f*h+p*v*y;break;case"ZXY":this._x=p*f*h-c*v*y,this._y=c*v*h+p*f*y,this._z=c*f*y+p*v*h,this._w=c*f*h-p*v*y;break;case"ZYX":this._x=p*f*h-c*v*y,this._y=c*v*h+p*f*y,this._z=c*f*y-p*v*h,this._w=c*f*h+p*v*y;break;case"YZX":this._x=p*f*h+c*v*y,this._y=c*v*h+p*f*y,this._z=c*f*y-p*v*h,this._w=c*f*h-p*v*y;break;case"XZY":this._x=p*f*h-c*v*y,this._y=c*v*h-p*f*y,this._z=c*f*y+p*v*h,this._w=c*f*h+p*v*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],f=t[6],h=t[10],p=r+a+h;if(p>0){const v=.5/Math.sqrt(p+1);this._w=.25/v,this._x=(f-l)*v,this._y=(s-c)*v,this._z=(o-i)*v}else if(r>a&&r>h){const v=2*Math.sqrt(1+r-a-h);this._w=(f-l)/v,this._x=.25*v,this._y=(i+o)/v,this._z=(s+c)/v}else if(a>h){const v=2*Math.sqrt(1+a-r-h);this._w=(s-c)/v,this._x=(i+o)/v,this._y=.25*v,this._z=(l+f)/v}else{const v=2*Math.sqrt(1+h-r-a);this._w=(o-i)/v,this._x=(s+c)/v,this._y=(l+f)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ir(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,f=t._w;return this._x=r*f+o*a+i*c-s*l,this._y=i*f+o*l+s*a-r*c,this._z=s*f+o*c+r*l-i*a,this._w=o*f-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const v=1-t;return this._w=v*o+t*this._w,this._x=v*r+t*this._x,this._y=v*i+t*this._y,this._z=v*s+t*this._z,this.normalize(),this}const c=Math.sqrt(l),f=Math.atan2(c,a),h=Math.sin((1-t)*f)/c,p=Math.sin(t*f)/c;return this._w=o*h+this._w*p,this._x=r*h+this._x*p,this._y=i*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ce{constructor(e=0,t=0,r=0){ce.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(BI.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(BI.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*i-a*r),f=2*(a*t-s*i),h=2*(s*r-o*t);return this.x=t+l*c+o*h-a*f,this.y=r+l*f+a*c-s*h,this.z=i+l*h+s*f-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=ir(this.x,e.x,t.x),this.y=ir(this.y,e.y,t.y),this.z=ir(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=ir(this.x,e,t),this.y=ir(this.y,e,t),this.z=ir(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(ir(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return UE.copy(this).projectOnVector(e),this.sub(UE)}reflect(e){return this.sub(UE.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(ir(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const UE=new ce,BI=new Ws;class wo{constructor(e=new ce(1/0,1/0,1/0),t=new ce(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(dc.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(dc.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=dc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,dc):dc.fromBufferAttribute(s,o),dc.applyMatrix4(e.matrixWorld),this.expandByPoint(dc);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),S_.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),S_.copy(r.boundingBox)),S_.applyMatrix4(e.matrixWorld),this.union(S_)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,dc),dc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(lv),b_.subVectors(this.max,lv),km.subVectors(e.a,lv),Om.subVectors(e.b,lv),Fm.subVectors(e.c,lv),td.subVectors(Om,km),nd.subVectors(Fm,Om),Ph.subVectors(km,Fm);let t=[0,-td.z,td.y,0,-nd.z,nd.y,0,-Ph.z,Ph.y,td.z,0,-td.x,nd.z,0,-nd.x,Ph.z,0,-Ph.x,-td.y,td.x,0,-nd.y,nd.x,0,-Ph.y,Ph.x,0];return!BE(t,km,Om,Fm,b_)||(t=[1,0,0,0,1,0,0,0,1],!BE(t,km,Om,Fm,b_))?!1:(E_.crossVectors(td,nd),t=[E_.x,E_.y,E_.z],BE(t,km,Om,Fm,b_))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,dc).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(dc).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Gu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Gu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Gu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Gu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Gu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Gu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Gu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Gu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Gu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Gu=[new ce,new ce,new ce,new ce,new ce,new ce,new ce,new ce],dc=new ce,S_=new wo,km=new ce,Om=new ce,Fm=new ce,td=new ce,nd=new ce,Ph=new ce,lv=new ce,b_=new ce,E_=new ce,Ih=new ce;function BE(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){Ih.fromArray(n,s);const a=i.x*Math.abs(Ih.x)+i.y*Math.abs(Ih.y)+i.z*Math.abs(Ih.z),l=e.dot(Ih),c=t.dot(Ih),f=r.dot(Ih);if(Math.max(-Math.max(l,c,f),Math.min(l,c,f))>a)return!1}return!0}const rX=new wo,cv=new ce,zE=new ce;class no{constructor(e=new ce,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):rX.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;cv.subVectors(e,this.center);const t=cv.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(cv,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(zE.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(cv.copy(e.center).add(zE)),this.expandByPoint(cv.copy(e.center).sub(zE))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const $u=new ce,VE=new ce,T_=new ce,rd=new ce,HE=new ce,M_=new ce,jE=new ce;class Kp{constructor(e=new ce,t=new ce(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,$u)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=$u.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):($u.copy(this.origin).addScaledVector(this.direction,t),$u.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){VE.copy(e).add(t).multiplyScalar(.5),T_.copy(t).sub(e).normalize(),rd.copy(this.origin).sub(VE);const s=e.distanceTo(t)*.5,o=-this.direction.dot(T_),a=rd.dot(this.direction),l=-rd.dot(T_),c=rd.lengthSq(),f=Math.abs(1-o*o);let h,p,v,y;if(f>0)if(h=o*l-a,p=o*a-l,y=s*f,h>=0)if(p>=-y)if(p<=y){const w=1/f;h*=w,p*=w,v=h*(h+o*p+2*a)+p*(o*h+p+2*l)+c}else p=s,h=Math.max(0,-(o*p+a)),v=-h*h+p*(p+2*l)+c;else p=-s,h=Math.max(0,-(o*p+a)),v=-h*h+p*(p+2*l)+c;else p<=-y?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),v=-h*h+p*(p+2*l)+c):p<=y?(h=0,p=Math.min(Math.max(-s,-l),s),v=p*(p+2*l)+c):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),v=-h*h+p*(p+2*l)+c);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),v=-h*h+p*(p+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,h),i&&i.copy(VE).addScaledVector(T_,p),v}intersectSphere(e,t){$u.subVectors(e.center,this.origin);const r=$u.dot(this.direction),i=$u.dot($u)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,f=1/this.direction.y,h=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),f>=0?(s=(e.min.y-p.y)*f,o=(e.max.y-p.y)*f):(s=(e.max.y-p.y)*f,o=(e.min.y-p.y)*f),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,$u)!==null}intersectTriangle(e,t,r,i,s){HE.subVectors(t,e),M_.subVectors(r,e),jE.crossVectors(HE,M_);let o=this.direction.dot(jE),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;rd.subVectors(this.origin,e);const l=a*this.direction.dot(M_.crossVectors(rd,M_));if(l<0)return null;const c=a*this.direction.dot(HE.cross(rd));if(c<0||l+c>o)return null;const f=-a*rd.dot(jE);return f<0?null:this.at(f/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class jn{constructor(e,t,r,i,s,o,a,l,c,f,h,p,v,y,w,S){jn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,o,a,l,c,f,h,p,v,y,w,S)}set(e,t,r,i,s,o,a,l,c,f,h,p,v,y,w,S){const _=this.elements;return _[0]=e,_[4]=t,_[8]=r,_[12]=i,_[1]=s,_[5]=o,_[9]=a,_[13]=l,_[2]=c,_[6]=f,_[10]=h,_[14]=p,_[3]=v,_[7]=y,_[11]=w,_[15]=S,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new jn().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Um.setFromMatrixColumn(e,0).length(),s=1/Um.setFromMatrixColumn(e,1).length(),o=1/Um.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),f=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*f,v=o*h,y=a*f,w=a*h;t[0]=l*f,t[4]=-l*h,t[8]=c,t[1]=v+y*c,t[5]=p-w*c,t[9]=-a*l,t[2]=w-p*c,t[6]=y+v*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*f,v=l*h,y=c*f,w=c*h;t[0]=p+w*a,t[4]=y*a-v,t[8]=o*c,t[1]=o*h,t[5]=o*f,t[9]=-a,t[2]=v*a-y,t[6]=w+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*f,v=l*h,y=c*f,w=c*h;t[0]=p-w*a,t[4]=-o*h,t[8]=y+v*a,t[1]=v+y*a,t[5]=o*f,t[9]=w-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*f,v=o*h,y=a*f,w=a*h;t[0]=l*f,t[4]=y*c-v,t[8]=p*c+w,t[1]=l*h,t[5]=w*c+p,t[9]=v*c-y,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,v=o*c,y=a*l,w=a*c;t[0]=l*f,t[4]=w-p*h,t[8]=y*h+v,t[1]=h,t[5]=o*f,t[9]=-a*f,t[2]=-c*f,t[6]=v*h+y,t[10]=p-w*h}else if(e.order==="XZY"){const p=o*l,v=o*c,y=a*l,w=a*c;t[0]=l*f,t[4]=-h,t[8]=c*f,t[1]=p*h+w,t[5]=o*f,t[9]=v*h-y,t[2]=y*h-v,t[6]=a*f,t[10]=w*h+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(iX,e,sX)}lookAt(e,t,r){const i=this.elements;return Wa.subVectors(e,t),Wa.lengthSq()===0&&(Wa.z=1),Wa.normalize(),id.crossVectors(r,Wa),id.lengthSq()===0&&(Math.abs(r.z)===1?Wa.x+=1e-4:Wa.z+=1e-4,Wa.normalize(),id.crossVectors(r,Wa)),id.normalize(),A_.crossVectors(Wa,id),i[0]=id.x,i[4]=A_.x,i[8]=Wa.x,i[1]=id.y,i[5]=A_.y,i[9]=Wa.y,i[2]=id.z,i[6]=A_.z,i[10]=Wa.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],f=r[1],h=r[5],p=r[9],v=r[13],y=r[2],w=r[6],S=r[10],_=r[14],A=r[3],R=r[7],P=r[11],U=r[15],k=i[0],E=i[4],j=i[8],O=i[12],F=i[1],Y=i[5],te=i[9],ie=i[13],ue=i[2],_e=i[6],he=i[10],ge=i[14],q=i[3],oe=i[7],$=i[11],ne=i[15];return s[0]=o*k+a*F+l*ue+c*q,s[4]=o*E+a*Y+l*_e+c*oe,s[8]=o*j+a*te+l*he+c*$,s[12]=o*O+a*ie+l*ge+c*ne,s[1]=f*k+h*F+p*ue+v*q,s[5]=f*E+h*Y+p*_e+v*oe,s[9]=f*j+h*te+p*he+v*$,s[13]=f*O+h*ie+p*ge+v*ne,s[2]=y*k+w*F+S*ue+_*q,s[6]=y*E+w*Y+S*_e+_*oe,s[10]=y*j+w*te+S*he+_*$,s[14]=y*O+w*ie+S*ge+_*ne,s[3]=A*k+R*F+P*ue+U*q,s[7]=A*E+R*Y+P*_e+U*oe,s[11]=A*j+R*te+P*he+U*$,s[15]=A*O+R*ie+P*ge+U*ne,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],f=e[2],h=e[6],p=e[10],v=e[14],y=e[3],w=e[7],S=e[11],_=e[15];return y*(+s*l*h-i*c*h-s*a*p+r*c*p+i*a*v-r*l*v)+w*(+t*l*v-t*c*p+s*o*p-i*o*v+i*c*f-s*l*f)+S*(+t*c*h-t*a*v-s*o*h+r*o*v+s*a*f-r*c*f)+_*(-i*a*f-t*l*h+t*a*p+i*o*h-r*o*p+r*l*f)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],f=e[8],h=e[9],p=e[10],v=e[11],y=e[12],w=e[13],S=e[14],_=e[15],A=h*S*c-w*p*c+w*l*v-a*S*v-h*l*_+a*p*_,R=y*p*c-f*S*c-y*l*v+o*S*v+f*l*_-o*p*_,P=f*w*c-y*h*c+y*a*v-o*w*v-f*a*_+o*h*_,U=y*h*l-f*w*l-y*a*p+o*w*p+f*a*S-o*h*S,k=t*A+r*R+i*P+s*U;if(k===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const E=1/k;return e[0]=A*E,e[1]=(w*p*s-h*S*s-w*i*v+r*S*v+h*i*_-r*p*_)*E,e[2]=(a*S*s-w*l*s+w*i*c-r*S*c-a*i*_+r*l*_)*E,e[3]=(h*l*s-a*p*s-h*i*c+r*p*c+a*i*v-r*l*v)*E,e[4]=R*E,e[5]=(f*S*s-y*p*s+y*i*v-t*S*v-f*i*_+t*p*_)*E,e[6]=(y*l*s-o*S*s-y*i*c+t*S*c+o*i*_-t*l*_)*E,e[7]=(o*p*s-f*l*s+f*i*c-t*p*c-o*i*v+t*l*v)*E,e[8]=P*E,e[9]=(y*h*s-f*w*s-y*r*v+t*w*v+f*r*_-t*h*_)*E,e[10]=(o*w*s-y*a*s+y*r*c-t*w*c-o*r*_+t*a*_)*E,e[11]=(f*a*s-o*h*s-f*r*c+t*h*c+o*r*v-t*a*v)*E,e[12]=U*E,e[13]=(f*w*i-y*h*i+y*r*p-t*w*p-f*r*S+t*h*S)*E,e[14]=(y*a*i-o*w*i-y*r*l+t*w*l+o*r*S-t*a*S)*E,e[15]=(o*h*i-f*a*i+f*r*l-t*h*l-o*r*p+t*a*p)*E,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,f=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,f*a+r,f*l-i*o,0,c*l-i*a,f*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,f=o+o,h=a+a,p=s*c,v=s*f,y=s*h,w=o*f,S=o*h,_=a*h,A=l*c,R=l*f,P=l*h,U=r.x,k=r.y,E=r.z;return i[0]=(1-(w+_))*U,i[1]=(v+P)*U,i[2]=(y-R)*U,i[3]=0,i[4]=(v-P)*k,i[5]=(1-(p+_))*k,i[6]=(S+A)*k,i[7]=0,i[8]=(y+R)*E,i[9]=(S-A)*E,i[10]=(1-(p+w))*E,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=Um.set(i[0],i[1],i[2]).length();const o=Um.set(i[4],i[5],i[6]).length(),a=Um.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],hc.copy(this);const c=1/s,f=1/o,h=1/a;return hc.elements[0]*=c,hc.elements[1]*=c,hc.elements[2]*=c,hc.elements[4]*=f,hc.elements[5]*=f,hc.elements[6]*=f,hc.elements[8]*=h,hc.elements[9]*=h,hc.elements[10]*=h,t.setFromRotationMatrix(hc),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o,a=Jc){const l=this.elements,c=2*s/(t-e),f=2*s/(r-i),h=(t+e)/(t-e),p=(r+i)/(r-i);let v,y;if(a===Jc)v=-(o+s)/(o-s),y=-2*o*s/(o-s);else if(a===Py)v=-o/(o-s),y=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=f,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=v,l[14]=y,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,r,i,s,o,a=Jc){const l=this.elements,c=1/(t-e),f=1/(r-i),h=1/(o-s),p=(t+e)*c,v=(r+i)*f;let y,w;if(a===Jc)y=(o+s)*h,w=-2*h;else if(a===Py)y=s*h,w=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*f,l[9]=0,l[13]=-v,l[2]=0,l[6]=0,l[10]=w,l[14]=-y,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Um=new ce,hc=new jn,iX=new ce(0,0,0),sX=new ce(1,1,1),id=new ce,A_=new ce,Wa=new ce,zI=new jn,VI=new Ws;class sl{constructor(e=0,t=0,r=0,i=sl.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],f=i[9],h=i[2],p=i[6],v=i[10];switch(t){case"XYZ":this._y=Math.asin(ir(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-f,v),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-ir(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(a,v),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(ir(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,v),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-ir(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,v),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(ir(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,v));break;case"XZY":this._z=Math.asin(-ir(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-f,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return zI.makeRotationFromQuaternion(e),this.setFromRotationMatrix(zI,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return VI.setFromEuler(this),this.setFromQuaternion(VI,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}sl.DEFAULT_ORDER="XYZ";class yp{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let oX=0;const HI=new ce,Bm=new Ws,Xu=new jn,C_=new ce,uv=new ce,aX=new ce,lX=new Ws,jI=new ce(1,0,0),WI=new ce(0,1,0),GI=new ce(0,0,1),$I={type:"added"},cX={type:"removed"},zm={type:"childadded",child:null},WE={type:"childremoved",child:null};class Ir extends yu{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:oX++}),this.uuid=el(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ir.DEFAULT_UP.clone();const e=new ce,t=new sl,r=new Ws,i=new ce(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new jn},normalMatrix:{value:new or}}),this.matrix=new jn,this.matrixWorld=new jn,this.matrixAutoUpdate=Ir.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Ir.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new yp,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Bm.setFromAxisAngle(e,t),this.quaternion.multiply(Bm),this}rotateOnWorldAxis(e,t){return Bm.setFromAxisAngle(e,t),this.quaternion.premultiply(Bm),this}rotateX(e){return this.rotateOnAxis(jI,e)}rotateY(e){return this.rotateOnAxis(WI,e)}rotateZ(e){return this.rotateOnAxis(GI,e)}translateOnAxis(e,t){return HI.copy(e).applyQuaternion(this.quaternion),this.position.add(HI.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(jI,e)}translateY(e){return this.translateOnAxis(WI,e)}translateZ(e){return this.translateOnAxis(GI,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Xu.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?C_.copy(e):C_.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),uv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Xu.lookAt(uv,C_,this.up):Xu.lookAt(C_,uv,this.up),this.quaternion.setFromRotationMatrix(Xu),i&&(Xu.extractRotation(i.matrixWorld),Bm.setFromRotationMatrix(Xu),this.quaternion.premultiply(Bm.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent($I),zm.child=e,this.dispatchEvent(zm),zm.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(cX),WE.child=e,this.dispatchEvent(WE),WE.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Xu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Xu.multiply(e.parent.matrixWorld)),e.applyMatrix4(Xu),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent($I),zm.child=e,this.dispatchEvent(zm),zm.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(uv,e,aX),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(uv,lX,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,f=l.length;c<f;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),f=o(e.images),h=o(e.shapes),p=o(e.skeletons),v=o(e.animations),y=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),f.length>0&&(r.images=f),h.length>0&&(r.shapes=h),p.length>0&&(r.skeletons=p),v.length>0&&(r.animations=v),y.length>0&&(r.nodes=y)}return r.object=i,r;function o(a){const l=[];for(const c in a){const f=a[c];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Ir.DEFAULT_UP=new ce(0,1,0);Ir.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ir.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const pc=new ce,qu=new ce,GE=new ce,Yu=new ce,Vm=new ce,Hm=new ce,XI=new ce,$E=new ce,XE=new ce,qE=new ce,YE=new Or,KE=new Or,ZE=new Or;class ga{constructor(e=new ce,t=new ce,r=new ce){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),pc.subVectors(e,t),i.cross(pc);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){pc.subVectors(i,t),qu.subVectors(r,t),GE.subVectors(e,t);const o=pc.dot(pc),a=pc.dot(qu),l=pc.dot(GE),c=qu.dot(qu),f=qu.dot(GE),h=o*c-a*a;if(h===0)return s.set(0,0,0),null;const p=1/h,v=(c*l-a*f)*p,y=(o*f-a*l)*p;return s.set(1-v-y,y,v)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Yu)===null?!1:Yu.x>=0&&Yu.y>=0&&Yu.x+Yu.y<=1}static getInterpolation(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,Yu)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Yu.x),l.addScaledVector(o,Yu.y),l.addScaledVector(a,Yu.z),l)}static getInterpolatedAttribute(e,t,r,i,s,o){return YE.setScalar(0),KE.setScalar(0),ZE.setScalar(0),YE.fromBufferAttribute(e,t),KE.fromBufferAttribute(e,r),ZE.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(YE,s.x),o.addScaledVector(KE,s.y),o.addScaledVector(ZE,s.z),o}static isFrontFacing(e,t,r,i){return pc.subVectors(r,t),qu.subVectors(e,t),pc.cross(qu).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return pc.subVectors(this.c,this.b),qu.subVectors(this.a,this.b),pc.cross(qu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ga.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ga.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,i,s){return ga.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return ga.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ga.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;Vm.subVectors(i,r),Hm.subVectors(s,r),$E.subVectors(e,r);const l=Vm.dot($E),c=Hm.dot($E);if(l<=0&&c<=0)return t.copy(r);XE.subVectors(e,i);const f=Vm.dot(XE),h=Hm.dot(XE);if(f>=0&&h<=f)return t.copy(i);const p=l*h-f*c;if(p<=0&&l>=0&&f<=0)return o=l/(l-f),t.copy(r).addScaledVector(Vm,o);qE.subVectors(e,s);const v=Vm.dot(qE),y=Hm.dot(qE);if(y>=0&&v<=y)return t.copy(s);const w=v*c-l*y;if(w<=0&&c>=0&&y<=0)return a=c/(c-y),t.copy(r).addScaledVector(Hm,a);const S=f*y-v*h;if(S<=0&&h-f>=0&&v-y>=0)return XI.subVectors(s,i),a=(h-f)/(h-f+(v-y)),t.copy(i).addScaledVector(XI,a);const _=1/(S+w+p);return o=w*_,a=p*_,t.copy(r).addScaledVector(Vm,o).addScaledVector(Hm,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const l4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},sd={h:0,s:0,l:0},R_={h:0,s:0,l:0};function JE(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}let rn=class{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ds){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Tr.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Tr.workingColorSpace){return this.r=e,this.g=t,this.b=r,Tr.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Tr.workingColorSpace){if(e=ER(e,1),t=ir(t,0,1),r=ir(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=JE(o,s,e+1/3),this.g=JE(o,s,e),this.b=JE(o,s,e-1/3)}return Tr.toWorkingColorSpace(this,i),this}setStyle(e,t=ds){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=ds){const r=l4[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=pf(e.r),this.g=pf(e.g),this.b=pf(e.b),this}copyLinearToSRGB(e){return this.r=Mg(e.r),this.g=Mg(e.g),this.b=Mg(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ds){return Tr.fromWorkingColorSpace(ho.copy(this),e),Math.round(ir(ho.r*255,0,255))*65536+Math.round(ir(ho.g*255,0,255))*256+Math.round(ir(ho.b*255,0,255))}getHexString(e=ds){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Tr.workingColorSpace){Tr.fromWorkingColorSpace(ho.copy(this),t);const r=ho.r,i=ho.g,s=ho.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const f=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=f<=.5?h/(o+a):h/(2-o-a),o){case r:l=(i-s)/h+(i<s?6:0);break;case i:l=(s-r)/h+2;break;case s:l=(r-i)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=f,e}getRGB(e,t=Tr.workingColorSpace){return Tr.fromWorkingColorSpace(ho.copy(this),t),e.r=ho.r,e.g=ho.g,e.b=ho.b,e}getStyle(e=ds){Tr.fromWorkingColorSpace(ho.copy(this),e);const t=ho.r,r=ho.g,i=ho.b;return e!==ds?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(sd),this.setHSL(sd.h+e,sd.s+t,sd.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(sd),e.getHSL(R_);const r=ny(sd.h,R_.h,t),i=ny(sd.s,R_.s,t),s=ny(sd.l,R_.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const ho=new rn;rn.NAMES=l4;let uX=0;class hs extends yu{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:uX++}),this.uuid=el(),this.name="",this.type="Material",this.blending=mp,this.side=fu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=yw,this.blendDst=xw,this.blendEquation=vd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new rn(0,0,0),this.blendAlpha=0,this.depthFunc=Ip,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=dA,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Kh,this.stencilZFail=Kh,this.stencilZPass=Kh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==mp&&(r.blending=this.blending),this.side!==fu&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==yw&&(r.blendSrc=this.blendSrc),this.blendDst!==xw&&(r.blendDst=this.blendDst),this.blendEquation!==vd&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Ip&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==dA&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Kh&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Kh&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Kh&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class va extends hs{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new rn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new sl,this.combine=cx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const sf=fX();function fX(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,f=0;for(;!(c&8388608);)c<<=1,f-=8388608;c&=-8388609,f+=947912704,s[l]=c|f}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function ha(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=ir(n,-65504,65504),sf.floatView[0]=n;const e=sf.uint32View[0],t=e>>23&511;return sf.baseTable[t]+((e&8388607)>>sf.shiftTable[t])}function Nv(n){const e=n>>10;return sf.uint32View[0]=sf.mantissaTable[sf.offsetTable[e]+(n&1023)]+sf.exponentTable[e],sf.floatView[0]}const ap={toHalfFloat:ha,fromHalfFloat:Nv},cs=new ce,P_=new gt;class jr{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=Ry,this.updateRanges=[],this.gpuType=Di,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)P_.fromBufferAttribute(this,t),P_.applyMatrix3(e),this.setXY(t,P_.x,P_.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)cs.fromBufferAttribute(this,t),cs.applyMatrix3(e),this.setXYZ(t,cs.x,cs.y,cs.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)cs.fromBufferAttribute(this,t),cs.applyMatrix4(e),this.setXYZ(t,cs.x,cs.y,cs.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)cs.fromBufferAttribute(this,t),cs.applyNormalMatrix(e),this.setXYZ(t,cs.x,cs.y,cs.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)cs.fromBufferAttribute(this,t),cs.transformDirection(e),this.setXYZ(t,cs.x,cs.y,cs.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=Xo(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=fr(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Xo(t,this.array)),t}setX(e,t){return this.normalized&&(t=fr(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Xo(t,this.array)),t}setY(e,t){return this.normalized&&(t=fr(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Xo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=fr(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Xo(t,this.array)),t}setW(e,t){return this.normalized&&(t=fr(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=fr(t,this.array),r=fr(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=fr(t,this.array),r=fr(r,this.array),i=fr(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=fr(t,this.array),r=fr(r,this.array),i=fr(i,this.array),s=fr(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Ry&&(e.usage=this.usage),e}}class dX extends jr{constructor(e,t,r){super(new Int8Array(e),t,r)}}class hX extends jr{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class pX extends jr{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class mX extends jr{constructor(e,t,r){super(new Int16Array(e),t,r)}}class MR extends jr{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class gX extends jr{constructor(e,t,r){super(new Int32Array(e),t,r)}}class AR extends jr{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class vX extends jr{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=Nv(this.array[e*this.itemSize]);return this.normalized&&(t=Xo(t,this.array)),t}setX(e,t){return this.normalized&&(t=fr(t,this.array)),this.array[e*this.itemSize]=ha(t),this}getY(e){let t=Nv(this.array[e*this.itemSize+1]);return this.normalized&&(t=Xo(t,this.array)),t}setY(e,t){return this.normalized&&(t=fr(t,this.array)),this.array[e*this.itemSize+1]=ha(t),this}getZ(e){let t=Nv(this.array[e*this.itemSize+2]);return this.normalized&&(t=Xo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=fr(t,this.array)),this.array[e*this.itemSize+2]=ha(t),this}getW(e){let t=Nv(this.array[e*this.itemSize+3]);return this.normalized&&(t=Xo(t,this.array)),t}setW(e,t){return this.normalized&&(t=fr(t,this.array)),this.array[e*this.itemSize+3]=ha(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=fr(t,this.array),r=fr(r,this.array)),this.array[e+0]=ha(t),this.array[e+1]=ha(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=fr(t,this.array),r=fr(r,this.array),i=fr(i,this.array)),this.array[e+0]=ha(t),this.array[e+1]=ha(r),this.array[e+2]=ha(i),this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=fr(t,this.array),r=fr(r,this.array),i=fr(i,this.array),s=fr(s,this.array)),this.array[e+0]=ha(t),this.array[e+1]=ha(r),this.array[e+2]=ha(i),this.array[e+3]=ha(s),this}}class Cn extends jr{constructor(e,t,r){super(new Float32Array(e),t,r)}}let yX=0;const El=new jn,QE=new Ir,jm=new ce,Ga=new wo,fv=new wo,Fs=new ce;class ar extends yu{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:yX++}),this.uuid=el(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(i4(e)?AR:MR)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new or().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return El.makeRotationFromQuaternion(e),this.applyMatrix4(El),this}rotateX(e){return El.makeRotationX(e),this.applyMatrix4(El),this}rotateY(e){return El.makeRotationY(e),this.applyMatrix4(El),this}rotateZ(e){return El.makeRotationZ(e),this.applyMatrix4(El),this}translate(e,t,r){return El.makeTranslation(e,t,r),this.applyMatrix4(El),this}scale(e,t,r){return El.makeScale(e,t,r),this.applyMatrix4(El),this}lookAt(e){return QE.lookAt(e),QE.updateMatrix(),this.applyMatrix4(QE.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(jm).negate(),this.translate(jm.x,jm.y,jm.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const r=[];for(let i=0,s=e.length;i<s;i++){const o=e[i];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Cn(r,3))}else{const r=Math.min(e.length,t.count);for(let i=0;i<r;i++){const s=e[i];t.setXYZ(i,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new wo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ce(-1/0,-1/0,-1/0),new ce(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];Ga.setFromBufferAttribute(s),this.morphTargetsRelative?(Fs.addVectors(this.boundingBox.min,Ga.min),this.boundingBox.expandByPoint(Fs),Fs.addVectors(this.boundingBox.max,Ga.max),this.boundingBox.expandByPoint(Fs)):(this.boundingBox.expandByPoint(Ga.min),this.boundingBox.expandByPoint(Ga.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new no);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ce,1/0);return}if(e){const r=this.boundingSphere.center;if(Ga.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];fv.setFromBufferAttribute(a),this.morphTargetsRelative?(Fs.addVectors(Ga.min,fv.min),Ga.expandByPoint(Fs),Fs.addVectors(Ga.max,fv.max),Ga.expandByPoint(Fs)):(Ga.expandByPoint(fv.min),Ga.expandByPoint(fv.max))}Ga.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Fs.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Fs));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,f=a.count;c<f;c++)Fs.fromBufferAttribute(a,c),l&&(jm.fromBufferAttribute(e,c),Fs.add(jm)),i=Math.max(i,r.distanceToSquared(Fs))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.position,i=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new jr(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let j=0;j<r.count;j++)a[j]=new ce,l[j]=new ce;const c=new ce,f=new ce,h=new ce,p=new gt,v=new gt,y=new gt,w=new ce,S=new ce;function _(j,O,F){c.fromBufferAttribute(r,j),f.fromBufferAttribute(r,O),h.fromBufferAttribute(r,F),p.fromBufferAttribute(s,j),v.fromBufferAttribute(s,O),y.fromBufferAttribute(s,F),f.sub(c),h.sub(c),v.sub(p),y.sub(p);const Y=1/(v.x*y.y-y.x*v.y);isFinite(Y)&&(w.copy(f).multiplyScalar(y.y).addScaledVector(h,-v.y).multiplyScalar(Y),S.copy(h).multiplyScalar(v.x).addScaledVector(f,-y.x).multiplyScalar(Y),a[j].add(w),a[O].add(w),a[F].add(w),l[j].add(S),l[O].add(S),l[F].add(S))}let A=this.groups;A.length===0&&(A=[{start:0,count:e.count}]);for(let j=0,O=A.length;j<O;++j){const F=A[j],Y=F.start,te=F.count;for(let ie=Y,ue=Y+te;ie<ue;ie+=3)_(e.getX(ie+0),e.getX(ie+1),e.getX(ie+2))}const R=new ce,P=new ce,U=new ce,k=new ce;function E(j){U.fromBufferAttribute(i,j),k.copy(U);const O=a[j];R.copy(O),R.sub(U.multiplyScalar(U.dot(O))).normalize(),P.crossVectors(k,O);const Y=P.dot(l[j])<0?-1:1;o.setXYZW(j,R.x,R.y,R.z,Y)}for(let j=0,O=A.length;j<O;++j){const F=A[j],Y=F.start,te=F.count;for(let ie=Y,ue=Y+te;ie<ue;ie+=3)E(e.getX(ie+0)),E(e.getX(ie+1)),E(e.getX(ie+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new jr(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,v=r.count;p<v;p++)r.setXYZ(p,0,0,0);const i=new ce,s=new ce,o=new ce,a=new ce,l=new ce,c=new ce,f=new ce,h=new ce;if(e)for(let p=0,v=e.count;p<v;p+=3){const y=e.getX(p+0),w=e.getX(p+1),S=e.getX(p+2);i.fromBufferAttribute(t,y),s.fromBufferAttribute(t,w),o.fromBufferAttribute(t,S),f.subVectors(o,s),h.subVectors(i,s),f.cross(h),a.fromBufferAttribute(r,y),l.fromBufferAttribute(r,w),c.fromBufferAttribute(r,S),a.add(f),l.add(f),c.add(f),r.setXYZ(y,a.x,a.y,a.z),r.setXYZ(w,l.x,l.y,l.z),r.setXYZ(S,c.x,c.y,c.z)}else for(let p=0,v=t.count;p<v;p+=3)i.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),f.subVectors(o,s),h.subVectors(i,s),f.cross(h),r.setXYZ(p+0,f.x,f.y,f.z),r.setXYZ(p+1,f.x,f.y,f.z),r.setXYZ(p+2,f.x,f.y,f.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Fs.fromBufferAttribute(e,t),Fs.normalize(),e.setXYZ(t,Fs.x,Fs.y,Fs.z)}toNonIndexed(){function e(a,l){const c=a.array,f=a.itemSize,h=a.normalized,p=new c.constructor(l.length*f);let v=0,y=0;for(let w=0,S=l.length;w<S;w++){a.isInterleavedBufferAttribute?v=l[w]*a.data.stride+a.offset:v=l[w]*f;for(let _=0;_<f;_++)p[y++]=c[v++]}return new jr(p,f,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ar,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let f=0,h=c.length;f<h;f++){const p=c[f],v=e(p,r);l.push(v)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],f=[];for(let h=0,p=c.length;h<p;h++){const v=c[h];f.push(v.toJSON(e.data))}f.length>0&&(i[l]=f,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const f=i[c];this.setAttribute(c,f.clone(t))}const s=e.morphAttributes;for(const c in s){const f=[],h=s[c];for(let p=0,v=h.length;p<v;p++)f.push(h[p].clone(t));this.morphAttributes[c]=f}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,f=o.length;c<f;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const qI=new jn,Lh=new Kp,I_=new no,YI=new ce,L_=new ce,D_=new ce,N_=new ce,eT=new ce,k_=new ce,KI=new ce,O_=new ce;class Si extends Ir{constructor(e=new ar,t=new va){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){k_.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const f=a[l],h=s[l];f!==0&&(eT.fromBufferAttribute(h,e),o?k_.addScaledVector(eT,f):k_.addScaledVector(eT.sub(t),f))}t.add(k_)}return t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),I_.copy(r.boundingSphere),I_.applyMatrix4(s),Lh.copy(e.ray).recast(e.near),!(I_.containsPoint(Lh.origin)===!1&&(Lh.intersectSphere(I_,YI)===null||Lh.origin.distanceToSquared(YI)>(e.far-e.near)**2))&&(qI.copy(s).invert(),Lh.copy(e.ray).applyMatrix4(qI),!(r.boundingBox!==null&&Lh.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,Lh)))}_computeIntersections(e,t,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,f=s.attributes.uv1,h=s.attributes.normal,p=s.groups,v=s.drawRange;if(a!==null)if(Array.isArray(o))for(let y=0,w=p.length;y<w;y++){const S=p[y],_=o[S.materialIndex],A=Math.max(S.start,v.start),R=Math.min(a.count,Math.min(S.start+S.count,v.start+v.count));for(let P=A,U=R;P<U;P+=3){const k=a.getX(P),E=a.getX(P+1),j=a.getX(P+2);i=F_(this,_,e,r,c,f,h,k,E,j),i&&(i.faceIndex=Math.floor(P/3),i.face.materialIndex=S.materialIndex,t.push(i))}}else{const y=Math.max(0,v.start),w=Math.min(a.count,v.start+v.count);for(let S=y,_=w;S<_;S+=3){const A=a.getX(S),R=a.getX(S+1),P=a.getX(S+2);i=F_(this,o,e,r,c,f,h,A,R,P),i&&(i.faceIndex=Math.floor(S/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let y=0,w=p.length;y<w;y++){const S=p[y],_=o[S.materialIndex],A=Math.max(S.start,v.start),R=Math.min(l.count,Math.min(S.start+S.count,v.start+v.count));for(let P=A,U=R;P<U;P+=3){const k=P,E=P+1,j=P+2;i=F_(this,_,e,r,c,f,h,k,E,j),i&&(i.faceIndex=Math.floor(P/3),i.face.materialIndex=S.materialIndex,t.push(i))}}else{const y=Math.max(0,v.start),w=Math.min(l.count,v.start+v.count);for(let S=y,_=w;S<_;S+=3){const A=S,R=S+1,P=S+2;i=F_(this,o,e,r,c,f,h,A,R,P),i&&(i.faceIndex=Math.floor(S/3),t.push(i))}}}}function xX(n,e,t,r,i,s,o,a){let l;if(e.side===ea?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===fu,a),l===null)return null;O_.copy(a),O_.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(O_);return c<t.near||c>t.far?null:{distance:c,point:O_.clone(),object:n}}function F_(n,e,t,r,i,s,o,a,l,c){n.getVertexPosition(a,L_),n.getVertexPosition(l,D_),n.getVertexPosition(c,N_);const f=xX(n,e,t,r,L_,D_,N_,KI);if(f){const h=new ce;ga.getBarycoord(KI,L_,D_,N_,h),i&&(f.uv=ga.getInterpolatedAttribute(i,a,l,c,h,new gt)),s&&(f.uv1=ga.getInterpolatedAttribute(s,a,l,c,h,new gt)),o&&(f.normal=ga.getInterpolatedAttribute(o,a,l,c,h,new ce),f.normal.dot(r.direction)>0&&f.normal.multiplyScalar(-1));const p={a,b:l,c,normal:new ce,materialIndex:0};ga.getNormal(L_,D_,N_,p.normal),f.face=p,f.barycoord=h}return f}class Zp extends ar{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],f=[],h=[];let p=0,v=0;y("z","y","x",-1,-1,r,t,e,o,s,0),y("z","y","x",1,-1,r,t,-e,o,s,1),y("x","z","y",1,1,e,r,t,i,o,2),y("x","z","y",1,-1,e,r,-t,i,o,3),y("x","y","z",1,-1,e,t,r,i,s,4),y("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Cn(c,3)),this.setAttribute("normal",new Cn(f,3)),this.setAttribute("uv",new Cn(h,2));function y(w,S,_,A,R,P,U,k,E,j,O){const F=P/E,Y=U/j,te=P/2,ie=U/2,ue=k/2,_e=E+1,he=j+1;let ge=0,q=0;const oe=new ce;for(let $=0;$<he;$++){const ne=$*Y-ie;for(let we=0;we<_e;we++){const nt=we*F-te;oe[w]=nt*A,oe[S]=ne*R,oe[_]=ue,c.push(oe.x,oe.y,oe.z),oe[w]=0,oe[S]=0,oe[_]=k>0?1:-1,f.push(oe.x,oe.y,oe.z),h.push(we/E),h.push(1-$/j),ge+=1}}for(let $=0;$<j;$++)for(let ne=0;ne<E;ne++){const we=p+ne+_e*$,nt=p+ne+_e*($+1),Ce=p+(ne+1)+_e*($+1),Ve=p+(ne+1)+_e*$;l.push(we,nt,Ve),l.push(nt,Ce,Ve),q+=6}a.addGroup(v,q,O),v+=q,p+=ge}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zp(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Gg(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Ho(n){const e={};for(let t=0;t<n.length;t++){const r=Gg(n[t]);for(const i in r)e[i]=r[i]}return e}function _X(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function c4(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Tr.workingColorSpace}const u4={clone:Gg,merge:Ho};var wX=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,SX=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ea extends hs{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=wX,this.fragmentShader=SX,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Gg(e.uniforms),this.uniformsGroups=_X(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class hx extends Ir{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new jn,this.projectionMatrix=new jn,this.projectionMatrixInverse=new jn,this.coordinateSystem=Jc}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const od=new ce,ZI=new gt,JI=new gt;class Hi extends hx{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Wg*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(vp*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Wg*2*Math.atan(Math.tan(vp*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){od.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(od.x,od.y).multiplyScalar(-e/od.z),od.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(od.x,od.y).multiplyScalar(-e/od.z)}getViewSize(e,t){return this.getViewBounds(e,ZI,JI),t.subVectors(JI,ZI)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(vp*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Wm=-90,Gm=1;class f4 extends Ir{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Hi(Wm,Gm,e,t);i.layers=this.layers,this.add(i);const s=new Hi(Wm,Gm,e,t);s.layers=this.layers,this.add(s);const o=new Hi(Wm,Gm,e,t);o.layers=this.layers,this.add(o);const a=new Hi(Wm,Gm,e,t);a.layers=this.layers,this.add(a);const l=new Hi(Wm,Gm,e,t);l.layers=this.layers,this.add(l);const c=new Hi(Wm,Gm,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===Jc)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Py)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,f]=this.children,h=e.getRenderTarget(),p=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),y=e.xr.enabled;e.xr.enabled=!1;const w=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,s),e.setRenderTarget(r,1,i),e.render(t,o),e.setRenderTarget(r,2,i),e.render(t,a),e.setRenderTarget(r,3,i),e.render(t,l),e.setRenderTarget(r,4,i),e.render(t,c),r.texture.generateMipmaps=w,e.setRenderTarget(r,5,i),e.render(t,f),e.setRenderTarget(h,p,v),e.xr.enabled=y,r.texture.needsPMREMUpdate=!0}}class px extends Br{constructor(e,t,r,i,s,o,a,l,c,f){e=e!==void 0?e:[],t=t!==void 0?t:du,super(e,t,r,i,s,o,a,l,c,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class CR extends il{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new px(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Ur}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Zp(5,5,5),s=new Ea({name:"CubemapFromEquirect",uniforms:Gg(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ea,blending:iu});s.uniforms.tEquirect.value=t;const o=new Si(i,s),a=t.minFilter;return t.minFilter===kl&&(t.minFilter=Ur),new f4(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}class QS{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new rn(e),this.density=t}clone(){return new QS(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class eb{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new rn(e),this.near=t,this.far=r}clone(){return new eb(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}let $g=class extends Ir{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new sl,this.environmentIntensity=1,this.environmentRotation=new sl,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}};class mx{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Ry,this.updateRanges=[],this.version=0,this.uuid=el()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=el()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=el()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Uo=new ce;class Nd{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Uo.fromBufferAttribute(this,t),Uo.applyMatrix4(e),this.setXYZ(t,Uo.x,Uo.y,Uo.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Uo.fromBufferAttribute(this,t),Uo.applyNormalMatrix(e),this.setXYZ(t,Uo.x,Uo.y,Uo.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Uo.fromBufferAttribute(this,t),Uo.transformDirection(e),this.setXYZ(t,Uo.x,Uo.y,Uo.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=Xo(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=fr(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=fr(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=fr(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=fr(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=fr(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Xo(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Xo(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Xo(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Xo(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=fr(t,this.array),r=fr(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=fr(t,this.array),r=fr(r,this.array),i=fr(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=fr(t,this.array),r=fr(r,this.array),i=fr(i,this.array),s=fr(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new jr(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Nd(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class RR extends hs{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new rn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let $m;const dv=new ce,Xm=new ce,qm=new ce,Ym=new gt,hv=new gt,d4=new jn,U_=new ce,pv=new ce,B_=new ce,QI=new gt,tT=new gt,eL=new gt;class h4 extends Ir{constructor(e=new RR){if(super(),this.isSprite=!0,this.type="Sprite",$m===void 0){$m=new ar;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new mx(t,5);$m.setIndex([0,1,2,0,2,3]),$m.setAttribute("position",new Nd(r,3,0,!1)),$m.setAttribute("uv",new Nd(r,2,3,!1))}this.geometry=$m,this.material=e,this.center=new gt(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Xm.setFromMatrixScale(this.matrixWorld),d4.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),qm.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Xm.multiplyScalar(-qm.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;z_(U_.set(-.5,-.5,0),qm,o,Xm,i,s),z_(pv.set(.5,-.5,0),qm,o,Xm,i,s),z_(B_.set(.5,.5,0),qm,o,Xm,i,s),QI.set(0,0),tT.set(1,0),eL.set(1,1);let a=e.ray.intersectTriangle(U_,pv,B_,!1,dv);if(a===null&&(z_(pv.set(-.5,.5,0),qm,o,Xm,i,s),tT.set(0,1),a=e.ray.intersectTriangle(U_,B_,pv,!1,dv),a===null))return;const l=e.ray.origin.distanceTo(dv);l<e.near||l>e.far||t.push({distance:l,point:dv.clone(),uv:ga.getInterpolation(dv,U_,pv,B_,QI,tT,eL,new gt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function z_(n,e,t,r,i,s){Ym.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(hv.x=s*Ym.x-i*Ym.y,hv.y=i*Ym.x+s*Ym.y):hv.copy(Ym),n.copy(e),n.x+=hv.x,n.y+=hv.y,n.applyMatrix4(d4)}const V_=new ce,tL=new ce;class p4 extends Ir{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let r=0;r<t.length;r++)if(t[r].distance===e){const i=t.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){V_.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(V_);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){V_.setFromMatrixPosition(e.matrixWorld),tL.setFromMatrixPosition(this.matrixWorld);const r=V_.distanceTo(tL)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const nL=new ce,rL=new Or,iL=new Or,bX=new ce,sL=new jn,H_=new ce,nT=new no,oL=new jn,rT=new Kp;class PR extends Si{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=uA,this.bindMatrix=new jn,this.bindMatrixInverse=new jn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new wo),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,H_),this.boundingBox.expandByPoint(H_)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new no),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,H_),this.boundingSphere.expandByPoint(H_)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),nT.copy(this.boundingSphere),nT.applyMatrix4(i),e.ray.intersectsSphere(nT)!==!1&&(oL.copy(i).invert(),rT.copy(e.ray).applyMatrix4(oL),!(this.boundingBox!==null&&rT.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,rT)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Or,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===uA?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===HU?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;rL.fromBufferAttribute(i.attributes.skinIndex,e),iL.fromBufferAttribute(i.attributes.skinWeight,e),nL.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=iL.getComponent(s);if(o!==0){const a=rL.getComponent(s);sL.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(bX.copy(nL).applyMatrix4(sL),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class tb extends Ir{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Sc extends Br{constructor(e=null,t=1,r=1,i,s,o,a,l,c=Ts,f=Ts,h,p){super(null,o,a,l,c,f,i,s,h,p),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const aL=new jn,EX=new jn;class gx{constructor(e=[],t=[]){this.uuid=el(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new jn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new jn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:EX;aL.multiplyMatrices(a,t[s]),aL.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new gx(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Sc(t,e,e,Ji,Di);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new tb),this.bones.push(o),this.boneInverses.push(new jn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Np extends jr{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Km=new jn,lL=new jn,j_=[],cL=new wo,TX=new jn,mv=new Si,gv=new no;class IR extends Si{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Np(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,TX)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new wo),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Km),cL.copy(e.boundingBox).applyMatrix4(Km),this.boundingBox.union(cL)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new no),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Km),gv.copy(e.boundingSphere).applyMatrix4(Km),this.boundingSphere.union(gv)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const r=t.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,o=e*s+1;for(let a=0;a<r.length;a++)r[a]=i[o+a]}raycast(e,t){const r=this.matrixWorld,i=this.count;if(mv.geometry=this.geometry,mv.material=this.material,mv.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),gv.copy(this.boundingSphere),gv.applyMatrix4(r),e.ray.intersectsSphere(gv)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Km),lL.multiplyMatrices(r,Km),mv.matrixWorld=lL,mv.raycast(e,j_);for(let o=0,a=j_.length;o<a;o++){const l=j_[o];l.instanceId=s,l.object=this,t.push(l)}j_.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Np(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const r=t.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new Sc(new Float32Array(i*this.count),i,this.count,fx,Di));const s=this.morphTexture.source.data.data;let o=0;for(let c=0;c<r.length;c++)o+=r[c];const a=this.geometry.morphTargetsRelative?1:1-o,l=i*e;s[l]=a,s.set(r,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}const iT=new ce,MX=new ce,AX=new or;class ef{constructor(e=new ce(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=iT.subVectors(r,t).cross(MX.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(iT),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||AX.getNormalMatrix(e),i=this.coplanarPoint(iT).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Dh=new no,W_=new ce;class vx{constructor(e=new ef,t=new ef,r=new ef,i=new ef,s=new ef,o=new ef){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=Jc){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],f=i[5],h=i[6],p=i[7],v=i[8],y=i[9],w=i[10],S=i[11],_=i[12],A=i[13],R=i[14],P=i[15];if(r[0].setComponents(l-s,p-c,S-v,P-_).normalize(),r[1].setComponents(l+s,p+c,S+v,P+_).normalize(),r[2].setComponents(l+o,p+f,S+y,P+A).normalize(),r[3].setComponents(l-o,p-f,S-y,P-A).normalize(),r[4].setComponents(l-a,p-h,S-w,P-R).normalize(),t===Jc)r[5].setComponents(l+a,p+h,S+w,P+R).normalize();else if(t===Py)r[5].setComponents(a,h,w,R).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Dh.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Dh.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Dh)}intersectsSprite(e){return Dh.center.set(0,0,0),Dh.radius=.7071067811865476,Dh.applyMatrix4(e.matrixWorld),this.intersectsSphere(Dh)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(W_.x=i.normal.x>0?e.max.x:e.min.x,W_.y=i.normal.y>0?e.max.y:e.min.y,W_.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(W_)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function sT(n,e){return n-e}function CX(n,e){return n.z-e.z}function RX(n,e){return e.z-n.z}class PX{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,r,i){const s=this.pool,o=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const a=s[this.index];o.push(a),this.index++,a.start=e,a.count=t,a.z=r,a.index=i}reset(){this.list.length=0,this.index=0}}const fa=new jn,IX=new rn(1,1,1),oT=new vx,G_=new wo,Nh=new no,vv=new ce,uL=new ce,LX=new ce,aT=new PX,po=new Si,$_=[];function DX(n,e,t=0){const r=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const i=n.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+t,o,n.getComponent(s,o))}else e.array.set(n.array,t*r);e.needsUpdate=!0}function kh(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++)e[r]=n[r]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class m4 extends Si{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(e,t,r=t*2,i){super(new ar,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new Sc(t,e,e,Ji,Di);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),r=new Sc(t,e,e,dx,hu);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),r=new Sc(t,e,e,Ji,Di);r.colorSpace=Tr.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:a,itemSize:l,normalized:c}=o,f=new a.constructor(r*l),h=new jr(f,l,c);t.setAttribute(s,h)}if(e.getIndex()!==null){const s=r>65535?new Uint32Array(i):new Uint16Array(i);t.setIndex(new jr(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=t.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new wo);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let r=0,i=t.length;r<i;r++){if(t[r].active===!1)continue;const s=t[r].geometryIndex;this.getMatrixAt(r,fa),this.getBoundingBoxAt(s,G_).applyMatrix4(fa),e.union(G_)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new no);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let r=0,i=t.length;r<i;r++){if(t[r].active===!1)continue;const s=t[r].geometryIndex;this.getMatrixAt(r,fa),this.getBoundingSphereAt(s,Nh).applyMatrix4(fa),e.union(Nh)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(sT),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const s=this._matricesTexture;fa.identity().toArray(s.image.data,i*16),s.needsUpdate=!0;const o=this._colorsTexture;return o&&(IX.toArray(o.image.data,i*4),o.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,t=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const o=e.getIndex();if(o!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?o.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(sT),l=this._availableGeometryIds.shift(),s[l]=i):(l=this._geometryCount,this._geometryCount++,s.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=t.getIndex(),a=this._geometryInfo[e];if(i&&o.count>a.reservedIndexCount||t.attributes.position.count>a.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.reservedVertexCount;a.vertexCount=t.getAttribute("position").count;for(const f in r.attributes){const h=t.getAttribute(f),p=r.getAttribute(f);DX(h,p,l);const v=h.itemSize;for(let y=h.count,w=c;y<w;y++){const S=l+y;for(let _=0;_<v;_++)p.setComponent(S,_,0)}p.needsUpdate=!0,p.addUpdateRange(l*v,c*v)}if(i){const f=a.indexStart,h=a.reservedIndexCount;a.indexCount=t.getIndex().count;for(let p=0;p<o.count;p++)s.setX(f+p,l+o.getX(p));for(let p=o.count,v=h;p<v;p++)s.setX(f+p,l);s.needsUpdate=!0,s.addUpdateRange(f,a.reservedIndexCount)}return a.start=i?a.indexStart:a.vertexStart,a.count=i?a.indexCount:a.vertexCount,a.boundingBox=null,t.boundingBox!==null&&(a.boundingBox=t.boundingBox.clone()),a.boundingSphere=null,t.boundingSphere!==null&&(a.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,s=r.length;i<s;i++)r[i].geometryIndex===e&&this.deleteInstance(i);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const r=this._geometryInfo,i=r.map((o,a)=>a).sort((o,a)=>r[o].vertexStart-r[a].vertexStart),s=this.geometry;for(let o=0,a=r.length;o<a;o++){const l=i[o],c=r[l];if(c.active!==!1){if(s.index!==null){if(c.indexStart!==t){const{indexStart:f,vertexStart:h,reservedIndexCount:p}=c,v=s.index,y=v.array,w=e-h;for(let S=f;S<f+p;S++)y[S]=y[S]+w;v.array.copyWithin(t,f,f+p),v.addUpdateRange(t,p),c.indexStart=t}t+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:f,reservedVertexCount:h}=c,p=s.attributes;for(const v in p){const y=p[v],{array:w,itemSize:S}=y;w.copyWithin(e*S,f*S,(f+h)*S),y.addUpdateRange(e*S,h*S)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=s.index?c.indexStart:c.vertexStart,this._nextIndexStart=s.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const s=new wo,o=r.index,a=r.attributes.position;for(let l=i.start,c=i.start+i.count;l<c;l++){let f=l;o&&(f=o.getX(f)),s.expandByPoint(vv.fromBufferAttribute(a,f))}i.boundingBox=s}return t.copy(i.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const s=new no;this.getBoundingBoxAt(e,G_),G_.getCenter(s.center);const o=r.index,a=r.attributes.position;let l=0;for(let c=i.start,f=i.start+i.count;c<f;c++){let h=c;o&&(h=o.getX(h)),vv.fromBufferAttribute(a,h),l=Math.max(l,s.center.distanceToSquared(vv))}s.radius=Math.sqrt(l),i.boundingSphere=s}return t.copy(i.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return t.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return t.vertexStart=r.vertexStart,t.vertexCount=r.vertexCount,t.reservedVertexCount=r.reservedVertexCount,t.indexStart=r.indexStart,t.indexCount=r.indexCount,t.reservedIndexCount=r.reservedIndexCount,t.start=r.start,t.count=r.count,t}setInstanceCount(e){const t=this._availableInstanceIds,r=this._instanceInfo;for(t.sort(sT);t[t.length-1]===r.length;)r.pop(),t.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),s=new Int32Array(e);kh(this._multiDrawCounts,i),kh(this._multiDrawStarts,s),this._multiDrawCounts=i,this._multiDrawStarts=s,this._maxInstanceCount=e;const o=this._indirectTexture,a=this._matricesTexture,l=this._colorsTexture;o.dispose(),this._initIndirectTexture(),kh(o.image.data,this._indirectTexture.image.data),a.dispose(),this._initMatricesTexture(),kh(a.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),kh(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const r=[...this._geometryInfo].filter(a=>a.active);if(Math.max(...r.map(a=>a.vertexStart+a.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new ar,this._initializeGeometry(s));const o=this.geometry;s.index&&kh(s.index.array,o.index.array);for(const a in s.attributes)kh(s.attributes[a].array,o.attributes[a].array)}raycast(e,t){const r=this._instanceInfo,i=this._geometryInfo,s=this.matrixWorld,o=this.geometry;po.material=this.material,po.geometry.index=o.index,po.geometry.attributes=o.attributes,po.geometry.boundingBox===null&&(po.geometry.boundingBox=new wo),po.geometry.boundingSphere===null&&(po.geometry.boundingSphere=new no);for(let a=0,l=r.length;a<l;a++){if(!r[a].visible||!r[a].active)continue;const c=r[a].geometryIndex,f=i[c];po.geometry.setDrawRange(f.start,f.count),this.getMatrixAt(a,po.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,po.geometry.boundingBox),this.getBoundingSphereAt(c,po.geometry.boundingSphere),po.raycast(e,$_);for(let h=0,p=$_.length;h<p;h++){const v=$_[h];v.object=this,v.batchId=a,t.push(v)}$_.length=0}po.material=null,po.geometry.index=null,po.geometry.attributes={},po.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,f=this._multiDrawCounts,h=this._geometryInfo,p=this.perObjectFrustumCulled,v=this._indirectTexture,y=v.image.data;p&&(fa.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),oT.setFromProjectionMatrix(fa,e.coordinateSystem));let w=0;if(this.sortObjects){fa.copy(this.matrixWorld).invert(),vv.setFromMatrixPosition(r.matrixWorld).applyMatrix4(fa),uL.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(fa);for(let A=0,R=l.length;A<R;A++)if(l[A].visible&&l[A].active){const P=l[A].geometryIndex;this.getMatrixAt(A,fa),this.getBoundingSphereAt(P,Nh).applyMatrix4(fa);let U=!1;if(p&&(U=!oT.intersectsSphere(Nh)),!U){const k=h[P],E=LX.subVectors(Nh.center,vv).dot(uL);aT.push(k.start,k.count,E,A)}}const S=aT.list,_=this.customSort;_===null?S.sort(s.transparent?RX:CX):_.call(this,S,r);for(let A=0,R=S.length;A<R;A++){const P=S[A];c[w]=P.start*a,f[w]=P.count,y[w]=P.index,w++}aT.reset()}else for(let S=0,_=l.length;S<_;S++)if(l[S].visible&&l[S].active){const A=l[S].geometryIndex;let R=!1;if(p&&(this.getMatrixAt(S,fa),this.getBoundingSphereAt(A,Nh).applyMatrix4(fa),R=!oT.intersectsSphere(Nh)),!R){const P=h[A];c[w]=P.start*a,f[w]=P.count,y[w]=S,w++}}v.needsUpdate=!0,this._multiDrawCount=w,this._visibilityChanged=!1}onBeforeShadow(e,t,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class Eo extends hs{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new rn(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const eS=new ce,tS=new ce,fL=new jn,yv=new Kp,X_=new no,lT=new ce,dL=new ce;class xf extends Ir{constructor(e=new ar,t=new Eo){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)eS.fromBufferAttribute(t,i-1),tS.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=eS.distanceTo(tS);e.setAttribute("lineDistance",new Cn(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),X_.copy(r.boundingSphere),X_.applyMatrix4(i),X_.radius+=s,e.ray.intersectsSphere(X_)===!1)return;fL.copy(i).invert(),yv.copy(e.ray).applyMatrix4(fL);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,f=r.index,p=r.attributes.position;if(f!==null){const v=Math.max(0,o.start),y=Math.min(f.count,o.start+o.count);for(let w=v,S=y-1;w<S;w+=c){const _=f.getX(w),A=f.getX(w+1),R=q_(this,e,yv,l,_,A);R&&t.push(R)}if(this.isLineLoop){const w=f.getX(y-1),S=f.getX(v),_=q_(this,e,yv,l,w,S);_&&t.push(_)}}else{const v=Math.max(0,o.start),y=Math.min(p.count,o.start+o.count);for(let w=v,S=y-1;w<S;w+=c){const _=q_(this,e,yv,l,w,w+1);_&&t.push(_)}if(this.isLineLoop){const w=q_(this,e,yv,l,y-1,v);w&&t.push(w)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function q_(n,e,t,r,i,s){const o=n.geometry.attributes.position;if(eS.fromBufferAttribute(o,i),tS.fromBufferAttribute(o,s),t.distanceSqToSegment(eS,tS,lT,dL)>r)return;lT.applyMatrix4(n.matrixWorld);const l=e.ray.origin.distanceTo(lT);if(!(l<e.near||l>e.far))return{distance:l,point:dL.clone().applyMatrix4(n.matrixWorld),index:i,face:null,faceIndex:null,barycoord:null,object:n}}const hL=new ce,pL=new ce;class Rc extends xf{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)hL.fromBufferAttribute(t,i),pL.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+hL.distanceTo(pL);e.setAttribute("lineDistance",new Cn(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LR extends xf{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class nb extends hs{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new rn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const mL=new jn,pA=new Kp,Y_=new no,K_=new ce;class DR extends Ir{constructor(e=new ar,t=new nb){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Y_.copy(r.boundingSphere),Y_.applyMatrix4(i),Y_.radius+=s,e.ray.intersectsSphere(Y_)===!1)return;mL.copy(i).invert(),pA.copy(e.ray).applyMatrix4(mL);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,h=r.attributes.position;if(c!==null){const p=Math.max(0,o.start),v=Math.min(c.count,o.start+o.count);for(let y=p,w=v;y<w;y++){const S=c.getX(y);K_.fromBufferAttribute(h,S),gL(K_,S,l,i,e,t,this)}}else{const p=Math.max(0,o.start),v=Math.min(h.count,o.start+o.count);for(let y=p,w=v;y<w;y++)K_.fromBufferAttribute(h,y),gL(K_,y,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function gL(n,e,t,r,i,s,o){const a=pA.distanceSqToPoint(n);if(a<t){const l=new ce;pA.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class lf extends Ir{constructor(){super(),this.isGroup=!0,this.type="Group"}}class NX extends Br{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Ur,this.magFilter=s!==void 0?s:Ur,this.generateMipmaps=!1;const f=this;function h(){f.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class kX extends Br{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Ts,this.minFilter=Ts,this.generateMipmaps=!1,this.needsUpdate=!0}}class rb extends Br{constructor(e,t,r,i,s,o,a,l,c,f,h,p){super(null,o,a,l,c,f,i,s,h,p),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class OX extends rb{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Zi,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class FX extends rb{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,du),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class UX extends Br{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class NR extends Br{constructor(e,t,r,i,s,o,a,l,c,f=gp){if(f!==gp&&f!==Dp)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&f===gp&&(r=hu),r===void 0&&f===Dp&&(r=Lp),super(null,i,s,o,a,l,f,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Ts,this.minFilter=l!==void 0?l:Ts,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class Pc{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const f=r[i],p=r[i+1]-f,v=(o-f)/p;return(i+v)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new gt:new ce);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new ce,i=[],s=[],o=[],a=new ce,l=new jn;for(let v=0;v<=e;v++){const y=v/e;i[v]=this.getTangentAt(y,new ce)}s[0]=new ce,o[0]=new ce;let c=Number.MAX_VALUE;const f=Math.abs(i[0].x),h=Math.abs(i[0].y),p=Math.abs(i[0].z);f<=c&&(c=f,r.set(1,0,0)),h<=c&&(c=h,r.set(0,1,0)),p<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let v=1;v<=e;v++){if(s[v]=s[v-1].clone(),o[v]=o[v-1].clone(),a.crossVectors(i[v-1],i[v]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(ir(i[v-1].dot(i[v]),-1,1));s[v].applyMatrix4(l.makeRotationAxis(a,y))}o[v].crossVectors(i[v],s[v])}if(t===!0){let v=Math.acos(ir(s[0].dot(s[e]),-1,1));v/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(v=-v);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(i[y],v*y)),o[y].crossVectors(i[y],s[y])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class ib extends Pc{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t=new gt){const r=t,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const f=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,v=c-this.aY;l=p*f-v*h+this.aX,c=p*h+v*f+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class g4 extends ib{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function kR(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,f,h){let p=(o-s)/c-(a-s)/(c+f)+(a-o)/f,v=(a-o)/f-(l-o)/(f+h)+(l-a)/h;p*=f,v*=f,i(o,a,p,v)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const Z_=new ce,cT=new kR,uT=new kR,fT=new kR;class v4 extends Pc{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new ce){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,f;this.closed||a>0?c=i[(a-1)%s]:(Z_.subVectors(i[0],i[1]).add(i[0]),c=Z_);const h=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?f=i[(a+2)%s]:(Z_.subVectors(i[s-1],i[s-2]).add(i[s-1]),f=Z_),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let y=Math.pow(c.distanceToSquared(h),v),w=Math.pow(h.distanceToSquared(p),v),S=Math.pow(p.distanceToSquared(f),v);w<1e-4&&(w=1),y<1e-4&&(y=w),S<1e-4&&(S=w),cT.initNonuniformCatmullRom(c.x,h.x,p.x,f.x,y,w,S),uT.initNonuniformCatmullRom(c.y,h.y,p.y,f.y,y,w,S),fT.initNonuniformCatmullRom(c.z,h.z,p.z,f.z,y,w,S)}else this.curveType==="catmullrom"&&(cT.initCatmullRom(c.x,h.x,p.x,f.x,this.tension),uT.initCatmullRom(c.y,h.y,p.y,f.y,this.tension),fT.initCatmullRom(c.z,h.z,p.z,f.z,this.tension));return r.set(cT.calc(l),uT.calc(l),fT.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new ce().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function vL(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function BX(n,e){const t=1-n;return t*t*e}function zX(n,e){return 2*(1-n)*n*e}function VX(n,e){return n*n*e}function ry(n,e,t,r){return BX(n,e)+zX(n,t)+VX(n,r)}function HX(n,e){const t=1-n;return t*t*t*e}function jX(n,e){const t=1-n;return 3*t*t*n*e}function WX(n,e){return 3*(1-n)*n*n*e}function GX(n,e){return n*n*n*e}function iy(n,e,t,r,i){return HX(n,e)+jX(n,t)+WX(n,r)+GX(n,i)}class OR extends Pc{constructor(e=new gt,t=new gt,r=new gt,i=new gt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new gt){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(iy(e,i.x,s.x,o.x,a.x),iy(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class y4 extends Pc{constructor(e=new ce,t=new ce,r=new ce,i=new ce){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new ce){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(iy(e,i.x,s.x,o.x,a.x),iy(e,i.y,s.y,o.y,a.y),iy(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class FR extends Pc{constructor(e=new gt,t=new gt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new gt){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new gt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class x4 extends Pc{constructor(e=new ce,t=new ce){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ce){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ce){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class UR extends Pc{constructor(e=new gt,t=new gt,r=new gt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new gt){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(ry(e,i.x,s.x,o.x),ry(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class BR extends Pc{constructor(e=new ce,t=new ce,r=new ce){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new ce){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(ry(e,i.x,s.x,o.x),ry(e,i.y,s.y,o.y),ry(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class zR extends Pc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new gt){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],f=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return r.set(vL(a,l.x,c.x,f.x,h.x),vL(a,l.y,c.y,f.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new gt().fromArray(i))}return this}}var nS=Object.freeze({__proto__:null,ArcCurve:g4,CatmullRomCurve3:v4,CubicBezierCurve:OR,CubicBezierCurve3:y4,EllipseCurve:ib,LineCurve:FR,LineCurve3:x4,QuadraticBezierCurve:UR,QuadraticBezierCurve3:BR,SplineCurve:zR});class _4 extends Pc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new nS[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const f=l[c];r&&r.equals(f)||(t.push(f),r=f)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new nS[i.type]().fromJSON(i))}return this}}class Ly extends _4{constructor(e){super(),this.type="Path",this.currentPoint=new gt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new FR(this.currentPoint.clone(),new gt(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new UR(this.currentPoint.clone(),new gt(e,t),new gt(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new OR(this.currentPoint.clone(),new gt(e,t),new gt(r,i),new gt(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new zR(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const c=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+c,t+f,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const c=new ib(e,t,r,i,s,o,a,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const f=c.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class yx extends ar{constructor(e=[new gt(0,-.5),new gt(.5,0),new gt(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=ir(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],f=1/t,h=new ce,p=new gt,v=new ce,y=new ce,w=new ce;let S=0,_=0;for(let A=0;A<=e.length-1;A++)switch(A){case 0:S=e[A+1].x-e[A].x,_=e[A+1].y-e[A].y,v.x=_*1,v.y=-S,v.z=_*0,w.copy(v),v.normalize(),l.push(v.x,v.y,v.z);break;case e.length-1:l.push(w.x,w.y,w.z);break;default:S=e[A+1].x-e[A].x,_=e[A+1].y-e[A].y,v.x=_*1,v.y=-S,v.z=_*0,y.copy(v),v.x+=w.x,v.y+=w.y,v.z+=w.z,v.normalize(),l.push(v.x,v.y,v.z),w.copy(y)}for(let A=0;A<=t;A++){const R=r+A*f*i,P=Math.sin(R),U=Math.cos(R);for(let k=0;k<=e.length-1;k++){h.x=e[k].x*P,h.y=e[k].y,h.z=e[k].x*U,o.push(h.x,h.y,h.z),p.x=A/t,p.y=k/(e.length-1),a.push(p.x,p.y);const E=l[3*k+0]*P,j=l[3*k+1],O=l[3*k+0]*U;c.push(E,j,O)}}for(let A=0;A<t;A++)for(let R=0;R<e.length-1;R++){const P=R+A*e.length,U=P,k=P+e.length,E=P+e.length+1,j=P+1;s.push(U,k,j),s.push(E,j,k)}this.setIndex(s),this.setAttribute("position",new Cn(o,3)),this.setAttribute("uv",new Cn(a,2)),this.setAttribute("normal",new Cn(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yx(e.points,e.segments,e.phiStart,e.phiLength)}}class sb extends yx{constructor(e=1,t=1,r=4,i=8){const s=new Ly;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new sb(e.radius,e.length,e.capSegments,e.radialSegments)}}class ob extends ar{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new ce,f=new gt;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=t;h++,p+=3){const v=r+h/t*i;c.x=e*Math.cos(v),c.y=e*Math.sin(v),o.push(c.x,c.y,c.z),a.push(0,0,1),f.x=(o[p]/e+1)/2,f.y=(o[p+1]/e+1)/2,l.push(f.x,f.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new Cn(o,3)),this.setAttribute("normal",new Cn(a,3)),this.setAttribute("uv",new Cn(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ob(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class l0 extends ar{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const f=[],h=[],p=[],v=[];let y=0;const w=[],S=r/2;let _=0;A(),o===!1&&(e>0&&R(!0),t>0&&R(!1)),this.setIndex(f),this.setAttribute("position",new Cn(h,3)),this.setAttribute("normal",new Cn(p,3)),this.setAttribute("uv",new Cn(v,2));function A(){const P=new ce,U=new ce;let k=0;const E=(t-e)/r;for(let j=0;j<=s;j++){const O=[],F=j/s,Y=F*(t-e)+e;for(let te=0;te<=i;te++){const ie=te/i,ue=ie*l+a,_e=Math.sin(ue),he=Math.cos(ue);U.x=Y*_e,U.y=-F*r+S,U.z=Y*he,h.push(U.x,U.y,U.z),P.set(_e,E,he).normalize(),p.push(P.x,P.y,P.z),v.push(ie,1-F),O.push(y++)}w.push(O)}for(let j=0;j<i;j++)for(let O=0;O<s;O++){const F=w[O][j],Y=w[O+1][j],te=w[O+1][j+1],ie=w[O][j+1];(e>0||O!==0)&&(f.push(F,Y,ie),k+=3),(t>0||O!==s-1)&&(f.push(Y,te,ie),k+=3)}c.addGroup(_,k,0),_+=k}function R(P){const U=y,k=new gt,E=new ce;let j=0;const O=P===!0?e:t,F=P===!0?1:-1;for(let te=1;te<=i;te++)h.push(0,S*F,0),p.push(0,F,0),v.push(.5,.5),y++;const Y=y;for(let te=0;te<=i;te++){const ue=te/i*l+a,_e=Math.cos(ue),he=Math.sin(ue);E.x=O*he,E.y=S*F,E.z=O*_e,h.push(E.x,E.y,E.z),p.push(0,F,0),k.x=_e*.5+.5,k.y=he*.5*F+.5,v.push(k.x,k.y),y++}for(let te=0;te<i;te++){const ie=U+te,ue=Y+te;P===!0?f.push(ue,ue+1,ie):f.push(ue+1,ue,ie),j+=3}c.addGroup(_,j,P===!0?1:2),_+=j}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new l0(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ab extends l0{constructor(e=1,t=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new ab(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Gd extends ar{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),c(r),f(),this.setAttribute("position",new Cn(s,3)),this.setAttribute("normal",new Cn(s.slice(),3)),this.setAttribute("uv",new Cn(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(A){const R=new ce,P=new ce,U=new ce;for(let k=0;k<t.length;k+=3)v(t[k+0],R),v(t[k+1],P),v(t[k+2],U),l(R,P,U,A)}function l(A,R,P,U){const k=U+1,E=[];for(let j=0;j<=k;j++){E[j]=[];const O=A.clone().lerp(P,j/k),F=R.clone().lerp(P,j/k),Y=k-j;for(let te=0;te<=Y;te++)te===0&&j===k?E[j][te]=O:E[j][te]=O.clone().lerp(F,te/Y)}for(let j=0;j<k;j++)for(let O=0;O<2*(k-j)-1;O++){const F=Math.floor(O/2);O%2===0?(p(E[j][F+1]),p(E[j+1][F]),p(E[j][F])):(p(E[j][F+1]),p(E[j+1][F+1]),p(E[j+1][F]))}}function c(A){const R=new ce;for(let P=0;P<s.length;P+=3)R.x=s[P+0],R.y=s[P+1],R.z=s[P+2],R.normalize().multiplyScalar(A),s[P+0]=R.x,s[P+1]=R.y,s[P+2]=R.z}function f(){const A=new ce;for(let R=0;R<s.length;R+=3){A.x=s[R+0],A.y=s[R+1],A.z=s[R+2];const P=S(A)/2/Math.PI+.5,U=_(A)/Math.PI+.5;o.push(P,1-U)}y(),h()}function h(){for(let A=0;A<o.length;A+=6){const R=o[A+0],P=o[A+2],U=o[A+4],k=Math.max(R,P,U),E=Math.min(R,P,U);k>.9&&E<.1&&(R<.2&&(o[A+0]+=1),P<.2&&(o[A+2]+=1),U<.2&&(o[A+4]+=1))}}function p(A){s.push(A.x,A.y,A.z)}function v(A,R){const P=A*3;R.x=e[P+0],R.y=e[P+1],R.z=e[P+2]}function y(){const A=new ce,R=new ce,P=new ce,U=new ce,k=new gt,E=new gt,j=new gt;for(let O=0,F=0;O<s.length;O+=9,F+=6){A.set(s[O+0],s[O+1],s[O+2]),R.set(s[O+3],s[O+4],s[O+5]),P.set(s[O+6],s[O+7],s[O+8]),k.set(o[F+0],o[F+1]),E.set(o[F+2],o[F+3]),j.set(o[F+4],o[F+5]),U.copy(A).add(R).add(P).divideScalar(3);const Y=S(U);w(k,F+0,A,Y),w(E,F+2,R,Y),w(j,F+4,P,Y)}}function w(A,R,P,U){U<0&&A.x===1&&(o[R]=A.x-1),P.x===0&&P.z===0&&(o[R]=U/2/Math.PI+.5)}function S(A){return Math.atan2(A.z,-A.x)}function _(A){return Math.atan2(-A.y,Math.sqrt(A.x*A.x+A.z*A.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gd(e.vertices,e.indices,e.radius,e.details)}}class lb extends Gd{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new lb(e.radius,e.detail)}}const J_=new ce,Q_=new ce,dT=new ce,e1=new ga;class w4 extends ar{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(vp*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],f=["a","b","c"],h=new Array(3),p={},v=[];for(let y=0;y<l;y+=3){o?(c[0]=o.getX(y),c[1]=o.getX(y+1),c[2]=o.getX(y+2)):(c[0]=y,c[1]=y+1,c[2]=y+2);const{a:w,b:S,c:_}=e1;if(w.fromBufferAttribute(a,c[0]),S.fromBufferAttribute(a,c[1]),_.fromBufferAttribute(a,c[2]),e1.getNormal(dT),h[0]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,h[1]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,h[2]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let A=0;A<3;A++){const R=(A+1)%3,P=h[A],U=h[R],k=e1[f[A]],E=e1[f[R]],j=`${P}_${U}`,O=`${U}_${P}`;O in p&&p[O]?(dT.dot(p[O].normal)<=s&&(v.push(k.x,k.y,k.z),v.push(E.x,E.y,E.z)),p[O]=null):j in p||(p[j]={index0:c[A],index1:c[R],normal:dT.clone()})}}for(const y in p)if(p[y]){const{index0:w,index1:S}=p[y];J_.fromBufferAttribute(a,w),Q_.fromBufferAttribute(a,S),v.push(J_.x,J_.y,J_.z),v.push(Q_.x,Q_.y,Q_.z)}this.setAttribute("position",new Cn(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class xp extends Ly{constructor(e){super(e),this.uuid=el(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new Ly().fromJSON(i))}return this}}const $X={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=S4(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,f,h,p,v;if(r&&(s=ZX(n,e,s,t)),n.length>80*t){a=c=n[0],l=f=n[1];for(let y=t;y<i;y+=t)h=n[y],p=n[y+1],h<a&&(a=h),p<l&&(l=p),h>c&&(c=h),p>f&&(f=p);v=Math.max(c-a,f-l),v=v!==0?32767/v:0}return Dy(s,o,t,a,l,v,0),o}};function S4(n,e,t,r,i){let s,o;if(i===lq(n,e,t,r)>0)for(s=e;s<t;s+=r)o=yL(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=yL(s,n[s],n[s+1],o);return o&&cb(o,o.next)&&(ky(o),o=o.next),o}function kp(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(cb(t,t.next)||Ii(t.prev,t,t.next)===0)){if(ky(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function Dy(n,e,t,r,i,s,o){if(!n)return;!o&&s&&nq(n,r,i,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?qX(n,r,i,s):XX(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),ky(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=YX(kp(n),e,t),Dy(n,e,t,r,i,s,2)):o===2&&KX(n,e,t,r,i,s):Dy(kp(n),e,t,r,i,s,1);break}}}function XX(n){const e=n.prev,t=n,r=n.next;if(Ii(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,c=r.y,f=i<s?i<o?i:o:s<o?s:o,h=a<l?a<c?a:c:l<c?l:c,p=i>s?i>o?i:o:s>o?s:o,v=a>l?a>c?a:c:l>c?l:c;let y=r.next;for(;y!==e;){if(y.x>=f&&y.x<=p&&y.y>=h&&y.y<=v&&gg(i,a,s,l,o,c,y.x,y.y)&&Ii(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function qX(n,e,t,r){const i=n.prev,s=n,o=n.next;if(Ii(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,f=i.y,h=s.y,p=o.y,v=a<l?a<c?a:c:l<c?l:c,y=f<h?f<p?f:p:h<p?h:p,w=a>l?a>c?a:c:l>c?l:c,S=f>h?f>p?f:p:h>p?h:p,_=mA(v,y,e,t,r),A=mA(w,S,e,t,r);let R=n.prevZ,P=n.nextZ;for(;R&&R.z>=_&&P&&P.z<=A;){if(R.x>=v&&R.x<=w&&R.y>=y&&R.y<=S&&R!==i&&R!==o&&gg(a,f,l,h,c,p,R.x,R.y)&&Ii(R.prev,R,R.next)>=0||(R=R.prevZ,P.x>=v&&P.x<=w&&P.y>=y&&P.y<=S&&P!==i&&P!==o&&gg(a,f,l,h,c,p,P.x,P.y)&&Ii(P.prev,P,P.next)>=0))return!1;P=P.nextZ}for(;R&&R.z>=_;){if(R.x>=v&&R.x<=w&&R.y>=y&&R.y<=S&&R!==i&&R!==o&&gg(a,f,l,h,c,p,R.x,R.y)&&Ii(R.prev,R,R.next)>=0)return!1;R=R.prevZ}for(;P&&P.z<=A;){if(P.x>=v&&P.x<=w&&P.y>=y&&P.y<=S&&P!==i&&P!==o&&gg(a,f,l,h,c,p,P.x,P.y)&&Ii(P.prev,P,P.next)>=0)return!1;P=P.nextZ}return!0}function YX(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!cb(i,s)&&b4(i,r,r.next,s)&&Ny(i,s)&&Ny(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),ky(r),ky(r.next),r=n=s),r=r.next}while(r!==n);return kp(r)}function KX(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&sq(o,a)){let l=E4(o,a);o=kp(o,o.next),l=kp(l,l.next),Dy(o,e,t,r,i,s,0),Dy(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function ZX(n,e,t,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,c=S4(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(iq(c));for(i.sort(JX),s=0;s<i.length;s++)t=QX(i[s],t);return t}function JX(n,e){return n.x-e.x}function QX(n,e){const t=eq(n,e);if(!t)return e;const r=E4(t,n);return kp(r,r.next),kp(t,t.next)}function eq(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>r&&(r=p,i=t.x<t.next.x?t:t.next,p===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let f=1/0,h;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&gg(o<c?s:r,o,l,c,o<c?r:s,o,t.x,t.y)&&(h=Math.abs(o-t.y)/(s-t.x),Ny(t,n)&&(h<f||h===f&&(t.x>i.x||t.x===i.x&&tq(i,t)))&&(i=t,f=h)),t=t.next;while(t!==a);return i}function tq(n,e){return Ii(n.prev,n,e.prev)<0&&Ii(e.next,n,n.next)<0}function nq(n,e,t,r){let i=n;do i.z===0&&(i.z=mA(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,rq(i)}function rq(n){let e,t,r,i,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,c*=2}while(o>1);return n}function mA(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function iq(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function gg(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function sq(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!oq(n,e)&&(Ny(n,e)&&Ny(e,n)&&aq(n,e)&&(Ii(n.prev,n,e.prev)||Ii(n,e.prev,e))||cb(n,e)&&Ii(n.prev,n,n.next)>0&&Ii(e.prev,e,e.next)>0)}function Ii(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function cb(n,e){return n.x===e.x&&n.y===e.y}function b4(n,e,t,r){const i=n1(Ii(n,e,t)),s=n1(Ii(n,e,r)),o=n1(Ii(t,r,n)),a=n1(Ii(t,r,e));return!!(i!==s&&o!==a||i===0&&t1(n,t,e)||s===0&&t1(n,r,e)||o===0&&t1(t,n,r)||a===0&&t1(t,e,r))}function t1(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function n1(n){return n>0?1:n<0?-1:0}function oq(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&b4(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Ny(n,e){return Ii(n.prev,n,n.next)<0?Ii(n,e,n.next)>=0&&Ii(n,n.prev,e)>=0:Ii(n,e,n.prev)<0||Ii(n,n.next,e)<0}function aq(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function E4(n,e){const t=new gA(n.i,n.x,n.y),r=new gA(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function yL(n,e,t,r){const i=new gA(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function ky(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function gA(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function lq(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class ou{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return ou.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];xL(e),_L(r,e);let o=e.length;t.forEach(xL);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,_L(r,t[l]);const a=$X.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function xL(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function _L(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class ub extends ar{constructor(e=new xp([new gt(.5,.5),new gt(-.5,.5),new gt(-.5,-.5),new gt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Cn(i,3)),this.setAttribute("uv",new Cn(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,f=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,v=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:v-.1,w=t.bevelOffset!==void 0?t.bevelOffset:0,S=t.bevelSegments!==void 0?t.bevelSegments:3;const _=t.extrudePath,A=t.UVGenerator!==void 0?t.UVGenerator:cq;let R,P=!1,U,k,E,j;_&&(R=_.getSpacedPoints(f),P=!0,p=!1,U=_.computeFrenetFrames(f,!1),k=new ce,E=new ce,j=new ce),p||(S=0,v=0,y=0,w=0);const O=a.extractPoints(c);let F=O.shape;const Y=O.holes;if(!ou.isClockWise(F)){F=F.reverse();for(let at=0,Xe=Y.length;at<Xe;at++){const ae=Y[at];ou.isClockWise(ae)&&(Y[at]=ae.reverse())}}const ie=ou.triangulateShape(F,Y),ue=F;for(let at=0,Xe=Y.length;at<Xe;at++){const ae=Y[at];F=F.concat(ae)}function _e(at,Xe,ae){return Xe||console.error("THREE.ExtrudeGeometry: vec does not exist"),at.clone().addScaledVector(Xe,ae)}const he=F.length,ge=ie.length;function q(at,Xe,ae){let Bt,ht,Re;const mt=at.x-Xe.x,tn=at.y-Xe.y,It=ae.x-at.x,se=ae.y-at.y,ee=mt*mt+tn*tn,xe=mt*se-tn*It;if(Math.abs(xe)>Number.EPSILON){const Oe=Math.sqrt(ee),Le=Math.sqrt(It*It+se*se),Ge=Xe.x-tn/Oe,St=Xe.y+mt/Oe,wt=ae.x-se/Le,Rt=ae.y+It/Le,vn=((wt-Ge)*se-(Rt-St)*It)/(mt*se-tn*It);Bt=Ge+mt*vn-at.x,ht=St+tn*vn-at.y;const xt=Bt*Bt+ht*ht;if(xt<=2)return new gt(Bt,ht);Re=Math.sqrt(xt/2)}else{let Oe=!1;mt>Number.EPSILON?It>Number.EPSILON&&(Oe=!0):mt<-Number.EPSILON?It<-Number.EPSILON&&(Oe=!0):Math.sign(tn)===Math.sign(se)&&(Oe=!0),Oe?(Bt=-tn,ht=mt,Re=Math.sqrt(ee)):(Bt=mt,ht=tn,Re=Math.sqrt(ee/2))}return new gt(Bt/Re,ht/Re)}const oe=[];for(let at=0,Xe=ue.length,ae=Xe-1,Bt=at+1;at<Xe;at++,ae++,Bt++)ae===Xe&&(ae=0),Bt===Xe&&(Bt=0),oe[at]=q(ue[at],ue[ae],ue[Bt]);const $=[];let ne,we=oe.concat();for(let at=0,Xe=Y.length;at<Xe;at++){const ae=Y[at];ne=[];for(let Bt=0,ht=ae.length,Re=ht-1,mt=Bt+1;Bt<ht;Bt++,Re++,mt++)Re===ht&&(Re=0),mt===ht&&(mt=0),ne[Bt]=q(ae[Bt],ae[Re],ae[mt]);$.push(ne),we=we.concat(ne)}for(let at=0;at<S;at++){const Xe=at/S,ae=v*Math.cos(Xe*Math.PI/2),Bt=y*Math.sin(Xe*Math.PI/2)+w;for(let ht=0,Re=ue.length;ht<Re;ht++){const mt=_e(ue[ht],oe[ht],Bt);je(mt.x,mt.y,-ae)}for(let ht=0,Re=Y.length;ht<Re;ht++){const mt=Y[ht];ne=$[ht];for(let tn=0,It=mt.length;tn<It;tn++){const se=_e(mt[tn],ne[tn],Bt);je(se.x,se.y,-ae)}}}const nt=y+w;for(let at=0;at<he;at++){const Xe=p?_e(F[at],we[at],nt):F[at];P?(E.copy(U.normals[0]).multiplyScalar(Xe.x),k.copy(U.binormals[0]).multiplyScalar(Xe.y),j.copy(R[0]).add(E).add(k),je(j.x,j.y,j.z)):je(Xe.x,Xe.y,0)}for(let at=1;at<=f;at++)for(let Xe=0;Xe<he;Xe++){const ae=p?_e(F[Xe],we[Xe],nt):F[Xe];P?(E.copy(U.normals[at]).multiplyScalar(ae.x),k.copy(U.binormals[at]).multiplyScalar(ae.y),j.copy(R[at]).add(E).add(k),je(j.x,j.y,j.z)):je(ae.x,ae.y,h/f*at)}for(let at=S-1;at>=0;at--){const Xe=at/S,ae=v*Math.cos(Xe*Math.PI/2),Bt=y*Math.sin(Xe*Math.PI/2)+w;for(let ht=0,Re=ue.length;ht<Re;ht++){const mt=_e(ue[ht],oe[ht],Bt);je(mt.x,mt.y,h+ae)}for(let ht=0,Re=Y.length;ht<Re;ht++){const mt=Y[ht];ne=$[ht];for(let tn=0,It=mt.length;tn<It;tn++){const se=_e(mt[tn],ne[tn],Bt);P?je(se.x,se.y+R[f-1].y,R[f-1].x+ae):je(se.x,se.y,h+ae)}}}Ce(),Ve();function Ce(){const at=i.length/3;if(p){let Xe=0,ae=he*Xe;for(let Bt=0;Bt<ge;Bt++){const ht=ie[Bt];pt(ht[2]+ae,ht[1]+ae,ht[0]+ae)}Xe=f+S*2,ae=he*Xe;for(let Bt=0;Bt<ge;Bt++){const ht=ie[Bt];pt(ht[0]+ae,ht[1]+ae,ht[2]+ae)}}else{for(let Xe=0;Xe<ge;Xe++){const ae=ie[Xe];pt(ae[2],ae[1],ae[0])}for(let Xe=0;Xe<ge;Xe++){const ae=ie[Xe];pt(ae[0]+he*f,ae[1]+he*f,ae[2]+he*f)}}r.addGroup(at,i.length/3-at,0)}function Ve(){const at=i.length/3;let Xe=0;He(ue,Xe),Xe+=ue.length;for(let ae=0,Bt=Y.length;ae<Bt;ae++){const ht=Y[ae];He(ht,Xe),Xe+=ht.length}r.addGroup(at,i.length/3-at,1)}function He(at,Xe){let ae=at.length;for(;--ae>=0;){const Bt=ae;let ht=ae-1;ht<0&&(ht=at.length-1);for(let Re=0,mt=f+S*2;Re<mt;Re++){const tn=he*Re,It=he*(Re+1),se=Xe+Bt+tn,ee=Xe+ht+tn,xe=Xe+ht+It,Oe=Xe+Bt+It;bt(se,ee,xe,Oe)}}}function je(at,Xe,ae){l.push(at),l.push(Xe),l.push(ae)}function pt(at,Xe,ae){Dt(at),Dt(Xe),Dt(ae);const Bt=i.length/3,ht=A.generateTopUV(r,i,Bt-3,Bt-2,Bt-1);Jt(ht[0]),Jt(ht[1]),Jt(ht[2])}function bt(at,Xe,ae,Bt){Dt(at),Dt(Xe),Dt(Bt),Dt(Xe),Dt(ae),Dt(Bt);const ht=i.length/3,Re=A.generateSideWallUV(r,i,ht-6,ht-3,ht-2,ht-1);Jt(Re[0]),Jt(Re[1]),Jt(Re[3]),Jt(Re[1]),Jt(Re[2]),Jt(Re[3])}function Dt(at){i.push(l[at*3+0]),i.push(l[at*3+1]),i.push(l[at*3+2])}function Jt(at){s.push(at.x),s.push(at.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return uq(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new nS[i.type]().fromJSON(i)),new ub(r,e.options)}}const cq={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],f=e[i*3+1];return[new gt(s,o),new gt(a,l),new gt(c,f)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],f=e[r*3+1],h=e[r*3+2],p=e[i*3],v=e[i*3+1],y=e[i*3+2],w=e[s*3],S=e[s*3+1],_=e[s*3+2];return Math.abs(a-f)<Math.abs(o-c)?[new gt(o,1-l),new gt(c,1-h),new gt(p,1-y),new gt(w,1-_)]:[new gt(a,1-l),new gt(f,1-h),new gt(v,1-y),new gt(S,1-_)]}};function uq(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class xx extends Gd{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new xx(e.radius,e.detail)}}class _x extends Gd{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new _x(e.radius,e.detail)}}class $d extends ar{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,f=l+1,h=e/a,p=t/l,v=[],y=[],w=[],S=[];for(let _=0;_<f;_++){const A=_*p-o;for(let R=0;R<c;R++){const P=R*h-s;y.push(P,-A,0),w.push(0,0,1),S.push(R/a),S.push(1-_/l)}}for(let _=0;_<l;_++)for(let A=0;A<a;A++){const R=A+c*_,P=A+c*(_+1),U=A+1+c*(_+1),k=A+1+c*_;v.push(R,P,k),v.push(P,U,k)}this.setIndex(v),this.setAttribute("position",new Cn(y,3)),this.setAttribute("normal",new Cn(w,3)),this.setAttribute("uv",new Cn(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $d(e.width,e.height,e.widthSegments,e.heightSegments)}}class fb extends ar{constructor(e=.5,t=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],f=[];let h=e;const p=(t-e)/i,v=new ce,y=new gt;for(let w=0;w<=i;w++){for(let S=0;S<=r;S++){const _=s+S/r*o;v.x=h*Math.cos(_),v.y=h*Math.sin(_),l.push(v.x,v.y,v.z),c.push(0,0,1),y.x=(v.x/t+1)/2,y.y=(v.y/t+1)/2,f.push(y.x,y.y)}h+=p}for(let w=0;w<i;w++){const S=w*(r+1);for(let _=0;_<r;_++){const A=_+S,R=A,P=A+r+1,U=A+r+2,k=A+1;a.push(R,P,k),a.push(P,U,k)}}this.setIndex(a),this.setAttribute("position",new Cn(l,3)),this.setAttribute("normal",new Cn(c,3)),this.setAttribute("uv",new Cn(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fb(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class db extends ar{constructor(e=new xp([new gt(0,.5),new gt(-.5,-.5),new gt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let f=0;f<e.length;f++)c(e[f]),this.addGroup(a,l,f),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Cn(i,3)),this.setAttribute("normal",new Cn(s,3)),this.setAttribute("uv",new Cn(o,2));function c(f){const h=i.length/3,p=f.extractPoints(t);let v=p.shape;const y=p.holes;ou.isClockWise(v)===!1&&(v=v.reverse());for(let S=0,_=y.length;S<_;S++){const A=y[S];ou.isClockWise(A)===!0&&(y[S]=A.reverse())}const w=ou.triangulateShape(v,y);for(let S=0,_=y.length;S<_;S++){const A=y[S];v=v.concat(A)}for(let S=0,_=v.length;S<_;S++){const A=v[S];i.push(A.x,A.y,0),s.push(0,0,1),o.push(A.x,A.y)}for(let S=0,_=w.length;S<_;S++){const A=w[S],R=A[0]+h,P=A[1]+h,U=A[2]+h;r.push(R,P,U),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return fq(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new db(r,e.curveSegments)}}function fq(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class wx extends ar{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const f=[],h=new ce,p=new ce,v=[],y=[],w=[],S=[];for(let _=0;_<=r;_++){const A=[],R=_/r;let P=0;_===0&&o===0?P=.5/t:_===r&&l===Math.PI&&(P=-.5/t);for(let U=0;U<=t;U++){const k=U/t;h.x=-e*Math.cos(i+k*s)*Math.sin(o+R*a),h.y=e*Math.cos(o+R*a),h.z=e*Math.sin(i+k*s)*Math.sin(o+R*a),y.push(h.x,h.y,h.z),p.copy(h).normalize(),w.push(p.x,p.y,p.z),S.push(k+P,1-R),A.push(c++)}f.push(A)}for(let _=0;_<r;_++)for(let A=0;A<t;A++){const R=f[_][A+1],P=f[_][A],U=f[_+1][A],k=f[_+1][A+1];(_!==0||o>0)&&v.push(R,P,k),(_!==r-1||l<Math.PI)&&v.push(P,U,k)}this.setIndex(v),this.setAttribute("position",new Cn(y,3)),this.setAttribute("normal",new Cn(w,3)),this.setAttribute("uv",new Cn(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wx(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class hb extends Gd{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new hb(e.radius,e.detail)}}class pb extends ar{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],f=new ce,h=new ce,p=new ce;for(let v=0;v<=r;v++)for(let y=0;y<=i;y++){const w=y/i*s,S=v/r*Math.PI*2;h.x=(e+t*Math.cos(S))*Math.cos(w),h.y=(e+t*Math.cos(S))*Math.sin(w),h.z=t*Math.sin(S),a.push(h.x,h.y,h.z),f.x=e*Math.cos(w),f.y=e*Math.sin(w),p.subVectors(h,f).normalize(),l.push(p.x,p.y,p.z),c.push(y/i),c.push(v/r)}for(let v=1;v<=r;v++)for(let y=1;y<=i;y++){const w=(i+1)*v+y-1,S=(i+1)*(v-1)+y-1,_=(i+1)*(v-1)+y,A=(i+1)*v+y;o.push(w,S,A),o.push(S,_,A)}this.setIndex(o),this.setAttribute("position",new Cn(a,3)),this.setAttribute("normal",new Cn(l,3)),this.setAttribute("uv",new Cn(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pb(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class mb extends ar{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],f=[],h=new ce,p=new ce,v=new ce,y=new ce,w=new ce,S=new ce,_=new ce;for(let R=0;R<=r;++R){const P=R/r*s*Math.PI*2;A(P,s,o,e,v),A(P+.01,s,o,e,y),S.subVectors(y,v),_.addVectors(y,v),w.crossVectors(S,_),_.crossVectors(w,S),w.normalize(),_.normalize();for(let U=0;U<=i;++U){const k=U/i*Math.PI*2,E=-t*Math.cos(k),j=t*Math.sin(k);h.x=v.x+(E*_.x+j*w.x),h.y=v.y+(E*_.y+j*w.y),h.z=v.z+(E*_.z+j*w.z),l.push(h.x,h.y,h.z),p.subVectors(h,v).normalize(),c.push(p.x,p.y,p.z),f.push(R/r),f.push(U/i)}}for(let R=1;R<=r;R++)for(let P=1;P<=i;P++){const U=(i+1)*(R-1)+(P-1),k=(i+1)*R+(P-1),E=(i+1)*R+P,j=(i+1)*(R-1)+P;a.push(U,k,j),a.push(k,E,j)}this.setIndex(a),this.setAttribute("position",new Cn(l,3)),this.setAttribute("normal",new Cn(c,3)),this.setAttribute("uv",new Cn(f,2));function A(R,P,U,k,E){const j=Math.cos(R),O=Math.sin(R),F=U/P*R,Y=Math.cos(F);E.x=k*(2+Y)*.5*j,E.y=k*(2+Y)*O*.5,E.z=k*Math.sin(F)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mb(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class gb extends ar{constructor(e=new BR(new ce(-1,-1,0),new ce(-1,1,0),new ce(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new ce,l=new ce,c=new gt;let f=new ce;const h=[],p=[],v=[],y=[];w(),this.setIndex(y),this.setAttribute("position",new Cn(h,3)),this.setAttribute("normal",new Cn(p,3)),this.setAttribute("uv",new Cn(v,2));function w(){for(let R=0;R<t;R++)S(R);S(s===!1?t:0),A(),_()}function S(R){f=e.getPointAt(R/t,f);const P=o.normals[R],U=o.binormals[R];for(let k=0;k<=i;k++){const E=k/i*Math.PI*2,j=Math.sin(E),O=-Math.cos(E);l.x=O*P.x+j*U.x,l.y=O*P.y+j*U.y,l.z=O*P.z+j*U.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=f.x+r*l.x,a.y=f.y+r*l.y,a.z=f.z+r*l.z,h.push(a.x,a.y,a.z)}}function _(){for(let R=1;R<=t;R++)for(let P=1;P<=i;P++){const U=(i+1)*(R-1)+(P-1),k=(i+1)*R+(P-1),E=(i+1)*R+P,j=(i+1)*(R-1)+P;y.push(U,k,j),y.push(k,E,j)}}function A(){for(let R=0;R<=t;R++)for(let P=0;P<=i;P++)c.x=R/t,c.y=P/i,v.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new gb(new nS[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class T4 extends ar{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new ce,s=new ce;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,f=l.length;c<f;++c){const h=l[c],p=h.start,v=h.count;for(let y=p,w=p+v;y<w;y+=3)for(let S=0;S<3;S++){const _=a.getX(y+S),A=a.getX(y+(S+1)%3);i.fromBufferAttribute(o,_),s.fromBufferAttribute(o,A),wL(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const f=3*a+c,h=3*a+(c+1)%3;i.fromBufferAttribute(o,f),s.fromBufferAttribute(o,h),wL(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Cn(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function wL(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var SL=Object.freeze({__proto__:null,BoxGeometry:Zp,CapsuleGeometry:sb,CircleGeometry:ob,ConeGeometry:ab,CylinderGeometry:l0,DodecahedronGeometry:lb,EdgesGeometry:w4,ExtrudeGeometry:ub,IcosahedronGeometry:xx,LatheGeometry:yx,OctahedronGeometry:_x,PlaneGeometry:$d,PolyhedronGeometry:Gd,RingGeometry:fb,ShapeGeometry:db,SphereGeometry:wx,TetrahedronGeometry:hb,TorusGeometry:pb,TorusKnotGeometry:mb,TubeGeometry:gb,WireframeGeometry:T4});class M4 extends hs{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new rn(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class A4 extends Ea{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Sx extends hs{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new rn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new rn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wd,this.normalScale=new gt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new sl,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class al extends Sx{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new gt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return ir(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new rn(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new rn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new rn(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class C4 extends hs{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new rn(16777215),this.specular=new rn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new rn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wd,this.normalScale=new gt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new sl,this.combine=cx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class R4 extends hs{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new rn(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new rn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wd,this.normalScale=new gt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class P4 extends hs{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wd,this.normalScale=new gt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class I4 extends hs{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new rn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new rn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wd,this.normalScale=new gt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new sl,this.combine=cx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class VR extends hs{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=XU,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class HR extends hs{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class L4 extends hs{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new rn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wd,this.normalScale=new gt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class D4 extends Eo{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function lp(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function N4(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function k4(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function vA(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function jR(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function dq(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],f=c.getValueSize(),h=[],p=[];for(let v=0;v<c.times.length;++v){const y=c.times[v]*i;if(!(y<t||y>=r)){h.push(c.times[v]);for(let w=0;w<f;++w)p.push(c.values[v*f+w])}}h.length!==0&&(c.times=lp(h,c.times.constructor),c.values=lp(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function hq(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(_){return _.name===a.name&&_.ValueTypeName===l});if(c===void 0)continue;let f=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=h/3);let p=0;const v=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=v/3);const y=a.times.length-1;let w;if(s<=a.times[0]){const _=f,A=h-f;w=a.values.slice(_,A)}else if(s>=a.times[y]){const _=y*h+f,A=_+h-f;w=a.values.slice(_,A)}else{const _=a.createInterpolant(),A=f,R=h-f;_.evaluate(s),w=_.resultBuffer.slice(A,R)}l==="quaternion"&&new Ws().fromArray(w).normalize().conjugate().toArray(w);const S=c.times.length;for(let _=0;_<S;++_){const A=_*v+p;if(l==="quaternion")Ws.multiplyQuaternionsFlat(c.values,A,w,0,c.values,A);else{const R=v-p*2;for(let P=0;P<R;++P)c.values[A+P]-=w[P]}}}return n.blendMode=wR,n}const pq={convertArray:lp,isTypedArray:N4,getKeyframeOrder:k4,sortedArray:vA,flattenJSON:jR,subclip:dq,makeClipAdditive:hq};class c0{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class O4 extends c0{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ip,endingEnd:ip}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case sp:s=e,a=2*t-r;break;case Ay:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case sp:o=e,l=2*r-t;break;case Ay:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,f=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*f,this._offsetNext=o*f}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,f=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,v=this._weightNext,y=(r-t)/(i-t),w=y*y,S=w*y,_=-p*S+2*p*w-p*y,A=(1+p)*S+(-1.5-2*p)*w+(-.5+p)*y+1,R=(-1-v)*S+(1.5+v)*w+.5*y,P=v*S-v*w;for(let U=0;U!==a;++U)s[U]=_*o[f+U]+A*o[c+U]+R*o[l+U]+P*o[h+U];return s}}class WR extends c0{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,f=(r-t)/(i-t),h=1-f;for(let p=0;p!==a;++p)s[p]=o[c+p]*h+o[l+p]*f;return s}}class F4 extends c0{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ic{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=lp(t,this.TimeBufferType),this.values=lp(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:lp(e.times,Array),values:lp(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new F4(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new WR(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new O4(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Hg:t=this.InterpolantFactoryMethodDiscrete;break;case jg:t=this.InterpolantFactoryMethodLinear;break;case q1:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Hg;case this.InterpolantFactoryMethodLinear:return jg;case this.InterpolantFactoryMethodSmooth:return q1}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&N4(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===q1,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],f=e[a+1];if(c!==f&&(a!==1||c!==e[0]))if(i)l=!0;else{const h=a*r,p=h-r,v=h+r;for(let y=0;y!==r;++y){const w=t[h+y];if(w!==t[p+y]||w!==t[v+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*r,p=o*r;for(let v=0;v!==r;++v)t[p+v]=t[h+v]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Ic.prototype.TimeBufferType=Float32Array;Ic.prototype.ValueBufferType=Float32Array;Ic.prototype.DefaultInterpolation=jg;class Jp extends Ic{constructor(e,t,r){super(e,t,r)}}Jp.prototype.ValueTypeName="bool";Jp.prototype.ValueBufferType=Array;Jp.prototype.DefaultInterpolation=Hg;Jp.prototype.InterpolantFactoryMethodLinear=void 0;Jp.prototype.InterpolantFactoryMethodSmooth=void 0;class GR extends Ic{}GR.prototype.ValueTypeName="color";class Op extends Ic{}Op.prototype.ValueTypeName="number";class U4 extends c0{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let f=c+a;c!==f;c+=4)Ws.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Fp extends Ic{InterpolantFactoryMethodLinear(e){return new U4(this.times,this.values,this.getValueSize(),e)}}Fp.prototype.ValueTypeName="quaternion";Fp.prototype.InterpolantFactoryMethodSmooth=void 0;class Qp extends Ic{constructor(e,t,r){super(e,t,r)}}Qp.prototype.ValueTypeName="string";Qp.prototype.ValueBufferType=Array;Qp.prototype.DefaultInterpolation=Hg;Qp.prototype.InterpolantFactoryMethodLinear=void 0;Qp.prototype.InterpolantFactoryMethodSmooth=void 0;class Up extends Ic{}Up.prototype.ValueTypeName="vector";class Xg{constructor(e="",t=-1,r=[],i=ZS){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=el(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(gq(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(Ic.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const f=k4(l);l=vA(l,1,f),c=vA(c,1,f),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Op(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],f=c.name.match(s);if(f&&f.length>1){const h=f[1];let p=i[h];p||(i[h]=p=[]),p.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,p,v,y,w){if(v.length!==0){const S=[],_=[];jR(v,S,_,y),S.length!==0&&w.push(new h(p,S,_))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const p=c[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const v={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let w=0;w<p[y].morphTargets.length;w++)v[p[y].morphTargets[w]]=-1;for(const w in v){const S=[],_=[];for(let A=0;A!==p[y].morphTargets.length;++A){const R=p[y];S.push(R.time),_.push(R.morphTarget===w?1:0)}i.push(new Op(".morphTargetInfluence["+w+"]",S,_))}l=v.length*o}else{const v=".bones["+t[h].name+"]";r(Up,v+".position",p,"pos",i),r(Fp,v+".quaternion",p,"rot",i),r(Up,v+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function mq(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Op;case"vector":case"vector2":case"vector3":case"vector4":return Up;case"color":return GR;case"quaternion":return Fp;case"bool":case"boolean":return Jp;case"string":return Qp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function gq(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=mq(n.type);if(n.times===void 0){const t=[],r=[];jR(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const cf={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class vb{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(f){a++,s===!1&&i.onStart!==void 0&&i.onStart(f,o,a),s=!0},this.itemEnd=function(f){o++,i.onProgress!==void 0&&i.onProgress(f,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(f){i.onError!==void 0&&i.onError(f)},this.resolveURL=function(f){return l?l(f):f},this.setURLModifier=function(f){return l=f,this},this.addHandler=function(f,h){return c.push(f,h),this},this.removeHandler=function(f){const h=c.indexOf(f);return h!==-1&&c.splice(h,2),this},this.getHandler=function(f){for(let h=0,p=c.length;h<p;h+=2){const v=c[h],y=c[h+1];if(v.global&&(v.lastIndex=0),v.test(f))return y}return null}}}const B4=new vb;class To{constructor(e){this.manager=e!==void 0?e:B4,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}To.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ku={};class vq extends Error{constructor(e,t){super(e),this.response=t}}class ta extends To{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=cf.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Ku[e]!==void 0){Ku[e].push({onLoad:t,onProgress:r,onError:i});return}Ku[e]=[],Ku[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const f=Ku[e],h=c.body.getReader(),p=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),v=p?parseInt(p):0,y=v!==0;let w=0;const S=new ReadableStream({start(_){A();function A(){h.read().then(({done:R,value:P})=>{if(R)_.close();else{w+=P.byteLength;const U=new ProgressEvent("progress",{lengthComputable:y,loaded:w,total:v});for(let k=0,E=f.length;k<E;k++){const j=f[k];j.onProgress&&j.onProgress(U)}_.enqueue(P),A()}},R=>{_.error(R)})}}});return new Response(S)}else throw new vq(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(f=>new DOMParser().parseFromString(f,a));case"json":return c.json();default:if(a===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,v=new TextDecoder(p);return c.arrayBuffer().then(y=>v.decode(y))}}}).then(c=>{cf.add(e,c);const f=Ku[e];delete Ku[e];for(let h=0,p=f.length;h<p;h++){const v=f[h];v.onLoad&&v.onLoad(c)}}).catch(c=>{const f=Ku[e];if(f===void 0)throw this.manager.itemError(e),c;delete Ku[e];for(let h=0,p=f.length;h<p;h++){const v=f[h];v.onError&&v.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class yq extends To{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new ta(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=Xg.parse(e[r]);t.push(i)}return t}}class xq extends To{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new rb,l=new ta(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function f(h){l.load(e[h],function(p){const v=s.parse(p,!0);o[h]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},c+=1,c===6&&(v.mipmapCount===1&&(a.minFilter=Ur),a.image=o,a.format=v.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)f(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const v=p.mipmaps.length/p.mipmapCount;for(let y=0;y<v;y++){o[y]={mipmaps:[]};for(let w=0;w<p.mipmapCount;w++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+w]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=Ur),a.format=p.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class Oy extends To{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=cf.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Iy("img");function l(){f(),cf.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(h){f(),i&&i(h),s.manager.itemError(e),s.manager.itemEnd(e)}function f(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class z4 extends To{constructor(e){super(e)}load(e,t,r,i){const s=new px;s.colorSpace=ds;const o=new Oy(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(f){s.images[c]=f,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class $R extends To{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Sc,a=new ta(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(f){if(i!==void 0)i(f);else{console.error(f);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Zi,o.wrapT=c.wrapT!==void 0?c.wrapT:Zi,o.magFilter=c.magFilter!==void 0?c.magFilter:Ur,o.minFilter=c.minFilter!==void 0?c.minFilter:Ur,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(o.colorSpace=c.colorSpace),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=kl),c.mipmapCount===1&&(o.minFilter=Ur),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c)},r,i),o}}class V4 extends To{constructor(e){super(e)}load(e,t,r,i){const s=new Br,o=new Oy(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class Xd extends Ir{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new rn(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class H4 extends Xd{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ir.DEFAULT_UP),this.updateMatrix(),this.groundColor=new rn(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const hT=new jn,bL=new ce,EL=new ce;class XR{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new gt(512,512),this.map=null,this.mapPass=null,this.matrix=new jn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new vx,this._frameExtents=new gt(1,1),this._viewportCount=1,this._viewports=[new Or(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;bL.setFromMatrixPosition(e.matrixWorld),t.position.copy(bL),EL.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(EL),t.updateMatrixWorld(),hT.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(hT),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(hT)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class _q extends XR{constructor(){super(new Hi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=Wg*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class qR extends Xd{constructor(e,t,r=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ir.DEFAULT_UP),this.updateMatrix(),this.target=new Ir,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new _q}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const TL=new jn,xv=new ce,pT=new ce;class wq extends XR{constructor(){super(new Hi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new gt(4,2),this._viewportCount=6,this._viewports=[new Or(2,1,1,1),new Or(0,1,1,1),new Or(3,1,1,1),new Or(1,1,1,1),new Or(3,0,1,1),new Or(1,0,1,1)],this._cubeDirections=[new ce(1,0,0),new ce(-1,0,0),new ce(0,0,1),new ce(0,0,-1),new ce(0,1,0),new ce(0,-1,0)],this._cubeUps=[new ce(0,1,0),new ce(0,1,0),new ce(0,1,0),new ce(0,1,0),new ce(0,0,1),new ce(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),xv.setFromMatrixPosition(e.matrixWorld),r.position.copy(xv),pT.copy(r.position),pT.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(pT),r.updateMatrixWorld(),i.makeTranslation(-xv.x,-xv.y,-xv.z),TL.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(TL)}}class YR extends Xd{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new wq}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class au extends hx{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=f*this.view.offsetY,l=a-f*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class Sq extends XR{constructor(){super(new au(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class KR extends Xd{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ir.DEFAULT_UP),this.updateMatrix(),this.target=new Ir,this.shadow=new Sq}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class j4 extends Xd{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class W4 extends Xd{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class G4{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ce)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class $4 extends Xd{constructor(e=new G4,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class yb extends To{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new ta(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new rn().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new rn().setHex(o.value);break;case"v2":i.uniforms[s].value=new gt().fromArray(o.value);break;case"v3":i.uniforms[s].value=new ce().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Or().fromArray(o.value);break;case"m3":i.uniforms[s].value=new or().fromArray(o.value);break;case"m4":i.uniforms[s].value=new jn().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new gt().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new gt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return yb.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:M4,SpriteMaterial:RR,RawShaderMaterial:A4,ShaderMaterial:Ea,PointsMaterial:nb,MeshPhysicalMaterial:al,MeshStandardMaterial:Sx,MeshPhongMaterial:C4,MeshToonMaterial:R4,MeshNormalMaterial:P4,MeshLambertMaterial:I4,MeshDepthMaterial:VR,MeshDistanceMaterial:HR,MeshBasicMaterial:va,MeshMatcapMaterial:L4,LineDashedMaterial:D4,LineBasicMaterial:Eo,Material:hs};return new t[e]}}class Ed{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class X4 extends ar{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class q4 extends To{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new ta(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(v,y){if(t[y]!==void 0)return t[y];const S=v.interleavedBuffers[y],_=s(v,S.buffer),A=mg(S.type,_),R=new mx(A,S.stride);return R.uuid=S.uuid,t[y]=R,R}function s(v,y){if(r[y]!==void 0)return r[y];const S=v.arrayBuffers[y],_=new Uint32Array(S).buffer;return r[y]=_,_}const o=e.isInstancedBufferGeometry?new X4:new ar,a=e.data.index;if(a!==void 0){const v=mg(a.type,a.array);o.setIndex(new jr(v,1))}const l=e.data.attributes;for(const v in l){const y=l[v];let w;if(y.isInterleavedBufferAttribute){const S=i(e.data,y.data);w=new Nd(S,y.itemSize,y.offset,y.normalized)}else{const S=mg(y.type,y.array),_=y.isInstancedBufferAttribute?Np:jr;w=new _(S,y.itemSize,y.normalized)}y.name!==void 0&&(w.name=y.name),y.usage!==void 0&&w.setUsage(y.usage),o.setAttribute(v,w)}const c=e.data.morphAttributes;if(c)for(const v in c){const y=c[v],w=[];for(let S=0,_=y.length;S<_;S++){const A=y[S];let R;if(A.isInterleavedBufferAttribute){const P=i(e.data,A.data);R=new Nd(P,A.itemSize,A.offset,A.normalized)}else{const P=mg(A.type,A.array);R=new jr(P,A.itemSize,A.normalized)}A.name!==void 0&&(R.name=A.name),w.push(R)}o.morphAttributes[v]=w}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let v=0,y=h.length;v!==y;++v){const w=h[v];o.addGroup(w.start,w.count,w.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const v=new ce;p.center!==void 0&&v.fromArray(p.center),o.boundingSphere=new no(v,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class bq extends To{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?Ed.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new ta(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){i!==void 0&&i(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const f=c.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?Ed.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new ta(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),f=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,f),this.bindLightTargets(c),t!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new xp().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new gx().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new q4;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in SL?a=SL[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new yb;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Xg.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(f)}else return l.data?{data:mg(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new vb(t);s=new Oy(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,f=e.length;c<f;c++){const h=e[c],p=h.url;if(Array.isArray(p)){const v=[];for(let y=0,w=p.length;y<w;y++){const S=p[y],_=a(S);_!==null&&(_ instanceof HTMLImageElement?v.push(_):v.push(new Sc(_.data,_.width,_.height)))}i[h.uuid]=new op(v)}else{const v=a(h.url);i[h.uuid]=new op(v)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:mg(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Oy(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const f=[];for(let h=0,p=c.length;h<p;h++){const v=c[h],y=await s(v);y!==null&&(y instanceof HTMLImageElement?f.push(y):f.push(new Sc(y.data,y.width,y.height)))}r[l.uuid]=new op(f)}else{const f=await s(l.url);r[l.uuid]=new op(f)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let f;Array.isArray(c)?(f=new px,c.length===6&&(f.needsUpdate=!0)):(c&&c.data?f=new Sc:f=new Br,c&&(f.needsUpdate=!0)),f.source=l,f.uuid=a.uuid,a.name!==void 0&&(f.name=a.name),a.mapping!==void 0&&(f.mapping=r(a.mapping,Eq)),a.channel!==void 0&&(f.channel=a.channel),a.offset!==void 0&&f.offset.fromArray(a.offset),a.repeat!==void 0&&f.repeat.fromArray(a.repeat),a.center!==void 0&&f.center.fromArray(a.center),a.rotation!==void 0&&(f.rotation=a.rotation),a.wrap!==void 0&&(f.wrapS=r(a.wrap[0],ML),f.wrapT=r(a.wrap[1],ML)),a.format!==void 0&&(f.format=a.format),a.internalFormat!==void 0&&(f.internalFormat=a.internalFormat),a.type!==void 0&&(f.type=a.type),a.colorSpace!==void 0&&(f.colorSpace=a.colorSpace),a.minFilter!==void 0&&(f.minFilter=r(a.minFilter,AL)),a.magFilter!==void 0&&(f.magFilter=r(a.magFilter,AL)),a.anisotropy!==void 0&&(f.anisotropy=a.anisotropy),a.flipY!==void 0&&(f.flipY=a.flipY),a.generateMipmaps!==void 0&&(f.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(f.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(f.compareFunction=a.compareFunction),a.userData!==void 0&&(f.userData=a.userData),i[a.uuid]=f}return i}parseObject(e,t,r,i,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const v=[];for(let y=0,w=p.length;y<w;y++){const S=p[y];r[S]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",S),v.push(r[S])}return v}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function c(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let f,h;switch(e.type){case"Scene":o=new $g,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new rn(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new eb(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new QS(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Hi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new au(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new j4(e.color,e.intensity);break;case"DirectionalLight":o=new KR(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new YR(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new W4(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new qR(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new H4(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new $4().fromJSON(e);break;case"SkinnedMesh":f=a(e.geometry),h=l(e.material),o=new PR(f,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":f=a(e.geometry),h=l(e.material),o=new Si(f,h);break;case"InstancedMesh":f=a(e.geometry),h=l(e.material);const p=e.count,v=e.instanceMatrix,y=e.instanceColor;o=new IR(f,h,p),o.instanceMatrix=new Np(new Float32Array(v.array),16),y!==void 0&&(o.instanceColor=new Np(new Float32Array(y.array),y.itemSize));break;case"BatchedMesh":f=a(e.geometry),h=l(e.material),o=new m4(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,h),o.geometry=f,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(w=>{const S=new wo;S.min.fromArray(w.boxMin),S.max.fromArray(w.boxMax);const _=new no;return _.radius=w.sphereRadius,_.center.fromArray(w.sphereCenter),{boxInitialized:w.boxInitialized,box:S,sphereInitialized:w.sphereInitialized,sphere:_}}),o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=c(e.colorsTexture.uuid));break;case"LOD":o=new p4;break;case"Line":o=new xf(a(e.geometry),l(e.material));break;case"LineLoop":o=new LR(a(e.geometry),l(e.material));break;case"LineSegments":o=new Rc(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new DR(a(e.geometry),l(e.material));break;case"Sprite":o=new h4(l(e.material));break;case"Group":o=new lf;break;case"Bone":o=new tb;break;default:o=new Ir}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let v=0;v<p.length;v++)o.add(this.parseObject(p[v],t,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let v=0;v<p.length;v++){const y=p[v];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let v=0;v<p.length;v++){const y=p[v],w=o.getObjectByProperty("uuid",y.object);w!==void 0&&o.addLevel(w,y.distance,y.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const r=t.target,i=e.getObjectByProperty("uuid",r);i!==void 0?t.target=i:t.target=new Ir}})}}const Eq={UVMapping:Id,CubeReflectionMapping:du,CubeRefractionMapping:Ld,EquirectangularReflectionMapping:Bg,EquirectangularRefractionMapping:My,CubeUVReflectionMapping:a0},ML={RepeatWrapping:Dd,ClampToEdgeWrapping:Zi,MirroredRepeatWrapping:zg},AL={NearestFilter:Ts,NearestMipmapNearestFilter:WS,NearestMipmapLinearFilter:rp,LinearFilter:Ur,LinearMipmapNearestFilter:Tg,LinearMipmapLinearFilter:kl};class Y4 extends To{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=cf.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{t&&t(c),s.manager.itemEnd(e)}).catch(c=>{i&&i(c)});return}return setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return cf.add(e,c),t&&t(c),s.manager.itemEnd(e),c}).catch(function(c){i&&i(c),cf.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});cf.add(e,l),s.manager.itemStart(e)}}let r1;class ZR{static getContext(){return r1===void 0&&(r1=new(window.AudioContext||window.webkitAudioContext)),r1}static setContext(e){r1=e}}class Tq extends To{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new ta(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);ZR.getContext().decodeAudioData(c,function(h){t(h)}).catch(a)}catch(c){a(c)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const CL=new jn,RL=new jn,Oh=new jn;class Mq{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Hi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Hi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Oh.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(vp*t.fov*.5)/t.zoom;let a,l;RL.elements[12]=-i,CL.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,Oh.elements[0]=2*t.near/(l-a),Oh.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Oh),a=-o*t.aspect-s,l=o*t.aspect-s,Oh.elements[0]=2*t.near/(l-a),Oh.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Oh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(RL),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(CL)}}class K4 extends Hi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class JR{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=PL(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=PL();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function PL(){return performance.now()}const Fh=new ce,IL=new Ws,Aq=new ce,Uh=new ce;class Cq extends Ir{constructor(){super(),this.type="AudioListener",this.context=ZR.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new JR}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Fh,IL,Aq),Uh.set(0,0,-1).applyQuaternion(IL),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Fh.x,i),t.positionY.linearRampToValueAtTime(Fh.y,i),t.positionZ.linearRampToValueAtTime(Fh.z,i),t.forwardX.linearRampToValueAtTime(Uh.x,i),t.forwardY.linearRampToValueAtTime(Uh.y,i),t.forwardZ.linearRampToValueAtTime(Uh.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Fh.x,Fh.y,Fh.z),t.setOrientation(Uh.x,Uh.y,Uh.z,r.x,r.y,r.z)}}class Z4 extends Ir{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Bh=new ce,LL=new Ws,Rq=new ce,zh=new ce;class Pq extends Z4{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Bh,LL,Rq),zh.set(0,0,1).applyQuaternion(LL);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Bh.x,r),t.positionY.linearRampToValueAtTime(Bh.y,r),t.positionZ.linearRampToValueAtTime(Bh.z,r),t.orientationX.linearRampToValueAtTime(zh.x,r),t.orientationY.linearRampToValueAtTime(zh.y,r),t.orientationZ.linearRampToValueAtTime(zh.z,r)}else t.setPosition(Bh.x,Bh.y,Bh.z),t.setOrientation(zh.x,zh.y,zh.z)}}class Iq{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class J4{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){Ws.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;Ws.multiplyQuaternionsFlat(e,o,e,t,e,r),Ws.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const QR="\\[\\]\\.:\\/",Lq=new RegExp("["+QR+"]","g"),eP="[^"+QR+"]",Dq="[^"+QR.replace("\\.","")+"]",Nq=/((?:WC+[\/:])*)/.source.replace("WC",eP),kq=/(WCOD+)?/.source.replace("WCOD",Dq),Oq=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",eP),Fq=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",eP),Uq=new RegExp("^"+Nq+kq+Oq+Fq+"$"),Bq=["material","materials","bones","map"];class zq{constructor(e,t,r){const i=r||Dr.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Dr{constructor(e,t,r){this.path=t,this.parsedPath=r||Dr.parseTrackName(t),this.node=Dr.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Dr.Composite(e,t,r):new Dr(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Lq,"")}static parseTrackName(e){const t=Uq.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);Bq.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Dr.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===c){c=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Dr.Composite=zq;Dr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Dr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Dr.prototype.GetterByBindingType=[Dr.prototype._getValue_direct,Dr.prototype._getValue_array,Dr.prototype._getValue_arrayElement,Dr.prototype._getValue_toArray];Dr.prototype.SetterByBindingTypeAndVersioning=[[Dr.prototype._setValue_direct,Dr.prototype._setValue_direct_setNeedsUpdate,Dr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Dr.prototype._setValue_array,Dr.prototype._setValue_array_setNeedsUpdate,Dr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Dr.prototype._setValue_arrayElement,Dr.prototype._setValue_arrayElement_setNeedsUpdate,Dr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Dr.prototype._setValue_fromArray,Dr.prototype._setValue_fromArray_setNeedsUpdate,Dr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Vq{constructor(){this.isAnimationObjectGroup=!0,this.uuid=el(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let f=0,h=arguments.length;f!==h;++f){const p=arguments[f],v=p.uuid;let y=t[v];if(y===void 0){y=l++,t[v]=y,e.push(p);for(let w=0,S=o;w!==S;++w)s[w].push(new Dr(p,r[w],i[w]))}else if(y<c){a=e[y];const w=--c,S=e[w];t[S.uuid]=y,e[y]=S,t[v]=w,e[w]=p;for(let _=0,A=o;_!==A;++_){const R=s[_],P=R[w];let U=R[y];R[y]=P,U===void 0&&(U=new Dr(p,r[_],i[_])),R[w]=U}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,f=t[c];if(f!==void 0&&f>=s){const h=s++,p=e[h];t[p.uuid]=f,e[f]=p,t[c]=h,e[h]=l;for(let v=0,y=i;v!==y;++v){const w=r[v],S=w[h],_=w[f];w[f]=S,w[h]=_}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],f=c.uuid,h=t[f];if(h!==void 0)if(delete t[f],h<s){const p=--s,v=e[p],y=--o,w=e[y];t[v.uuid]=h,e[h]=v,t[w.uuid]=p,e[p]=w,e.pop();for(let S=0,_=i;S!==_;++S){const A=r[S],R=A[p],P=A[y];A[h]=R,A[p]=P,A.pop()}}else{const p=--o,v=e[p];p>0&&(t[v.uuid]=h),e[h]=v,e.pop();for(let y=0,w=i;y!==w;++y){const S=r[y];S[h]=S[p],S.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,f=this.nCachedObjects_,h=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(h);for(let p=f,v=l.length;p!==v;++p){const y=l[p];h[p]=new Dr(y,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class Q4{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:ip,endingEnd:ip};for(let c=0;c!==o;++c){const f=s[c].createInterpolant(null);a[c]=f,f.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=WU,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case wR:for(let f=0,h=l.length;f!==h;++f)l[f].evaluate(o),c[f].accumulateAdditive(a);break;case ZS:default:for(let f=0,h=l.length;f!==h;++f)l[f].evaluate(o),c[f].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===GU;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===jU){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=sp,i.endingEnd=sp):(e?i.endingStart=this.zeroSlopeAtStart?sp:ip:i.endingStart=Ay,t?i.endingEnd=this.zeroSlopeAtEnd?sp:ip:i.endingEnd=Ay)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const Hq=new Float32Array(1);class jq extends yu{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let f=c[l];f===void 0&&(f={},c[l]=f);for(let h=0;h!==s;++h){const p=i[h],v=p.name;let y=f[v];if(y!==void 0)++y.referenceCount,o[h]=y;else{if(y=o[h],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,v));continue}const w=t&&t._propertyBindings[h].binding.parsedPath;y=new J4(Dr.create(r,v,w),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,v),o[h]=y}a[h].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],f=e._byClipCacheIndex;c._byClipCacheIndex=f,l[f]=c,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new WR(new Float32Array(2),new Float32Array(2),1,Hq),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?Xg.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=ZS),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===r)return h;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const f=new Q4(this,o,t,r);return this._bindAction(f,c),this._addInactiveAction(f,a,s),f}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?Xg.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const f=c._cacheIndex,h=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=f,t[f]=h,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class tP{constructor(e){this.value=e}clone(){return new tP(this.value.clone===void 0?this.value:this.value.clone())}}let Wq=0;class Gq extends yu{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Wq++}),this.name="",this.usage=Ry,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++){const s=Array.isArray(t[r])?t[r]:[t[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class $q extends mx{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Xq{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const DL=new jn;class nP{constructor(e,t,r=0,i=1/0){this.ray=new Kp(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new yp,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return DL.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(DL),this}intersectObject(e,t=!0,r=[]){return yA(e,this,r,t),r.sort(NL),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)yA(e[i],this,r,t);return r.sort(NL),r}}function NL(n,e){return n.distance-e.distance}function yA(n,e,t,r){let i=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(i=!1),i===!0&&r===!0){const s=n.children;for(let o=0,a=s.length;o<a;o++)yA(s[o],e,t,!0)}}class xA{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=ir(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(ir(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class qq{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}class rP{constructor(e,t,r,i){rP.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let r=0;r<4;r++)this.elements[r]=e[r+t];return this}set(e,t,r,i){const s=this.elements;return s[0]=e,s[2]=t,s[1]=r,s[3]=i,this}}const kL=new gt;class Yq{constructor(e=new gt(1/0,1/0),t=new gt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=kL.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,kL).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const OL=new ce,i1=new ce;class Kq{constructor(e=new ce,t=new ce){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){OL.subVectors(e,this.start),i1.subVectors(this.end,this.start);const r=i1.dot(i1);let s=i1.dot(OL)/r;return t&&(s=ir(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const FL=new ce;class Zq extends Ir{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new ar,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,f=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(f),Math.sin(f),1)}r.setAttribute("position",new Cn(i,3));const s=new Eo({fog:!1,toneMapped:!1});this.cone=new Rc(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),FL.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(FL),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ad=new ce,s1=new jn,mT=new jn;class Jq extends Rc{constructor(e){const t=eB(e),r=new ar,i=[],s=[],o=new rn(0,0,1),a=new rn(0,1,0);for(let c=0;c<t.length;c++){const f=t[c];f.parent&&f.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new Cn(i,3)),r.setAttribute("color",new Cn(s,3));const l=new Eo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");mT.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(s1.multiplyMatrices(mT,a.matrixWorld),ad.setFromMatrixPosition(s1),i.setXYZ(o,ad.x,ad.y,ad.z),s1.multiplyMatrices(mT,a.parent.matrixWorld),ad.setFromMatrixPosition(s1),i.setXYZ(o+1,ad.x,ad.y,ad.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function eB(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,eB(n.children[t]));return e}class Qq extends Si{constructor(e,t,r){const i=new wx(t,4,2),s=new va({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const eY=new ce,UL=new rn,BL=new rn;class tY extends Ir{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new _x(t);i.rotateY(Math.PI*.5),this.material=new va({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new jr(o,3)),this.add(new Si(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");UL.copy(this.light.color),BL.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?UL:BL;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(eY.setFromMatrixPosition(this.light.matrixWorld).negate())}}class nY extends Rc{constructor(e=10,t=10,r=4473924,i=8947848){r=new rn(r),i=new rn(i);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,v=0,y=-a;p<=t;p++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const w=p===s?r:i;w.toArray(c,v),v+=3,w.toArray(c,v),v+=3,w.toArray(c,v),v+=3,w.toArray(c,v),v+=3}const f=new ar;f.setAttribute("position",new Cn(l,3)),f.setAttribute("color",new Cn(c,3));const h=new Eo({vertexColors:!0,toneMapped:!1});super(f,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class rY extends Rc{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new rn(s),o=new rn(o);const a=[],l=[];if(t>1)for(let h=0;h<t;h++){const p=h/t*(Math.PI*2),v=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(v,0,y);const w=h&1?s:o;l.push(w.r,w.g,w.b),l.push(w.r,w.g,w.b)}for(let h=0;h<r;h++){const p=h&1?s:o,v=e-e/r*h;for(let y=0;y<i;y++){let w=y/i*(Math.PI*2),S=Math.sin(w)*v,_=Math.cos(w)*v;a.push(S,0,_),l.push(p.r,p.g,p.b),w=(y+1)/i*(Math.PI*2),S=Math.sin(w)*v,_=Math.cos(w)*v,a.push(S,0,_),l.push(p.r,p.g,p.b)}}const c=new ar;c.setAttribute("position",new Cn(a,3)),c.setAttribute("color",new Cn(l,3));const f=new Eo({vertexColors:!0,toneMapped:!1});super(c,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const zL=new ce,o1=new ce,VL=new ce;class iY extends Ir{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new ar;i.setAttribute("position",new Cn([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Eo({fog:!1,toneMapped:!1});this.lightPlane=new xf(i,s),this.add(this.lightPlane),i=new ar,i.setAttribute("position",new Cn([0,0,0,0,0,1],3)),this.targetLine=new xf(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),zL.setFromMatrixPosition(this.light.matrixWorld),o1.setFromMatrixPosition(this.light.target.matrixWorld),VL.subVectors(o1,zL),this.lightPlane.lookAt(o1),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(o1),this.targetLine.scale.z=VL.length()}}const a1=new ce,zi=new hx;class sY extends Rc{constructor(e){const t=new ar,r=new Eo({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,w){l(y),l(w)}function l(y){i.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(i.length/3-1)}t.setAttribute("position",new Cn(i,3)),t.setAttribute("color",new Cn(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new rn(16755200),f=new rn(16711680),h=new rn(43775),p=new rn(16777215),v=new rn(3355443);this.setColors(c,f,h,p,v)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;zi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),qi("c",t,e,zi,0,0,-1),qi("t",t,e,zi,0,0,1),qi("n1",t,e,zi,-r,-i,-1),qi("n2",t,e,zi,r,-i,-1),qi("n3",t,e,zi,-r,i,-1),qi("n4",t,e,zi,r,i,-1),qi("f1",t,e,zi,-r,-i,1),qi("f2",t,e,zi,r,-i,1),qi("f3",t,e,zi,-r,i,1),qi("f4",t,e,zi,r,i,1),qi("u1",t,e,zi,r*.7,i*1.1,-1),qi("u2",t,e,zi,-r*.7,i*1.1,-1),qi("u3",t,e,zi,0,i*2,-1),qi("cf1",t,e,zi,-r,0,1),qi("cf2",t,e,zi,r,0,1),qi("cf3",t,e,zi,0,-i,1),qi("cf4",t,e,zi,0,i,1),qi("cn1",t,e,zi,-r,0,-1),qi("cn2",t,e,zi,r,0,-1),qi("cn3",t,e,zi,0,-i,-1),qi("cn4",t,e,zi,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function qi(n,e,t,r,i,s,o){a1.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,f=a.length;c<f;c++)l.setXYZ(a[c],a1.x,a1.y,a1.z)}}const l1=new wo;class oY extends Rc{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new ar;s.setIndex(new jr(r,1)),s.setAttribute("position",new jr(i,3)),super(s,new Eo({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&l1.setFromObject(this.object),l1.isEmpty())return;const t=l1.min,r=l1.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class aY extends Rc{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new ar;s.setIndex(new jr(r,1)),s.setAttribute("position",new Cn(i,3)),super(s,new Eo({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class lY extends xf{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new ar;o.setAttribute("position",new Cn(s,3)),o.computeBoundingSphere(),super(o,new Eo({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new ar;l.setAttribute("position",new Cn(a,3)),l.computeBoundingSphere(),this.add(new Si(l,new va({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const HL=new ce;let c1,gT;class cY extends Ir{constructor(e=new ce(0,0,1),t=new ce(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",c1===void 0&&(c1=new ar,c1.setAttribute("position",new Cn([0,0,0,0,1,0],3)),gT=new l0(0,.5,1,5,1),gT.translate(0,-.5,0)),this.position.copy(t),this.line=new xf(c1,new Eo({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Si(gT,new va({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{HL.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(HL,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class uY extends Rc{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new ar;i.setAttribute("position",new Cn(t,3)),i.setAttribute("color",new Cn(r,3));const s=new Eo({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new rn,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class fY{constructor(){this.type="ShapePath",this.color=new rn,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Ly,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(_){const A=[];for(let R=0,P=_.length;R<P;R++){const U=_[R],k=new xp;k.curves=U.curves,A.push(k)}return A}function r(_,A){const R=A.length;let P=!1;for(let U=R-1,k=0;k<R;U=k++){let E=A[U],j=A[k],O=j.x-E.x,F=j.y-E.y;if(Math.abs(F)>Number.EPSILON){if(F<0&&(E=A[k],O=-O,j=A[U],F=-F),_.y<E.y||_.y>j.y)continue;if(_.y===E.y){if(_.x===E.x)return!0}else{const Y=F*(_.x-E.x)-O*(_.y-E.y);if(Y===0)return!0;if(Y<0)continue;P=!P}}else{if(_.y!==E.y)continue;if(j.x<=_.x&&_.x<=E.x||E.x<=_.x&&_.x<=j.x)return!0}}return P}const i=ou.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new xp,l.curves=a.curves,c.push(l),c;let f=!i(s[0].getPoints());f=e?!f:f;const h=[],p=[];let v=[],y=0,w;p[y]=void 0,v[y]=[];for(let _=0,A=s.length;_<A;_++)a=s[_],w=a.getPoints(),o=i(w),o=e?!o:o,o?(!f&&p[y]&&y++,p[y]={s:new xp,p:w},p[y].s.curves=a.curves,f&&y++,v[y]=[]):v[y].push({h:a,p:w[0]});if(!p[0])return t(s);if(p.length>1){let _=!1,A=0;for(let R=0,P=p.length;R<P;R++)h[R]=[];for(let R=0,P=p.length;R<P;R++){const U=v[R];for(let k=0;k<U.length;k++){const E=U[k];let j=!0;for(let O=0;O<p.length;O++)r(E.p,p[O].p)&&(R!==O&&A++,j?(j=!1,h[O].push(E)):_=!0);j&&h[R].push(E)}}A>0&&_===!1&&(v=h)}let S;for(let _=0,A=p.length;_<A;_++){l=p[_].s,c.push(l),S=v[_];for(let R=0,P=S.length;R<P;R++)l.holes.push(S[R].h)}return c}}class dY extends yu{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function hY(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function pY(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function mY(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function _A(n,e,t,r){const i=gY(r);switch(t){case mR:return n*e;case vR:return n*e;case yR:return n*e*2;case fx:return n*e/i.components*i.byteLength;case dx:return n*e/i.components*i.byteLength;case xR:return n*e*2/i.components*i.byteLength;case YS:return n*e*2/i.components*i.byteLength;case gR:return n*e*3/i.components*i.byteLength;case Ji:return n*e*4/i.components*i.byteLength;case KS:return n*e*4/i.components*i.byteLength;case Zv:case Jv:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Qv:case ey:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Cw:case Pw:return Math.max(n,16)*Math.max(e,8)/4;case Aw:case Rw:return Math.max(n,8)*Math.max(e,8)/2;case Iw:case Lw:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Dw:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Nw:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case kw:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case Ow:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case Fw:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case Uw:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case Bw:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case zw:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case Vw:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case Hw:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case jw:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case Ww:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case Gw:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case $w:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case Xw:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case ty:case qw:case Yw:return Math.ceil(n/4)*Math.ceil(e/4)*16;case _R:case Kw:return Math.ceil(n/4)*Math.ceil(e/4)*8;case Zw:case Jw:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function gY(n){switch(n){case ba:case GS:return{byteLength:1,components:1};case Vg:case $S:case js:return{byteLength:2,components:1};case XS:case qS:return{byteLength:2,components:4};case hu:case ux:case Di:return{byteLength:4,components:1};case pR:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}const vY={contain:hY,cover:pY,fill:mY,getByteLength:_A};class yY extends il{constructor(e=1,t=1,r=1,i={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,t,{...i,count:r}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:lx}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=lx);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function tB(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function xY(n){const e=new WeakMap;function t(a,l){const c=a.array,f=a.usage,h=c.byteLength,p=n.createBuffer();n.bindBuffer(l,p),n.bufferData(l,c,f),a.onUploadCallback();let v;if(c instanceof Float32Array)v=n.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?v=n.HALF_FLOAT:v=n.UNSIGNED_SHORT;else if(c instanceof Int16Array)v=n.SHORT;else if(c instanceof Uint32Array)v=n.UNSIGNED_INT;else if(c instanceof Int32Array)v=n.INT;else if(c instanceof Int8Array)v=n.BYTE;else if(c instanceof Uint8Array)v=n.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)v=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:p,type:v,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:h}}function r(a,l,c){const f=l.array,h=l.updateRanges;if(n.bindBuffer(c,a),h.length===0)n.bufferSubData(c,0,f);else{h.sort((v,y)=>v.start-y.start);let p=0;for(let v=1;v<h.length;v++){const y=h[p],w=h[v];w.start<=y.start+y.count+1?y.count=Math.max(y.count,w.start+w.count-y.start):(++p,h[p]=w)}h.length=p+1;for(let v=0,y=h.length;v<y;v++){const w=h[v];n.bufferSubData(c,w.start*f.BYTES_PER_ELEMENT,f,w.start,w.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(n.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const f=e.get(a);(!f||f.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const c=e.get(a);if(c===void 0)e.set(a,t(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,a,l),c.version=a.version}}return{get:i,remove:s,update:o}}var _Y=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,wY=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,SY=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,bY=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,EY=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,TY=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,MY=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,AY=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,CY=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,RY=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,PY=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,IY=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,LY=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,DY=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,NY=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,kY=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,OY=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,FY=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,UY=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,BY=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,zY=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,VY=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,HY=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,jY=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,WY=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,GY=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,$Y=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,XY=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,qY=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,YY=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,KY="gl_FragColor = linearToOutputTexel( gl_FragColor );",ZY=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,JY=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,QY=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,eK=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,tK=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,nK=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,rK=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,iK=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,sK=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,oK=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,aK=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lK=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,cK=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,uK=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,fK=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,dK=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,hK=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,pK=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,mK=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,gK=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,vK=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,yK=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,xK=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,_K=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,wK=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,SK=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,bK=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,EK=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,TK=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,MK=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,AK=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,CK=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,RK=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,PK=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,IK=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,LK=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,DK=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,NK=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,kK=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,OK=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,FK=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,UK=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,BK=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,zK=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,VK=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,HK=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,jK=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,WK=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,GK=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,$K=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,XK=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,qK=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,YK=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,KK=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,ZK=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,JK=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,QK=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,eZ=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,tZ=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,nZ=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,rZ=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,iZ=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,sZ=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,oZ=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,aZ=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,lZ=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,cZ=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,uZ=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,fZ=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,dZ=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,hZ=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,pZ=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,mZ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,gZ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,vZ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,yZ=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const xZ=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,_Z=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,wZ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,SZ=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,bZ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,EZ=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,TZ=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,MZ=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,AZ=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,CZ=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,RZ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,PZ=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,IZ=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,LZ=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,DZ=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,NZ=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kZ=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,OZ=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,FZ=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,UZ=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,BZ=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,zZ=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,VZ=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,HZ=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jZ=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,WZ=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,GZ=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$Z=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,XZ=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,qZ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,YZ=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,KZ=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ZZ=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,JZ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,pr={alphahash_fragment:_Y,alphahash_pars_fragment:wY,alphamap_fragment:SY,alphamap_pars_fragment:bY,alphatest_fragment:EY,alphatest_pars_fragment:TY,aomap_fragment:MY,aomap_pars_fragment:AY,batching_pars_vertex:CY,batching_vertex:RY,begin_vertex:PY,beginnormal_vertex:IY,bsdfs:LY,iridescence_fragment:DY,bumpmap_pars_fragment:NY,clipping_planes_fragment:kY,clipping_planes_pars_fragment:OY,clipping_planes_pars_vertex:FY,clipping_planes_vertex:UY,color_fragment:BY,color_pars_fragment:zY,color_pars_vertex:VY,color_vertex:HY,common:jY,cube_uv_reflection_fragment:WY,defaultnormal_vertex:GY,displacementmap_pars_vertex:$Y,displacementmap_vertex:XY,emissivemap_fragment:qY,emissivemap_pars_fragment:YY,colorspace_fragment:KY,colorspace_pars_fragment:ZY,envmap_fragment:JY,envmap_common_pars_fragment:QY,envmap_pars_fragment:eK,envmap_pars_vertex:tK,envmap_physical_pars_fragment:dK,envmap_vertex:nK,fog_vertex:rK,fog_pars_vertex:iK,fog_fragment:sK,fog_pars_fragment:oK,gradientmap_pars_fragment:aK,lightmap_pars_fragment:lK,lights_lambert_fragment:cK,lights_lambert_pars_fragment:uK,lights_pars_begin:fK,lights_toon_fragment:hK,lights_toon_pars_fragment:pK,lights_phong_fragment:mK,lights_phong_pars_fragment:gK,lights_physical_fragment:vK,lights_physical_pars_fragment:yK,lights_fragment_begin:xK,lights_fragment_maps:_K,lights_fragment_end:wK,logdepthbuf_fragment:SK,logdepthbuf_pars_fragment:bK,logdepthbuf_pars_vertex:EK,logdepthbuf_vertex:TK,map_fragment:MK,map_pars_fragment:AK,map_particle_fragment:CK,map_particle_pars_fragment:RK,metalnessmap_fragment:PK,metalnessmap_pars_fragment:IK,morphinstance_vertex:LK,morphcolor_vertex:DK,morphnormal_vertex:NK,morphtarget_pars_vertex:kK,morphtarget_vertex:OK,normal_fragment_begin:FK,normal_fragment_maps:UK,normal_pars_fragment:BK,normal_pars_vertex:zK,normal_vertex:VK,normalmap_pars_fragment:HK,clearcoat_normal_fragment_begin:jK,clearcoat_normal_fragment_maps:WK,clearcoat_pars_fragment:GK,iridescence_pars_fragment:$K,opaque_fragment:XK,packing:qK,premultiplied_alpha_fragment:YK,project_vertex:KK,dithering_fragment:ZK,dithering_pars_fragment:JK,roughnessmap_fragment:QK,roughnessmap_pars_fragment:eZ,shadowmap_pars_fragment:tZ,shadowmap_pars_vertex:nZ,shadowmap_vertex:rZ,shadowmask_pars_fragment:iZ,skinbase_vertex:sZ,skinning_pars_vertex:oZ,skinning_vertex:aZ,skinnormal_vertex:lZ,specularmap_fragment:cZ,specularmap_pars_fragment:uZ,tonemapping_fragment:fZ,tonemapping_pars_fragment:dZ,transmission_fragment:hZ,transmission_pars_fragment:pZ,uv_pars_fragment:mZ,uv_pars_vertex:gZ,uv_vertex:vZ,worldpos_vertex:yZ,background_vert:xZ,background_frag:_Z,backgroundCube_vert:wZ,backgroundCube_frag:SZ,cube_vert:bZ,cube_frag:EZ,depth_vert:TZ,depth_frag:MZ,distanceRGBA_vert:AZ,distanceRGBA_frag:CZ,equirect_vert:RZ,equirect_frag:PZ,linedashed_vert:IZ,linedashed_frag:LZ,meshbasic_vert:DZ,meshbasic_frag:NZ,meshlambert_vert:kZ,meshlambert_frag:OZ,meshmatcap_vert:FZ,meshmatcap_frag:UZ,meshnormal_vert:BZ,meshnormal_frag:zZ,meshphong_vert:VZ,meshphong_frag:HZ,meshphysical_vert:jZ,meshphysical_frag:WZ,meshtoon_vert:GZ,meshtoon_frag:$Z,points_vert:XZ,points_frag:qZ,shadow_vert:YZ,shadow_frag:KZ,sprite_vert:ZZ,sprite_frag:JZ},on={common:{diffuse:{value:new rn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new or},alphaMap:{value:null},alphaMapTransform:{value:new or},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new or}},envmap:{envMap:{value:null},envMapRotation:{value:new or},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new or}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new or}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new or},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new or},normalScale:{value:new gt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new or},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new or}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new or}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new or}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new rn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new rn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new or},alphaTest:{value:0},uvTransform:{value:new or}},sprite:{diffuse:{value:new rn(16777215)},opacity:{value:1},center:{value:new gt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new or},alphaMap:{value:null},alphaMapTransform:{value:new or},alphaTest:{value:0}}},xc={basic:{uniforms:Ho([on.common,on.specularmap,on.envmap,on.aomap,on.lightmap,on.fog]),vertexShader:pr.meshbasic_vert,fragmentShader:pr.meshbasic_frag},lambert:{uniforms:Ho([on.common,on.specularmap,on.envmap,on.aomap,on.lightmap,on.emissivemap,on.bumpmap,on.normalmap,on.displacementmap,on.fog,on.lights,{emissive:{value:new rn(0)}}]),vertexShader:pr.meshlambert_vert,fragmentShader:pr.meshlambert_frag},phong:{uniforms:Ho([on.common,on.specularmap,on.envmap,on.aomap,on.lightmap,on.emissivemap,on.bumpmap,on.normalmap,on.displacementmap,on.fog,on.lights,{emissive:{value:new rn(0)},specular:{value:new rn(1118481)},shininess:{value:30}}]),vertexShader:pr.meshphong_vert,fragmentShader:pr.meshphong_frag},standard:{uniforms:Ho([on.common,on.envmap,on.aomap,on.lightmap,on.emissivemap,on.bumpmap,on.normalmap,on.displacementmap,on.roughnessmap,on.metalnessmap,on.fog,on.lights,{emissive:{value:new rn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:pr.meshphysical_vert,fragmentShader:pr.meshphysical_frag},toon:{uniforms:Ho([on.common,on.aomap,on.lightmap,on.emissivemap,on.bumpmap,on.normalmap,on.displacementmap,on.gradientmap,on.fog,on.lights,{emissive:{value:new rn(0)}}]),vertexShader:pr.meshtoon_vert,fragmentShader:pr.meshtoon_frag},matcap:{uniforms:Ho([on.common,on.bumpmap,on.normalmap,on.displacementmap,on.fog,{matcap:{value:null}}]),vertexShader:pr.meshmatcap_vert,fragmentShader:pr.meshmatcap_frag},points:{uniforms:Ho([on.points,on.fog]),vertexShader:pr.points_vert,fragmentShader:pr.points_frag},dashed:{uniforms:Ho([on.common,on.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:pr.linedashed_vert,fragmentShader:pr.linedashed_frag},depth:{uniforms:Ho([on.common,on.displacementmap]),vertexShader:pr.depth_vert,fragmentShader:pr.depth_frag},normal:{uniforms:Ho([on.common,on.bumpmap,on.normalmap,on.displacementmap,{opacity:{value:1}}]),vertexShader:pr.meshnormal_vert,fragmentShader:pr.meshnormal_frag},sprite:{uniforms:Ho([on.sprite,on.fog]),vertexShader:pr.sprite_vert,fragmentShader:pr.sprite_frag},background:{uniforms:{uvTransform:{value:new or},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:pr.background_vert,fragmentShader:pr.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new or}},vertexShader:pr.backgroundCube_vert,fragmentShader:pr.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:pr.cube_vert,fragmentShader:pr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:pr.equirect_vert,fragmentShader:pr.equirect_frag},distanceRGBA:{uniforms:Ho([on.common,on.displacementmap,{referencePosition:{value:new ce},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:pr.distanceRGBA_vert,fragmentShader:pr.distanceRGBA_frag},shadow:{uniforms:Ho([on.lights,on.fog,{color:{value:new rn(0)},opacity:{value:1}}]),vertexShader:pr.shadow_vert,fragmentShader:pr.shadow_frag}};xc.physical={uniforms:Ho([xc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new or},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new or},clearcoatNormalScale:{value:new gt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new or},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new or},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new or},sheen:{value:0},sheenColor:{value:new rn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new or},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new or},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new or},transmissionSamplerSize:{value:new gt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new or},attenuationDistance:{value:0},attenuationColor:{value:new rn(0)},specularColor:{value:new rn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new or},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new or},anisotropyVector:{value:new gt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new or}}]),vertexShader:pr.meshphysical_vert,fragmentShader:pr.meshphysical_frag};const u1={r:0,b:0,g:0},Vh=new sl,QZ=new jn;function eJ(n,e,t,r,i,s,o){const a=new rn(0);let l=s===!0?0:1,c,f,h=null,p=0,v=null;function y(R){let P=R.isScene===!0?R.background:null;return P&&P.isTexture&&(P=(R.backgroundBlurriness>0?t:e).get(P)),P}function w(R){let P=!1;const U=y(R);U===null?_(a,l):U&&U.isColor&&(_(U,1),P=!0);const k=n.xr.getEnvironmentBlendMode();k==="additive"?r.buffers.color.setClear(0,0,0,1,o):k==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(n.autoClear||P)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function S(R,P){const U=y(P);U&&(U.isCubeTexture||U.mapping===a0)?(f===void 0&&(f=new Si(new Zp(1,1,1),new Ea({name:"BackgroundCubeMaterial",uniforms:Gg(xc.backgroundCube.uniforms),vertexShader:xc.backgroundCube.vertexShader,fragmentShader:xc.backgroundCube.fragmentShader,side:ea,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(k,E,j){this.matrixWorld.copyPosition(j.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(f)),Vh.copy(P.backgroundRotation),Vh.x*=-1,Vh.y*=-1,Vh.z*=-1,U.isCubeTexture&&U.isRenderTargetTexture===!1&&(Vh.y*=-1,Vh.z*=-1),f.material.uniforms.envMap.value=U,f.material.uniforms.flipEnvMap.value=U.isCubeTexture&&U.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=P.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=P.backgroundIntensity,f.material.uniforms.backgroundRotation.value.setFromMatrix4(QZ.makeRotationFromEuler(Vh)),f.material.toneMapped=Tr.getTransfer(U.colorSpace)!==Yr,(h!==U||p!==U.version||v!==n.toneMapping)&&(f.material.needsUpdate=!0,h=U,p=U.version,v=n.toneMapping),f.layers.enableAll(),R.unshift(f,f.geometry,f.material,0,0,null)):U&&U.isTexture&&(c===void 0&&(c=new Si(new $d(2,2),new Ea({name:"BackgroundMaterial",uniforms:Gg(xc.background.uniforms),vertexShader:xc.background.vertexShader,fragmentShader:xc.background.fragmentShader,side:fu,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=U,c.material.uniforms.backgroundIntensity.value=P.backgroundIntensity,c.material.toneMapped=Tr.getTransfer(U.colorSpace)!==Yr,U.matrixAutoUpdate===!0&&U.updateMatrix(),c.material.uniforms.uvTransform.value.copy(U.matrix),(h!==U||p!==U.version||v!==n.toneMapping)&&(c.material.needsUpdate=!0,h=U,p=U.version,v=n.toneMapping),c.layers.enableAll(),R.unshift(c,c.geometry,c.material,0,0,null))}function _(R,P){R.getRGB(u1,c4(n)),r.buffers.color.setClear(u1.r,u1.g,u1.b,P,o)}function A(){f!==void 0&&(f.geometry.dispose(),f.material.dispose()),c!==void 0&&(c.geometry.dispose(),c.material.dispose())}return{getClearColor:function(){return a},setClearColor:function(R,P=1){a.set(R),l=P,_(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(R){l=R,_(a,l)},render:w,addToRenderList:S,dispose:A}}function tJ(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},i=p(null);let s=i,o=!1;function a(F,Y,te,ie,ue){let _e=!1;const he=h(ie,te,Y);s!==he&&(s=he,c(s.object)),_e=v(F,ie,te,ue),_e&&y(F,ie,te,ue),ue!==null&&e.update(ue,n.ELEMENT_ARRAY_BUFFER),(_e||o)&&(o=!1,P(F,Y,te,ie),ue!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(ue).buffer))}function l(){return n.createVertexArray()}function c(F){return n.bindVertexArray(F)}function f(F){return n.deleteVertexArray(F)}function h(F,Y,te){const ie=te.wireframe===!0;let ue=r[F.id];ue===void 0&&(ue={},r[F.id]=ue);let _e=ue[Y.id];_e===void 0&&(_e={},ue[Y.id]=_e);let he=_e[ie];return he===void 0&&(he=p(l()),_e[ie]=he),he}function p(F){const Y=[],te=[],ie=[];for(let ue=0;ue<t;ue++)Y[ue]=0,te[ue]=0,ie[ue]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Y,enabledAttributes:te,attributeDivisors:ie,object:F,attributes:{},index:null}}function v(F,Y,te,ie){const ue=s.attributes,_e=Y.attributes;let he=0;const ge=te.getAttributes();for(const q in ge)if(ge[q].location>=0){const $=ue[q];let ne=_e[q];if(ne===void 0&&(q==="instanceMatrix"&&F.instanceMatrix&&(ne=F.instanceMatrix),q==="instanceColor"&&F.instanceColor&&(ne=F.instanceColor)),$===void 0||$.attribute!==ne||ne&&$.data!==ne.data)return!0;he++}return s.attributesNum!==he||s.index!==ie}function y(F,Y,te,ie){const ue={},_e=Y.attributes;let he=0;const ge=te.getAttributes();for(const q in ge)if(ge[q].location>=0){let $=_e[q];$===void 0&&(q==="instanceMatrix"&&F.instanceMatrix&&($=F.instanceMatrix),q==="instanceColor"&&F.instanceColor&&($=F.instanceColor));const ne={};ne.attribute=$,$&&$.data&&(ne.data=$.data),ue[q]=ne,he++}s.attributes=ue,s.attributesNum=he,s.index=ie}function w(){const F=s.newAttributes;for(let Y=0,te=F.length;Y<te;Y++)F[Y]=0}function S(F){_(F,0)}function _(F,Y){const te=s.newAttributes,ie=s.enabledAttributes,ue=s.attributeDivisors;te[F]=1,ie[F]===0&&(n.enableVertexAttribArray(F),ie[F]=1),ue[F]!==Y&&(n.vertexAttribDivisor(F,Y),ue[F]=Y)}function A(){const F=s.newAttributes,Y=s.enabledAttributes;for(let te=0,ie=Y.length;te<ie;te++)Y[te]!==F[te]&&(n.disableVertexAttribArray(te),Y[te]=0)}function R(F,Y,te,ie,ue,_e,he){he===!0?n.vertexAttribIPointer(F,Y,te,ue,_e):n.vertexAttribPointer(F,Y,te,ie,ue,_e)}function P(F,Y,te,ie){w();const ue=ie.attributes,_e=te.getAttributes(),he=Y.defaultAttributeValues;for(const ge in _e){const q=_e[ge];if(q.location>=0){let oe=ue[ge];if(oe===void 0&&(ge==="instanceMatrix"&&F.instanceMatrix&&(oe=F.instanceMatrix),ge==="instanceColor"&&F.instanceColor&&(oe=F.instanceColor)),oe!==void 0){const $=oe.normalized,ne=oe.itemSize,we=e.get(oe);if(we===void 0)continue;const nt=we.buffer,Ce=we.type,Ve=we.bytesPerElement,He=Ce===n.INT||Ce===n.UNSIGNED_INT||oe.gpuType===ux;if(oe.isInterleavedBufferAttribute){const je=oe.data,pt=je.stride,bt=oe.offset;if(je.isInstancedInterleavedBuffer){for(let Dt=0;Dt<q.locationSize;Dt++)_(q.location+Dt,je.meshPerAttribute);F.isInstancedMesh!==!0&&ie._maxInstanceCount===void 0&&(ie._maxInstanceCount=je.meshPerAttribute*je.count)}else for(let Dt=0;Dt<q.locationSize;Dt++)S(q.location+Dt);n.bindBuffer(n.ARRAY_BUFFER,nt);for(let Dt=0;Dt<q.locationSize;Dt++)R(q.location+Dt,ne/q.locationSize,Ce,$,pt*Ve,(bt+ne/q.locationSize*Dt)*Ve,He)}else{if(oe.isInstancedBufferAttribute){for(let je=0;je<q.locationSize;je++)_(q.location+je,oe.meshPerAttribute);F.isInstancedMesh!==!0&&ie._maxInstanceCount===void 0&&(ie._maxInstanceCount=oe.meshPerAttribute*oe.count)}else for(let je=0;je<q.locationSize;je++)S(q.location+je);n.bindBuffer(n.ARRAY_BUFFER,nt);for(let je=0;je<q.locationSize;je++)R(q.location+je,ne/q.locationSize,Ce,$,ne*Ve,ne/q.locationSize*je*Ve,He)}}else if(he!==void 0){const $=he[ge];if($!==void 0)switch($.length){case 2:n.vertexAttrib2fv(q.location,$);break;case 3:n.vertexAttrib3fv(q.location,$);break;case 4:n.vertexAttrib4fv(q.location,$);break;default:n.vertexAttrib1fv(q.location,$)}}}}A()}function U(){j();for(const F in r){const Y=r[F];for(const te in Y){const ie=Y[te];for(const ue in ie)f(ie[ue].object),delete ie[ue];delete Y[te]}delete r[F]}}function k(F){if(r[F.id]===void 0)return;const Y=r[F.id];for(const te in Y){const ie=Y[te];for(const ue in ie)f(ie[ue].object),delete ie[ue];delete Y[te]}delete r[F.id]}function E(F){for(const Y in r){const te=r[Y];if(te[F.id]===void 0)continue;const ie=te[F.id];for(const ue in ie)f(ie[ue].object),delete ie[ue];delete te[F.id]}}function j(){O(),o=!0,s!==i&&(s=i,c(s.object))}function O(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:j,resetDefaultState:O,dispose:U,releaseStatesOfGeometry:k,releaseStatesOfProgram:E,initAttributes:w,enableAttribute:S,disableUnusedAttributes:A}}function nJ(n,e,t){let r;function i(c){r=c}function s(c,f){n.drawArrays(r,c,f),t.update(f,r,1)}function o(c,f,h){h!==0&&(n.drawArraysInstanced(r,c,f,h),t.update(f,r,h))}function a(c,f,h){if(h===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,f,0,h);let v=0;for(let y=0;y<h;y++)v+=f[y];t.update(v,r,1)}function l(c,f,h,p){if(h===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let y=0;y<c.length;y++)o(c[y],f[y],p[y]);else{v.multiDrawArraysInstancedWEBGL(r,c,0,f,0,p,0,h);let y=0;for(let w=0;w<h;w++)y+=f[w]*p[w];t.update(y,r,1)}}this.setMode=i,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function rJ(n,e,t,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const E=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(E.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(E){return!(E!==Ji&&r.convert(E)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(E){const j=E===js&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(E!==ba&&r.convert(E)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&E!==Di&&!j)}function l(E){if(E==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";E="mediump"}return E==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const f=l(c);f!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",f,"instead."),c=f);const h=t.logarithmicDepthBuffer===!0,p=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),v=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),y=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),w=n.getParameter(n.MAX_TEXTURE_SIZE),S=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),_=n.getParameter(n.MAX_VERTEX_ATTRIBS),A=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),R=n.getParameter(n.MAX_VARYING_VECTORS),P=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),U=y>0,k=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:h,reverseDepthBuffer:p,maxTextures:v,maxVertexTextures:y,maxTextureSize:w,maxCubemapSize:S,maxAttributes:_,maxVertexUniforms:A,maxVaryings:R,maxFragmentUniforms:P,vertexTextures:U,maxSamples:k}}function iJ(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new ef,a=new or,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const v=h.length!==0||p||r!==0||i;return i=p,r=h.length,v},this.beginShadows=function(){s=!0,f(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,p){t=f(h,p,0)},this.setState=function(h,p,v){const y=h.clippingPlanes,w=h.clipIntersection,S=h.clipShadows,_=n.get(h);if(!i||y===null||y.length===0||s&&!S)s?f(null):c();else{const A=s?0:r,R=A*4;let P=_.clippingState||null;l.value=P,P=f(y,p,R,v);for(let U=0;U!==R;++U)P[U]=t[U];_.clippingState=P,this.numIntersection=w?this.numPlanes:0,this.numPlanes+=A}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function f(h,p,v,y){const w=h!==null?h.length:0;let S=null;if(w!==0){if(S=l.value,y!==!0||S===null){const _=v+w*4,A=p.matrixWorldInverse;a.getNormalMatrix(A),(S===null||S.length<_)&&(S=new Float32Array(_));for(let R=0,P=v;R!==w;++R,P+=4)o.copy(h[R]).applyMatrix4(A,a),o.normal.toArray(S,P),S[P+3]=o.constant}l.value=S,l.needsUpdate=!0}return e.numPlanes=w,e.numIntersection=0,S}}function sJ(n){let e=new WeakMap;function t(o,a){return a===Bg?o.mapping=du:a===My&&(o.mapping=Ld),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===Bg||a===My)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new CR(l.height);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}const vg=4,jL=[.125,.215,.35,.446,.526,.582],tp=20,vT=new au,WL=new rn;let yT=null,xT=0,_T=0,wT=!1;const Zh=(1+Math.sqrt(5))/2,Zm=1/Zh,GL=[new ce(-Zh,Zm,0),new ce(Zh,Zm,0),new ce(-Zm,0,Zh),new ce(Zm,0,Zh),new ce(0,Zh,-Zm),new ce(0,Zh,Zm),new ce(-1,1,-1),new ce(1,1,-1),new ce(-1,1,1),new ce(1,1,1)];class wA{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){yT=this._renderer.getRenderTarget(),xT=this._renderer.getActiveCubeFace(),_T=this._renderer.getActiveMipmapLevel(),wT=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=qL(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=XL(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(yT,xT,_T),this._renderer.xr.enabled=wT,e.scissorTest=!1,f1(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===du||e.mapping===Ld?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),yT=this._renderer.getRenderTarget(),xT=this._renderer.getActiveCubeFace(),_T=this._renderer.getActiveMipmapLevel(),wT=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Ur,minFilter:Ur,generateMipmaps:!1,type:js,format:Ji,colorSpace:Ms,depthBuffer:!1},i=$L(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=$L(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=oJ(s)),this._blurMaterial=aJ(s,e,t)}return i}_compileMaterial(e){const t=new Si(this._lodPlanes[0],e);this._renderer.compile(t,vT)}_sceneToCubeUV(e,t,r,i){const a=new Hi(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],f=this._renderer,h=f.autoClear,p=f.toneMapping;f.getClearColor(WL),f.toneMapping=su,f.autoClear=!1;const v=new va({name:"PMREM.Background",side:ea,depthWrite:!1,depthTest:!1}),y=new Si(new Zp,v);let w=!1;const S=e.background;S?S.isColor&&(v.color.copy(S),e.background=null,w=!0):(v.color.copy(WL),w=!0);for(let _=0;_<6;_++){const A=_%3;A===0?(a.up.set(0,l[_],0),a.lookAt(c[_],0,0)):A===1?(a.up.set(0,0,l[_]),a.lookAt(0,c[_],0)):(a.up.set(0,l[_],0),a.lookAt(0,0,c[_]));const R=this._cubeSize;f1(i,A*R,_>2?R:0,R,R),f.setRenderTarget(i),w&&f.render(y,a),f.render(e,a)}y.geometry.dispose(),y.material.dispose(),f.toneMapping=p,f.autoClear=h,e.background=S}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===du||e.mapping===Ld;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=qL()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=XL());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Si(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;f1(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,vT)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=GL[(i-s-1)%GL.length];this._blur(e,s-1,s,o,a)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,h=new Si(this._lodPlanes[i],c),p=c.uniforms,v=this._sizeLods[r]-1,y=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*tp-1),w=s/y,S=isFinite(s)?1+Math.floor(f*w):tp;S>tp&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${S} samples when the maximum is set to ${tp}`);const _=[];let A=0;for(let E=0;E<tp;++E){const j=E/w,O=Math.exp(-j*j/2);_.push(O),E===0?A+=O:E<S&&(A+=2*O)}for(let E=0;E<_.length;E++)_[E]=_[E]/A;p.envMap.value=e.texture,p.samples.value=S,p.weights.value=_,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:R}=this;p.dTheta.value=y,p.mipInt.value=R-r;const P=this._sizeLods[i],U=3*P*(i>R-vg?i-R+vg:0),k=4*(this._cubeSize-P);f1(t,U,k,3*P,2*P),l.setRenderTarget(t),l.render(h,vT)}}function oJ(n){const e=[],t=[],r=[];let i=n;const s=n-vg+1+jL.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-vg?l=jL[o-n+vg-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),f=-c,h=1+c,p=[f,f,h,f,h,h,f,f,h,h,f,h],v=6,y=6,w=3,S=2,_=1,A=new Float32Array(w*y*v),R=new Float32Array(S*y*v),P=new Float32Array(_*y*v);for(let k=0;k<v;k++){const E=k%3*2/3-1,j=k>2?0:-1,O=[E,j,0,E+2/3,j,0,E+2/3,j+1,0,E,j,0,E+2/3,j+1,0,E,j+1,0];A.set(O,w*y*k),R.set(p,S*y*k);const F=[k,k,k,k,k,k];P.set(F,_*y*k)}const U=new ar;U.setAttribute("position",new jr(A,w)),U.setAttribute("uv",new jr(R,S)),U.setAttribute("faceIndex",new jr(P,_)),e.push(U),i>vg&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function $L(n,e,t){const r=new il(n,e,t);return r.texture.mapping=a0,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function f1(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function aJ(n,e,t){const r=new Float32Array(tp),i=new ce(0,1,0);return new Ea({name:"SphericalGaussianBlur",defines:{n:tp,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:iP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:iu,depthTest:!1,depthWrite:!1})}function XL(){return new Ea({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:iP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:iu,depthTest:!1,depthWrite:!1})}function qL(){return new Ea({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:iP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:iu,depthTest:!1,depthWrite:!1})}function iP(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function lJ(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===Bg||l===My,f=l===du||l===Ld;if(c||f){let h=e.get(a);const p=h!==void 0?h.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==p)return t===null&&(t=new wA(n)),h=c?t.fromEquirectangular(a,h):t.fromCubemap(a,h),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),h.texture;if(h!==void 0)return h.texture;{const v=a.image;return c&&v&&v.height>0||f&&v&&i(v)?(t===null&&(t=new wA(n)),h=c?t.fromEquirectangular(a):t.fromCubemap(a),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),a.addEventListener("dispose",s),h.texture):null}}}return a}function i(a){let l=0;const c=6;for(let f=0;f<c;f++)a[f]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function cJ(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const i=t(r);return i===null&&sg("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function uJ(n,e,t,r){const i={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);p.removeEventListener("dispose",o),delete i[p.id];const v=s.get(p);v&&(e.remove(v),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(h,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,t.memory.geometries++),p}function l(h){const p=h.attributes;for(const v in p)e.update(p[v],n.ARRAY_BUFFER)}function c(h){const p=[],v=h.index,y=h.attributes.position;let w=0;if(v!==null){const A=v.array;w=v.version;for(let R=0,P=A.length;R<P;R+=3){const U=A[R+0],k=A[R+1],E=A[R+2];p.push(U,k,k,E,E,U)}}else if(y!==void 0){const A=y.array;w=y.version;for(let R=0,P=A.length/3-1;R<P;R+=3){const U=R+0,k=R+1,E=R+2;p.push(U,k,k,E,E,U)}}else return;const S=new(i4(p)?AR:MR)(p,1);S.version=w;const _=s.get(h);_&&e.remove(_),s.set(h,S)}function f(h){const p=s.get(h);if(p){const v=h.index;v!==null&&p.version<v.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:f}}function fJ(n,e,t){let r;function i(p){r=p}let s,o;function a(p){s=p.type,o=p.bytesPerElement}function l(p,v){n.drawElements(r,v,s,p*o),t.update(v,r,1)}function c(p,v,y){y!==0&&(n.drawElementsInstanced(r,v,s,p*o,y),t.update(v,r,y))}function f(p,v,y){if(y===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,v,0,s,p,0,y);let S=0;for(let _=0;_<y;_++)S+=v[_];t.update(S,r,1)}function h(p,v,y,w){if(y===0)return;const S=e.get("WEBGL_multi_draw");if(S===null)for(let _=0;_<p.length;_++)c(p[_]/o,v[_],w[_]);else{S.multiDrawElementsInstancedWEBGL(r,v,0,s,p,0,w,0,y);let _=0;for(let A=0;A<y;A++)_+=v[A]*w[A];t.update(_,r,1)}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=f,this.renderMultiDrawInstances=h}function dJ(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function hJ(n,e,t){const r=new WeakMap,i=new Or;function s(o,a,l){const c=o.morphTargetInfluences,f=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,h=f!==void 0?f.length:0;let p=r.get(a);if(p===void 0||p.count!==h){let F=function(){j.dispose(),r.delete(a),a.removeEventListener("dispose",F)};var v=F;p!==void 0&&p.texture.dispose();const y=a.morphAttributes.position!==void 0,w=a.morphAttributes.normal!==void 0,S=a.morphAttributes.color!==void 0,_=a.morphAttributes.position||[],A=a.morphAttributes.normal||[],R=a.morphAttributes.color||[];let P=0;y===!0&&(P=1),w===!0&&(P=2),S===!0&&(P=3);let U=a.attributes.position.count*P,k=1;U>e.maxTextureSize&&(k=Math.ceil(U/e.maxTextureSize),U=e.maxTextureSize);const E=new Float32Array(U*k*4*h),j=new JS(E,U,k,h);j.type=Di,j.needsUpdate=!0;const O=P*4;for(let Y=0;Y<h;Y++){const te=_[Y],ie=A[Y],ue=R[Y],_e=U*k*4*Y;for(let he=0;he<te.count;he++){const ge=he*O;y===!0&&(i.fromBufferAttribute(te,he),E[_e+ge+0]=i.x,E[_e+ge+1]=i.y,E[_e+ge+2]=i.z,E[_e+ge+3]=0),w===!0&&(i.fromBufferAttribute(ie,he),E[_e+ge+4]=i.x,E[_e+ge+5]=i.y,E[_e+ge+6]=i.z,E[_e+ge+7]=0),S===!0&&(i.fromBufferAttribute(ue,he),E[_e+ge+8]=i.x,E[_e+ge+9]=i.y,E[_e+ge+10]=i.z,E[_e+ge+11]=ue.itemSize===4?i.w:1)}}p={count:h,texture:j,size:new gt(U,k)},r.set(a,p),a.addEventListener("dispose",F)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let y=0;for(let S=0;S<c.length;S++)y+=c[S];const w=a.morphTargetsRelative?1:1-y;l.getUniforms().setValue(n,"morphTargetBaseInfluence",w),l.getUniforms().setValue(n,"morphTargetInfluences",c)}l.getUniforms().setValue(n,"morphTargetsTexture",p.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",p.size)}return{update:s}}function pJ(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,f=l.geometry,h=e.get(l,f);if(i.get(h)!==c&&(e.update(h),i.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;i.get(p)!==c&&(p.update(),i.set(p,c))}return h}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const nB=new Br,YL=new NR(1,1),rB=new JS,iB=new TR,sB=new px,KL=[],ZL=[],JL=new Float32Array(16),QL=new Float32Array(9),eD=new Float32Array(4);function u0(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=KL[i];if(s===void 0&&(s=new Float32Array(i),KL[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function As(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Cs(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function xb(n,e){let t=ZL[e];t===void 0&&(t=new Int32Array(e),ZL[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function mJ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function gJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(As(t,e))return;n.uniform2fv(this.addr,e),Cs(t,e)}}function vJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(As(t,e))return;n.uniform3fv(this.addr,e),Cs(t,e)}}function yJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(As(t,e))return;n.uniform4fv(this.addr,e),Cs(t,e)}}function xJ(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(As(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Cs(t,e)}else{if(As(t,r))return;eD.set(r),n.uniformMatrix2fv(this.addr,!1,eD),Cs(t,r)}}function _J(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(As(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Cs(t,e)}else{if(As(t,r))return;QL.set(r),n.uniformMatrix3fv(this.addr,!1,QL),Cs(t,r)}}function wJ(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(As(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Cs(t,e)}else{if(As(t,r))return;JL.set(r),n.uniformMatrix4fv(this.addr,!1,JL),Cs(t,r)}}function SJ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function bJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(As(t,e))return;n.uniform2iv(this.addr,e),Cs(t,e)}}function EJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(As(t,e))return;n.uniform3iv(this.addr,e),Cs(t,e)}}function TJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(As(t,e))return;n.uniform4iv(this.addr,e),Cs(t,e)}}function MJ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function AJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(As(t,e))return;n.uniform2uiv(this.addr,e),Cs(t,e)}}function CJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(As(t,e))return;n.uniform3uiv(this.addr,e),Cs(t,e)}}function RJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(As(t,e))return;n.uniform4uiv(this.addr,e),Cs(t,e)}}function PJ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i);let s;this.type===n.SAMPLER_2D_SHADOW?(YL.compareFunction=bR,s=YL):s=nB,t.setTexture2D(e||s,i)}function IJ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||iB,i)}function LJ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||sB,i)}function DJ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||rB,i)}function NJ(n){switch(n){case 5126:return mJ;case 35664:return gJ;case 35665:return vJ;case 35666:return yJ;case 35674:return xJ;case 35675:return _J;case 35676:return wJ;case 5124:case 35670:return SJ;case 35667:case 35671:return bJ;case 35668:case 35672:return EJ;case 35669:case 35673:return TJ;case 5125:return MJ;case 36294:return AJ;case 36295:return CJ;case 36296:return RJ;case 35678:case 36198:case 36298:case 36306:case 35682:return PJ;case 35679:case 36299:case 36307:return IJ;case 35680:case 36300:case 36308:case 36293:return LJ;case 36289:case 36303:case 36311:case 36292:return DJ}}function kJ(n,e){n.uniform1fv(this.addr,e)}function OJ(n,e){const t=u0(e,this.size,2);n.uniform2fv(this.addr,t)}function FJ(n,e){const t=u0(e,this.size,3);n.uniform3fv(this.addr,t)}function UJ(n,e){const t=u0(e,this.size,4);n.uniform4fv(this.addr,t)}function BJ(n,e){const t=u0(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function zJ(n,e){const t=u0(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function VJ(n,e){const t=u0(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function HJ(n,e){n.uniform1iv(this.addr,e)}function jJ(n,e){n.uniform2iv(this.addr,e)}function WJ(n,e){n.uniform3iv(this.addr,e)}function GJ(n,e){n.uniform4iv(this.addr,e)}function $J(n,e){n.uniform1uiv(this.addr,e)}function XJ(n,e){n.uniform2uiv(this.addr,e)}function qJ(n,e){n.uniform3uiv(this.addr,e)}function YJ(n,e){n.uniform4uiv(this.addr,e)}function KJ(n,e,t){const r=this.cache,i=e.length,s=xb(t,i);As(r,s)||(n.uniform1iv(this.addr,s),Cs(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||nB,s[o])}function ZJ(n,e,t){const r=this.cache,i=e.length,s=xb(t,i);As(r,s)||(n.uniform1iv(this.addr,s),Cs(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||iB,s[o])}function JJ(n,e,t){const r=this.cache,i=e.length,s=xb(t,i);As(r,s)||(n.uniform1iv(this.addr,s),Cs(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||sB,s[o])}function QJ(n,e,t){const r=this.cache,i=e.length,s=xb(t,i);As(r,s)||(n.uniform1iv(this.addr,s),Cs(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||rB,s[o])}function eQ(n){switch(n){case 5126:return kJ;case 35664:return OJ;case 35665:return FJ;case 35666:return UJ;case 35674:return BJ;case 35675:return zJ;case 35676:return VJ;case 5124:case 35670:return HJ;case 35667:case 35671:return jJ;case 35668:case 35672:return WJ;case 35669:case 35673:return GJ;case 5125:return $J;case 36294:return XJ;case 36295:return qJ;case 36296:return YJ;case 35678:case 36198:case 36298:case 36306:case 35682:return KJ;case 35679:case 36299:case 36307:return ZJ;case 35680:case 36300:case 36308:case 36293:return JJ;case 36289:case 36303:case 36311:case 36292:return QJ}}class tQ{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=NJ(t.type)}}class nQ{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=eQ(t.type)}}class rQ{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const ST=/(\w+)(\])?(\[|\.)?/g;function tD(n,e){n.seq.push(e),n.map[e.id]=e}function iQ(n,e,t){const r=n.name,i=r.length;for(ST.lastIndex=0;;){const s=ST.exec(r),o=ST.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){tD(t,c===void 0?new tQ(a,n,e):new nQ(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new rQ(a),tD(t,h)),t=h}}}class Y1{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);iQ(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function nD(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const sQ=37297;let oQ=0;function aQ(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}const rD=new or;function lQ(n){Tr._getMatrix(rD,Tr.workingColorSpace,n);const e=`mat3( ${rD.elements.map(t=>t.toFixed(4))} )`;switch(Tr.getTransfer(n)){case Cy:return[e,"LinearTransferOETF"];case Yr:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function iD(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+aQ(n.getShaderSource(e),o)}else return i}function cQ(n,e){const t=lQ(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function uQ(n,e){let t;switch(e){case OU:t="Linear";break;case FU:t="Reinhard";break;case UU:t="Cineon";break;case hR:t="ACESFilmic";break;case zU:t="AgX";break;case VU:t="Neutral";break;case BU:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const d1=new ce;function fQ(){Tr.getLuminanceCoefficients(d1);const n=d1.x.toFixed(4),e=d1.y.toFixed(4),t=d1.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function dQ(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(kv).join(`
`)}function hQ(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function pQ(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function kv(n){return n!==""}function sD(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function oD(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const mQ=/^[ \t]*#include +<([\w\d./]+)>/gm;function SA(n){return n.replace(mQ,vQ)}const gQ=new Map;function vQ(n,e){let t=pr[e];if(t===void 0){const r=gQ.get(e);if(r!==void 0)t=pr[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return SA(t)}const yQ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function aD(n){return n.replace(yQ,xQ)}function xQ(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function lD(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function _Q(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===jS?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Kv?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===yc&&(e="SHADOWMAP_TYPE_VSM"),e}function wQ(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case du:case Ld:e="ENVMAP_TYPE_CUBE";break;case a0:e="ENVMAP_TYPE_CUBE_UV";break}return e}function SQ(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Ld:e="ENVMAP_MODE_REFRACTION";break}return e}function bQ(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case cx:e="ENVMAP_BLENDING_MULTIPLY";break;case NU:e="ENVMAP_BLENDING_MIX";break;case kU:e="ENVMAP_BLENDING_ADD";break}return e}function EQ(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function TQ(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=_Q(t),c=wQ(t),f=SQ(t),h=bQ(t),p=EQ(t),v=dQ(t),y=hQ(s),w=i.createProgram();let S,_,A=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(S=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y].filter(kv).join(`
`),S.length>0&&(S+=`
`),_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y].filter(kv).join(`
`),_.length>0&&(_+=`
`)):(S=[lD(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(kv).join(`
`),_=[lD(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+f:"",t.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==su?"#define TONE_MAPPING":"",t.toneMapping!==su?pr.tonemapping_pars_fragment:"",t.toneMapping!==su?uQ("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",pr.colorspace_pars_fragment,cQ("linearToOutputTexel",t.outputColorSpace),fQ(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(kv).join(`
`)),o=SA(o),o=sD(o,t),o=oD(o,t),a=SA(a),a=sD(a,t),a=oD(a,t),o=aD(o),a=aD(a),t.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,S=[v,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+S,_=["#define varying in",t.glslVersion===hA?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===hA?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const R=A+S+o,P=A+_+a,U=nD(i,i.VERTEX_SHADER,R),k=nD(i,i.FRAGMENT_SHADER,P);i.attachShader(w,U),i.attachShader(w,k),t.index0AttributeName!==void 0?i.bindAttribLocation(w,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(w,0,"position"),i.linkProgram(w);function E(Y){if(n.debug.checkShaderErrors){const te=i.getProgramInfoLog(w).trim(),ie=i.getShaderInfoLog(U).trim(),ue=i.getShaderInfoLog(k).trim();let _e=!0,he=!0;if(i.getProgramParameter(w,i.LINK_STATUS)===!1)if(_e=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,w,U,k);else{const ge=iD(i,U,"vertex"),q=iD(i,k,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(w,i.VALIDATE_STATUS)+`

Material Name: `+Y.name+`
Material Type: `+Y.type+`

Program Info Log: `+te+`
`+ge+`
`+q)}else te!==""?console.warn("THREE.WebGLProgram: Program Info Log:",te):(ie===""||ue==="")&&(he=!1);he&&(Y.diagnostics={runnable:_e,programLog:te,vertexShader:{log:ie,prefix:S},fragmentShader:{log:ue,prefix:_}})}i.deleteShader(U),i.deleteShader(k),j=new Y1(i,w),O=pQ(i,w)}let j;this.getUniforms=function(){return j===void 0&&E(this),j};let O;this.getAttributes=function(){return O===void 0&&E(this),O};let F=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return F===!1&&(F=i.getProgramParameter(w,sQ)),F},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(w),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=oQ++,this.cacheKey=e,this.usedTimes=1,this.program=w,this.vertexShader=U,this.fragmentShader=k,this}let MQ=0;class AQ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new CQ(e),t.set(e,r)),r}}class CQ{constructor(e){this.id=MQ++,this.code=e,this.usedTimes=0}}function RQ(n,e,t,r,i,s,o){const a=new yp,l=new AQ,c=new Set,f=[],h=i.logarithmicDepthBuffer,p=i.vertexTextures;let v=i.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function w(O){return c.add(O),O===0?"uv":`uv${O}`}function S(O,F,Y,te,ie){const ue=te.fog,_e=ie.geometry,he=O.isMeshStandardMaterial?te.environment:null,ge=(O.isMeshStandardMaterial?t:e).get(O.envMap||he),q=ge&&ge.mapping===a0?ge.image.height:null,oe=y[O.type];O.precision!==null&&(v=i.getMaxPrecision(O.precision),v!==O.precision&&console.warn("THREE.WebGLProgram.getParameters:",O.precision,"not supported, using",v,"instead."));const $=_e.morphAttributes.position||_e.morphAttributes.normal||_e.morphAttributes.color,ne=$!==void 0?$.length:0;let we=0;_e.morphAttributes.position!==void 0&&(we=1),_e.morphAttributes.normal!==void 0&&(we=2),_e.morphAttributes.color!==void 0&&(we=3);let nt,Ce,Ve,He;if(oe){const Gt=xc[oe];nt=Gt.vertexShader,Ce=Gt.fragmentShader}else nt=O.vertexShader,Ce=O.fragmentShader,l.update(O),Ve=l.getVertexShaderID(O),He=l.getFragmentShaderID(O);const je=n.getRenderTarget(),pt=n.state.buffers.depth.getReversed(),bt=ie.isInstancedMesh===!0,Dt=ie.isBatchedMesh===!0,Jt=!!O.map,at=!!O.matcap,Xe=!!ge,ae=!!O.aoMap,Bt=!!O.lightMap,ht=!!O.bumpMap,Re=!!O.normalMap,mt=!!O.displacementMap,tn=!!O.emissiveMap,It=!!O.metalnessMap,se=!!O.roughnessMap,ee=O.anisotropy>0,xe=O.clearcoat>0,Oe=O.dispersion>0,Le=O.iridescence>0,Ge=O.sheen>0,St=O.transmission>0,wt=ee&&!!O.anisotropyMap,Rt=xe&&!!O.clearcoatMap,vn=xe&&!!O.clearcoatNormalMap,xt=xe&&!!O.clearcoatRoughnessMap,Tt=Le&&!!O.iridescenceMap,Zt=Le&&!!O.iridescenceThicknessMap,Wt=Ge&&!!O.sheenColorMap,Ot=Ge&&!!O.sheenRoughnessMap,Ae=!!O.specularMap,Ye=!!O.specularColorMap,_t=!!O.specularIntensityMap,me=St&&!!O.transmissionMap,Be=St&&!!O.thicknessMap,ze=!!O.gradientMap,ot=!!O.alphaMap,Ft=O.alphaTest>0,Ut=!!O.alphaHash,Qt=!!O.extensions;let _n=su;O.toneMapped&&(je===null||je.isXRRenderTarget===!0)&&(_n=n.toneMapping);const mr={shaderID:oe,shaderType:O.type,shaderName:O.name,vertexShader:nt,fragmentShader:Ce,defines:O.defines,customVertexShaderID:Ve,customFragmentShaderID:He,isRawShaderMaterial:O.isRawShaderMaterial===!0,glslVersion:O.glslVersion,precision:v,batching:Dt,batchingColor:Dt&&ie._colorsTexture!==null,instancing:bt,instancingColor:bt&&ie.instanceColor!==null,instancingMorph:bt&&ie.morphTexture!==null,supportsVertexTextures:p,outputColorSpace:je===null?n.outputColorSpace:je.isXRRenderTarget===!0?je.texture.colorSpace:Ms,alphaToCoverage:!!O.alphaToCoverage,map:Jt,matcap:at,envMap:Xe,envMapMode:Xe&&ge.mapping,envMapCubeUVHeight:q,aoMap:ae,lightMap:Bt,bumpMap:ht,normalMap:Re,displacementMap:p&&mt,emissiveMap:tn,normalMapObjectSpace:Re&&O.normalMapType===YU,normalMapTangentSpace:Re&&O.normalMapType===Wd,metalnessMap:It,roughnessMap:se,anisotropy:ee,anisotropyMap:wt,clearcoat:xe,clearcoatMap:Rt,clearcoatNormalMap:vn,clearcoatRoughnessMap:xt,dispersion:Oe,iridescence:Le,iridescenceMap:Tt,iridescenceThicknessMap:Zt,sheen:Ge,sheenColorMap:Wt,sheenRoughnessMap:Ot,specularMap:Ae,specularColorMap:Ye,specularIntensityMap:_t,transmission:St,transmissionMap:me,thicknessMap:Be,gradientMap:ze,opaque:O.transparent===!1&&O.blending===mp&&O.alphaToCoverage===!1,alphaMap:ot,alphaTest:Ft,alphaHash:Ut,combine:O.combine,mapUv:Jt&&w(O.map.channel),aoMapUv:ae&&w(O.aoMap.channel),lightMapUv:Bt&&w(O.lightMap.channel),bumpMapUv:ht&&w(O.bumpMap.channel),normalMapUv:Re&&w(O.normalMap.channel),displacementMapUv:mt&&w(O.displacementMap.channel),emissiveMapUv:tn&&w(O.emissiveMap.channel),metalnessMapUv:It&&w(O.metalnessMap.channel),roughnessMapUv:se&&w(O.roughnessMap.channel),anisotropyMapUv:wt&&w(O.anisotropyMap.channel),clearcoatMapUv:Rt&&w(O.clearcoatMap.channel),clearcoatNormalMapUv:vn&&w(O.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:xt&&w(O.clearcoatRoughnessMap.channel),iridescenceMapUv:Tt&&w(O.iridescenceMap.channel),iridescenceThicknessMapUv:Zt&&w(O.iridescenceThicknessMap.channel),sheenColorMapUv:Wt&&w(O.sheenColorMap.channel),sheenRoughnessMapUv:Ot&&w(O.sheenRoughnessMap.channel),specularMapUv:Ae&&w(O.specularMap.channel),specularColorMapUv:Ye&&w(O.specularColorMap.channel),specularIntensityMapUv:_t&&w(O.specularIntensityMap.channel),transmissionMapUv:me&&w(O.transmissionMap.channel),thicknessMapUv:Be&&w(O.thicknessMap.channel),alphaMapUv:ot&&w(O.alphaMap.channel),vertexTangents:!!_e.attributes.tangent&&(Re||ee),vertexColors:O.vertexColors,vertexAlphas:O.vertexColors===!0&&!!_e.attributes.color&&_e.attributes.color.itemSize===4,pointsUvs:ie.isPoints===!0&&!!_e.attributes.uv&&(Jt||ot),fog:!!ue,useFog:O.fog===!0,fogExp2:!!ue&&ue.isFogExp2,flatShading:O.flatShading===!0,sizeAttenuation:O.sizeAttenuation===!0,logarithmicDepthBuffer:h,reverseDepthBuffer:pt,skinning:ie.isSkinnedMesh===!0,morphTargets:_e.morphAttributes.position!==void 0,morphNormals:_e.morphAttributes.normal!==void 0,morphColors:_e.morphAttributes.color!==void 0,morphTargetsCount:ne,morphTextureStride:we,numDirLights:F.directional.length,numPointLights:F.point.length,numSpotLights:F.spot.length,numSpotLightMaps:F.spotLightMap.length,numRectAreaLights:F.rectArea.length,numHemiLights:F.hemi.length,numDirLightShadows:F.directionalShadowMap.length,numPointLightShadows:F.pointShadowMap.length,numSpotLightShadows:F.spotShadowMap.length,numSpotLightShadowsWithMaps:F.numSpotLightShadowsWithMaps,numLightProbes:F.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:O.dithering,shadowMapEnabled:n.shadowMap.enabled&&Y.length>0,shadowMapType:n.shadowMap.type,toneMapping:_n,decodeVideoTexture:Jt&&O.map.isVideoTexture===!0&&Tr.getTransfer(O.map.colorSpace)===Yr,decodeVideoTextureEmissive:tn&&O.emissiveMap.isVideoTexture===!0&&Tr.getTransfer(O.emissiveMap.colorSpace)===Yr,premultipliedAlpha:O.premultipliedAlpha,doubleSided:O.side===Dl,flipSided:O.side===ea,useDepthPacking:O.depthPacking>=0,depthPacking:O.depthPacking||0,index0AttributeName:O.index0AttributeName,extensionClipCullDistance:Qt&&O.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Qt&&O.extensions.multiDraw===!0||Dt)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:O.customProgramCacheKey()};return mr.vertexUv1s=c.has(1),mr.vertexUv2s=c.has(2),mr.vertexUv3s=c.has(3),c.clear(),mr}function _(O){const F=[];if(O.shaderID?F.push(O.shaderID):(F.push(O.customVertexShaderID),F.push(O.customFragmentShaderID)),O.defines!==void 0)for(const Y in O.defines)F.push(Y),F.push(O.defines[Y]);return O.isRawShaderMaterial===!1&&(A(F,O),R(F,O),F.push(n.outputColorSpace)),F.push(O.customProgramCacheKey),F.join()}function A(O,F){O.push(F.precision),O.push(F.outputColorSpace),O.push(F.envMapMode),O.push(F.envMapCubeUVHeight),O.push(F.mapUv),O.push(F.alphaMapUv),O.push(F.lightMapUv),O.push(F.aoMapUv),O.push(F.bumpMapUv),O.push(F.normalMapUv),O.push(F.displacementMapUv),O.push(F.emissiveMapUv),O.push(F.metalnessMapUv),O.push(F.roughnessMapUv),O.push(F.anisotropyMapUv),O.push(F.clearcoatMapUv),O.push(F.clearcoatNormalMapUv),O.push(F.clearcoatRoughnessMapUv),O.push(F.iridescenceMapUv),O.push(F.iridescenceThicknessMapUv),O.push(F.sheenColorMapUv),O.push(F.sheenRoughnessMapUv),O.push(F.specularMapUv),O.push(F.specularColorMapUv),O.push(F.specularIntensityMapUv),O.push(F.transmissionMapUv),O.push(F.thicknessMapUv),O.push(F.combine),O.push(F.fogExp2),O.push(F.sizeAttenuation),O.push(F.morphTargetsCount),O.push(F.morphAttributeCount),O.push(F.numDirLights),O.push(F.numPointLights),O.push(F.numSpotLights),O.push(F.numSpotLightMaps),O.push(F.numHemiLights),O.push(F.numRectAreaLights),O.push(F.numDirLightShadows),O.push(F.numPointLightShadows),O.push(F.numSpotLightShadows),O.push(F.numSpotLightShadowsWithMaps),O.push(F.numLightProbes),O.push(F.shadowMapType),O.push(F.toneMapping),O.push(F.numClippingPlanes),O.push(F.numClipIntersection),O.push(F.depthPacking)}function R(O,F){a.disableAll(),F.supportsVertexTextures&&a.enable(0),F.instancing&&a.enable(1),F.instancingColor&&a.enable(2),F.instancingMorph&&a.enable(3),F.matcap&&a.enable(4),F.envMap&&a.enable(5),F.normalMapObjectSpace&&a.enable(6),F.normalMapTangentSpace&&a.enable(7),F.clearcoat&&a.enable(8),F.iridescence&&a.enable(9),F.alphaTest&&a.enable(10),F.vertexColors&&a.enable(11),F.vertexAlphas&&a.enable(12),F.vertexUv1s&&a.enable(13),F.vertexUv2s&&a.enable(14),F.vertexUv3s&&a.enable(15),F.vertexTangents&&a.enable(16),F.anisotropy&&a.enable(17),F.alphaHash&&a.enable(18),F.batching&&a.enable(19),F.dispersion&&a.enable(20),F.batchingColor&&a.enable(21),O.push(a.mask),a.disableAll(),F.fog&&a.enable(0),F.useFog&&a.enable(1),F.flatShading&&a.enable(2),F.logarithmicDepthBuffer&&a.enable(3),F.reverseDepthBuffer&&a.enable(4),F.skinning&&a.enable(5),F.morphTargets&&a.enable(6),F.morphNormals&&a.enable(7),F.morphColors&&a.enable(8),F.premultipliedAlpha&&a.enable(9),F.shadowMapEnabled&&a.enable(10),F.doubleSided&&a.enable(11),F.flipSided&&a.enable(12),F.useDepthPacking&&a.enable(13),F.dithering&&a.enable(14),F.transmission&&a.enable(15),F.sheen&&a.enable(16),F.opaque&&a.enable(17),F.pointsUvs&&a.enable(18),F.decodeVideoTexture&&a.enable(19),F.decodeVideoTextureEmissive&&a.enable(20),F.alphaToCoverage&&a.enable(21),O.push(a.mask)}function P(O){const F=y[O.type];let Y;if(F){const te=xc[F];Y=u4.clone(te.uniforms)}else Y=O.uniforms;return Y}function U(O,F){let Y;for(let te=0,ie=f.length;te<ie;te++){const ue=f[te];if(ue.cacheKey===F){Y=ue,++Y.usedTimes;break}}return Y===void 0&&(Y=new TQ(n,F,O,s),f.push(Y)),Y}function k(O){if(--O.usedTimes===0){const F=f.indexOf(O);f[F]=f[f.length-1],f.pop(),O.destroy()}}function E(O){l.remove(O)}function j(){l.dispose()}return{getParameters:S,getProgramCacheKey:_,getUniforms:P,acquireProgram:U,releaseProgram:k,releaseShaderCache:E,programs:f,dispose:j}}function PQ(){let n=new WeakMap;function e(o){return n.has(o)}function t(o){let a=n.get(o);return a===void 0&&(a={},n.set(o,a)),a}function r(o){n.delete(o)}function i(o,a,l){n.get(o)[a]=l}function s(){n=new WeakMap}return{has:e,get:t,remove:r,update:i,dispose:s}}function IQ(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function cD(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function uD(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(h,p,v,y,w,S){let _=n[e];return _===void 0?(_={id:h.id,object:h,geometry:p,material:v,groupOrder:y,renderOrder:h.renderOrder,z:w,group:S},n[e]=_):(_.id=h.id,_.object=h,_.geometry=p,_.material=v,_.groupOrder=y,_.renderOrder=h.renderOrder,_.z=w,_.group=S),e++,_}function a(h,p,v,y,w,S){const _=o(h,p,v,y,w,S);v.transmission>0?r.push(_):v.transparent===!0?i.push(_):t.push(_)}function l(h,p,v,y,w,S){const _=o(h,p,v,y,w,S);v.transmission>0?r.unshift(_):v.transparent===!0?i.unshift(_):t.unshift(_)}function c(h,p){t.length>1&&t.sort(h||IQ),r.length>1&&r.sort(p||cD),i.length>1&&i.sort(p||cD)}function f(){for(let h=e,p=n.length;h<p;h++){const v=n[h];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:f,sort:c}}function LQ(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new uD,n.set(r,[o])):i>=s.length?(o=new uD,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function DQ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ce,color:new rn};break;case"SpotLight":t={position:new ce,direction:new ce,color:new rn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ce,color:new rn,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ce,skyColor:new rn,groundColor:new rn};break;case"RectAreaLight":t={color:new rn,position:new ce,halfWidth:new ce,halfHeight:new ce};break}return n[e.id]=t,t}}}function NQ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new gt};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new gt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new gt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let kQ=0;function OQ(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function FQ(n){const e=new DQ,t=NQ(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new ce);const i=new ce,s=new jn,o=new jn;function a(c){let f=0,h=0,p=0;for(let O=0;O<9;O++)r.probe[O].set(0,0,0);let v=0,y=0,w=0,S=0,_=0,A=0,R=0,P=0,U=0,k=0,E=0;c.sort(OQ);for(let O=0,F=c.length;O<F;O++){const Y=c[O],te=Y.color,ie=Y.intensity,ue=Y.distance,_e=Y.shadow&&Y.shadow.map?Y.shadow.map.texture:null;if(Y.isAmbientLight)f+=te.r*ie,h+=te.g*ie,p+=te.b*ie;else if(Y.isLightProbe){for(let he=0;he<9;he++)r.probe[he].addScaledVector(Y.sh.coefficients[he],ie);E++}else if(Y.isDirectionalLight){const he=e.get(Y);if(he.color.copy(Y.color).multiplyScalar(Y.intensity),Y.castShadow){const ge=Y.shadow,q=t.get(Y);q.shadowIntensity=ge.intensity,q.shadowBias=ge.bias,q.shadowNormalBias=ge.normalBias,q.shadowRadius=ge.radius,q.shadowMapSize=ge.mapSize,r.directionalShadow[v]=q,r.directionalShadowMap[v]=_e,r.directionalShadowMatrix[v]=Y.shadow.matrix,A++}r.directional[v]=he,v++}else if(Y.isSpotLight){const he=e.get(Y);he.position.setFromMatrixPosition(Y.matrixWorld),he.color.copy(te).multiplyScalar(ie),he.distance=ue,he.coneCos=Math.cos(Y.angle),he.penumbraCos=Math.cos(Y.angle*(1-Y.penumbra)),he.decay=Y.decay,r.spot[w]=he;const ge=Y.shadow;if(Y.map&&(r.spotLightMap[U]=Y.map,U++,ge.updateMatrices(Y),Y.castShadow&&k++),r.spotLightMatrix[w]=ge.matrix,Y.castShadow){const q=t.get(Y);q.shadowIntensity=ge.intensity,q.shadowBias=ge.bias,q.shadowNormalBias=ge.normalBias,q.shadowRadius=ge.radius,q.shadowMapSize=ge.mapSize,r.spotShadow[w]=q,r.spotShadowMap[w]=_e,P++}w++}else if(Y.isRectAreaLight){const he=e.get(Y);he.color.copy(te).multiplyScalar(ie),he.halfWidth.set(Y.width*.5,0,0),he.halfHeight.set(0,Y.height*.5,0),r.rectArea[S]=he,S++}else if(Y.isPointLight){const he=e.get(Y);if(he.color.copy(Y.color).multiplyScalar(Y.intensity),he.distance=Y.distance,he.decay=Y.decay,Y.castShadow){const ge=Y.shadow,q=t.get(Y);q.shadowIntensity=ge.intensity,q.shadowBias=ge.bias,q.shadowNormalBias=ge.normalBias,q.shadowRadius=ge.radius,q.shadowMapSize=ge.mapSize,q.shadowCameraNear=ge.camera.near,q.shadowCameraFar=ge.camera.far,r.pointShadow[y]=q,r.pointShadowMap[y]=_e,r.pointShadowMatrix[y]=Y.shadow.matrix,R++}r.point[y]=he,y++}else if(Y.isHemisphereLight){const he=e.get(Y);he.skyColor.copy(Y.color).multiplyScalar(ie),he.groundColor.copy(Y.groundColor).multiplyScalar(ie),r.hemi[_]=he,_++}}S>0&&(n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=on.LTC_FLOAT_1,r.rectAreaLTC2=on.LTC_FLOAT_2):(r.rectAreaLTC1=on.LTC_HALF_1,r.rectAreaLTC2=on.LTC_HALF_2)),r.ambient[0]=f,r.ambient[1]=h,r.ambient[2]=p;const j=r.hash;(j.directionalLength!==v||j.pointLength!==y||j.spotLength!==w||j.rectAreaLength!==S||j.hemiLength!==_||j.numDirectionalShadows!==A||j.numPointShadows!==R||j.numSpotShadows!==P||j.numSpotMaps!==U||j.numLightProbes!==E)&&(r.directional.length=v,r.spot.length=w,r.rectArea.length=S,r.point.length=y,r.hemi.length=_,r.directionalShadow.length=A,r.directionalShadowMap.length=A,r.pointShadow.length=R,r.pointShadowMap.length=R,r.spotShadow.length=P,r.spotShadowMap.length=P,r.directionalShadowMatrix.length=A,r.pointShadowMatrix.length=R,r.spotLightMatrix.length=P+U-k,r.spotLightMap.length=U,r.numSpotLightShadowsWithMaps=k,r.numLightProbes=E,j.directionalLength=v,j.pointLength=y,j.spotLength=w,j.rectAreaLength=S,j.hemiLength=_,j.numDirectionalShadows=A,j.numPointShadows=R,j.numSpotShadows=P,j.numSpotMaps=U,j.numLightProbes=E,r.version=kQ++)}function l(c,f){let h=0,p=0,v=0,y=0,w=0;const S=f.matrixWorldInverse;for(let _=0,A=c.length;_<A;_++){const R=c[_];if(R.isDirectionalLight){const P=r.directional[h];P.direction.setFromMatrixPosition(R.matrixWorld),i.setFromMatrixPosition(R.target.matrixWorld),P.direction.sub(i),P.direction.transformDirection(S),h++}else if(R.isSpotLight){const P=r.spot[v];P.position.setFromMatrixPosition(R.matrixWorld),P.position.applyMatrix4(S),P.direction.setFromMatrixPosition(R.matrixWorld),i.setFromMatrixPosition(R.target.matrixWorld),P.direction.sub(i),P.direction.transformDirection(S),v++}else if(R.isRectAreaLight){const P=r.rectArea[y];P.position.setFromMatrixPosition(R.matrixWorld),P.position.applyMatrix4(S),o.identity(),s.copy(R.matrixWorld),s.premultiply(S),o.extractRotation(s),P.halfWidth.set(R.width*.5,0,0),P.halfHeight.set(0,R.height*.5,0),P.halfWidth.applyMatrix4(o),P.halfHeight.applyMatrix4(o),y++}else if(R.isPointLight){const P=r.point[p];P.position.setFromMatrixPosition(R.matrixWorld),P.position.applyMatrix4(S),p++}else if(R.isHemisphereLight){const P=r.hemi[w];P.direction.setFromMatrixPosition(R.matrixWorld),P.direction.transformDirection(S),w++}}}return{setup:a,setupView:l,state:r}}function fD(n){const e=new FQ(n),t=[],r=[];function i(f){c.camera=f,t.length=0,r.length=0}function s(f){t.push(f)}function o(f){r.push(f)}function a(){e.setup(t)}function l(f){e.setupView(t,f)}const c={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function UQ(n){let e=new WeakMap;function t(i,s=0){const o=e.get(i);let a;return o===void 0?(a=new fD(n),e.set(i,[a])):s>=o.length?(a=new fD(n),o.push(a)):a=o[s],a}function r(){e=new WeakMap}return{get:t,dispose:r}}const BQ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,zQ=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function VQ(n,e,t){let r=new vx;const i=new gt,s=new gt,o=new Or,a=new VR({depthPacking:qU}),l=new HR,c={},f=t.maxTextureSize,h={[fu]:ea,[ea]:fu,[Dl]:Dl},p=new Ea({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new gt},radius:{value:4}},vertexShader:BQ,fragmentShader:zQ}),v=p.clone();v.defines.HORIZONTAL_PASS=1;const y=new ar;y.setAttribute("position",new jr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const w=new Si(y,p),S=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=jS;let _=this.type;this.render=function(k,E,j){if(S.enabled===!1||S.autoUpdate===!1&&S.needsUpdate===!1||k.length===0)return;const O=n.getRenderTarget(),F=n.getActiveCubeFace(),Y=n.getActiveMipmapLevel(),te=n.state;te.setBlending(iu),te.buffers.color.setClear(1,1,1,1),te.buffers.depth.setTest(!0),te.setScissorTest(!1);const ie=_!==yc&&this.type===yc,ue=_===yc&&this.type!==yc;for(let _e=0,he=k.length;_e<he;_e++){const ge=k[_e],q=ge.shadow;if(q===void 0){console.warn("THREE.WebGLShadowMap:",ge,"has no shadow.");continue}if(q.autoUpdate===!1&&q.needsUpdate===!1)continue;i.copy(q.mapSize);const oe=q.getFrameExtents();if(i.multiply(oe),s.copy(q.mapSize),(i.x>f||i.y>f)&&(i.x>f&&(s.x=Math.floor(f/oe.x),i.x=s.x*oe.x,q.mapSize.x=s.x),i.y>f&&(s.y=Math.floor(f/oe.y),i.y=s.y*oe.y,q.mapSize.y=s.y)),q.map===null||ie===!0||ue===!0){const ne=this.type!==yc?{minFilter:Ts,magFilter:Ts}:{};q.map!==null&&q.map.dispose(),q.map=new il(i.x,i.y,ne),q.map.texture.name=ge.name+".shadowMap",q.camera.updateProjectionMatrix()}n.setRenderTarget(q.map),n.clear();const $=q.getViewportCount();for(let ne=0;ne<$;ne++){const we=q.getViewport(ne);o.set(s.x*we.x,s.y*we.y,s.x*we.z,s.y*we.w),te.viewport(o),q.updateMatrices(ge,ne),r=q.getFrustum(),P(E,j,q.camera,ge,this.type)}q.isPointLightShadow!==!0&&this.type===yc&&A(q,j),q.needsUpdate=!1}_=this.type,S.needsUpdate=!1,n.setRenderTarget(O,F,Y)};function A(k,E){const j=e.update(w);p.defines.VSM_SAMPLES!==k.blurSamples&&(p.defines.VSM_SAMPLES=k.blurSamples,v.defines.VSM_SAMPLES=k.blurSamples,p.needsUpdate=!0,v.needsUpdate=!0),k.mapPass===null&&(k.mapPass=new il(i.x,i.y)),p.uniforms.shadow_pass.value=k.map.texture,p.uniforms.resolution.value=k.mapSize,p.uniforms.radius.value=k.radius,n.setRenderTarget(k.mapPass),n.clear(),n.renderBufferDirect(E,null,j,p,w,null),v.uniforms.shadow_pass.value=k.mapPass.texture,v.uniforms.resolution.value=k.mapSize,v.uniforms.radius.value=k.radius,n.setRenderTarget(k.map),n.clear(),n.renderBufferDirect(E,null,j,v,w,null)}function R(k,E,j,O){let F=null;const Y=j.isPointLight===!0?k.customDistanceMaterial:k.customDepthMaterial;if(Y!==void 0)F=Y;else if(F=j.isPointLight===!0?l:a,n.localClippingEnabled&&E.clipShadows===!0&&Array.isArray(E.clippingPlanes)&&E.clippingPlanes.length!==0||E.displacementMap&&E.displacementScale!==0||E.alphaMap&&E.alphaTest>0||E.map&&E.alphaTest>0){const te=F.uuid,ie=E.uuid;let ue=c[te];ue===void 0&&(ue={},c[te]=ue);let _e=ue[ie];_e===void 0&&(_e=F.clone(),ue[ie]=_e,E.addEventListener("dispose",U)),F=_e}if(F.visible=E.visible,F.wireframe=E.wireframe,O===yc?F.side=E.shadowSide!==null?E.shadowSide:E.side:F.side=E.shadowSide!==null?E.shadowSide:h[E.side],F.alphaMap=E.alphaMap,F.alphaTest=E.alphaTest,F.map=E.map,F.clipShadows=E.clipShadows,F.clippingPlanes=E.clippingPlanes,F.clipIntersection=E.clipIntersection,F.displacementMap=E.displacementMap,F.displacementScale=E.displacementScale,F.displacementBias=E.displacementBias,F.wireframeLinewidth=E.wireframeLinewidth,F.linewidth=E.linewidth,j.isPointLight===!0&&F.isMeshDistanceMaterial===!0){const te=n.properties.get(F);te.light=j}return F}function P(k,E,j,O,F){if(k.visible===!1)return;if(k.layers.test(E.layers)&&(k.isMesh||k.isLine||k.isPoints)&&(k.castShadow||k.receiveShadow&&F===yc)&&(!k.frustumCulled||r.intersectsObject(k))){k.modelViewMatrix.multiplyMatrices(j.matrixWorldInverse,k.matrixWorld);const ie=e.update(k),ue=k.material;if(Array.isArray(ue)){const _e=ie.groups;for(let he=0,ge=_e.length;he<ge;he++){const q=_e[he],oe=ue[q.materialIndex];if(oe&&oe.visible){const $=R(k,oe,O,F);k.onBeforeShadow(n,k,E,j,ie,$,q),n.renderBufferDirect(j,null,ie,$,k,q),k.onAfterShadow(n,k,E,j,ie,$,q)}}}else if(ue.visible){const _e=R(k,ue,O,F);k.onBeforeShadow(n,k,E,j,ie,_e,null),n.renderBufferDirect(j,null,ie,_e,k,null),k.onAfterShadow(n,k,E,j,ie,_e,null)}}const te=k.children;for(let ie=0,ue=te.length;ie<ue;ie++)P(te[ie],E,j,O,F)}function U(k){k.target.removeEventListener("dispose",U);for(const j in c){const O=c[j],F=k.target.uuid;F in O&&(O[F].dispose(),delete O[F])}}}const HQ={[_w]:ww,[Sw]:Tw,[bw]:Mw,[Ip]:Ew,[ww]:_w,[Tw]:Sw,[Mw]:bw,[Ew]:Ip};function jQ(n,e){function t(){let me=!1;const Be=new Or;let ze=null;const ot=new Or(0,0,0,0);return{setMask:function(Ft){ze!==Ft&&!me&&(n.colorMask(Ft,Ft,Ft,Ft),ze=Ft)},setLocked:function(Ft){me=Ft},setClear:function(Ft,Ut,Qt,_n,mr){mr===!0&&(Ft*=_n,Ut*=_n,Qt*=_n),Be.set(Ft,Ut,Qt,_n),ot.equals(Be)===!1&&(n.clearColor(Ft,Ut,Qt,_n),ot.copy(Be))},reset:function(){me=!1,ze=null,ot.set(-1,0,0,0)}}}function r(){let me=!1,Be=!1,ze=null,ot=null,Ft=null;return{setReversed:function(Ut){if(Be!==Ut){const Qt=e.get("EXT_clip_control");Be?Qt.clipControlEXT(Qt.LOWER_LEFT_EXT,Qt.ZERO_TO_ONE_EXT):Qt.clipControlEXT(Qt.LOWER_LEFT_EXT,Qt.NEGATIVE_ONE_TO_ONE_EXT);const _n=Ft;Ft=null,this.setClear(_n)}Be=Ut},getReversed:function(){return Be},setTest:function(Ut){Ut?je(n.DEPTH_TEST):pt(n.DEPTH_TEST)},setMask:function(Ut){ze!==Ut&&!me&&(n.depthMask(Ut),ze=Ut)},setFunc:function(Ut){if(Be&&(Ut=HQ[Ut]),ot!==Ut){switch(Ut){case _w:n.depthFunc(n.NEVER);break;case ww:n.depthFunc(n.ALWAYS);break;case Sw:n.depthFunc(n.LESS);break;case Ip:n.depthFunc(n.LEQUAL);break;case bw:n.depthFunc(n.EQUAL);break;case Ew:n.depthFunc(n.GEQUAL);break;case Tw:n.depthFunc(n.GREATER);break;case Mw:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}ot=Ut}},setLocked:function(Ut){me=Ut},setClear:function(Ut){Ft!==Ut&&(Be&&(Ut=1-Ut),n.clearDepth(Ut),Ft=Ut)},reset:function(){me=!1,ze=null,ot=null,Ft=null,Be=!1}}}function i(){let me=!1,Be=null,ze=null,ot=null,Ft=null,Ut=null,Qt=null,_n=null,mr=null;return{setTest:function(Gt){me||(Gt?je(n.STENCIL_TEST):pt(n.STENCIL_TEST))},setMask:function(Gt){Be!==Gt&&!me&&(n.stencilMask(Gt),Be=Gt)},setFunc:function(Gt,nn,Pn){(ze!==Gt||ot!==nn||Ft!==Pn)&&(n.stencilFunc(Gt,nn,Pn),ze=Gt,ot=nn,Ft=Pn)},setOp:function(Gt,nn,Pn){(Ut!==Gt||Qt!==nn||_n!==Pn)&&(n.stencilOp(Gt,nn,Pn),Ut=Gt,Qt=nn,_n=Pn)},setLocked:function(Gt){me=Gt},setClear:function(Gt){mr!==Gt&&(n.clearStencil(Gt),mr=Gt)},reset:function(){me=!1,Be=null,ze=null,ot=null,Ft=null,Ut=null,Qt=null,_n=null,mr=null}}}const s=new t,o=new r,a=new i,l=new WeakMap,c=new WeakMap;let f={},h={},p=new WeakMap,v=[],y=null,w=!1,S=null,_=null,A=null,R=null,P=null,U=null,k=null,E=new rn(0,0,0),j=0,O=!1,F=null,Y=null,te=null,ie=null,ue=null;const _e=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let he=!1,ge=0;const q=n.getParameter(n.VERSION);q.indexOf("WebGL")!==-1?(ge=parseFloat(/^WebGL (\d)/.exec(q)[1]),he=ge>=1):q.indexOf("OpenGL ES")!==-1&&(ge=parseFloat(/^OpenGL ES (\d)/.exec(q)[1]),he=ge>=2);let oe=null,$={};const ne=n.getParameter(n.SCISSOR_BOX),we=n.getParameter(n.VIEWPORT),nt=new Or().fromArray(ne),Ce=new Or().fromArray(we);function Ve(me,Be,ze,ot){const Ft=new Uint8Array(4),Ut=n.createTexture();n.bindTexture(me,Ut),n.texParameteri(me,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(me,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Qt=0;Qt<ze;Qt++)me===n.TEXTURE_3D||me===n.TEXTURE_2D_ARRAY?n.texImage3D(Be,0,n.RGBA,1,1,ot,0,n.RGBA,n.UNSIGNED_BYTE,Ft):n.texImage2D(Be+Qt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Ft);return Ut}const He={};He[n.TEXTURE_2D]=Ve(n.TEXTURE_2D,n.TEXTURE_2D,1),He[n.TEXTURE_CUBE_MAP]=Ve(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),He[n.TEXTURE_2D_ARRAY]=Ve(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),He[n.TEXTURE_3D]=Ve(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),je(n.DEPTH_TEST),o.setFunc(Ip),ht(!1),Re(oA),je(n.CULL_FACE),ae(iu);function je(me){f[me]!==!0&&(n.enable(me),f[me]=!0)}function pt(me){f[me]!==!1&&(n.disable(me),f[me]=!1)}function bt(me,Be){return h[me]!==Be?(n.bindFramebuffer(me,Be),h[me]=Be,me===n.DRAW_FRAMEBUFFER&&(h[n.FRAMEBUFFER]=Be),me===n.FRAMEBUFFER&&(h[n.DRAW_FRAMEBUFFER]=Be),!0):!1}function Dt(me,Be){let ze=v,ot=!1;if(me){ze=p.get(Be),ze===void 0&&(ze=[],p.set(Be,ze));const Ft=me.textures;if(ze.length!==Ft.length||ze[0]!==n.COLOR_ATTACHMENT0){for(let Ut=0,Qt=Ft.length;Ut<Qt;Ut++)ze[Ut]=n.COLOR_ATTACHMENT0+Ut;ze.length=Ft.length,ot=!0}}else ze[0]!==n.BACK&&(ze[0]=n.BACK,ot=!0);ot&&n.drawBuffers(ze)}function Jt(me){return y!==me?(n.useProgram(me),y=me,!0):!1}const at={[vd]:n.FUNC_ADD,[vU]:n.FUNC_SUBTRACT,[yU]:n.FUNC_REVERSE_SUBTRACT};at[xU]=n.MIN,at[_U]=n.MAX;const Xe={[wU]:n.ZERO,[SU]:n.ONE,[bU]:n.SRC_COLOR,[yw]:n.SRC_ALPHA,[RU]:n.SRC_ALPHA_SATURATE,[AU]:n.DST_COLOR,[TU]:n.DST_ALPHA,[EU]:n.ONE_MINUS_SRC_COLOR,[xw]:n.ONE_MINUS_SRC_ALPHA,[CU]:n.ONE_MINUS_DST_COLOR,[MU]:n.ONE_MINUS_DST_ALPHA,[PU]:n.CONSTANT_COLOR,[IU]:n.ONE_MINUS_CONSTANT_COLOR,[LU]:n.CONSTANT_ALPHA,[DU]:n.ONE_MINUS_CONSTANT_ALPHA};function ae(me,Be,ze,ot,Ft,Ut,Qt,_n,mr,Gt){if(me===iu){w===!0&&(pt(n.BLEND),w=!1);return}if(w===!1&&(je(n.BLEND),w=!0),me!==gU){if(me!==S||Gt!==O){if((_!==vd||P!==vd)&&(n.blendEquation(n.FUNC_ADD),_=vd,P=vd),Gt)switch(me){case mp:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case aA:n.blendFunc(n.ONE,n.ONE);break;case lA:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case cA:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",me);break}else switch(me){case mp:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case aA:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case lA:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case cA:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",me);break}A=null,R=null,U=null,k=null,E.set(0,0,0),j=0,S=me,O=Gt}return}Ft=Ft||Be,Ut=Ut||ze,Qt=Qt||ot,(Be!==_||Ft!==P)&&(n.blendEquationSeparate(at[Be],at[Ft]),_=Be,P=Ft),(ze!==A||ot!==R||Ut!==U||Qt!==k)&&(n.blendFuncSeparate(Xe[ze],Xe[ot],Xe[Ut],Xe[Qt]),A=ze,R=ot,U=Ut,k=Qt),(_n.equals(E)===!1||mr!==j)&&(n.blendColor(_n.r,_n.g,_n.b,mr),E.copy(_n),j=mr),S=me,O=!1}function Bt(me,Be){me.side===Dl?pt(n.CULL_FACE):je(n.CULL_FACE);let ze=me.side===ea;Be&&(ze=!ze),ht(ze),me.blending===mp&&me.transparent===!1?ae(iu):ae(me.blending,me.blendEquation,me.blendSrc,me.blendDst,me.blendEquationAlpha,me.blendSrcAlpha,me.blendDstAlpha,me.blendColor,me.blendAlpha,me.premultipliedAlpha),o.setFunc(me.depthFunc),o.setTest(me.depthTest),o.setMask(me.depthWrite),s.setMask(me.colorWrite);const ot=me.stencilWrite;a.setTest(ot),ot&&(a.setMask(me.stencilWriteMask),a.setFunc(me.stencilFunc,me.stencilRef,me.stencilFuncMask),a.setOp(me.stencilFail,me.stencilZFail,me.stencilZPass)),tn(me.polygonOffset,me.polygonOffsetFactor,me.polygonOffsetUnits),me.alphaToCoverage===!0?je(n.SAMPLE_ALPHA_TO_COVERAGE):pt(n.SAMPLE_ALPHA_TO_COVERAGE)}function ht(me){F!==me&&(me?n.frontFace(n.CW):n.frontFace(n.CCW),F=me)}function Re(me){me!==hU?(je(n.CULL_FACE),me!==Y&&(me===oA?n.cullFace(n.BACK):me===pU?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):pt(n.CULL_FACE),Y=me}function mt(me){me!==te&&(he&&n.lineWidth(me),te=me)}function tn(me,Be,ze){me?(je(n.POLYGON_OFFSET_FILL),(ie!==Be||ue!==ze)&&(n.polygonOffset(Be,ze),ie=Be,ue=ze)):pt(n.POLYGON_OFFSET_FILL)}function It(me){me?je(n.SCISSOR_TEST):pt(n.SCISSOR_TEST)}function se(me){me===void 0&&(me=n.TEXTURE0+_e-1),oe!==me&&(n.activeTexture(me),oe=me)}function ee(me,Be,ze){ze===void 0&&(oe===null?ze=n.TEXTURE0+_e-1:ze=oe);let ot=$[ze];ot===void 0&&(ot={type:void 0,texture:void 0},$[ze]=ot),(ot.type!==me||ot.texture!==Be)&&(oe!==ze&&(n.activeTexture(ze),oe=ze),n.bindTexture(me,Be||He[me]),ot.type=me,ot.texture=Be)}function xe(){const me=$[oe];me!==void 0&&me.type!==void 0&&(n.bindTexture(me.type,null),me.type=void 0,me.texture=void 0)}function Oe(){try{n.compressedTexImage2D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Le(){try{n.compressedTexImage3D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Ge(){try{n.texSubImage2D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function St(){try{n.texSubImage3D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function wt(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Rt(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function vn(){try{n.texStorage2D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function xt(){try{n.texStorage3D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Tt(){try{n.texImage2D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Zt(){try{n.texImage3D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Wt(me){nt.equals(me)===!1&&(n.scissor(me.x,me.y,me.z,me.w),nt.copy(me))}function Ot(me){Ce.equals(me)===!1&&(n.viewport(me.x,me.y,me.z,me.w),Ce.copy(me))}function Ae(me,Be){let ze=c.get(Be);ze===void 0&&(ze=new WeakMap,c.set(Be,ze));let ot=ze.get(me);ot===void 0&&(ot=n.getUniformBlockIndex(Be,me.name),ze.set(me,ot))}function Ye(me,Be){const ot=c.get(Be).get(me);l.get(Be)!==ot&&(n.uniformBlockBinding(Be,ot,me.__bindingPointIndex),l.set(Be,ot))}function _t(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),f={},oe=null,$={},h={},p=new WeakMap,v=[],y=null,w=!1,S=null,_=null,A=null,R=null,P=null,U=null,k=null,E=new rn(0,0,0),j=0,O=!1,F=null,Y=null,te=null,ie=null,ue=null,nt.set(0,0,n.canvas.width,n.canvas.height),Ce.set(0,0,n.canvas.width,n.canvas.height),s.reset(),o.reset(),a.reset()}return{buffers:{color:s,depth:o,stencil:a},enable:je,disable:pt,bindFramebuffer:bt,drawBuffers:Dt,useProgram:Jt,setBlending:ae,setMaterial:Bt,setFlipSided:ht,setCullFace:Re,setLineWidth:mt,setPolygonOffset:tn,setScissorTest:It,activeTexture:se,bindTexture:ee,unbindTexture:xe,compressedTexImage2D:Oe,compressedTexImage3D:Le,texImage2D:Tt,texImage3D:Zt,updateUBOMapping:Ae,uniformBlockBinding:Ye,texStorage2D:vn,texStorage3D:xt,texSubImage2D:Ge,texSubImage3D:St,compressedTexSubImage2D:wt,compressedTexSubImage3D:Rt,scissor:Wt,viewport:Ot,reset:_t}}function WQ(n,e,t,r,i,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new gt,f=new WeakMap;let h;const p=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(se,ee){return v?new OffscreenCanvas(se,ee):Iy("canvas")}function w(se,ee,xe){let Oe=1;const Le=It(se);if((Le.width>xe||Le.height>xe)&&(Oe=xe/Math.max(Le.width,Le.height)),Oe<1)if(typeof HTMLImageElement<"u"&&se instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&se instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&se instanceof ImageBitmap||typeof VideoFrame<"u"&&se instanceof VideoFrame){const Ge=Math.floor(Oe*Le.width),St=Math.floor(Oe*Le.height);h===void 0&&(h=y(Ge,St));const wt=ee?y(Ge,St):h;return wt.width=Ge,wt.height=St,wt.getContext("2d").drawImage(se,0,0,Ge,St),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Le.width+"x"+Le.height+") to ("+Ge+"x"+St+")."),wt}else return"data"in se&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Le.width+"x"+Le.height+")."),se;return se}function S(se){return se.generateMipmaps}function _(se){n.generateMipmap(se)}function A(se){return se.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:se.isWebGL3DRenderTarget?n.TEXTURE_3D:se.isWebGLArrayRenderTarget||se.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function R(se,ee,xe,Oe,Le=!1){if(se!==null){if(n[se]!==void 0)return n[se];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+se+"'")}let Ge=ee;if(ee===n.RED&&(xe===n.FLOAT&&(Ge=n.R32F),xe===n.HALF_FLOAT&&(Ge=n.R16F),xe===n.UNSIGNED_BYTE&&(Ge=n.R8)),ee===n.RED_INTEGER&&(xe===n.UNSIGNED_BYTE&&(Ge=n.R8UI),xe===n.UNSIGNED_SHORT&&(Ge=n.R16UI),xe===n.UNSIGNED_INT&&(Ge=n.R32UI),xe===n.BYTE&&(Ge=n.R8I),xe===n.SHORT&&(Ge=n.R16I),xe===n.INT&&(Ge=n.R32I)),ee===n.RG&&(xe===n.FLOAT&&(Ge=n.RG32F),xe===n.HALF_FLOAT&&(Ge=n.RG16F),xe===n.UNSIGNED_BYTE&&(Ge=n.RG8)),ee===n.RG_INTEGER&&(xe===n.UNSIGNED_BYTE&&(Ge=n.RG8UI),xe===n.UNSIGNED_SHORT&&(Ge=n.RG16UI),xe===n.UNSIGNED_INT&&(Ge=n.RG32UI),xe===n.BYTE&&(Ge=n.RG8I),xe===n.SHORT&&(Ge=n.RG16I),xe===n.INT&&(Ge=n.RG32I)),ee===n.RGB_INTEGER&&(xe===n.UNSIGNED_BYTE&&(Ge=n.RGB8UI),xe===n.UNSIGNED_SHORT&&(Ge=n.RGB16UI),xe===n.UNSIGNED_INT&&(Ge=n.RGB32UI),xe===n.BYTE&&(Ge=n.RGB8I),xe===n.SHORT&&(Ge=n.RGB16I),xe===n.INT&&(Ge=n.RGB32I)),ee===n.RGBA_INTEGER&&(xe===n.UNSIGNED_BYTE&&(Ge=n.RGBA8UI),xe===n.UNSIGNED_SHORT&&(Ge=n.RGBA16UI),xe===n.UNSIGNED_INT&&(Ge=n.RGBA32UI),xe===n.BYTE&&(Ge=n.RGBA8I),xe===n.SHORT&&(Ge=n.RGBA16I),xe===n.INT&&(Ge=n.RGBA32I)),ee===n.RGB&&xe===n.UNSIGNED_INT_5_9_9_9_REV&&(Ge=n.RGB9_E5),ee===n.RGBA){const St=Le?Cy:Tr.getTransfer(Oe);xe===n.FLOAT&&(Ge=n.RGBA32F),xe===n.HALF_FLOAT&&(Ge=n.RGBA16F),xe===n.UNSIGNED_BYTE&&(Ge=St===Yr?n.SRGB8_ALPHA8:n.RGBA8),xe===n.UNSIGNED_SHORT_4_4_4_4&&(Ge=n.RGBA4),xe===n.UNSIGNED_SHORT_5_5_5_1&&(Ge=n.RGB5_A1)}return(Ge===n.R16F||Ge===n.R32F||Ge===n.RG16F||Ge===n.RG32F||Ge===n.RGBA16F||Ge===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ge}function P(se,ee){let xe;return se?ee===null||ee===hu||ee===Lp?xe=n.DEPTH24_STENCIL8:ee===Di?xe=n.DEPTH32F_STENCIL8:ee===Vg&&(xe=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):ee===null||ee===hu||ee===Lp?xe=n.DEPTH_COMPONENT24:ee===Di?xe=n.DEPTH_COMPONENT32F:ee===Vg&&(xe=n.DEPTH_COMPONENT16),xe}function U(se,ee){return S(se)===!0||se.isFramebufferTexture&&se.minFilter!==Ts&&se.minFilter!==Ur?Math.log2(Math.max(ee.width,ee.height))+1:se.mipmaps!==void 0&&se.mipmaps.length>0?se.mipmaps.length:se.isCompressedTexture&&Array.isArray(se.image)?ee.mipmaps.length:1}function k(se){const ee=se.target;ee.removeEventListener("dispose",k),j(ee),ee.isVideoTexture&&f.delete(ee)}function E(se){const ee=se.target;ee.removeEventListener("dispose",E),F(ee)}function j(se){const ee=r.get(se);if(ee.__webglInit===void 0)return;const xe=se.source,Oe=p.get(xe);if(Oe){const Le=Oe[ee.__cacheKey];Le.usedTimes--,Le.usedTimes===0&&O(se),Object.keys(Oe).length===0&&p.delete(xe)}r.remove(se)}function O(se){const ee=r.get(se);n.deleteTexture(ee.__webglTexture);const xe=se.source,Oe=p.get(xe);delete Oe[ee.__cacheKey],o.memory.textures--}function F(se){const ee=r.get(se);if(se.depthTexture&&(se.depthTexture.dispose(),r.remove(se.depthTexture)),se.isWebGLCubeRenderTarget)for(let Oe=0;Oe<6;Oe++){if(Array.isArray(ee.__webglFramebuffer[Oe]))for(let Le=0;Le<ee.__webglFramebuffer[Oe].length;Le++)n.deleteFramebuffer(ee.__webglFramebuffer[Oe][Le]);else n.deleteFramebuffer(ee.__webglFramebuffer[Oe]);ee.__webglDepthbuffer&&n.deleteRenderbuffer(ee.__webglDepthbuffer[Oe])}else{if(Array.isArray(ee.__webglFramebuffer))for(let Oe=0;Oe<ee.__webglFramebuffer.length;Oe++)n.deleteFramebuffer(ee.__webglFramebuffer[Oe]);else n.deleteFramebuffer(ee.__webglFramebuffer);if(ee.__webglDepthbuffer&&n.deleteRenderbuffer(ee.__webglDepthbuffer),ee.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ee.__webglMultisampledFramebuffer),ee.__webglColorRenderbuffer)for(let Oe=0;Oe<ee.__webglColorRenderbuffer.length;Oe++)ee.__webglColorRenderbuffer[Oe]&&n.deleteRenderbuffer(ee.__webglColorRenderbuffer[Oe]);ee.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ee.__webglDepthRenderbuffer)}const xe=se.textures;for(let Oe=0,Le=xe.length;Oe<Le;Oe++){const Ge=r.get(xe[Oe]);Ge.__webglTexture&&(n.deleteTexture(Ge.__webglTexture),o.memory.textures--),r.remove(xe[Oe])}r.remove(se)}let Y=0;function te(){Y=0}function ie(){const se=Y;return se>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+se+" texture units while this GPU supports only "+i.maxTextures),Y+=1,se}function ue(se){const ee=[];return ee.push(se.wrapS),ee.push(se.wrapT),ee.push(se.wrapR||0),ee.push(se.magFilter),ee.push(se.minFilter),ee.push(se.anisotropy),ee.push(se.internalFormat),ee.push(se.format),ee.push(se.type),ee.push(se.generateMipmaps),ee.push(se.premultiplyAlpha),ee.push(se.flipY),ee.push(se.unpackAlignment),ee.push(se.colorSpace),ee.join()}function _e(se,ee){const xe=r.get(se);if(se.isVideoTexture&&mt(se),se.isRenderTargetTexture===!1&&se.version>0&&xe.__version!==se.version){const Oe=se.image;if(Oe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Oe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ce(xe,se,ee);return}}t.bindTexture(n.TEXTURE_2D,xe.__webglTexture,n.TEXTURE0+ee)}function he(se,ee){const xe=r.get(se);if(se.version>0&&xe.__version!==se.version){Ce(xe,se,ee);return}t.bindTexture(n.TEXTURE_2D_ARRAY,xe.__webglTexture,n.TEXTURE0+ee)}function ge(se,ee){const xe=r.get(se);if(se.version>0&&xe.__version!==se.version){Ce(xe,se,ee);return}t.bindTexture(n.TEXTURE_3D,xe.__webglTexture,n.TEXTURE0+ee)}function q(se,ee){const xe=r.get(se);if(se.version>0&&xe.__version!==se.version){Ve(xe,se,ee);return}t.bindTexture(n.TEXTURE_CUBE_MAP,xe.__webglTexture,n.TEXTURE0+ee)}const oe={[Dd]:n.REPEAT,[Zi]:n.CLAMP_TO_EDGE,[zg]:n.MIRRORED_REPEAT},$={[Ts]:n.NEAREST,[WS]:n.NEAREST_MIPMAP_NEAREST,[rp]:n.NEAREST_MIPMAP_LINEAR,[Ur]:n.LINEAR,[Tg]:n.LINEAR_MIPMAP_NEAREST,[kl]:n.LINEAR_MIPMAP_LINEAR},ne={[KU]:n.NEVER,[n4]:n.ALWAYS,[ZU]:n.LESS,[bR]:n.LEQUAL,[JU]:n.EQUAL,[t4]:n.GEQUAL,[QU]:n.GREATER,[e4]:n.NOTEQUAL};function we(se,ee){if(ee.type===Di&&e.has("OES_texture_float_linear")===!1&&(ee.magFilter===Ur||ee.magFilter===Tg||ee.magFilter===rp||ee.magFilter===kl||ee.minFilter===Ur||ee.minFilter===Tg||ee.minFilter===rp||ee.minFilter===kl)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(se,n.TEXTURE_WRAP_S,oe[ee.wrapS]),n.texParameteri(se,n.TEXTURE_WRAP_T,oe[ee.wrapT]),(se===n.TEXTURE_3D||se===n.TEXTURE_2D_ARRAY)&&n.texParameteri(se,n.TEXTURE_WRAP_R,oe[ee.wrapR]),n.texParameteri(se,n.TEXTURE_MAG_FILTER,$[ee.magFilter]),n.texParameteri(se,n.TEXTURE_MIN_FILTER,$[ee.minFilter]),ee.compareFunction&&(n.texParameteri(se,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(se,n.TEXTURE_COMPARE_FUNC,ne[ee.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(ee.magFilter===Ts||ee.minFilter!==rp&&ee.minFilter!==kl||ee.type===Di&&e.has("OES_texture_float_linear")===!1)return;if(ee.anisotropy>1||r.get(ee).__currentAnisotropy){const xe=e.get("EXT_texture_filter_anisotropic");n.texParameterf(se,xe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ee.anisotropy,i.getMaxAnisotropy())),r.get(ee).__currentAnisotropy=ee.anisotropy}}}function nt(se,ee){let xe=!1;se.__webglInit===void 0&&(se.__webglInit=!0,ee.addEventListener("dispose",k));const Oe=ee.source;let Le=p.get(Oe);Le===void 0&&(Le={},p.set(Oe,Le));const Ge=ue(ee);if(Ge!==se.__cacheKey){Le[Ge]===void 0&&(Le[Ge]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,xe=!0),Le[Ge].usedTimes++;const St=Le[se.__cacheKey];St!==void 0&&(Le[se.__cacheKey].usedTimes--,St.usedTimes===0&&O(ee)),se.__cacheKey=Ge,se.__webglTexture=Le[Ge].texture}return xe}function Ce(se,ee,xe){let Oe=n.TEXTURE_2D;(ee.isDataArrayTexture||ee.isCompressedArrayTexture)&&(Oe=n.TEXTURE_2D_ARRAY),ee.isData3DTexture&&(Oe=n.TEXTURE_3D);const Le=nt(se,ee),Ge=ee.source;t.bindTexture(Oe,se.__webglTexture,n.TEXTURE0+xe);const St=r.get(Ge);if(Ge.version!==St.__version||Le===!0){t.activeTexture(n.TEXTURE0+xe);const wt=Tr.getPrimaries(Tr.workingColorSpace),Rt=ee.colorSpace===rf?null:Tr.getPrimaries(ee.colorSpace),vn=ee.colorSpace===rf||wt===Rt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,ee.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ee.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,ee.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,vn);let xt=w(ee.image,!1,i.maxTextureSize);xt=tn(ee,xt);const Tt=s.convert(ee.format,ee.colorSpace),Zt=s.convert(ee.type);let Wt=R(ee.internalFormat,Tt,Zt,ee.colorSpace,ee.isVideoTexture);we(Oe,ee);let Ot;const Ae=ee.mipmaps,Ye=ee.isVideoTexture!==!0,_t=St.__version===void 0||Le===!0,me=Ge.dataReady,Be=U(ee,xt);if(ee.isDepthTexture)Wt=P(ee.format===Dp,ee.type),_t&&(Ye?t.texStorage2D(n.TEXTURE_2D,1,Wt,xt.width,xt.height):t.texImage2D(n.TEXTURE_2D,0,Wt,xt.width,xt.height,0,Tt,Zt,null));else if(ee.isDataTexture)if(Ae.length>0){Ye&&_t&&t.texStorage2D(n.TEXTURE_2D,Be,Wt,Ae[0].width,Ae[0].height);for(let ze=0,ot=Ae.length;ze<ot;ze++)Ot=Ae[ze],Ye?me&&t.texSubImage2D(n.TEXTURE_2D,ze,0,0,Ot.width,Ot.height,Tt,Zt,Ot.data):t.texImage2D(n.TEXTURE_2D,ze,Wt,Ot.width,Ot.height,0,Tt,Zt,Ot.data);ee.generateMipmaps=!1}else Ye?(_t&&t.texStorage2D(n.TEXTURE_2D,Be,Wt,xt.width,xt.height),me&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,xt.width,xt.height,Tt,Zt,xt.data)):t.texImage2D(n.TEXTURE_2D,0,Wt,xt.width,xt.height,0,Tt,Zt,xt.data);else if(ee.isCompressedTexture)if(ee.isCompressedArrayTexture){Ye&&_t&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Be,Wt,Ae[0].width,Ae[0].height,xt.depth);for(let ze=0,ot=Ae.length;ze<ot;ze++)if(Ot=Ae[ze],ee.format!==Ji)if(Tt!==null)if(Ye){if(me)if(ee.layerUpdates.size>0){const Ft=_A(Ot.width,Ot.height,ee.format,ee.type);for(const Ut of ee.layerUpdates){const Qt=Ot.data.subarray(Ut*Ft/Ot.data.BYTES_PER_ELEMENT,(Ut+1)*Ft/Ot.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,ze,0,0,Ut,Ot.width,Ot.height,1,Tt,Qt)}ee.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,ze,0,0,0,Ot.width,Ot.height,xt.depth,Tt,Ot.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,ze,Wt,Ot.width,Ot.height,xt.depth,0,Ot.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ye?me&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,ze,0,0,0,Ot.width,Ot.height,xt.depth,Tt,Zt,Ot.data):t.texImage3D(n.TEXTURE_2D_ARRAY,ze,Wt,Ot.width,Ot.height,xt.depth,0,Tt,Zt,Ot.data)}else{Ye&&_t&&t.texStorage2D(n.TEXTURE_2D,Be,Wt,Ae[0].width,Ae[0].height);for(let ze=0,ot=Ae.length;ze<ot;ze++)Ot=Ae[ze],ee.format!==Ji?Tt!==null?Ye?me&&t.compressedTexSubImage2D(n.TEXTURE_2D,ze,0,0,Ot.width,Ot.height,Tt,Ot.data):t.compressedTexImage2D(n.TEXTURE_2D,ze,Wt,Ot.width,Ot.height,0,Ot.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ye?me&&t.texSubImage2D(n.TEXTURE_2D,ze,0,0,Ot.width,Ot.height,Tt,Zt,Ot.data):t.texImage2D(n.TEXTURE_2D,ze,Wt,Ot.width,Ot.height,0,Tt,Zt,Ot.data)}else if(ee.isDataArrayTexture)if(Ye){if(_t&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Be,Wt,xt.width,xt.height,xt.depth),me)if(ee.layerUpdates.size>0){const ze=_A(xt.width,xt.height,ee.format,ee.type);for(const ot of ee.layerUpdates){const Ft=xt.data.subarray(ot*ze/xt.data.BYTES_PER_ELEMENT,(ot+1)*ze/xt.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,ot,xt.width,xt.height,1,Tt,Zt,Ft)}ee.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,xt.width,xt.height,xt.depth,Tt,Zt,xt.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Wt,xt.width,xt.height,xt.depth,0,Tt,Zt,xt.data);else if(ee.isData3DTexture)Ye?(_t&&t.texStorage3D(n.TEXTURE_3D,Be,Wt,xt.width,xt.height,xt.depth),me&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,xt.width,xt.height,xt.depth,Tt,Zt,xt.data)):t.texImage3D(n.TEXTURE_3D,0,Wt,xt.width,xt.height,xt.depth,0,Tt,Zt,xt.data);else if(ee.isFramebufferTexture){if(_t)if(Ye)t.texStorage2D(n.TEXTURE_2D,Be,Wt,xt.width,xt.height);else{let ze=xt.width,ot=xt.height;for(let Ft=0;Ft<Be;Ft++)t.texImage2D(n.TEXTURE_2D,Ft,Wt,ze,ot,0,Tt,Zt,null),ze>>=1,ot>>=1}}else if(Ae.length>0){if(Ye&&_t){const ze=It(Ae[0]);t.texStorage2D(n.TEXTURE_2D,Be,Wt,ze.width,ze.height)}for(let ze=0,ot=Ae.length;ze<ot;ze++)Ot=Ae[ze],Ye?me&&t.texSubImage2D(n.TEXTURE_2D,ze,0,0,Tt,Zt,Ot):t.texImage2D(n.TEXTURE_2D,ze,Wt,Tt,Zt,Ot);ee.generateMipmaps=!1}else if(Ye){if(_t){const ze=It(xt);t.texStorage2D(n.TEXTURE_2D,Be,Wt,ze.width,ze.height)}me&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Tt,Zt,xt)}else t.texImage2D(n.TEXTURE_2D,0,Wt,Tt,Zt,xt);S(ee)&&_(Oe),St.__version=Ge.version,ee.onUpdate&&ee.onUpdate(ee)}se.__version=ee.version}function Ve(se,ee,xe){if(ee.image.length!==6)return;const Oe=nt(se,ee),Le=ee.source;t.bindTexture(n.TEXTURE_CUBE_MAP,se.__webglTexture,n.TEXTURE0+xe);const Ge=r.get(Le);if(Le.version!==Ge.__version||Oe===!0){t.activeTexture(n.TEXTURE0+xe);const St=Tr.getPrimaries(Tr.workingColorSpace),wt=ee.colorSpace===rf?null:Tr.getPrimaries(ee.colorSpace),Rt=ee.colorSpace===rf||St===wt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,ee.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ee.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,ee.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Rt);const vn=ee.isCompressedTexture||ee.image[0].isCompressedTexture,xt=ee.image[0]&&ee.image[0].isDataTexture,Tt=[];for(let ot=0;ot<6;ot++)!vn&&!xt?Tt[ot]=w(ee.image[ot],!0,i.maxCubemapSize):Tt[ot]=xt?ee.image[ot].image:ee.image[ot],Tt[ot]=tn(ee,Tt[ot]);const Zt=Tt[0],Wt=s.convert(ee.format,ee.colorSpace),Ot=s.convert(ee.type),Ae=R(ee.internalFormat,Wt,Ot,ee.colorSpace),Ye=ee.isVideoTexture!==!0,_t=Ge.__version===void 0||Oe===!0,me=Le.dataReady;let Be=U(ee,Zt);we(n.TEXTURE_CUBE_MAP,ee);let ze;if(vn){Ye&&_t&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Be,Ae,Zt.width,Zt.height);for(let ot=0;ot<6;ot++){ze=Tt[ot].mipmaps;for(let Ft=0;Ft<ze.length;Ft++){const Ut=ze[Ft];ee.format!==Ji?Wt!==null?Ye?me&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,Ft,0,0,Ut.width,Ut.height,Wt,Ut.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,Ft,Ae,Ut.width,Ut.height,0,Ut.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ye?me&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,Ft,0,0,Ut.width,Ut.height,Wt,Ot,Ut.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,Ft,Ae,Ut.width,Ut.height,0,Wt,Ot,Ut.data)}}}else{if(ze=ee.mipmaps,Ye&&_t){ze.length>0&&Be++;const ot=It(Tt[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,Be,Ae,ot.width,ot.height)}for(let ot=0;ot<6;ot++)if(xt){Ye?me&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,0,0,0,Tt[ot].width,Tt[ot].height,Wt,Ot,Tt[ot].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,0,Ae,Tt[ot].width,Tt[ot].height,0,Wt,Ot,Tt[ot].data);for(let Ft=0;Ft<ze.length;Ft++){const Qt=ze[Ft].image[ot].image;Ye?me&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,Ft+1,0,0,Qt.width,Qt.height,Wt,Ot,Qt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,Ft+1,Ae,Qt.width,Qt.height,0,Wt,Ot,Qt.data)}}else{Ye?me&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,0,0,0,Wt,Ot,Tt[ot]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,0,Ae,Wt,Ot,Tt[ot]);for(let Ft=0;Ft<ze.length;Ft++){const Ut=ze[Ft];Ye?me&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,Ft+1,0,0,Wt,Ot,Ut.image[ot]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ot,Ft+1,Ae,Wt,Ot,Ut.image[ot])}}}S(ee)&&_(n.TEXTURE_CUBE_MAP),Ge.__version=Le.version,ee.onUpdate&&ee.onUpdate(ee)}se.__version=ee.version}function He(se,ee,xe,Oe,Le,Ge){const St=s.convert(xe.format,xe.colorSpace),wt=s.convert(xe.type),Rt=R(xe.internalFormat,St,wt,xe.colorSpace),vn=r.get(ee),xt=r.get(xe);if(xt.__renderTarget=ee,!vn.__hasExternalTextures){const Tt=Math.max(1,ee.width>>Ge),Zt=Math.max(1,ee.height>>Ge);Le===n.TEXTURE_3D||Le===n.TEXTURE_2D_ARRAY?t.texImage3D(Le,Ge,Rt,Tt,Zt,ee.depth,0,St,wt,null):t.texImage2D(Le,Ge,Rt,Tt,Zt,0,St,wt,null)}t.bindFramebuffer(n.FRAMEBUFFER,se),Re(ee)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Oe,Le,xt.__webglTexture,0,ht(ee)):(Le===n.TEXTURE_2D||Le>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Le<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Oe,Le,xt.__webglTexture,Ge),t.bindFramebuffer(n.FRAMEBUFFER,null)}function je(se,ee,xe){if(n.bindRenderbuffer(n.RENDERBUFFER,se),ee.depthBuffer){const Oe=ee.depthTexture,Le=Oe&&Oe.isDepthTexture?Oe.type:null,Ge=P(ee.stencilBuffer,Le),St=ee.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,wt=ht(ee);Re(ee)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,wt,Ge,ee.width,ee.height):xe?n.renderbufferStorageMultisample(n.RENDERBUFFER,wt,Ge,ee.width,ee.height):n.renderbufferStorage(n.RENDERBUFFER,Ge,ee.width,ee.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,St,n.RENDERBUFFER,se)}else{const Oe=ee.textures;for(let Le=0;Le<Oe.length;Le++){const Ge=Oe[Le],St=s.convert(Ge.format,Ge.colorSpace),wt=s.convert(Ge.type),Rt=R(Ge.internalFormat,St,wt,Ge.colorSpace),vn=ht(ee);xe&&Re(ee)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,vn,Rt,ee.width,ee.height):Re(ee)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,vn,Rt,ee.width,ee.height):n.renderbufferStorage(n.RENDERBUFFER,Rt,ee.width,ee.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function pt(se,ee){if(ee&&ee.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,se),!(ee.depthTexture&&ee.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Oe=r.get(ee.depthTexture);Oe.__renderTarget=ee,(!Oe.__webglTexture||ee.depthTexture.image.width!==ee.width||ee.depthTexture.image.height!==ee.height)&&(ee.depthTexture.image.width=ee.width,ee.depthTexture.image.height=ee.height,ee.depthTexture.needsUpdate=!0),_e(ee.depthTexture,0);const Le=Oe.__webglTexture,Ge=ht(ee);if(ee.depthTexture.format===gp)Re(ee)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Le,0,Ge):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Le,0);else if(ee.depthTexture.format===Dp)Re(ee)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Le,0,Ge):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Le,0);else throw new Error("Unknown depthTexture format")}function bt(se){const ee=r.get(se),xe=se.isWebGLCubeRenderTarget===!0;if(ee.__boundDepthTexture!==se.depthTexture){const Oe=se.depthTexture;if(ee.__depthDisposeCallback&&ee.__depthDisposeCallback(),Oe){const Le=()=>{delete ee.__boundDepthTexture,delete ee.__depthDisposeCallback,Oe.removeEventListener("dispose",Le)};Oe.addEventListener("dispose",Le),ee.__depthDisposeCallback=Le}ee.__boundDepthTexture=Oe}if(se.depthTexture&&!ee.__autoAllocateDepthBuffer){if(xe)throw new Error("target.depthTexture not supported in Cube render targets");pt(ee.__webglFramebuffer,se)}else if(xe){ee.__webglDepthbuffer=[];for(let Oe=0;Oe<6;Oe++)if(t.bindFramebuffer(n.FRAMEBUFFER,ee.__webglFramebuffer[Oe]),ee.__webglDepthbuffer[Oe]===void 0)ee.__webglDepthbuffer[Oe]=n.createRenderbuffer(),je(ee.__webglDepthbuffer[Oe],se,!1);else{const Le=se.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ge=ee.__webglDepthbuffer[Oe];n.bindRenderbuffer(n.RENDERBUFFER,Ge),n.framebufferRenderbuffer(n.FRAMEBUFFER,Le,n.RENDERBUFFER,Ge)}}else if(t.bindFramebuffer(n.FRAMEBUFFER,ee.__webglFramebuffer),ee.__webglDepthbuffer===void 0)ee.__webglDepthbuffer=n.createRenderbuffer(),je(ee.__webglDepthbuffer,se,!1);else{const Oe=se.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Le=ee.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Le),n.framebufferRenderbuffer(n.FRAMEBUFFER,Oe,n.RENDERBUFFER,Le)}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Dt(se,ee,xe){const Oe=r.get(se);ee!==void 0&&He(Oe.__webglFramebuffer,se,se.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),xe!==void 0&&bt(se)}function Jt(se){const ee=se.texture,xe=r.get(se),Oe=r.get(ee);se.addEventListener("dispose",E);const Le=se.textures,Ge=se.isWebGLCubeRenderTarget===!0,St=Le.length>1;if(St||(Oe.__webglTexture===void 0&&(Oe.__webglTexture=n.createTexture()),Oe.__version=ee.version,o.memory.textures++),Ge){xe.__webglFramebuffer=[];for(let wt=0;wt<6;wt++)if(ee.mipmaps&&ee.mipmaps.length>0){xe.__webglFramebuffer[wt]=[];for(let Rt=0;Rt<ee.mipmaps.length;Rt++)xe.__webglFramebuffer[wt][Rt]=n.createFramebuffer()}else xe.__webglFramebuffer[wt]=n.createFramebuffer()}else{if(ee.mipmaps&&ee.mipmaps.length>0){xe.__webglFramebuffer=[];for(let wt=0;wt<ee.mipmaps.length;wt++)xe.__webglFramebuffer[wt]=n.createFramebuffer()}else xe.__webglFramebuffer=n.createFramebuffer();if(St)for(let wt=0,Rt=Le.length;wt<Rt;wt++){const vn=r.get(Le[wt]);vn.__webglTexture===void 0&&(vn.__webglTexture=n.createTexture(),o.memory.textures++)}if(se.samples>0&&Re(se)===!1){xe.__webglMultisampledFramebuffer=n.createFramebuffer(),xe.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,xe.__webglMultisampledFramebuffer);for(let wt=0;wt<Le.length;wt++){const Rt=Le[wt];xe.__webglColorRenderbuffer[wt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,xe.__webglColorRenderbuffer[wt]);const vn=s.convert(Rt.format,Rt.colorSpace),xt=s.convert(Rt.type),Tt=R(Rt.internalFormat,vn,xt,Rt.colorSpace,se.isXRRenderTarget===!0),Zt=ht(se);n.renderbufferStorageMultisample(n.RENDERBUFFER,Zt,Tt,se.width,se.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+wt,n.RENDERBUFFER,xe.__webglColorRenderbuffer[wt])}n.bindRenderbuffer(n.RENDERBUFFER,null),se.depthBuffer&&(xe.__webglDepthRenderbuffer=n.createRenderbuffer(),je(xe.__webglDepthRenderbuffer,se,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Ge){t.bindTexture(n.TEXTURE_CUBE_MAP,Oe.__webglTexture),we(n.TEXTURE_CUBE_MAP,ee);for(let wt=0;wt<6;wt++)if(ee.mipmaps&&ee.mipmaps.length>0)for(let Rt=0;Rt<ee.mipmaps.length;Rt++)He(xe.__webglFramebuffer[wt][Rt],se,ee,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+wt,Rt);else He(xe.__webglFramebuffer[wt],se,ee,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+wt,0);S(ee)&&_(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(St){for(let wt=0,Rt=Le.length;wt<Rt;wt++){const vn=Le[wt],xt=r.get(vn);t.bindTexture(n.TEXTURE_2D,xt.__webglTexture),we(n.TEXTURE_2D,vn),He(xe.__webglFramebuffer,se,vn,n.COLOR_ATTACHMENT0+wt,n.TEXTURE_2D,0),S(vn)&&_(n.TEXTURE_2D)}t.unbindTexture()}else{let wt=n.TEXTURE_2D;if((se.isWebGL3DRenderTarget||se.isWebGLArrayRenderTarget)&&(wt=se.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(wt,Oe.__webglTexture),we(wt,ee),ee.mipmaps&&ee.mipmaps.length>0)for(let Rt=0;Rt<ee.mipmaps.length;Rt++)He(xe.__webglFramebuffer[Rt],se,ee,n.COLOR_ATTACHMENT0,wt,Rt);else He(xe.__webglFramebuffer,se,ee,n.COLOR_ATTACHMENT0,wt,0);S(ee)&&_(wt),t.unbindTexture()}se.depthBuffer&&bt(se)}function at(se){const ee=se.textures;for(let xe=0,Oe=ee.length;xe<Oe;xe++){const Le=ee[xe];if(S(Le)){const Ge=A(se),St=r.get(Le).__webglTexture;t.bindTexture(Ge,St),_(Ge),t.unbindTexture()}}}const Xe=[],ae=[];function Bt(se){if(se.samples>0){if(Re(se)===!1){const ee=se.textures,xe=se.width,Oe=se.height;let Le=n.COLOR_BUFFER_BIT;const Ge=se.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,St=r.get(se),wt=ee.length>1;if(wt)for(let Rt=0;Rt<ee.length;Rt++)t.bindFramebuffer(n.FRAMEBUFFER,St.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Rt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,St.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Rt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,St.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,St.__webglFramebuffer);for(let Rt=0;Rt<ee.length;Rt++){if(se.resolveDepthBuffer&&(se.depthBuffer&&(Le|=n.DEPTH_BUFFER_BIT),se.stencilBuffer&&se.resolveStencilBuffer&&(Le|=n.STENCIL_BUFFER_BIT)),wt){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,St.__webglColorRenderbuffer[Rt]);const vn=r.get(ee[Rt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,vn,0)}n.blitFramebuffer(0,0,xe,Oe,0,0,xe,Oe,Le,n.NEAREST),l===!0&&(Xe.length=0,ae.length=0,Xe.push(n.COLOR_ATTACHMENT0+Rt),se.depthBuffer&&se.resolveDepthBuffer===!1&&(Xe.push(Ge),ae.push(Ge),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,ae)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Xe))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),wt)for(let Rt=0;Rt<ee.length;Rt++){t.bindFramebuffer(n.FRAMEBUFFER,St.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Rt,n.RENDERBUFFER,St.__webglColorRenderbuffer[Rt]);const vn=r.get(ee[Rt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,St.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Rt,n.TEXTURE_2D,vn,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,St.__webglMultisampledFramebuffer)}else if(se.depthBuffer&&se.resolveDepthBuffer===!1&&l){const ee=se.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[ee])}}}function ht(se){return Math.min(i.maxSamples,se.samples)}function Re(se){const ee=r.get(se);return se.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&ee.__useRenderToTexture!==!1}function mt(se){const ee=o.render.frame;f.get(se)!==ee&&(f.set(se,ee),se.update())}function tn(se,ee){const xe=se.colorSpace,Oe=se.format,Le=se.type;return se.isCompressedTexture===!0||se.isVideoTexture===!0||xe!==Ms&&xe!==rf&&(Tr.getTransfer(xe)===Yr?(Oe!==Ji||Le!==ba)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",xe)),ee}function It(se){return typeof HTMLImageElement<"u"&&se instanceof HTMLImageElement?(c.width=se.naturalWidth||se.width,c.height=se.naturalHeight||se.height):typeof VideoFrame<"u"&&se instanceof VideoFrame?(c.width=se.displayWidth,c.height=se.displayHeight):(c.width=se.width,c.height=se.height),c}this.allocateTextureUnit=ie,this.resetTextureUnits=te,this.setTexture2D=_e,this.setTexture2DArray=he,this.setTexture3D=ge,this.setTextureCube=q,this.rebindTextures=Dt,this.setupRenderTarget=Jt,this.updateRenderTargetMipmap=at,this.updateMultisampleRenderTarget=Bt,this.setupDepthRenderbuffer=bt,this.setupFrameBufferTexture=He,this.useMultisampledRTT=Re}function oB(n,e){function t(r,i=rf){let s;const o=Tr.getTransfer(i);if(r===ba)return n.UNSIGNED_BYTE;if(r===XS)return n.UNSIGNED_SHORT_4_4_4_4;if(r===qS)return n.UNSIGNED_SHORT_5_5_5_1;if(r===pR)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===GS)return n.BYTE;if(r===$S)return n.SHORT;if(r===Vg)return n.UNSIGNED_SHORT;if(r===ux)return n.INT;if(r===hu)return n.UNSIGNED_INT;if(r===Di)return n.FLOAT;if(r===js)return n.HALF_FLOAT;if(r===mR)return n.ALPHA;if(r===gR)return n.RGB;if(r===Ji)return n.RGBA;if(r===vR)return n.LUMINANCE;if(r===yR)return n.LUMINANCE_ALPHA;if(r===gp)return n.DEPTH_COMPONENT;if(r===Dp)return n.DEPTH_STENCIL;if(r===fx)return n.RED;if(r===dx)return n.RED_INTEGER;if(r===xR)return n.RG;if(r===YS)return n.RG_INTEGER;if(r===KS)return n.RGBA_INTEGER;if(r===Zv||r===Jv||r===Qv||r===ey)if(o===Yr)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===Zv)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Jv)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Qv)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===ey)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===Zv)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Jv)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Qv)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===ey)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===Aw||r===Cw||r===Rw||r===Pw)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===Aw)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===Cw)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===Rw)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===Pw)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===Iw||r===Lw||r===Dw)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===Iw||r===Lw)return o===Yr?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===Dw)return o===Yr?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===Nw||r===kw||r===Ow||r===Fw||r===Uw||r===Bw||r===zw||r===Vw||r===Hw||r===jw||r===Ww||r===Gw||r===$w||r===Xw)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===Nw)return o===Yr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===kw)return o===Yr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===Ow)return o===Yr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===Fw)return o===Yr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===Uw)return o===Yr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===Bw)return o===Yr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===zw)return o===Yr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===Vw)return o===Yr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===Hw)return o===Yr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===jw)return o===Yr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===Ww)return o===Yr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===Gw)return o===Yr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===$w)return o===Yr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===Xw)return o===Yr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===ty||r===qw||r===Yw)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===ty)return o===Yr?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===qw)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===Yw)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===_R||r===Kw||r===Zw||r===Jw)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===ty)return s.COMPRESSED_RED_RGTC1_EXT;if(r===Kw)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===Zw)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===Jw)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Lp?n.UNSIGNED_INT_24_8:n[r]!==void 0?n[r]:null}return{convert:t}}const GQ={type:"move"};class bT{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new lf,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new lf,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ce,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ce),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new lf,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ce,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ce),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const w of e.hand.values()){const S=t.getJointPose(w,r),_=this._getHandJoint(c,w);S!==null&&(_.matrix.fromArray(S.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.matrixWorldNeedsUpdate=!0,_.jointRadius=S.radius),_.visible=S!==null}const f=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],p=f.position.distanceTo(h.position),v=.02,y=.005;c.inputState.pinching&&p>v+y?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=v-y&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(GQ)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new lf;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}const $Q=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,XQ=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class qQ{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,r){if(this.texture===null){const i=new Br,s=e.properties.get(i);s.__webglTexture=t.texture,(t.depthNear!=r.depthNear||t.depthFar!=r.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,r=new Ea({vertexShader:$Q,fragmentShader:XQ,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Si(new $d(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class YQ extends yu{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,f=null,h=null,p=null,v=null,y=null;const w=new qQ,S=t.getContextAttributes();let _=null,A=null;const R=[],P=[],U=new gt;let k=null;const E=new Hi;E.viewport=new Or;const j=new Hi;j.viewport=new Or;const O=[E,j],F=new K4;let Y=null,te=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Ce){let Ve=R[Ce];return Ve===void 0&&(Ve=new bT,R[Ce]=Ve),Ve.getTargetRaySpace()},this.getControllerGrip=function(Ce){let Ve=R[Ce];return Ve===void 0&&(Ve=new bT,R[Ce]=Ve),Ve.getGripSpace()},this.getHand=function(Ce){let Ve=R[Ce];return Ve===void 0&&(Ve=new bT,R[Ce]=Ve),Ve.getHandSpace()};function ie(Ce){const Ve=P.indexOf(Ce.inputSource);if(Ve===-1)return;const He=R[Ve];He!==void 0&&(He.update(Ce.inputSource,Ce.frame,c||o),He.dispatchEvent({type:Ce.type,data:Ce.inputSource}))}function ue(){i.removeEventListener("select",ie),i.removeEventListener("selectstart",ie),i.removeEventListener("selectend",ie),i.removeEventListener("squeeze",ie),i.removeEventListener("squeezestart",ie),i.removeEventListener("squeezeend",ie),i.removeEventListener("end",ue),i.removeEventListener("inputsourceschange",_e);for(let Ce=0;Ce<R.length;Ce++){const Ve=P[Ce];Ve!==null&&(P[Ce]=null,R[Ce].disconnect(Ve))}Y=null,te=null,w.reset(),e.setRenderTarget(_),v=null,p=null,h=null,i=null,A=null,nt.stop(),r.isPresenting=!1,e.setPixelRatio(k),e.setSize(U.width,U.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Ce){s=Ce,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Ce){a=Ce,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(Ce){c=Ce},this.getBaseLayer=function(){return p!==null?p:v},this.getBinding=function(){return h},this.getFrame=function(){return y},this.getSession=function(){return i},this.setSession=async function(Ce){if(i=Ce,i!==null){if(_=e.getRenderTarget(),i.addEventListener("select",ie),i.addEventListener("selectstart",ie),i.addEventListener("selectend",ie),i.addEventListener("squeeze",ie),i.addEventListener("squeezestart",ie),i.addEventListener("squeezeend",ie),i.addEventListener("end",ue),i.addEventListener("inputsourceschange",_e),S.xrCompatible!==!0&&await t.makeXRCompatible(),k=e.getPixelRatio(),e.getSize(U),i.renderState.layers===void 0){const Ve={antialias:S.antialias,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:s};v=new XRWebGLLayer(i,t,Ve),i.updateRenderState({baseLayer:v}),e.setPixelRatio(1),e.setSize(v.framebufferWidth,v.framebufferHeight,!1),A=new il(v.framebufferWidth,v.framebufferHeight,{format:Ji,type:ba,colorSpace:e.outputColorSpace,stencilBuffer:S.stencil})}else{let Ve=null,He=null,je=null;S.depth&&(je=S.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Ve=S.stencil?Dp:gp,He=S.stencil?Lp:hu);const pt={colorFormat:t.RGBA8,depthFormat:je,scaleFactor:s};h=new XRWebGLBinding(i,t),p=h.createProjectionLayer(pt),i.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),A=new il(p.textureWidth,p.textureHeight,{format:Ji,type:ba,depthTexture:new NR(p.textureWidth,p.textureHeight,He,void 0,void 0,void 0,void 0,void 0,void 0,Ve),stencilBuffer:S.stencil,colorSpace:e.outputColorSpace,samples:S.antialias?4:0,resolveDepthBuffer:p.ignoreDepthValues===!1})}A.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),nt.setContext(i),nt.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return w.getDepthTexture()};function _e(Ce){for(let Ve=0;Ve<Ce.removed.length;Ve++){const He=Ce.removed[Ve],je=P.indexOf(He);je>=0&&(P[je]=null,R[je].disconnect(He))}for(let Ve=0;Ve<Ce.added.length;Ve++){const He=Ce.added[Ve];let je=P.indexOf(He);if(je===-1){for(let bt=0;bt<R.length;bt++)if(bt>=P.length){P.push(He),je=bt;break}else if(P[bt]===null){P[bt]=He,je=bt;break}if(je===-1)break}const pt=R[je];pt&&pt.connect(He)}}const he=new ce,ge=new ce;function q(Ce,Ve,He){he.setFromMatrixPosition(Ve.matrixWorld),ge.setFromMatrixPosition(He.matrixWorld);const je=he.distanceTo(ge),pt=Ve.projectionMatrix.elements,bt=He.projectionMatrix.elements,Dt=pt[14]/(pt[10]-1),Jt=pt[14]/(pt[10]+1),at=(pt[9]+1)/pt[5],Xe=(pt[9]-1)/pt[5],ae=(pt[8]-1)/pt[0],Bt=(bt[8]+1)/bt[0],ht=Dt*ae,Re=Dt*Bt,mt=je/(-ae+Bt),tn=mt*-ae;if(Ve.matrixWorld.decompose(Ce.position,Ce.quaternion,Ce.scale),Ce.translateX(tn),Ce.translateZ(mt),Ce.matrixWorld.compose(Ce.position,Ce.quaternion,Ce.scale),Ce.matrixWorldInverse.copy(Ce.matrixWorld).invert(),pt[10]===-1)Ce.projectionMatrix.copy(Ve.projectionMatrix),Ce.projectionMatrixInverse.copy(Ve.projectionMatrixInverse);else{const It=Dt+mt,se=Jt+mt,ee=ht-tn,xe=Re+(je-tn),Oe=at*Jt/se*It,Le=Xe*Jt/se*It;Ce.projectionMatrix.makePerspective(ee,xe,Oe,Le,It,se),Ce.projectionMatrixInverse.copy(Ce.projectionMatrix).invert()}}function oe(Ce,Ve){Ve===null?Ce.matrixWorld.copy(Ce.matrix):Ce.matrixWorld.multiplyMatrices(Ve.matrixWorld,Ce.matrix),Ce.matrixWorldInverse.copy(Ce.matrixWorld).invert()}this.updateCamera=function(Ce){if(i===null)return;let Ve=Ce.near,He=Ce.far;w.texture!==null&&(w.depthNear>0&&(Ve=w.depthNear),w.depthFar>0&&(He=w.depthFar)),F.near=j.near=E.near=Ve,F.far=j.far=E.far=He,(Y!==F.near||te!==F.far)&&(i.updateRenderState({depthNear:F.near,depthFar:F.far}),Y=F.near,te=F.far),E.layers.mask=Ce.layers.mask|2,j.layers.mask=Ce.layers.mask|4,F.layers.mask=E.layers.mask|j.layers.mask;const je=Ce.parent,pt=F.cameras;oe(F,je);for(let bt=0;bt<pt.length;bt++)oe(pt[bt],je);pt.length===2?q(F,E,j):F.projectionMatrix.copy(E.projectionMatrix),$(Ce,F,je)};function $(Ce,Ve,He){He===null?Ce.matrix.copy(Ve.matrixWorld):(Ce.matrix.copy(He.matrixWorld),Ce.matrix.invert(),Ce.matrix.multiply(Ve.matrixWorld)),Ce.matrix.decompose(Ce.position,Ce.quaternion,Ce.scale),Ce.updateMatrixWorld(!0),Ce.projectionMatrix.copy(Ve.projectionMatrix),Ce.projectionMatrixInverse.copy(Ve.projectionMatrixInverse),Ce.isPerspectiveCamera&&(Ce.fov=Wg*2*Math.atan(1/Ce.projectionMatrix.elements[5]),Ce.zoom=1)}this.getCamera=function(){return F},this.getFoveation=function(){if(!(p===null&&v===null))return l},this.setFoveation=function(Ce){l=Ce,p!==null&&(p.fixedFoveation=Ce),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=Ce)},this.hasDepthSensing=function(){return w.texture!==null},this.getDepthSensingMesh=function(){return w.getMesh(F)};let ne=null;function we(Ce,Ve){if(f=Ve.getViewerPose(c||o),y=Ve,f!==null){const He=f.views;v!==null&&(e.setRenderTargetFramebuffer(A,v.framebuffer),e.setRenderTarget(A));let je=!1;He.length!==F.cameras.length&&(F.cameras.length=0,je=!0);for(let bt=0;bt<He.length;bt++){const Dt=He[bt];let Jt=null;if(v!==null)Jt=v.getViewport(Dt);else{const Xe=h.getViewSubImage(p,Dt);Jt=Xe.viewport,bt===0&&(e.setRenderTargetTextures(A,Xe.colorTexture,p.ignoreDepthValues?void 0:Xe.depthStencilTexture),e.setRenderTarget(A))}let at=O[bt];at===void 0&&(at=new Hi,at.layers.enable(bt),at.viewport=new Or,O[bt]=at),at.matrix.fromArray(Dt.transform.matrix),at.matrix.decompose(at.position,at.quaternion,at.scale),at.projectionMatrix.fromArray(Dt.projectionMatrix),at.projectionMatrixInverse.copy(at.projectionMatrix).invert(),at.viewport.set(Jt.x,Jt.y,Jt.width,Jt.height),bt===0&&(F.matrix.copy(at.matrix),F.matrix.decompose(F.position,F.quaternion,F.scale)),je===!0&&F.cameras.push(at)}const pt=i.enabledFeatures;if(pt&&pt.includes("depth-sensing")){const bt=h.getDepthInformation(He[0]);bt&&bt.isValid&&bt.texture&&w.init(e,bt,i.renderState)}}for(let He=0;He<R.length;He++){const je=P[He],pt=R[He];je!==null&&pt!==void 0&&pt.update(je,Ve,c||o)}ne&&ne(Ce,Ve),Ve.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Ve}),y=null}const nt=new tB;nt.setAnimationLoop(we),this.setAnimationLoop=function(Ce){ne=Ce},this.dispose=function(){}}}const Hh=new sl,KQ=new jn;function ZQ(n,e){function t(S,_){S.matrixAutoUpdate===!0&&S.updateMatrix(),_.value.copy(S.matrix)}function r(S,_){_.color.getRGB(S.fogColor.value,c4(n)),_.isFog?(S.fogNear.value=_.near,S.fogFar.value=_.far):_.isFogExp2&&(S.fogDensity.value=_.density)}function i(S,_,A,R,P){_.isMeshBasicMaterial||_.isMeshLambertMaterial?s(S,_):_.isMeshToonMaterial?(s(S,_),h(S,_)):_.isMeshPhongMaterial?(s(S,_),f(S,_)):_.isMeshStandardMaterial?(s(S,_),p(S,_),_.isMeshPhysicalMaterial&&v(S,_,P)):_.isMeshMatcapMaterial?(s(S,_),y(S,_)):_.isMeshDepthMaterial?s(S,_):_.isMeshDistanceMaterial?(s(S,_),w(S,_)):_.isMeshNormalMaterial?s(S,_):_.isLineBasicMaterial?(o(S,_),_.isLineDashedMaterial&&a(S,_)):_.isPointsMaterial?l(S,_,A,R):_.isSpriteMaterial?c(S,_):_.isShadowMaterial?(S.color.value.copy(_.color),S.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function s(S,_){S.opacity.value=_.opacity,_.color&&S.diffuse.value.copy(_.color),_.emissive&&S.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(S.map.value=_.map,t(_.map,S.mapTransform)),_.alphaMap&&(S.alphaMap.value=_.alphaMap,t(_.alphaMap,S.alphaMapTransform)),_.bumpMap&&(S.bumpMap.value=_.bumpMap,t(_.bumpMap,S.bumpMapTransform),S.bumpScale.value=_.bumpScale,_.side===ea&&(S.bumpScale.value*=-1)),_.normalMap&&(S.normalMap.value=_.normalMap,t(_.normalMap,S.normalMapTransform),S.normalScale.value.copy(_.normalScale),_.side===ea&&S.normalScale.value.negate()),_.displacementMap&&(S.displacementMap.value=_.displacementMap,t(_.displacementMap,S.displacementMapTransform),S.displacementScale.value=_.displacementScale,S.displacementBias.value=_.displacementBias),_.emissiveMap&&(S.emissiveMap.value=_.emissiveMap,t(_.emissiveMap,S.emissiveMapTransform)),_.specularMap&&(S.specularMap.value=_.specularMap,t(_.specularMap,S.specularMapTransform)),_.alphaTest>0&&(S.alphaTest.value=_.alphaTest);const A=e.get(_),R=A.envMap,P=A.envMapRotation;R&&(S.envMap.value=R,Hh.copy(P),Hh.x*=-1,Hh.y*=-1,Hh.z*=-1,R.isCubeTexture&&R.isRenderTargetTexture===!1&&(Hh.y*=-1,Hh.z*=-1),S.envMapRotation.value.setFromMatrix4(KQ.makeRotationFromEuler(Hh)),S.flipEnvMap.value=R.isCubeTexture&&R.isRenderTargetTexture===!1?-1:1,S.reflectivity.value=_.reflectivity,S.ior.value=_.ior,S.refractionRatio.value=_.refractionRatio),_.lightMap&&(S.lightMap.value=_.lightMap,S.lightMapIntensity.value=_.lightMapIntensity,t(_.lightMap,S.lightMapTransform)),_.aoMap&&(S.aoMap.value=_.aoMap,S.aoMapIntensity.value=_.aoMapIntensity,t(_.aoMap,S.aoMapTransform))}function o(S,_){S.diffuse.value.copy(_.color),S.opacity.value=_.opacity,_.map&&(S.map.value=_.map,t(_.map,S.mapTransform))}function a(S,_){S.dashSize.value=_.dashSize,S.totalSize.value=_.dashSize+_.gapSize,S.scale.value=_.scale}function l(S,_,A,R){S.diffuse.value.copy(_.color),S.opacity.value=_.opacity,S.size.value=_.size*A,S.scale.value=R*.5,_.map&&(S.map.value=_.map,t(_.map,S.uvTransform)),_.alphaMap&&(S.alphaMap.value=_.alphaMap,t(_.alphaMap,S.alphaMapTransform)),_.alphaTest>0&&(S.alphaTest.value=_.alphaTest)}function c(S,_){S.diffuse.value.copy(_.color),S.opacity.value=_.opacity,S.rotation.value=_.rotation,_.map&&(S.map.value=_.map,t(_.map,S.mapTransform)),_.alphaMap&&(S.alphaMap.value=_.alphaMap,t(_.alphaMap,S.alphaMapTransform)),_.alphaTest>0&&(S.alphaTest.value=_.alphaTest)}function f(S,_){S.specular.value.copy(_.specular),S.shininess.value=Math.max(_.shininess,1e-4)}function h(S,_){_.gradientMap&&(S.gradientMap.value=_.gradientMap)}function p(S,_){S.metalness.value=_.metalness,_.metalnessMap&&(S.metalnessMap.value=_.metalnessMap,t(_.metalnessMap,S.metalnessMapTransform)),S.roughness.value=_.roughness,_.roughnessMap&&(S.roughnessMap.value=_.roughnessMap,t(_.roughnessMap,S.roughnessMapTransform)),_.envMap&&(S.envMapIntensity.value=_.envMapIntensity)}function v(S,_,A){S.ior.value=_.ior,_.sheen>0&&(S.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),S.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(S.sheenColorMap.value=_.sheenColorMap,t(_.sheenColorMap,S.sheenColorMapTransform)),_.sheenRoughnessMap&&(S.sheenRoughnessMap.value=_.sheenRoughnessMap,t(_.sheenRoughnessMap,S.sheenRoughnessMapTransform))),_.clearcoat>0&&(S.clearcoat.value=_.clearcoat,S.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(S.clearcoatMap.value=_.clearcoatMap,t(_.clearcoatMap,S.clearcoatMapTransform)),_.clearcoatRoughnessMap&&(S.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap,t(_.clearcoatRoughnessMap,S.clearcoatRoughnessMapTransform)),_.clearcoatNormalMap&&(S.clearcoatNormalMap.value=_.clearcoatNormalMap,t(_.clearcoatNormalMap,S.clearcoatNormalMapTransform),S.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),_.side===ea&&S.clearcoatNormalScale.value.negate())),_.dispersion>0&&(S.dispersion.value=_.dispersion),_.iridescence>0&&(S.iridescence.value=_.iridescence,S.iridescenceIOR.value=_.iridescenceIOR,S.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],S.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(S.iridescenceMap.value=_.iridescenceMap,t(_.iridescenceMap,S.iridescenceMapTransform)),_.iridescenceThicknessMap&&(S.iridescenceThicknessMap.value=_.iridescenceThicknessMap,t(_.iridescenceThicknessMap,S.iridescenceThicknessMapTransform))),_.transmission>0&&(S.transmission.value=_.transmission,S.transmissionSamplerMap.value=A.texture,S.transmissionSamplerSize.value.set(A.width,A.height),_.transmissionMap&&(S.transmissionMap.value=_.transmissionMap,t(_.transmissionMap,S.transmissionMapTransform)),S.thickness.value=_.thickness,_.thicknessMap&&(S.thicknessMap.value=_.thicknessMap,t(_.thicknessMap,S.thicknessMapTransform)),S.attenuationDistance.value=_.attenuationDistance,S.attenuationColor.value.copy(_.attenuationColor)),_.anisotropy>0&&(S.anisotropyVector.value.set(_.anisotropy*Math.cos(_.anisotropyRotation),_.anisotropy*Math.sin(_.anisotropyRotation)),_.anisotropyMap&&(S.anisotropyMap.value=_.anisotropyMap,t(_.anisotropyMap,S.anisotropyMapTransform))),S.specularIntensity.value=_.specularIntensity,S.specularColor.value.copy(_.specularColor),_.specularColorMap&&(S.specularColorMap.value=_.specularColorMap,t(_.specularColorMap,S.specularColorMapTransform)),_.specularIntensityMap&&(S.specularIntensityMap.value=_.specularIntensityMap,t(_.specularIntensityMap,S.specularIntensityMapTransform))}function y(S,_){_.matcap&&(S.matcap.value=_.matcap)}function w(S,_){const A=e.get(_).light;S.referencePosition.value.setFromMatrixPosition(A.matrixWorld),S.nearDistance.value=A.shadow.camera.near,S.farDistance.value=A.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function JQ(n,e,t,r){let i={},s={},o=[];const a=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(A,R){const P=R.program;r.uniformBlockBinding(A,P)}function c(A,R){let P=i[A.id];P===void 0&&(y(A),P=f(A),i[A.id]=P,A.addEventListener("dispose",S));const U=R.program;r.updateUBOMapping(A,U);const k=e.render.frame;s[A.id]!==k&&(p(A),s[A.id]=k)}function f(A){const R=h();A.__bindingPointIndex=R;const P=n.createBuffer(),U=A.__size,k=A.usage;return n.bindBuffer(n.UNIFORM_BUFFER,P),n.bufferData(n.UNIFORM_BUFFER,U,k),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,R,P),P}function h(){for(let A=0;A<a;A++)if(o.indexOf(A)===-1)return o.push(A),A;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(A){const R=i[A.id],P=A.uniforms,U=A.__cache;n.bindBuffer(n.UNIFORM_BUFFER,R);for(let k=0,E=P.length;k<E;k++){const j=Array.isArray(P[k])?P[k]:[P[k]];for(let O=0,F=j.length;O<F;O++){const Y=j[O];if(v(Y,k,O,U)===!0){const te=Y.__offset,ie=Array.isArray(Y.value)?Y.value:[Y.value];let ue=0;for(let _e=0;_e<ie.length;_e++){const he=ie[_e],ge=w(he);typeof he=="number"||typeof he=="boolean"?(Y.__data[0]=he,n.bufferSubData(n.UNIFORM_BUFFER,te+ue,Y.__data)):he.isMatrix3?(Y.__data[0]=he.elements[0],Y.__data[1]=he.elements[1],Y.__data[2]=he.elements[2],Y.__data[3]=0,Y.__data[4]=he.elements[3],Y.__data[5]=he.elements[4],Y.__data[6]=he.elements[5],Y.__data[7]=0,Y.__data[8]=he.elements[6],Y.__data[9]=he.elements[7],Y.__data[10]=he.elements[8],Y.__data[11]=0):(he.toArray(Y.__data,ue),ue+=ge.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,te,Y.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function v(A,R,P,U){const k=A.value,E=R+"_"+P;if(U[E]===void 0)return typeof k=="number"||typeof k=="boolean"?U[E]=k:U[E]=k.clone(),!0;{const j=U[E];if(typeof k=="number"||typeof k=="boolean"){if(j!==k)return U[E]=k,!0}else if(j.equals(k)===!1)return j.copy(k),!0}return!1}function y(A){const R=A.uniforms;let P=0;const U=16;for(let E=0,j=R.length;E<j;E++){const O=Array.isArray(R[E])?R[E]:[R[E]];for(let F=0,Y=O.length;F<Y;F++){const te=O[F],ie=Array.isArray(te.value)?te.value:[te.value];for(let ue=0,_e=ie.length;ue<_e;ue++){const he=ie[ue],ge=w(he),q=P%U,oe=q%ge.boundary,$=q+oe;P+=oe,$!==0&&U-$<ge.storage&&(P+=U-$),te.__data=new Float32Array(ge.storage/Float32Array.BYTES_PER_ELEMENT),te.__offset=P,P+=ge.storage}}}const k=P%U;return k>0&&(P+=U-k),A.__size=P,A.__cache={},this}function w(A){const R={boundary:0,storage:0};return typeof A=="number"||typeof A=="boolean"?(R.boundary=4,R.storage=4):A.isVector2?(R.boundary=8,R.storage=8):A.isVector3||A.isColor?(R.boundary=16,R.storage=12):A.isVector4?(R.boundary=16,R.storage=16):A.isMatrix3?(R.boundary=48,R.storage=48):A.isMatrix4?(R.boundary=64,R.storage=64):A.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",A),R}function S(A){const R=A.target;R.removeEventListener("dispose",S);const P=o.indexOf(R.__bindingPointIndex);o.splice(P,1),n.deleteBuffer(i[R.id]),delete i[R.id],delete s[R.id]}function _(){for(const A in i)n.deleteBuffer(i[A]);o=[],i={},s={}}return{bind:l,update:c,dispose:_}}class sP{constructor(e={}){const{canvas:t=s4(),context:r=null,depth:i=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:h=!1,reverseDepthBuffer:p=!1}=e;this.isWebGLRenderer=!0;let v;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");v=r.getContextAttributes().alpha}else v=o;const y=new Uint32Array(4),w=new Int32Array(4);let S=null,_=null;const A=[],R=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=ds,this.toneMapping=su,this.toneMappingExposure=1;const P=this;let U=!1,k=0,E=0,j=null,O=-1,F=null;const Y=new Or,te=new Or;let ie=null;const ue=new rn(0);let _e=0,he=t.width,ge=t.height,q=1,oe=null,$=null;const ne=new Or(0,0,he,ge),we=new Or(0,0,he,ge);let nt=!1;const Ce=new vx;let Ve=!1,He=!1;const je=new jn,pt=new jn,bt=new ce,Dt=new Or,Jt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let at=!1;function Xe(){return j===null?q:1}let ae=r;function Bt(K,fe){return t.getContext(K,fe)}try{const K={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:f,failIfMajorPerformanceCaveat:h};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${lx}`),t.addEventListener("webglcontextlost",ot,!1),t.addEventListener("webglcontextrestored",Ft,!1),t.addEventListener("webglcontextcreationerror",Ut,!1),ae===null){const fe="webgl2";if(ae=Bt(fe,K),ae===null)throw Bt(fe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(K){throw console.error("THREE.WebGLRenderer: "+K.message),K}let ht,Re,mt,tn,It,se,ee,xe,Oe,Le,Ge,St,wt,Rt,vn,xt,Tt,Zt,Wt,Ot,Ae,Ye,_t,me;function Be(){ht=new cJ(ae),ht.init(),Ye=new oB(ae,ht),Re=new rJ(ae,ht,e,Ye),mt=new jQ(ae,ht),Re.reverseDepthBuffer&&p&&mt.buffers.depth.setReversed(!0),tn=new dJ(ae),It=new PQ,se=new WQ(ae,ht,mt,It,Re,Ye,tn),ee=new sJ(P),xe=new lJ(P),Oe=new xY(ae),_t=new tJ(ae,Oe),Le=new uJ(ae,Oe,tn,_t),Ge=new pJ(ae,Le,Oe,tn),Wt=new hJ(ae,Re,se),xt=new iJ(It),St=new RQ(P,ee,xe,ht,Re,_t,xt),wt=new ZQ(P,It),Rt=new LQ,vn=new UQ(ht),Zt=new eJ(P,ee,xe,mt,Ge,v,l),Tt=new VQ(P,Ge,Re),me=new JQ(ae,tn,Re,mt),Ot=new nJ(ae,ht,tn),Ae=new fJ(ae,ht,tn),tn.programs=St.programs,P.capabilities=Re,P.extensions=ht,P.properties=It,P.renderLists=Rt,P.shadowMap=Tt,P.state=mt,P.info=tn}Be();const ze=new YQ(P,ae);this.xr=ze,this.getContext=function(){return ae},this.getContextAttributes=function(){return ae.getContextAttributes()},this.forceContextLoss=function(){const K=ht.get("WEBGL_lose_context");K&&K.loseContext()},this.forceContextRestore=function(){const K=ht.get("WEBGL_lose_context");K&&K.restoreContext()},this.getPixelRatio=function(){return q},this.setPixelRatio=function(K){K!==void 0&&(q=K,this.setSize(he,ge,!1))},this.getSize=function(K){return K.set(he,ge)},this.setSize=function(K,fe,be=!0){if(ze.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}he=K,ge=fe,t.width=Math.floor(K*q),t.height=Math.floor(fe*q),be===!0&&(t.style.width=K+"px",t.style.height=fe+"px"),this.setViewport(0,0,K,fe)},this.getDrawingBufferSize=function(K){return K.set(he*q,ge*q).floor()},this.setDrawingBufferSize=function(K,fe,be){he=K,ge=fe,q=be,t.width=Math.floor(K*be),t.height=Math.floor(fe*be),this.setViewport(0,0,K,fe)},this.getCurrentViewport=function(K){return K.copy(Y)},this.getViewport=function(K){return K.copy(ne)},this.setViewport=function(K,fe,be,Ee){K.isVector4?ne.set(K.x,K.y,K.z,K.w):ne.set(K,fe,be,Ee),mt.viewport(Y.copy(ne).multiplyScalar(q).round())},this.getScissor=function(K){return K.copy(we)},this.setScissor=function(K,fe,be,Ee){K.isVector4?we.set(K.x,K.y,K.z,K.w):we.set(K,fe,be,Ee),mt.scissor(te.copy(we).multiplyScalar(q).round())},this.getScissorTest=function(){return nt},this.setScissorTest=function(K){mt.setScissorTest(nt=K)},this.setOpaqueSort=function(K){oe=K},this.setTransparentSort=function(K){$=K},this.getClearColor=function(K){return K.copy(Zt.getClearColor())},this.setClearColor=function(){Zt.setClearColor.apply(Zt,arguments)},this.getClearAlpha=function(){return Zt.getClearAlpha()},this.setClearAlpha=function(){Zt.setClearAlpha.apply(Zt,arguments)},this.clear=function(K=!0,fe=!0,be=!0){let Ee=0;if(K){let le=!1;if(j!==null){const it=j.texture.format;le=it===KS||it===YS||it===dx}if(le){const it=j.texture.type,et=it===ba||it===hu||it===Vg||it===Lp||it===XS||it===qS,ut=Zt.getClearColor(),yt=Zt.getClearAlpha(),Pt=ut.r,kt=ut.g,At=ut.b;et?(y[0]=Pt,y[1]=kt,y[2]=At,y[3]=yt,ae.clearBufferuiv(ae.COLOR,0,y)):(w[0]=Pt,w[1]=kt,w[2]=At,w[3]=yt,ae.clearBufferiv(ae.COLOR,0,w))}else Ee|=ae.COLOR_BUFFER_BIT}fe&&(Ee|=ae.DEPTH_BUFFER_BIT),be&&(Ee|=ae.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ae.clear(Ee)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ot,!1),t.removeEventListener("webglcontextrestored",Ft,!1),t.removeEventListener("webglcontextcreationerror",Ut,!1),Zt.dispose(),Rt.dispose(),vn.dispose(),It.dispose(),ee.dispose(),xe.dispose(),Ge.dispose(),_t.dispose(),me.dispose(),St.dispose(),ze.dispose(),ze.removeEventListener("sessionstart",zt),ze.removeEventListener("sessionend",En),an.stop()};function ot(K){K.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),U=!0}function Ft(){console.log("THREE.WebGLRenderer: Context Restored."),U=!1;const K=tn.autoReset,fe=Tt.enabled,be=Tt.autoUpdate,Ee=Tt.needsUpdate,le=Tt.type;Be(),tn.autoReset=K,Tt.enabled=fe,Tt.autoUpdate=be,Tt.needsUpdate=Ee,Tt.type=le}function Ut(K){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",K.statusMessage)}function Qt(K){const fe=K.target;fe.removeEventListener("dispose",Qt),_n(fe)}function _n(K){mr(K),It.remove(K)}function mr(K){const fe=It.get(K).programs;fe!==void 0&&(fe.forEach(function(be){St.releaseProgram(be)}),K.isShaderMaterial&&St.releaseShaderCache(K))}this.renderBufferDirect=function(K,fe,be,Ee,le,it){fe===null&&(fe=Jt);const et=le.isMesh&&le.matrixWorld.determinant()<0,ut=Me(K,fe,be,Ee,le);mt.setMaterial(Ee,et);let yt=be.index,Pt=1;if(Ee.wireframe===!0){if(yt=Le.getWireframeAttribute(be),yt===void 0)return;Pt=2}const kt=be.drawRange,At=be.attributes.position;let Lt=kt.start*Pt,Yt=(kt.start+kt.count)*Pt;it!==null&&(Lt=Math.max(Lt,it.start*Pt),Yt=Math.min(Yt,(it.start+it.count)*Pt)),yt!==null?(Lt=Math.max(Lt,0),Yt=Math.min(Yt,yt.count)):At!=null&&(Lt=Math.max(Lt,0),Yt=Math.min(Yt,At.count));const un=Yt-Lt;if(un<0||un===1/0)return;_t.setup(le,Ee,ut,be,yt);let On,Ht=Ot;if(yt!==null&&(On=Oe.get(yt),Ht=Ae,Ht.setIndex(On)),le.isMesh)Ee.wireframe===!0?(mt.setLineWidth(Ee.wireframeLinewidth*Xe()),Ht.setMode(ae.LINES)):Ht.setMode(ae.TRIANGLES);else if(le.isLine){let Xt=Ee.linewidth;Xt===void 0&&(Xt=1),mt.setLineWidth(Xt*Xe()),le.isLineSegments?Ht.setMode(ae.LINES):le.isLineLoop?Ht.setMode(ae.LINE_LOOP):Ht.setMode(ae.LINE_STRIP)}else le.isPoints?Ht.setMode(ae.POINTS):le.isSprite&&Ht.setMode(ae.TRIANGLES);if(le.isBatchedMesh)if(le._multiDrawInstances!==null)Ht.renderMultiDrawInstances(le._multiDrawStarts,le._multiDrawCounts,le._multiDrawCount,le._multiDrawInstances);else if(ht.get("WEBGL_multi_draw"))Ht.renderMultiDraw(le._multiDrawStarts,le._multiDrawCounts,le._multiDrawCount);else{const Xt=le._multiDrawStarts,er=le._multiDrawCounts,In=le._multiDrawCount,_r=yt?Oe.get(yt).bytesPerElement:1,Yn=It.get(Ee).currentProgram.getUniforms();for(let vr=0;vr<In;vr++)Yn.setValue(ae,"_gl_DrawID",vr),Ht.render(Xt[vr]/_r,er[vr])}else if(le.isInstancedMesh)Ht.renderInstances(Lt,un,le.count);else if(be.isInstancedBufferGeometry){const Xt=be._maxInstanceCount!==void 0?be._maxInstanceCount:1/0,er=Math.min(be.instanceCount,Xt);Ht.renderInstances(Lt,un,er)}else Ht.render(Lt,un)};function Gt(K,fe,be){K.transparent===!0&&K.side===Dl&&K.forceSinglePass===!1?(K.side=ea,K.needsUpdate=!0,Mr(K,fe,be),K.side=fu,K.needsUpdate=!0,Mr(K,fe,be),K.side=Dl):Mr(K,fe,be)}this.compile=function(K,fe,be=null){be===null&&(be=K),_=vn.get(be),_.init(fe),R.push(_),be.traverseVisible(function(le){le.isLight&&le.layers.test(fe.layers)&&(_.pushLight(le),le.castShadow&&_.pushShadow(le))}),K!==be&&K.traverseVisible(function(le){le.isLight&&le.layers.test(fe.layers)&&(_.pushLight(le),le.castShadow&&_.pushShadow(le))}),_.setupLights();const Ee=new Set;return K.traverse(function(le){if(!(le.isMesh||le.isPoints||le.isLine||le.isSprite))return;const it=le.material;if(it)if(Array.isArray(it))for(let et=0;et<it.length;et++){const ut=it[et];Gt(ut,be,le),Ee.add(ut)}else Gt(it,be,le),Ee.add(it)}),R.pop(),_=null,Ee},this.compileAsync=function(K,fe,be=null){const Ee=this.compile(K,fe,be);return new Promise(le=>{function it(){if(Ee.forEach(function(et){It.get(et).currentProgram.isReady()&&Ee.delete(et)}),Ee.size===0){le(K);return}setTimeout(it,10)}ht.get("KHR_parallel_shader_compile")!==null?it():setTimeout(it,10)})};let nn=null;function Pn(K){nn&&nn(K)}function zt(){an.stop()}function En(){an.start()}const an=new tB;an.setAnimationLoop(Pn),typeof self<"u"&&an.setContext(self),this.setAnimationLoop=function(K){nn=K,ze.setAnimationLoop(K),K===null?an.stop():an.start()},ze.addEventListener("sessionstart",zt),ze.addEventListener("sessionend",En),this.render=function(K,fe){if(fe!==void 0&&fe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(U===!0)return;if(K.matrixWorldAutoUpdate===!0&&K.updateMatrixWorld(),fe.parent===null&&fe.matrixWorldAutoUpdate===!0&&fe.updateMatrixWorld(),ze.enabled===!0&&ze.isPresenting===!0&&(ze.cameraAutoUpdate===!0&&ze.updateCamera(fe),fe=ze.getCamera()),K.isScene===!0&&K.onBeforeRender(P,K,fe,j),_=vn.get(K,R.length),_.init(fe),R.push(_),pt.multiplyMatrices(fe.projectionMatrix,fe.matrixWorldInverse),Ce.setFromProjectionMatrix(pt),He=this.localClippingEnabled,Ve=xt.init(this.clippingPlanes,He),S=Rt.get(K,A.length),S.init(),A.push(S),ze.enabled===!0&&ze.isPresenting===!0){const it=P.xr.getDepthSensingMesh();it!==null&&wn(it,fe,-1/0,P.sortObjects)}wn(K,fe,0,P.sortObjects),S.finish(),P.sortObjects===!0&&S.sort(oe,$),at=ze.enabled===!1||ze.isPresenting===!1||ze.hasDepthSensing()===!1,at&&Zt.addToRenderList(S,K),this.info.render.frame++,Ve===!0&&xt.beginShadows();const be=_.state.shadowsArray;Tt.render(be,K,fe),Ve===!0&&xt.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ee=S.opaque,le=S.transmissive;if(_.setupLights(),fe.isArrayCamera){const it=fe.cameras;if(le.length>0)for(let et=0,ut=it.length;et<ut;et++){const yt=it[et];Nn(Ee,le,K,yt)}at&&Zt.render(K);for(let et=0,ut=it.length;et<ut;et++){const yt=it[et];br(S,K,yt,yt.viewport)}}else le.length>0&&Nn(Ee,le,K,fe),at&&Zt.render(K),br(S,K,fe);j!==null&&(se.updateMultisampleRenderTarget(j),se.updateRenderTargetMipmap(j)),K.isScene===!0&&K.onAfterRender(P,K,fe),_t.resetDefaultState(),O=-1,F=null,R.pop(),R.length>0?(_=R[R.length-1],Ve===!0&&xt.setGlobalState(P.clippingPlanes,_.state.camera)):_=null,A.pop(),A.length>0?S=A[A.length-1]:S=null};function wn(K,fe,be,Ee){if(K.visible===!1)return;if(K.layers.test(fe.layers)){if(K.isGroup)be=K.renderOrder;else if(K.isLOD)K.autoUpdate===!0&&K.update(fe);else if(K.isLight)_.pushLight(K),K.castShadow&&_.pushShadow(K);else if(K.isSprite){if(!K.frustumCulled||Ce.intersectsSprite(K)){Ee&&Dt.setFromMatrixPosition(K.matrixWorld).applyMatrix4(pt);const et=Ge.update(K),ut=K.material;ut.visible&&S.push(K,et,ut,be,Dt.z,null)}}else if((K.isMesh||K.isLine||K.isPoints)&&(!K.frustumCulled||Ce.intersectsObject(K))){const et=Ge.update(K),ut=K.material;if(Ee&&(K.boundingSphere!==void 0?(K.boundingSphere===null&&K.computeBoundingSphere(),Dt.copy(K.boundingSphere.center)):(et.boundingSphere===null&&et.computeBoundingSphere(),Dt.copy(et.boundingSphere.center)),Dt.applyMatrix4(K.matrixWorld).applyMatrix4(pt)),Array.isArray(ut)){const yt=et.groups;for(let Pt=0,kt=yt.length;Pt<kt;Pt++){const At=yt[Pt],Lt=ut[At.materialIndex];Lt&&Lt.visible&&S.push(K,et,Lt,be,Dt.z,At)}}else ut.visible&&S.push(K,et,ut,be,Dt.z,null)}}const it=K.children;for(let et=0,ut=it.length;et<ut;et++)wn(it[et],fe,be,Ee)}function br(K,fe,be,Ee){const le=K.opaque,it=K.transmissive,et=K.transparent;_.setupLightsView(be),Ve===!0&&xt.setGlobalState(P.clippingPlanes,be),Ee&&mt.viewport(Y.copy(Ee)),le.length>0&&dn(le,fe,be),it.length>0&&dn(it,fe,be),et.length>0&&dn(et,fe,be),mt.buffers.depth.setTest(!0),mt.buffers.depth.setMask(!0),mt.buffers.color.setMask(!0),mt.setPolygonOffset(!1)}function Nn(K,fe,be,Ee){if((be.isScene===!0?be.overrideMaterial:null)!==null)return;_.state.transmissionRenderTarget[Ee.id]===void 0&&(_.state.transmissionRenderTarget[Ee.id]=new il(1,1,{generateMipmaps:!0,type:ht.has("EXT_color_buffer_half_float")||ht.has("EXT_color_buffer_float")?js:ba,minFilter:kl,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Tr.workingColorSpace}));const it=_.state.transmissionRenderTarget[Ee.id],et=Ee.viewport||Y;it.setSize(et.z,et.w);const ut=P.getRenderTarget();P.setRenderTarget(it),P.getClearColor(ue),_e=P.getClearAlpha(),_e<1&&P.setClearColor(16777215,.5),P.clear(),at&&Zt.render(be);const yt=P.toneMapping;P.toneMapping=su;const Pt=Ee.viewport;if(Ee.viewport!==void 0&&(Ee.viewport=void 0),_.setupLightsView(Ee),Ve===!0&&xt.setGlobalState(P.clippingPlanes,Ee),dn(K,be,Ee),se.updateMultisampleRenderTarget(it),se.updateRenderTargetMipmap(it),ht.has("WEBGL_multisampled_render_to_texture")===!1){let kt=!1;for(let At=0,Lt=fe.length;At<Lt;At++){const Yt=fe[At],un=Yt.object,On=Yt.geometry,Ht=Yt.material,Xt=Yt.group;if(Ht.side===Dl&&un.layers.test(Ee.layers)){const er=Ht.side;Ht.side=ea,Ht.needsUpdate=!0,Xr(un,be,Ee,On,Ht,Xt),Ht.side=er,Ht.needsUpdate=!0,kt=!0}}kt===!0&&(se.updateMultisampleRenderTarget(it),se.updateRenderTargetMipmap(it))}P.setRenderTarget(ut),P.setClearColor(ue,_e),Pt!==void 0&&(Ee.viewport=Pt),P.toneMapping=yt}function dn(K,fe,be){const Ee=fe.isScene===!0?fe.overrideMaterial:null;for(let le=0,it=K.length;le<it;le++){const et=K[le],ut=et.object,yt=et.geometry,Pt=Ee===null?et.material:Ee,kt=et.group;ut.layers.test(be.layers)&&Xr(ut,fe,be,yt,Pt,kt)}}function Xr(K,fe,be,Ee,le,it){K.onBeforeRender(P,fe,be,Ee,le,it),K.modelViewMatrix.multiplyMatrices(be.matrixWorldInverse,K.matrixWorld),K.normalMatrix.getNormalMatrix(K.modelViewMatrix),le.onBeforeRender(P,fe,be,Ee,K,it),le.transparent===!0&&le.side===Dl&&le.forceSinglePass===!1?(le.side=ea,le.needsUpdate=!0,P.renderBufferDirect(be,fe,Ee,le,K,it),le.side=fu,le.needsUpdate=!0,P.renderBufferDirect(be,fe,Ee,le,K,it),le.side=Dl):P.renderBufferDirect(be,fe,Ee,le,K,it),K.onAfterRender(P,fe,be,Ee,le,it)}function Mr(K,fe,be){fe.isScene!==!0&&(fe=Jt);const Ee=It.get(K),le=_.state.lights,it=_.state.shadowsArray,et=le.state.version,ut=St.getParameters(K,le.state,it,fe,be),yt=St.getProgramCacheKey(ut);let Pt=Ee.programs;Ee.environment=K.isMeshStandardMaterial?fe.environment:null,Ee.fog=fe.fog,Ee.envMap=(K.isMeshStandardMaterial?xe:ee).get(K.envMap||Ee.environment),Ee.envMapRotation=Ee.environment!==null&&K.envMap===null?fe.environmentRotation:K.envMapRotation,Pt===void 0&&(K.addEventListener("dispose",Qt),Pt=new Map,Ee.programs=Pt);let kt=Pt.get(yt);if(kt!==void 0){if(Ee.currentProgram===kt&&Ee.lightsStateVersion===et)return re(K,ut),kt}else ut.uniforms=St.getUniforms(K),K.onBeforeCompile(ut,P),kt=St.acquireProgram(ut,yt),Pt.set(yt,kt),Ee.uniforms=ut.uniforms;const At=Ee.uniforms;return(!K.isShaderMaterial&&!K.isRawShaderMaterial||K.clipping===!0)&&(At.clippingPlanes=xt.uniform),re(K,ut),Ee.needsLights=Je(K),Ee.lightsStateVersion=et,Ee.needsLights&&(At.ambientLightColor.value=le.state.ambient,At.lightProbe.value=le.state.probe,At.directionalLights.value=le.state.directional,At.directionalLightShadows.value=le.state.directionalShadow,At.spotLights.value=le.state.spot,At.spotLightShadows.value=le.state.spotShadow,At.rectAreaLights.value=le.state.rectArea,At.ltc_1.value=le.state.rectAreaLTC1,At.ltc_2.value=le.state.rectAreaLTC2,At.pointLights.value=le.state.point,At.pointLightShadows.value=le.state.pointShadow,At.hemisphereLights.value=le.state.hemi,At.directionalShadowMap.value=le.state.directionalShadowMap,At.directionalShadowMatrix.value=le.state.directionalShadowMatrix,At.spotShadowMap.value=le.state.spotShadowMap,At.spotLightMatrix.value=le.state.spotLightMatrix,At.spotLightMap.value=le.state.spotLightMap,At.pointShadowMap.value=le.state.pointShadowMap,At.pointShadowMatrix.value=le.state.pointShadowMatrix),Ee.currentProgram=kt,Ee.uniformsList=null,kt}function Z(K){if(K.uniformsList===null){const fe=K.currentProgram.getUniforms();K.uniformsList=Y1.seqWithValue(fe.seq,K.uniforms)}return K.uniformsList}function re(K,fe){const be=It.get(K);be.outputColorSpace=fe.outputColorSpace,be.batching=fe.batching,be.batchingColor=fe.batchingColor,be.instancing=fe.instancing,be.instancingColor=fe.instancingColor,be.instancingMorph=fe.instancingMorph,be.skinning=fe.skinning,be.morphTargets=fe.morphTargets,be.morphNormals=fe.morphNormals,be.morphColors=fe.morphColors,be.morphTargetsCount=fe.morphTargetsCount,be.numClippingPlanes=fe.numClippingPlanes,be.numIntersection=fe.numClipIntersection,be.vertexAlphas=fe.vertexAlphas,be.vertexTangents=fe.vertexTangents,be.toneMapping=fe.toneMapping}function Me(K,fe,be,Ee,le){fe.isScene!==!0&&(fe=Jt),se.resetTextureUnits();const it=fe.fog,et=Ee.isMeshStandardMaterial?fe.environment:null,ut=j===null?P.outputColorSpace:j.isXRRenderTarget===!0?j.texture.colorSpace:Ms,yt=(Ee.isMeshStandardMaterial?xe:ee).get(Ee.envMap||et),Pt=Ee.vertexColors===!0&&!!be.attributes.color&&be.attributes.color.itemSize===4,kt=!!be.attributes.tangent&&(!!Ee.normalMap||Ee.anisotropy>0),At=!!be.morphAttributes.position,Lt=!!be.morphAttributes.normal,Yt=!!be.morphAttributes.color;let un=su;Ee.toneMapped&&(j===null||j.isXRRenderTarget===!0)&&(un=P.toneMapping);const On=be.morphAttributes.position||be.morphAttributes.normal||be.morphAttributes.color,Ht=On!==void 0?On.length:0,Xt=It.get(Ee),er=_.state.lights;if(Ve===!0&&(He===!0||K!==F)){const $n=K===F&&Ee.id===O;xt.setState(Ee,K,$n)}let In=!1;Ee.version===Xt.__version?(Xt.needsLights&&Xt.lightsStateVersion!==er.state.version||Xt.outputColorSpace!==ut||le.isBatchedMesh&&Xt.batching===!1||!le.isBatchedMesh&&Xt.batching===!0||le.isBatchedMesh&&Xt.batchingColor===!0&&le.colorTexture===null||le.isBatchedMesh&&Xt.batchingColor===!1&&le.colorTexture!==null||le.isInstancedMesh&&Xt.instancing===!1||!le.isInstancedMesh&&Xt.instancing===!0||le.isSkinnedMesh&&Xt.skinning===!1||!le.isSkinnedMesh&&Xt.skinning===!0||le.isInstancedMesh&&Xt.instancingColor===!0&&le.instanceColor===null||le.isInstancedMesh&&Xt.instancingColor===!1&&le.instanceColor!==null||le.isInstancedMesh&&Xt.instancingMorph===!0&&le.morphTexture===null||le.isInstancedMesh&&Xt.instancingMorph===!1&&le.morphTexture!==null||Xt.envMap!==yt||Ee.fog===!0&&Xt.fog!==it||Xt.numClippingPlanes!==void 0&&(Xt.numClippingPlanes!==xt.numPlanes||Xt.numIntersection!==xt.numIntersection)||Xt.vertexAlphas!==Pt||Xt.vertexTangents!==kt||Xt.morphTargets!==At||Xt.morphNormals!==Lt||Xt.morphColors!==Yt||Xt.toneMapping!==un||Xt.morphTargetsCount!==Ht)&&(In=!0):(In=!0,Xt.__version=Ee.version);let _r=Xt.currentProgram;In===!0&&(_r=Mr(Ee,fe,le));let Yn=!1,vr=!1,lr=!1;const Sn=_r.getUniforms(),cr=Xt.uniforms;if(mt.useProgram(_r.program)&&(Yn=!0,vr=!0,lr=!0),Ee.id!==O&&(O=Ee.id,vr=!0),Yn||F!==K){mt.buffers.depth.getReversed()?(je.copy(K.projectionMatrix),K7(je),Z7(je),Sn.setValue(ae,"projectionMatrix",je)):Sn.setValue(ae,"projectionMatrix",K.projectionMatrix),Sn.setValue(ae,"viewMatrix",K.matrixWorldInverse);const Wr=Sn.map.cameraPosition;Wr!==void 0&&Wr.setValue(ae,bt.setFromMatrixPosition(K.matrixWorld)),Re.logarithmicDepthBuffer&&Sn.setValue(ae,"logDepthBufFC",2/(Math.log(K.far+1)/Math.LN2)),(Ee.isMeshPhongMaterial||Ee.isMeshToonMaterial||Ee.isMeshLambertMaterial||Ee.isMeshBasicMaterial||Ee.isMeshStandardMaterial||Ee.isShaderMaterial)&&Sn.setValue(ae,"isOrthographic",K.isOrthographicCamera===!0),F!==K&&(F=K,vr=!0,lr=!0)}if(le.isSkinnedMesh){Sn.setOptional(ae,le,"bindMatrix"),Sn.setOptional(ae,le,"bindMatrixInverse");const $n=le.skeleton;$n&&($n.boneTexture===null&&$n.computeBoneTexture(),Sn.setValue(ae,"boneTexture",$n.boneTexture,se))}le.isBatchedMesh&&(Sn.setOptional(ae,le,"batchingTexture"),Sn.setValue(ae,"batchingTexture",le._matricesTexture,se),Sn.setOptional(ae,le,"batchingIdTexture"),Sn.setValue(ae,"batchingIdTexture",le._indirectTexture,se),Sn.setOptional(ae,le,"batchingColorTexture"),le._colorsTexture!==null&&Sn.setValue(ae,"batchingColorTexture",le._colorsTexture,se));const Kr=be.morphAttributes;if((Kr.position!==void 0||Kr.normal!==void 0||Kr.color!==void 0)&&Wt.update(le,be,_r),(vr||Xt.receiveShadow!==le.receiveShadow)&&(Xt.receiveShadow=le.receiveShadow,Sn.setValue(ae,"receiveShadow",le.receiveShadow)),Ee.isMeshGouraudMaterial&&Ee.envMap!==null&&(cr.envMap.value=yt,cr.flipEnvMap.value=yt.isCubeTexture&&yt.isRenderTargetTexture===!1?-1:1),Ee.isMeshStandardMaterial&&Ee.envMap===null&&fe.environment!==null&&(cr.envMapIntensity.value=fe.environmentIntensity),vr&&(Sn.setValue(ae,"toneMappingExposure",P.toneMappingExposure),Xt.needsLights&&Fe(cr,lr),it&&Ee.fog===!0&&wt.refreshFogUniforms(cr,it),wt.refreshMaterialUniforms(cr,Ee,q,ge,_.state.transmissionRenderTarget[K.id]),Y1.upload(ae,Z(Xt),cr,se)),Ee.isShaderMaterial&&Ee.uniformsNeedUpdate===!0&&(Y1.upload(ae,Z(Xt),cr,se),Ee.uniformsNeedUpdate=!1),Ee.isSpriteMaterial&&Sn.setValue(ae,"center",le.center),Sn.setValue(ae,"modelViewMatrix",le.modelViewMatrix),Sn.setValue(ae,"normalMatrix",le.normalMatrix),Sn.setValue(ae,"modelMatrix",le.matrixWorld),Ee.isShaderMaterial||Ee.isRawShaderMaterial){const $n=Ee.uniformsGroups;for(let Wr=0,Rs=$n.length;Wr<Rs;Wr++){const tr=$n[Wr];me.update(tr,_r),me.bind(tr,_r)}}return _r}function Fe(K,fe){K.ambientLightColor.needsUpdate=fe,K.lightProbe.needsUpdate=fe,K.directionalLights.needsUpdate=fe,K.directionalLightShadows.needsUpdate=fe,K.pointLights.needsUpdate=fe,K.pointLightShadows.needsUpdate=fe,K.spotLights.needsUpdate=fe,K.spotLightShadows.needsUpdate=fe,K.rectAreaLights.needsUpdate=fe,K.hemisphereLights.needsUpdate=fe}function Je(K){return K.isMeshLambertMaterial||K.isMeshToonMaterial||K.isMeshPhongMaterial||K.isMeshStandardMaterial||K.isShadowMaterial||K.isShaderMaterial&&K.lights===!0}this.getActiveCubeFace=function(){return k},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return j},this.setRenderTargetTextures=function(K,fe,be){It.get(K.texture).__webglTexture=fe,It.get(K.depthTexture).__webglTexture=be;const Ee=It.get(K);Ee.__hasExternalTextures=!0,Ee.__autoAllocateDepthBuffer=be===void 0,Ee.__autoAllocateDepthBuffer||ht.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ee.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(K,fe){const be=It.get(K);be.__webglFramebuffer=fe,be.__useDefaultFramebuffer=fe===void 0},this.setRenderTarget=function(K,fe=0,be=0){j=K,k=fe,E=be;let Ee=!0,le=null,it=!1,et=!1;if(K){const yt=It.get(K);if(yt.__useDefaultFramebuffer!==void 0)mt.bindFramebuffer(ae.FRAMEBUFFER,null),Ee=!1;else if(yt.__webglFramebuffer===void 0)se.setupRenderTarget(K);else if(yt.__hasExternalTextures)se.rebindTextures(K,It.get(K.texture).__webglTexture,It.get(K.depthTexture).__webglTexture);else if(K.depthBuffer){const At=K.depthTexture;if(yt.__boundDepthTexture!==At){if(At!==null&&It.has(At)&&(K.width!==At.image.width||K.height!==At.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");se.setupDepthRenderbuffer(K)}}const Pt=K.texture;(Pt.isData3DTexture||Pt.isDataArrayTexture||Pt.isCompressedArrayTexture)&&(et=!0);const kt=It.get(K).__webglFramebuffer;K.isWebGLCubeRenderTarget?(Array.isArray(kt[fe])?le=kt[fe][be]:le=kt[fe],it=!0):K.samples>0&&se.useMultisampledRTT(K)===!1?le=It.get(K).__webglMultisampledFramebuffer:Array.isArray(kt)?le=kt[be]:le=kt,Y.copy(K.viewport),te.copy(K.scissor),ie=K.scissorTest}else Y.copy(ne).multiplyScalar(q).floor(),te.copy(we).multiplyScalar(q).floor(),ie=nt;if(mt.bindFramebuffer(ae.FRAMEBUFFER,le)&&Ee&&mt.drawBuffers(K,le),mt.viewport(Y),mt.scissor(te),mt.setScissorTest(ie),it){const yt=It.get(K.texture);ae.framebufferTexture2D(ae.FRAMEBUFFER,ae.COLOR_ATTACHMENT0,ae.TEXTURE_CUBE_MAP_POSITIVE_X+fe,yt.__webglTexture,be)}else if(et){const yt=It.get(K.texture),Pt=fe||0;ae.framebufferTextureLayer(ae.FRAMEBUFFER,ae.COLOR_ATTACHMENT0,yt.__webglTexture,be||0,Pt)}O=-1},this.readRenderTargetPixels=function(K,fe,be,Ee,le,it,et){if(!(K&&K.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ut=It.get(K).__webglFramebuffer;if(K.isWebGLCubeRenderTarget&&et!==void 0&&(ut=ut[et]),ut){mt.bindFramebuffer(ae.FRAMEBUFFER,ut);try{const yt=K.texture,Pt=yt.format,kt=yt.type;if(!Re.textureFormatReadable(Pt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Re.textureTypeReadable(kt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}fe>=0&&fe<=K.width-Ee&&be>=0&&be<=K.height-le&&ae.readPixels(fe,be,Ee,le,Ye.convert(Pt),Ye.convert(kt),it)}finally{const yt=j!==null?It.get(j).__webglFramebuffer:null;mt.bindFramebuffer(ae.FRAMEBUFFER,yt)}}},this.readRenderTargetPixelsAsync=async function(K,fe,be,Ee,le,it,et){if(!(K&&K.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let ut=It.get(K).__webglFramebuffer;if(K.isWebGLCubeRenderTarget&&et!==void 0&&(ut=ut[et]),ut){const yt=K.texture,Pt=yt.format,kt=yt.type;if(!Re.textureFormatReadable(Pt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Re.textureTypeReadable(kt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(fe>=0&&fe<=K.width-Ee&&be>=0&&be<=K.height-le){mt.bindFramebuffer(ae.FRAMEBUFFER,ut);const At=ae.createBuffer();ae.bindBuffer(ae.PIXEL_PACK_BUFFER,At),ae.bufferData(ae.PIXEL_PACK_BUFFER,it.byteLength,ae.STREAM_READ),ae.readPixels(fe,be,Ee,le,Ye.convert(Pt),Ye.convert(kt),0);const Lt=j!==null?It.get(j).__webglFramebuffer:null;mt.bindFramebuffer(ae.FRAMEBUFFER,Lt);const Yt=ae.fenceSync(ae.SYNC_GPU_COMMANDS_COMPLETE,0);return ae.flush(),await Y7(ae,Yt,4),ae.bindBuffer(ae.PIXEL_PACK_BUFFER,At),ae.getBufferSubData(ae.PIXEL_PACK_BUFFER,0,it),ae.deleteBuffer(At),ae.deleteSync(Yt),it}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(K,fe=null,be=0){K.isTexture!==!0&&(sg("WebGLRenderer: copyFramebufferToTexture function signature has changed."),fe=arguments[0]||null,K=arguments[1]);const Ee=Math.pow(2,-be),le=Math.floor(K.image.width*Ee),it=Math.floor(K.image.height*Ee),et=fe!==null?fe.x:0,ut=fe!==null?fe.y:0;se.setTexture2D(K,0),ae.copyTexSubImage2D(ae.TEXTURE_2D,be,0,0,et,ut,le,it),mt.unbindTexture()};const Qe=ae.createFramebuffer(),vt=ae.createFramebuffer();this.copyTextureToTexture=function(K,fe,be=null,Ee=null,le=0,it=null){K.isTexture!==!0&&(sg("WebGLRenderer: copyTextureToTexture function signature has changed."),Ee=arguments[0]||null,K=arguments[1],fe=arguments[2],it=arguments[3]||0,be=null),it===null&&(le!==0?(sg("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),it=le,le=0):it=0);let et,ut,yt,Pt,kt,At,Lt,Yt,un;const On=K.isCompressedTexture?K.mipmaps[it]:K.image;if(be!==null)et=be.max.x-be.min.x,ut=be.max.y-be.min.y,yt=be.isBox3?be.max.z-be.min.z:1,Pt=be.min.x,kt=be.min.y,At=be.isBox3?be.min.z:0;else{const Kr=Math.pow(2,-le);et=Math.floor(On.width*Kr),ut=Math.floor(On.height*Kr),K.isDataArrayTexture?yt=On.depth:K.isData3DTexture?yt=Math.floor(On.depth*Kr):yt=1,Pt=0,kt=0,At=0}Ee!==null?(Lt=Ee.x,Yt=Ee.y,un=Ee.z):(Lt=0,Yt=0,un=0);const Ht=Ye.convert(fe.format),Xt=Ye.convert(fe.type);let er;fe.isData3DTexture?(se.setTexture3D(fe,0),er=ae.TEXTURE_3D):fe.isDataArrayTexture||fe.isCompressedArrayTexture?(se.setTexture2DArray(fe,0),er=ae.TEXTURE_2D_ARRAY):(se.setTexture2D(fe,0),er=ae.TEXTURE_2D),ae.pixelStorei(ae.UNPACK_FLIP_Y_WEBGL,fe.flipY),ae.pixelStorei(ae.UNPACK_PREMULTIPLY_ALPHA_WEBGL,fe.premultiplyAlpha),ae.pixelStorei(ae.UNPACK_ALIGNMENT,fe.unpackAlignment);const In=ae.getParameter(ae.UNPACK_ROW_LENGTH),_r=ae.getParameter(ae.UNPACK_IMAGE_HEIGHT),Yn=ae.getParameter(ae.UNPACK_SKIP_PIXELS),vr=ae.getParameter(ae.UNPACK_SKIP_ROWS),lr=ae.getParameter(ae.UNPACK_SKIP_IMAGES);ae.pixelStorei(ae.UNPACK_ROW_LENGTH,On.width),ae.pixelStorei(ae.UNPACK_IMAGE_HEIGHT,On.height),ae.pixelStorei(ae.UNPACK_SKIP_PIXELS,Pt),ae.pixelStorei(ae.UNPACK_SKIP_ROWS,kt),ae.pixelStorei(ae.UNPACK_SKIP_IMAGES,At);const Sn=K.isDataArrayTexture||K.isData3DTexture,cr=fe.isDataArrayTexture||fe.isData3DTexture;if(K.isDepthTexture){const Kr=It.get(K),$n=It.get(fe),Wr=It.get(Kr.__renderTarget),Rs=It.get($n.__renderTarget);mt.bindFramebuffer(ae.READ_FRAMEBUFFER,Wr.__webglFramebuffer),mt.bindFramebuffer(ae.DRAW_FRAMEBUFFER,Rs.__webglFramebuffer);for(let tr=0;tr<yt;tr++)Sn&&(ae.framebufferTextureLayer(ae.READ_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,It.get(K).__webglTexture,le,At+tr),ae.framebufferTextureLayer(ae.DRAW_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,It.get(fe).__webglTexture,it,un+tr)),ae.blitFramebuffer(Pt,kt,et,ut,Lt,Yt,et,ut,ae.DEPTH_BUFFER_BIT,ae.NEAREST);mt.bindFramebuffer(ae.READ_FRAMEBUFFER,null),mt.bindFramebuffer(ae.DRAW_FRAMEBUFFER,null)}else if(le!==0||K.isRenderTargetTexture||It.has(K)){const Kr=It.get(K),$n=It.get(fe);mt.bindFramebuffer(ae.READ_FRAMEBUFFER,Qe),mt.bindFramebuffer(ae.DRAW_FRAMEBUFFER,vt);for(let Wr=0;Wr<yt;Wr++)Sn?ae.framebufferTextureLayer(ae.READ_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,Kr.__webglTexture,le,At+Wr):ae.framebufferTexture2D(ae.READ_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,ae.TEXTURE_2D,Kr.__webglTexture,le),cr?ae.framebufferTextureLayer(ae.DRAW_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,$n.__webglTexture,it,un+Wr):ae.framebufferTexture2D(ae.DRAW_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,ae.TEXTURE_2D,$n.__webglTexture,it),le!==0?ae.blitFramebuffer(Pt,kt,et,ut,Lt,Yt,et,ut,ae.COLOR_BUFFER_BIT,ae.NEAREST):cr?ae.copyTexSubImage3D(er,it,Lt,Yt,un+Wr,Pt,kt,et,ut):ae.copyTexSubImage2D(er,it,Lt,Yt,Pt,kt,et,ut);mt.bindFramebuffer(ae.READ_FRAMEBUFFER,null),mt.bindFramebuffer(ae.DRAW_FRAMEBUFFER,null)}else cr?K.isDataTexture||K.isData3DTexture?ae.texSubImage3D(er,it,Lt,Yt,un,et,ut,yt,Ht,Xt,On.data):fe.isCompressedArrayTexture?ae.compressedTexSubImage3D(er,it,Lt,Yt,un,et,ut,yt,Ht,On.data):ae.texSubImage3D(er,it,Lt,Yt,un,et,ut,yt,Ht,Xt,On):K.isDataTexture?ae.texSubImage2D(ae.TEXTURE_2D,it,Lt,Yt,et,ut,Ht,Xt,On.data):K.isCompressedTexture?ae.compressedTexSubImage2D(ae.TEXTURE_2D,it,Lt,Yt,On.width,On.height,Ht,On.data):ae.texSubImage2D(ae.TEXTURE_2D,it,Lt,Yt,et,ut,Ht,Xt,On);ae.pixelStorei(ae.UNPACK_ROW_LENGTH,In),ae.pixelStorei(ae.UNPACK_IMAGE_HEIGHT,_r),ae.pixelStorei(ae.UNPACK_SKIP_PIXELS,Yn),ae.pixelStorei(ae.UNPACK_SKIP_ROWS,vr),ae.pixelStorei(ae.UNPACK_SKIP_IMAGES,lr),it===0&&fe.generateMipmaps&&ae.generateMipmap(er),mt.unbindTexture()},this.copyTextureToTexture3D=function(K,fe,be=null,Ee=null,le=0){return K.isTexture!==!0&&(sg("WebGLRenderer: copyTextureToTexture3D function signature has changed."),be=arguments[0]||null,Ee=arguments[1]||null,K=arguments[2],fe=arguments[3],le=arguments[4]||0),sg('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(K,fe,be,Ee,le)},this.initRenderTarget=function(K){It.get(K).__webglFramebuffer===void 0&&se.setupRenderTarget(K)},this.initTexture=function(K){K.isCubeTexture?se.setTextureCube(K,0):K.isData3DTexture?se.setTexture3D(K,0):K.isDataArrayTexture||K.isCompressedArrayTexture?se.setTexture2DArray(K,0):se.setTexture2D(K,0),mt.unbindTexture()},this.resetState=function(){k=0,E=0,j=null,mt.reset(),_t.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Jc}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=Tr._getDrawingBufferColorSpace(e),t.unpackColorSpace=Tr._getUnpackColorSpace()}}const QQ=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:hR,AddEquation:vd,AddOperation:kU,AdditiveAnimationBlendMode:wR,AdditiveBlending:aA,AgXToneMapping:zU,AlphaFormat:mR,AlwaysCompare:n4,AlwaysDepth:ww,AlwaysStencilFunc:dA,AmbientLight:j4,AnimationAction:Q4,AnimationClip:Xg,AnimationLoader:yq,AnimationMixer:jq,AnimationObjectGroup:Vq,AnimationUtils:pq,ArcCurve:g4,ArrayCamera:K4,ArrowHelper:cY,AttachedBindMode:uA,Audio:Z4,AudioAnalyser:Iq,AudioContext:ZR,AudioListener:Cq,AudioLoader:Tq,AxesHelper:uY,BackSide:ea,BasicDepthPacking:XU,BasicShadowMap:mU,BatchedMesh:m4,Bone:tb,BooleanKeyframeTrack:Jp,Box2:Yq,Box3:wo,Box3Helper:aY,BoxGeometry:Zp,BoxHelper:oY,BufferAttribute:jr,BufferGeometry:ar,BufferGeometryLoader:q4,ByteType:GS,Cache:cf,Camera:hx,CameraHelper:sY,CanvasTexture:UX,CapsuleGeometry:sb,CatmullRomCurve3:v4,CineonToneMapping:UU,CircleGeometry:ob,ClampToEdgeWrapping:Zi,Clock:JR,Color:rn,ColorKeyframeTrack:GR,ColorManagement:Tr,CompressedArrayTexture:OX,CompressedCubeTexture:FX,CompressedTexture:rb,CompressedTextureLoader:xq,ConeGeometry:ab,ConstantAlphaFactor:LU,ConstantColorFactor:PU,Controls:dY,CubeCamera:f4,CubeReflectionMapping:du,CubeRefractionMapping:Ld,CubeTexture:px,CubeTextureLoader:z4,CubeUVReflectionMapping:a0,CubicBezierCurve:OR,CubicBezierCurve3:y4,CubicInterpolant:O4,CullFaceBack:oA,CullFaceFront:pU,CullFaceFrontBack:n7,CullFaceNone:hU,Curve:Pc,CurvePath:_4,CustomBlending:gU,CustomToneMapping:BU,CylinderGeometry:l0,Cylindrical:qq,Data3DTexture:TR,DataArrayTexture:JS,DataTexture:Sc,DataTextureLoader:$R,DataUtils:ap,DecrementStencilOp:d7,DecrementWrapStencilOp:p7,DefaultLoadingManager:B4,DepthFormat:gp,DepthStencilFormat:Dp,DepthTexture:NR,DetachedBindMode:HU,DirectionalLight:KR,DirectionalLightHelper:iY,DiscreteInterpolant:F4,DodecahedronGeometry:lb,DoubleSide:Dl,DstAlphaFactor:TU,DstColorFactor:AU,DynamicCopyUsage:R7,DynamicDrawUsage:b7,DynamicReadUsage:M7,EdgesGeometry:w4,EllipseCurve:ib,EqualCompare:JU,EqualDepth:bw,EqualStencilFunc:y7,EquirectangularReflectionMapping:Bg,EquirectangularRefractionMapping:My,Euler:sl,EventDispatcher:yu,ExtrudeGeometry:ub,FileLoader:ta,Float16BufferAttribute:vX,Float32BufferAttribute:Cn,FloatType:Di,Fog:eb,FogExp2:QS,FramebufferTexture:kX,FrontSide:fu,Frustum:vx,GLBufferAttribute:Xq,GLSL1:I7,GLSL3:hA,GreaterCompare:QU,GreaterDepth:Tw,GreaterEqualCompare:t4,GreaterEqualDepth:Ew,GreaterEqualStencilFunc:S7,GreaterStencilFunc:_7,GridHelper:nY,Group:lf,HalfFloatType:js,HemisphereLight:H4,HemisphereLightHelper:tY,IcosahedronGeometry:xx,ImageBitmapLoader:Y4,ImageLoader:Oy,ImageUtils:o4,IncrementStencilOp:f7,IncrementWrapStencilOp:h7,InstancedBufferAttribute:Np,InstancedBufferGeometry:X4,InstancedInterleavedBuffer:$q,InstancedMesh:IR,Int16BufferAttribute:mX,Int32BufferAttribute:gX,Int8BufferAttribute:dX,IntType:ux,InterleavedBuffer:mx,InterleavedBufferAttribute:Nd,Interpolant:c0,InterpolateDiscrete:Hg,InterpolateLinear:jg,InterpolateSmooth:q1,InvertStencilOp:m7,KeepStencilOp:Kh,KeyframeTrack:Ic,LOD:p4,LatheGeometry:yx,Layers:yp,LessCompare:ZU,LessDepth:Sw,LessEqualCompare:bR,LessEqualDepth:Ip,LessEqualStencilFunc:x7,LessStencilFunc:v7,Light:Xd,LightProbe:$4,Line:xf,Line3:Kq,LineBasicMaterial:Eo,LineCurve:FR,LineCurve3:x4,LineDashedMaterial:D4,LineLoop:LR,LineSegments:Rc,LinearFilter:Ur,LinearInterpolant:WR,LinearMipMapLinearFilter:fA,LinearMipMapNearestFilter:s7,LinearMipmapLinearFilter:kl,LinearMipmapNearestFilter:Tg,LinearSRGBColorSpace:Ms,LinearToneMapping:OU,LinearTransfer:Cy,Loader:To,LoaderUtils:Ed,LoadingManager:vb,LoopOnce:jU,LoopPingPong:GU,LoopRepeat:WU,LuminanceAlphaFormat:yR,LuminanceFormat:vR,MOUSE:qh,Material:hs,MaterialLoader:yb,MathUtils:r4,Matrix2:rP,Matrix3:or,Matrix4:jn,MaxEquation:_U,Mesh:Si,MeshBasicMaterial:va,MeshDepthMaterial:VR,MeshDistanceMaterial:HR,MeshLambertMaterial:I4,MeshMatcapMaterial:L4,MeshNormalMaterial:P4,MeshPhongMaterial:C4,MeshPhysicalMaterial:al,MeshStandardMaterial:Sx,MeshToonMaterial:R4,MinEquation:xU,MirroredRepeatWrapping:zg,MixOperation:NU,MultiplyBlending:cA,MultiplyOperation:cx,NearestFilter:Ts,NearestMipMapLinearFilter:i7,NearestMipMapNearestFilter:r7,NearestMipmapLinearFilter:rp,NearestMipmapNearestFilter:WS,NeutralToneMapping:VU,NeverCompare:KU,NeverDepth:_w,NeverStencilFunc:g7,NoBlending:iu,NoColorSpace:rf,NoToneMapping:su,NormalAnimationBlendMode:ZS,NormalBlending:mp,NotEqualCompare:e4,NotEqualDepth:Mw,NotEqualStencilFunc:w7,NumberKeyframeTrack:Op,Object3D:Ir,ObjectLoader:bq,ObjectSpaceNormalMap:YU,OctahedronGeometry:_x,OneFactor:SU,OneMinusConstantAlphaFactor:DU,OneMinusConstantColorFactor:IU,OneMinusDstAlphaFactor:MU,OneMinusDstColorFactor:CU,OneMinusSrcAlphaFactor:xw,OneMinusSrcColorFactor:EU,OrthographicCamera:au,PCFShadowMap:jS,PCFSoftShadowMap:Kv,PMREMGenerator:wA,Path:Ly,PerspectiveCamera:Hi,Plane:ef,PlaneGeometry:$d,PlaneHelper:lY,PointLight:YR,PointLightHelper:Qq,Points:DR,PointsMaterial:nb,PolarGridHelper:rY,PolyhedronGeometry:Gd,PositionalAudio:Pq,PropertyBinding:Dr,PropertyMixer:J4,QuadraticBezierCurve:UR,QuadraticBezierCurve3:BR,Quaternion:Ws,QuaternionKeyframeTrack:Fp,QuaternionLinearInterpolant:U4,RED_GREEN_RGTC2_Format:Zw,RED_RGTC1_Format:_R,REVISION:lx,RGBADepthPacking:qU,RGBAFormat:Ji,RGBAIntegerFormat:KS,RGBA_ASTC_10x10_Format:Gw,RGBA_ASTC_10x5_Format:Hw,RGBA_ASTC_10x6_Format:jw,RGBA_ASTC_10x8_Format:Ww,RGBA_ASTC_12x10_Format:$w,RGBA_ASTC_12x12_Format:Xw,RGBA_ASTC_4x4_Format:Nw,RGBA_ASTC_5x4_Format:kw,RGBA_ASTC_5x5_Format:Ow,RGBA_ASTC_6x5_Format:Fw,RGBA_ASTC_6x6_Format:Uw,RGBA_ASTC_8x5_Format:Bw,RGBA_ASTC_8x6_Format:zw,RGBA_ASTC_8x8_Format:Vw,RGBA_BPTC_Format:ty,RGBA_ETC2_EAC_Format:Dw,RGBA_PVRTC_2BPPV1_Format:Pw,RGBA_PVRTC_4BPPV1_Format:Rw,RGBA_S3TC_DXT1_Format:Jv,RGBA_S3TC_DXT3_Format:Qv,RGBA_S3TC_DXT5_Format:ey,RGBDepthPacking:a7,RGBFormat:gR,RGBIntegerFormat:o7,RGB_BPTC_SIGNED_Format:qw,RGB_BPTC_UNSIGNED_Format:Yw,RGB_ETC1_Format:Iw,RGB_ETC2_Format:Lw,RGB_PVRTC_2BPPV1_Format:Cw,RGB_PVRTC_4BPPV1_Format:Aw,RGB_S3TC_DXT1_Format:Zv,RGDepthPacking:l7,RGFormat:xR,RGIntegerFormat:YS,RawShaderMaterial:A4,Ray:Kp,Raycaster:nP,RectAreaLight:W4,RedFormat:fx,RedIntegerFormat:dx,ReinhardToneMapping:FU,RenderTarget:a4,RepeatWrapping:Dd,ReplaceStencilOp:u7,ReverseSubtractEquation:yU,RingGeometry:fb,SIGNED_RED_GREEN_RGTC2_Format:Jw,SIGNED_RED_RGTC1_Format:Kw,SRGBColorSpace:ds,SRGBTransfer:Yr,Scene:$g,ShaderChunk:pr,ShaderLib:xc,ShaderMaterial:Ea,ShadowMaterial:M4,Shape:xp,ShapeGeometry:db,ShapePath:fY,ShapeUtils:ou,ShortType:$S,Skeleton:gx,SkeletonHelper:Jq,SkinnedMesh:PR,Source:op,Sphere:no,SphereGeometry:wx,Spherical:xA,SphericalHarmonics3:G4,SplineCurve:zR,SpotLight:qR,SpotLightHelper:Zq,Sprite:h4,SpriteMaterial:RR,SrcAlphaFactor:yw,SrcAlphaSaturateFactor:RU,SrcColorFactor:bU,StaticCopyUsage:C7,StaticDrawUsage:Ry,StaticReadUsage:T7,StereoCamera:Mq,StreamCopyUsage:P7,StreamDrawUsage:E7,StreamReadUsage:A7,StringKeyframeTrack:Qp,SubtractEquation:vU,SubtractiveBlending:lA,TOUCH:Yh,TangentSpaceNormalMap:Wd,TetrahedronGeometry:hb,Texture:Br,TextureLoader:V4,TextureUtils:vY,TorusGeometry:pb,TorusKnotGeometry:mb,Triangle:ga,TriangleFanDrawMode:Qw,TriangleStripDrawMode:SR,TrianglesDrawMode:$U,TubeGeometry:gb,UVMapping:Id,Uint16BufferAttribute:MR,Uint32BufferAttribute:AR,Uint8BufferAttribute:hX,Uint8ClampedBufferAttribute:pX,Uniform:tP,UniformsGroup:Gq,UniformsLib:on,UniformsUtils:u4,UnsignedByteType:ba,UnsignedInt248Type:Lp,UnsignedInt5999Type:pR,UnsignedIntType:hu,UnsignedShort4444Type:XS,UnsignedShort5551Type:qS,UnsignedShortType:Vg,VSMShadowMap:yc,Vector2:gt,Vector3:ce,Vector4:Or,VectorKeyframeTrack:Up,VideoTexture:NX,WebGL3DRenderTarget:nX,WebGLArrayRenderTarget:tX,WebGLCoordinateSystem:Jc,WebGLCubeRenderTarget:CR,WebGLMultipleRenderTargets:yY,WebGLRenderTarget:il,WebGLRenderer:sP,WebGLUtils:oB,WebGPUCoordinateSystem:Py,WireframeGeometry:T4,WrapAroundEnding:Ay,ZeroCurvatureEnding:ip,ZeroFactor:wU,ZeroSlopeEnding:sp,ZeroStencilOp:c7,createCanvasElement:s4},Symbol.toStringTag,{value:"Module"}));var ET={exports:{}},ld={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dD;function eee(){return dD||(dD=1,ld.ConcurrentRoot=1,ld.ContinuousEventPriority=4,ld.DefaultEventPriority=16,ld.DiscreteEventPriority=1,ld.IdleEventPriority=536870912,ld.LegacyRoot=0),ld}var hD;function tee(){return hD||(hD=1,ET.exports=eee()),ET.exports}var yg=tee();function nee(n){let e;const t=new Set,r=(c,f)=>{const h=typeof c=="function"?c(e):c;if(h!==e){const p=e;e=f?h:Object.assign({},e,h),t.forEach(v=>v(e,p))}},i=()=>e,s=(c,f=i,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=f(e);function v(){const y=f(e);if(!h(p,y)){const w=p;c(p=y,w)}}return t.add(v),()=>t.delete(v)},l={setState:r,getState:i,subscribe:(c,f,h)=>f||h?s(c,f,h):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const ree=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),pD=ree?z.useEffect:z.useLayoutEffect;function aB(n){const e=typeof n=="function"?nee(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=z.useReducer(S=>S+1,0),o=e.getState(),a=z.useRef(o),l=z.useRef(r),c=z.useRef(i),f=z.useRef(!1),h=z.useRef();h.current===void 0&&(h.current=r(o));let p,v=!1;(a.current!==o||l.current!==r||c.current!==i||f.current)&&(p=r(o),v=!i(h.current,p)),pD(()=>{v&&(h.current=p),a.current=o,l.current=r,c.current=i,f.current=!1});const y=z.useRef(o);pD(()=>{const S=()=>{try{const A=e.getState(),R=l.current(A);c.current(h.current,R)||(a.current=A,h.current=R,s())}catch{f.current=!0,s()}},_=e.subscribe(S);return e.getState()!==y.current&&S(),_},[]);const w=v?p:h.current;return z.useDebugValue(w),w};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}const iee=n=>typeof n=="object"&&typeof n.then=="function",cp=[];function lB(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function cB(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of cp)if(lB(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=cp.indexOf(i);s!==-1&&cp.splice(s,1)},promise:(iee(n)?n:n(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(cp.push(i),!t)throw i.promise}const see=(n,e,t)=>cB(n,e,!1,t),oee=(n,e,t)=>void cB(n,e,!0,t),aee=n=>{if(n===void 0||n.length===0)cp.splice(0,cp.length);else{const e=cp.find(t=>lB(n,t.keys,t.equal));e&&e.remove()}};var TT={exports:{}},MT={exports:{}},AT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mD;function lee(){return mD||(mD=1,function(n){function e(q,oe){var $=q.length;q.push(oe);e:for(;0<$;){var ne=$-1>>>1,we=q[ne];if(0<i(we,oe))q[ne]=oe,q[$]=we,$=ne;else break e}}function t(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var oe=q[0],$=q.pop();if($!==oe){q[0]=$;e:for(var ne=0,we=q.length,nt=we>>>1;ne<nt;){var Ce=2*(ne+1)-1,Ve=q[Ce],He=Ce+1,je=q[He];if(0>i(Ve,$))He<we&&0>i(je,Ve)?(q[ne]=je,q[He]=$,ne=He):(q[ne]=Ve,q[Ce]=$,ne=Ce);else if(He<we&&0>i(je,$))q[ne]=je,q[He]=$,ne=He;else break e}}return oe}function i(q,oe){var $=q.sortIndex-oe.sortIndex;return $!==0?$:q.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,h=null,p=3,v=!1,y=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(q){for(var oe=t(c);oe!==null;){if(oe.callback===null)r(c);else if(oe.startTime<=q)r(c),oe.sortIndex=oe.expirationTime,e(l,oe);else break;oe=t(c)}}function P(q){if(w=!1,R(q),!y)if(t(l)!==null)y=!0,he(U);else{var oe=t(c);oe!==null&&ge(P,oe.startTime-q)}}function U(q,oe){y=!1,w&&(w=!1,_(j),j=-1),v=!0;var $=p;try{for(R(oe),h=t(l);h!==null&&(!(h.expirationTime>oe)||q&&!Y());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,p=h.priorityLevel;var we=ne(h.expirationTime<=oe);oe=n.unstable_now(),typeof we=="function"?h.callback=we:h===t(l)&&r(l),R(oe)}else r(l);h=t(l)}if(h!==null)var nt=!0;else{var Ce=t(c);Ce!==null&&ge(P,Ce.startTime-oe),nt=!1}return nt}finally{h=null,p=$,v=!1}}var k=!1,E=null,j=-1,O=5,F=-1;function Y(){return!(n.unstable_now()-F<O)}function te(){if(E!==null){var q=n.unstable_now();F=q;var oe=!0;try{oe=E(!0,q)}finally{oe?ie():(k=!1,E=null)}}else k=!1}var ie;if(typeof A=="function")ie=function(){A(te)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,_e=ue.port2;ue.port1.onmessage=te,ie=function(){_e.postMessage(null)}}else ie=function(){S(te,0)};function he(q){E=q,k||(k=!0,ie())}function ge(q,oe){j=S(function(){q(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_continueExecution=function(){y||v||(y=!0,he(U))},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(q){switch(p){case 1:case 2:case 3:var oe=3;break;default:oe=p}var $=p;p=oe;try{return q()}finally{p=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(q,oe){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var $=p;p=q;try{return oe()}finally{p=$}},n.unstable_scheduleCallback=function(q,oe,$){var ne=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ne+$:ne):$=ne,q){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=$+we,q={id:f++,callback:oe,priorityLevel:q,startTime:$,expirationTime:we,sortIndex:-1},$>ne?(q.sortIndex=$,e(c,q),t(l)===null&&q===t(c)&&(w?(_(j),j=-1):w=!0,ge(P,$-ne))):(q.sortIndex=we,e(l,q),y||v||(y=!0,he(U))),q},n.unstable_shouldYield=Y,n.unstable_wrapCallback=function(q){var oe=p;return function(){var $=p;p=oe;try{return q.apply(this,arguments)}finally{p=$}}}}(AT)),AT}var gD;function cee(){return gD||(gD=1,MT.exports=lee()),MT.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CT,vD;function uee(){return vD||(vD=1,CT=function(e){var t={},r=LS(),i=cee(),s=Object.assign;function o(m){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+m,T=1;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T]);return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),y=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),P=Symbol.for("react.offscreen"),U=Symbol.iterator;function k(m){return m===null||typeof m!="object"?null:(m=U&&m[U]||m["@@iterator"],typeof m=="function"?m:null)}function E(m){if(m==null)return null;if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case f:return"Fragment";case c:return"Portal";case p:return"Profiler";case h:return"StrictMode";case S:return"Suspense";case _:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case y:return(m.displayName||"Context")+".Consumer";case v:return(m._context.displayName||"Context")+".Provider";case w:var g=m.render;return m=m.displayName,m||(m=g.displayName||g.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case A:return g=m.displayName||null,g!==null?g:E(m.type)||"Memo";case R:g=m._payload,m=m._init;try{return E(m(g))}catch{}}return null}function j(m){var g=m.type;switch(m.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return m=g.render,m=m.displayName||m.name||"",g.displayName||(m!==""?"ForwardRef("+m+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return E(g);case 8:return g===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function O(m){var g=m,T=m;if(m.alternate)for(;g.return;)g=g.return;else{m=g;do g=m,g.flags&4098&&(T=g.return),m=g.return;while(m)}return g.tag===3?T:null}function F(m){if(O(m)!==m)throw Error(o(188))}function Y(m){var g=m.alternate;if(!g){if(g=O(m),g===null)throw Error(o(188));return g!==m?null:m}for(var T=m,I=g;;){var B=T.return;if(B===null)break;var W=B.alternate;if(W===null){if(I=B.return,I!==null){T=I;continue}break}if(B.child===W.child){for(W=B.child;W;){if(W===T)return F(B),m;if(W===I)return F(B),g;W=W.sibling}throw Error(o(188))}if(T.return!==I.return)T=B,I=W;else{for(var pe=!1,ke=B.child;ke;){if(ke===T){pe=!0,T=B,I=W;break}if(ke===I){pe=!0,I=B,T=W;break}ke=ke.sibling}if(!pe){for(ke=W.child;ke;){if(ke===T){pe=!0,T=W,I=B;break}if(ke===I){pe=!0,I=W,T=B;break}ke=ke.sibling}if(!pe)throw Error(o(189))}}if(T.alternate!==I)throw Error(o(190))}if(T.tag!==3)throw Error(o(188));return T.stateNode.current===T?m:g}function te(m){return m=Y(m),m!==null?ie(m):null}function ie(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){var g=ie(m);if(g!==null)return g;m=m.sibling}return null}function ue(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){if(m.tag!==4){var g=ue(m);if(g!==null)return g}m=m.sibling}return null}var _e=Array.isArray,he=e.getPublicInstance,ge=e.getRootHostContext,q=e.getChildHostContext,oe=e.prepareForCommit,$=e.resetAfterCommit,ne=e.createInstance,we=e.appendInitialChild,nt=e.finalizeInitialChildren,Ce=e.prepareUpdate,Ve=e.shouldSetTextContent,He=e.createTextInstance,je=e.scheduleTimeout,pt=e.cancelTimeout,bt=e.noTimeout,Dt=e.isPrimaryRenderer,Jt=e.supportsMutation,at=e.supportsPersistence,Xe=e.supportsHydration,ae=e.getInstanceFromNode,Bt=e.preparePortalMount,ht=e.getCurrentEventPriority,Re=e.detachDeletedInstance,mt=e.supportsMicrotasks,tn=e.scheduleMicrotask,It=e.supportsTestSelectors,se=e.findFiberRoot,ee=e.getBoundingRect,xe=e.getTextContent,Oe=e.isHiddenSubtree,Le=e.matchAccessibilityRole,Ge=e.setFocusIfFocusable,St=e.setupIntersectionObserver,wt=e.appendChild,Rt=e.appendChildToContainer,vn=e.commitTextUpdate,xt=e.commitMount,Tt=e.commitUpdate,Zt=e.insertBefore,Wt=e.insertInContainerBefore,Ot=e.removeChild,Ae=e.removeChildFromContainer,Ye=e.resetTextContent,_t=e.hideInstance,me=e.hideTextInstance,Be=e.unhideInstance,ze=e.unhideTextInstance,ot=e.clearContainer,Ft=e.cloneInstance,Ut=e.createContainerChildSet,Qt=e.appendChildToContainerChildSet,_n=e.finalizeContainerChildren,mr=e.replaceContainerChildren,Gt=e.cloneHiddenInstance,nn=e.cloneHiddenTextInstance,Pn=e.canHydrateInstance,zt=e.canHydrateTextInstance,En=e.canHydrateSuspenseInstance,an=e.isSuspenseInstancePending,wn=e.isSuspenseInstanceFallback,br=e.registerSuspenseInstanceRetry,Nn=e.getNextHydratableSibling,dn=e.getFirstHydratableChild,Xr=e.getFirstHydratableChildWithinContainer,Mr=e.getFirstHydratableChildWithinSuspenseInstance,Z=e.hydrateInstance,re=e.hydrateTextInstance,Me=e.hydrateSuspenseInstance,Fe=e.getNextHydratableInstanceAfterSuspenseInstance,Je=e.commitHydratedContainer,Qe=e.commitHydratedSuspenseInstance,vt=e.clearSuspenseBoundary,K=e.clearSuspenseBoundaryFromContainer,fe=e.shouldDeleteUnhydratedTailInstances,be=e.didNotMatchHydratedContainerTextInstance,Ee=e.didNotMatchHydratedTextInstance,le;function it(m){if(le===void 0)try{throw Error()}catch(T){var g=T.stack.trim().match(/\n( *(at )?)/);le=g&&g[1]||""}return`
`+le+m}var et=!1;function ut(m,g){if(!m||et)return"";et=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(Vt){var I=Vt}Reflect.construct(m,[],g)}else{try{g.call()}catch(Vt){I=Vt}m.call(g.prototype)}else{try{throw Error()}catch(Vt){I=Vt}m()}}catch(Vt){if(Vt&&I&&typeof Vt.stack=="string"){for(var B=Vt.stack.split(`
`),W=I.stack.split(`
`),pe=B.length-1,ke=W.length-1;1<=pe&&0<=ke&&B[pe]!==W[ke];)ke--;for(;1<=pe&&0<=ke;pe--,ke--)if(B[pe]!==W[ke]){if(pe!==1||ke!==1)do if(pe--,ke--,0>ke||B[pe]!==W[ke]){var dt=`
`+B[pe].replace(" at new "," at ");return m.displayName&&dt.includes("<anonymous>")&&(dt=dt.replace("<anonymous>",m.displayName)),dt}while(1<=pe&&0<=ke);break}}}finally{et=!1,Error.prepareStackTrace=T}return(m=m?m.displayName||m.name:"")?it(m):""}var yt=Object.prototype.hasOwnProperty,Pt=[],kt=-1;function At(m){return{current:m}}function Lt(m){0>kt||(m.current=Pt[kt],Pt[kt]=null,kt--)}function Yt(m,g){kt++,Pt[kt]=m.current,m.current=g}var un={},On=At(un),Ht=At(!1),Xt=un;function er(m,g){var T=m.type.contextTypes;if(!T)return un;var I=m.stateNode;if(I&&I.__reactInternalMemoizedUnmaskedChildContext===g)return I.__reactInternalMemoizedMaskedChildContext;var B={},W;for(W in T)B[W]=g[W];return I&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=g,m.__reactInternalMemoizedMaskedChildContext=B),B}function In(m){return m=m.childContextTypes,m!=null}function _r(){Lt(Ht),Lt(On)}function Yn(m,g,T){if(On.current!==un)throw Error(o(168));Yt(On,g),Yt(Ht,T)}function vr(m,g,T){var I=m.stateNode;if(g=g.childContextTypes,typeof I.getChildContext!="function")return T;I=I.getChildContext();for(var B in I)if(!(B in g))throw Error(o(108,j(m)||"Unknown",B));return s({},T,I)}function lr(m){return m=(m=m.stateNode)&&m.__reactInternalMemoizedMergedChildContext||un,Xt=On.current,Yt(On,m),Yt(Ht,Ht.current),!0}function Sn(m,g,T){var I=m.stateNode;if(!I)throw Error(o(169));T?(m=vr(m,g,Xt),I.__reactInternalMemoizedMergedChildContext=m,Lt(Ht),Lt(On),Yt(On,m)):Lt(Ht),Yt(Ht,T)}var cr=Math.clz32?Math.clz32:Wr,Kr=Math.log,$n=Math.LN2;function Wr(m){return m>>>=0,m===0?32:31-(Kr(m)/$n|0)|0}var Rs=64,tr=4194304;function Dc(m){switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return m&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return m}}function Ao(m,g){var T=m.pendingLanes;if(T===0)return 0;var I=0,B=m.suspendedLanes,W=m.pingedLanes,pe=T&268435455;if(pe!==0){var ke=pe&~B;ke!==0?I=Dc(ke):(W&=pe,W!==0&&(I=Dc(W)))}else pe=T&~B,pe!==0?I=Dc(pe):W!==0&&(I=Dc(W));if(I===0)return 0;if(g!==0&&g!==I&&!(g&B)&&(B=I&-I,W=g&-g,B>=W||B===16&&(W&4194240)!==0))return g;if(I&4&&(I|=T&16),g=m.entangledLanes,g!==0)for(m=m.entanglements,g&=I;0<g;)T=31-cr(g),B=1<<T,I|=m[T],g&=~B;return I}function Ma(m,g){switch(m){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Af(m,g){for(var T=m.suspendedLanes,I=m.pingedLanes,B=m.expirationTimes,W=m.pendingLanes;0<W;){var pe=31-cr(W),ke=1<<pe,dt=B[pe];dt===-1?(!(ke&T)||ke&I)&&(B[pe]=Ma(ke,g)):dt<=g&&(m.expiredLanes|=ke),W&=~ke}}function Cf(m){return m=m.pendingLanes&-1073741825,m!==0?m:m&1073741824?1073741824:0}function ll(m){for(var g=[],T=0;31>T;T++)g.push(m);return g}function cl(m,g,T){m.pendingLanes|=g,g!==536870912&&(m.suspendedLanes=0,m.pingedLanes=0),m=m.eventTimes,g=31-cr(g),m[g]=T}function Nc(m,g){var T=m.pendingLanes&~g;m.pendingLanes=g,m.suspendedLanes=0,m.pingedLanes=0,m.expiredLanes&=g,m.mutableReadLanes&=g,m.entangledLanes&=g,g=m.entanglements;var I=m.eventTimes;for(m=m.expirationTimes;0<T;){var B=31-cr(T),W=1<<B;g[B]=0,I[B]=-1,m[B]=-1,T&=~W}}function Co(m,g){var T=m.entangledLanes|=g;for(m=m.entanglements;T;){var I=31-cr(T),B=1<<I;B&g|m[I]&g&&(m[I]|=g),T&=~B}}var nr=0;function Aa(m){return m&=-m,1<m?4<m?m&268435455?16:536870912:4:1}var ul=i.unstable_scheduleCallback,kc=i.unstable_cancelCallback,fl=i.unstable_shouldYield,Kd=i.unstable_requestPaint,bi=i.unstable_now,Wl=i.unstable_ImmediatePriority,y0=i.unstable_UserBlockingPriority,Rf=i.unstable_NormalPriority,Pf=i.unstable_IdlePriority,wu=null,na=null;function Oc(m){if(na&&typeof na.onCommitFiberRoot=="function")try{na.onCommitFiberRoot(wu,m,void 0,(m.current.flags&128)===128)}catch{}}function Gl(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var es=typeof Object.is=="function"?Object.is:Gl,Ps=null,Su=!1,If=!1;function Fc(m){Ps===null?Ps=[m]:Ps.push(m)}function Lf(m){Su=!0,Fc(m)}function ro(){if(!If&&Ps!==null){If=!0;var m=0,g=nr;try{var T=Ps;for(nr=1;m<T.length;m++){var I=T[m];do I=I(!0);while(I!==null)}Ps=null,Su=!1}catch(B){throw Ps!==null&&(Ps=Ps.slice(m+1)),ul(Wl,ro),B}finally{nr=g,If=!1}}return null}var nm=a.ReactCurrentBatchConfig;function ps(m,g){if(es(m,g))return!0;if(typeof m!="object"||m===null||typeof g!="object"||g===null)return!1;var T=Object.keys(m),I=Object.keys(g);if(T.length!==I.length)return!1;for(I=0;I<T.length;I++){var B=T[I];if(!yt.call(g,B)||!es(m[B],g[B]))return!1}return!0}function Df(m){switch(m.tag){case 5:return it(m.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 2:case 15:return m=ut(m.type,!1),m;case 11:return m=ut(m.type.render,!1),m;case 1:return m=ut(m.type,!0),m;default:return""}}function ts(m,g){if(m&&m.defaultProps){g=s({},g),m=m.defaultProps;for(var T in m)g[T]===void 0&&(g[T]=m[T]);return g}return g}var bu=At(null),$l=null,Ca=null,b=null;function C(){b=Ca=$l=null}function D(m,g,T){Dt?(Yt(bu,g._currentValue),g._currentValue=T):(Yt(bu,g._currentValue2),g._currentValue2=T)}function V(m){var g=bu.current;Lt(bu),Dt?m._currentValue=g:m._currentValue2=g}function G(m,g,T){for(;m!==null;){var I=m.alternate;if((m.childLanes&g)!==g?(m.childLanes|=g,I!==null&&(I.childLanes|=g)):I!==null&&(I.childLanes&g)!==g&&(I.childLanes|=g),m===T)break;m=m.return}}function X(m,g){$l=m,b=Ca=null,m=m.dependencies,m!==null&&m.firstContext!==null&&(m.lanes&g&&(os=!0),m.firstContext=null)}function J(m){var g=Dt?m._currentValue:m._currentValue2;if(b!==m)if(m={context:m,memoizedValue:g,next:null},Ca===null){if($l===null)throw Error(o(308));Ca=m,$l.dependencies={lanes:0,firstContext:m}}else Ca=Ca.next=m;return g}var Se=null,ve=!1;function De(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lt(m,g){m=m.updateQueue,g.updateQueue===m&&(g.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects})}function ft(m,g){return{eventTime:m,lane:g,tag:0,payload:null,callback:null,next:null}}function $e(m,g){var T=m.updateQueue;T!==null&&(T=T.shared,Ti!==null&&m.mode&1&&!(sr&2)?(m=T.interleaved,m===null?(g.next=g,Se===null?Se=[T]:Se.push(T)):(g.next=m.next,m.next=g),T.interleaved=g):(m=T.pending,m===null?g.next=g:(g.next=m.next,m.next=g),T.pending=g))}function Mt(m,g,T){if(g=g.updateQueue,g!==null&&(g=g.shared,(T&4194240)!==0)){var I=g.lanes;I&=m.pendingLanes,T|=I,g.lanes=T,Co(m,T)}}function Un(m,g){var T=m.updateQueue,I=m.alternate;if(I!==null&&(I=I.updateQueue,T===I)){var B=null,W=null;if(T=T.firstBaseUpdate,T!==null){do{var pe={eventTime:T.eventTime,lane:T.lane,tag:T.tag,payload:T.payload,callback:T.callback,next:null};W===null?B=W=pe:W=W.next=pe,T=T.next}while(T!==null);W===null?B=W=g:W=W.next=g}else B=W=g;T={baseState:I.baseState,firstBaseUpdate:B,lastBaseUpdate:W,shared:I.shared,effects:I.effects},m.updateQueue=T;return}m=T.lastBaseUpdate,m===null?T.firstBaseUpdate=g:m.next=g,T.lastBaseUpdate=g}function dr(m,g,T,I){var B=m.updateQueue;ve=!1;var W=B.firstBaseUpdate,pe=B.lastBaseUpdate,ke=B.shared.pending;if(ke!==null){B.shared.pending=null;var dt=ke,Vt=dt.next;dt.next=null,pe===null?W=Vt:pe.next=Vt,pe=dt;var mn=m.alternate;mn!==null&&(mn=mn.updateQueue,ke=mn.lastBaseUpdate,ke!==pe&&(ke===null?mn.firstBaseUpdate=Vt:ke.next=Vt,mn.lastBaseUpdate=dt))}if(W!==null){var Kn=B.baseState;pe=0,mn=Vt=dt=null,ke=W;do{var Fn=ke.lane,ur=ke.eventTime;if((I&Fn)===Fn){mn!==null&&(mn=mn.next={eventTime:ur,lane:0,tag:ke.tag,payload:ke.payload,callback:ke.callback,next:null});e:{var cn=m,_s=ke;switch(Fn=g,ur=T,_s.tag){case 1:if(cn=_s.payload,typeof cn=="function"){Kn=cn.call(ur,Kn,Fn);break e}Kn=cn;break e;case 3:cn.flags=cn.flags&-65537|128;case 0:if(cn=_s.payload,Fn=typeof cn=="function"?cn.call(ur,Kn,Fn):cn,Fn==null)break e;Kn=s({},Kn,Fn);break e;case 2:ve=!0}}ke.callback!==null&&ke.lane!==0&&(m.flags|=64,Fn=B.effects,Fn===null?B.effects=[ke]:Fn.push(ke))}else ur={eventTime:ur,lane:Fn,tag:ke.tag,payload:ke.payload,callback:ke.callback,next:null},mn===null?(Vt=mn=ur,dt=Kn):mn=mn.next=ur,pe|=Fn;if(ke=ke.next,ke===null){if(ke=B.shared.pending,ke===null)break;Fn=ke,ke=Fn.next,Fn.next=null,B.lastBaseUpdate=Fn,B.shared.pending=null}}while(!0);if(mn===null&&(dt=Kn),B.baseState=dt,B.firstBaseUpdate=Vt,B.lastBaseUpdate=mn,g=B.shared.interleaved,g!==null){B=g;do pe|=B.lane,B=B.next;while(B!==g)}else W===null&&(B.shared.lanes=0);yl|=pe,m.lanes=pe,m.memoizedState=Kn}}function Qn(m,g,T){if(m=g.effects,g.effects=null,m!==null)for(g=0;g<m.length;g++){var I=m[g],B=I.callback;if(B!==null){if(I.callback=null,I=T,typeof B!="function")throw Error(o(191,B));B.call(I)}}}var Oi=new r.Component().refs;function hi(m,g,T,I){g=m.memoizedState,T=T(I,g),T=T==null?g:s({},g,T),m.memoizedState=T,m.lanes===0&&(m.updateQueue.baseState=T)}var $s={isMounted:function(m){return(m=m._reactInternals)?O(m)===m:!1},enqueueSetState:function(m,g,T){m=m._reactInternals;var I=Lr(),B=Va(m),W=ft(I,B);W.payload=g,T!=null&&(W.callback=T),$e(m,W),g=Ns(m,B,I),g!==null&&Mt(g,m,B)},enqueueReplaceState:function(m,g,T){m=m._reactInternals;var I=Lr(),B=Va(m),W=ft(I,B);W.tag=1,W.payload=g,T!=null&&(W.callback=T),$e(m,W),g=Ns(m,B,I),g!==null&&Mt(g,m,B)},enqueueForceUpdate:function(m,g){m=m._reactInternals;var T=Lr(),I=Va(m),B=ft(T,I);B.tag=2,g!=null&&(B.callback=g),$e(m,B),g=Ns(m,I,T),g!==null&&Mt(g,m,I)}};function io(m,g,T,I,B,W,pe){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(I,W,pe):g.prototype&&g.prototype.isPureReactComponent?!ps(T,I)||!ps(B,W):!0}function hr(m,g,T){var I=!1,B=un,W=g.contextType;return typeof W=="object"&&W!==null?W=J(W):(B=In(g)?Xt:On.current,I=g.contextTypes,W=(I=I!=null)?er(m,B):un),g=new g(T,W),m.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=$s,m.stateNode=g,g._reactInternals=m,I&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=B,m.__reactInternalMemoizedMaskedChildContext=W),g}function dl(m,g,T,I){m=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(T,I),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(T,I),g.state!==m&&$s.enqueueReplaceState(g,g.state,null)}function gr(m,g,T,I){var B=m.stateNode;B.props=T,B.state=m.memoizedState,B.refs=Oi,De(m);var W=g.contextType;typeof W=="object"&&W!==null?B.context=J(W):(W=In(g)?Xt:On.current,B.context=er(m,W)),B.state=m.memoizedState,W=g.getDerivedStateFromProps,typeof W=="function"&&(hi(m,g,W,T),B.state=m.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(g=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),g!==B.state&&$s.enqueueReplaceState(B,B.state,null),dr(m,T,B,I),B.state=m.memoizedState),typeof B.componentDidMount=="function"&&(m.flags|=4194308)}var zr=[],so=0,Uc=null,Xs=0,ns=[],oi=0,Is=null,rs=1,gi="";function Ra(m,g){zr[so++]=Xs,zr[so++]=Uc,Uc=m,Xs=g}function ra(m,g,T){ns[oi++]=rs,ns[oi++]=gi,ns[oi++]=Is,Is=m;var I=rs;m=gi;var B=32-cr(I)-1;I&=~(1<<B),T+=1;var W=32-cr(g)+B;if(30<W){var pe=B-B%5;W=(I&(1<<pe)-1).toString(32),I>>=pe,B-=pe,rs=1<<32-cr(g)+B|T<<B|I,gi=W+m}else rs=1<<W|T<<B|I,gi=m}function Ro(m){m.return!==null&&(Ra(m,1),ra(m,1,0))}function Zd(m){for(;m===Uc;)Uc=zr[--so],zr[so]=null,Xs=zr[--so],zr[so]=null;for(;m===Is;)Is=ns[--oi],ns[oi]=null,gi=ns[--oi],ns[oi]=null,rs=ns[--oi],ns[oi]=null}var ms=null,Gi=null,kn=!1,Pa=!1,ai=null;function hl(m,g){var T=ko(5,null,null,0);T.elementType="DELETED",T.stateNode=g,T.return=m,g=m.deletions,g===null?(m.deletions=[T],m.flags|=16):g.push(T)}function Jd(m,g){switch(m.tag){case 5:return g=Pn(g,m.type,m.pendingProps),g!==null?(m.stateNode=g,ms=m,Gi=dn(g),!0):!1;case 6:return g=zt(g,m.pendingProps),g!==null?(m.stateNode=g,ms=m,Gi=null,!0):!1;case 13:if(g=En(g),g!==null){var T=Is!==null?{id:rs,overflow:gi}:null;return m.memoizedState={dehydrated:g,treeContext:T,retryLane:1073741824},T=ko(18,null,null,0),T.stateNode=g,T.return=m,m.child=T,ms=m,Gi=null,!0}return!1;default:return!1}}function Nf(m){return(m.mode&1)!==0&&(m.flags&128)===0}function Ia(m){if(kn){var g=Gi;if(g){var T=g;if(!Jd(m,g)){if(Nf(m))throw Error(o(418));g=Nn(T);var I=ms;g&&Jd(m,g)?hl(I,T):(m.flags=m.flags&-4097|2,kn=!1,ms=m)}}else{if(Nf(m))throw Error(o(418));m.flags=m.flags&-4097|2,kn=!1,ms=m}}}function pl(m){for(m=m.return;m!==null&&m.tag!==5&&m.tag!==3&&m.tag!==13;)m=m.return;ms=m}function Xl(m){if(!Xe||m!==ms)return!1;if(!kn)return pl(m),kn=!0,!1;if(m.tag!==3&&(m.tag!==5||fe(m.type)&&!Ve(m.type,m.memoizedProps))){var g=Gi;if(g){if(Nf(m)){for(m=Gi;m;)m=Nn(m);throw Error(o(418))}for(;g;)hl(m,g),g=Nn(g)}}if(pl(m),m.tag===13){if(!Xe)throw Error(o(316));if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));Gi=Fe(m)}else Gi=ms?Nn(m.stateNode):null;return!0}function qs(){Xe&&(Gi=ms=null,Pa=kn=!1)}function Eu(m){ai===null?ai=[m]:ai.push(m)}function ia(m,g,T){if(m=T.ref,m!==null&&typeof m!="function"&&typeof m!="object"){if(T._owner){if(T=T._owner,T){if(T.tag!==1)throw Error(o(309));var I=T.stateNode}if(!I)throw Error(o(147,m));var B=I,W=""+m;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===W?g.ref:(g=function(pe){var ke=B.refs;ke===Oi&&(ke=B.refs={}),pe===null?delete ke[W]:ke[W]=pe},g._stringRef=W,g)}if(typeof m!="string")throw Error(o(284));if(!T._owner)throw Error(o(290,m))}return m}function Po(m,g){throw m=Object.prototype.toString.call(g),Error(o(31,m==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":m))}function La(m){var g=m._init;return g(m._payload)}function kf(m){function g(Ze,Ue){if(m){var ct=Ze.deletions;ct===null?(Ze.deletions=[Ue],Ze.flags|=16):ct.push(Ue)}}function T(Ze,Ue){if(!m)return null;for(;Ue!==null;)g(Ze,Ue),Ue=Ue.sibling;return null}function I(Ze,Ue){for(Ze=new Map;Ue!==null;)Ue.key!==null?Ze.set(Ue.key,Ue):Ze.set(Ue.index,Ue),Ue=Ue.sibling;return Ze}function B(Ze,Ue){return Ze=ac(Ze,Ue),Ze.index=0,Ze.sibling=null,Ze}function W(Ze,Ue,ct){return Ze.index=ct,m?(ct=Ze.alternate,ct!==null?(ct=ct.index,ct<Ue?(Ze.flags|=2,Ue):ct):(Ze.flags|=2,Ue)):(Ze.flags|=1048576,Ue)}function pe(Ze){return m&&Ze.alternate===null&&(Ze.flags|=2),Ze}function ke(Ze,Ue,ct,sn){return Ue===null||Ue.tag!==6?(Ue=Tm(ct,Ze.mode,sn),Ue.return=Ze,Ue):(Ue=B(Ue,ct),Ue.return=Ze,Ue)}function dt(Ze,Ue,ct,sn){var Mn=ct.type;return Mn===f?mn(Ze,Ue,ct.props.children,sn,ct.key):Ue!==null&&(Ue.elementType===Mn||typeof Mn=="object"&&Mn!==null&&Mn.$$typeof===R&&La(Mn)===Ue.type)?(sn=B(Ue,ct.props),sn.ref=ia(Ze,Ue,ct),sn.return=Ze,sn):(sn=Em(ct.type,ct.key,ct.props,null,Ze.mode,sn),sn.ref=ia(Ze,Ue,ct),sn.return=Ze,sn)}function Vt(Ze,Ue,ct,sn){return Ue===null||Ue.tag!==4||Ue.stateNode.containerInfo!==ct.containerInfo||Ue.stateNode.implementation!==ct.implementation?(Ue=Mm(ct,Ze.mode,sn),Ue.return=Ze,Ue):(Ue=B(Ue,ct.children||[]),Ue.return=Ze,Ue)}function mn(Ze,Ue,ct,sn,Mn){return Ue===null||Ue.tag!==7?(Ue=Hu(ct,Ze.mode,sn,Mn),Ue.return=Ze,Ue):(Ue=B(Ue,ct),Ue.return=Ze,Ue)}function Kn(Ze,Ue,ct){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number")return Ue=Tm(""+Ue,Ze.mode,ct),Ue.return=Ze,Ue;if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case l:return ct=Em(Ue.type,Ue.key,Ue.props,null,Ze.mode,ct),ct.ref=ia(Ze,null,Ue),ct.return=Ze,ct;case c:return Ue=Mm(Ue,Ze.mode,ct),Ue.return=Ze,Ue;case R:var sn=Ue._init;return Kn(Ze,sn(Ue._payload),ct)}if(_e(Ue)||k(Ue))return Ue=Hu(Ue,Ze.mode,ct,null),Ue.return=Ze,Ue;Po(Ze,Ue)}return null}function Fn(Ze,Ue,ct,sn){var Mn=Ue!==null?Ue.key:null;if(typeof ct=="string"&&ct!==""||typeof ct=="number")return Mn!==null?null:ke(Ze,Ue,""+ct,sn);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case l:return ct.key===Mn?dt(Ze,Ue,ct,sn):null;case c:return ct.key===Mn?Vt(Ze,Ue,ct,sn):null;case R:return Mn=ct._init,Fn(Ze,Ue,Mn(ct._payload),sn)}if(_e(ct)||k(ct))return Mn!==null?null:mn(Ze,Ue,ct,sn,null);Po(Ze,ct)}return null}function ur(Ze,Ue,ct,sn,Mn){if(typeof sn=="string"&&sn!==""||typeof sn=="number")return Ze=Ze.get(ct)||null,ke(Ue,Ze,""+sn,Mn);if(typeof sn=="object"&&sn!==null){switch(sn.$$typeof){case l:return Ze=Ze.get(sn.key===null?ct:sn.key)||null,dt(Ue,Ze,sn,Mn);case c:return Ze=Ze.get(sn.key===null?ct:sn.key)||null,Vt(Ue,Ze,sn,Mn);case R:var rr=sn._init;return ur(Ze,Ue,ct,rr(sn._payload),Mn)}if(_e(sn)||k(sn))return Ze=Ze.get(ct)||null,mn(Ue,Ze,sn,Mn,null);Po(Ue,sn)}return null}function cn(Ze,Ue,ct,sn){for(var Mn=null,rr=null,Zn=Ue,Ar=Ue=0,Ui=null;Zn!==null&&Ar<ct.length;Ar++){Zn.index>Ar?(Ui=Zn,Zn=null):Ui=Zn.sibling;var Er=Fn(Ze,Zn,ct[Ar],sn);if(Er===null){Zn===null&&(Zn=Ui);break}m&&Zn&&Er.alternate===null&&g(Ze,Zn),Ue=W(Er,Ue,Ar),rr===null?Mn=Er:rr.sibling=Er,rr=Er,Zn=Ui}if(Ar===ct.length)return T(Ze,Zn),kn&&Ra(Ze,Ar),Mn;if(Zn===null){for(;Ar<ct.length;Ar++)Zn=Kn(Ze,ct[Ar],sn),Zn!==null&&(Ue=W(Zn,Ue,Ar),rr===null?Mn=Zn:rr.sibling=Zn,rr=Zn);return kn&&Ra(Ze,Ar),Mn}for(Zn=I(Ze,Zn);Ar<ct.length;Ar++)Ui=ur(Zn,Ze,Ar,ct[Ar],sn),Ui!==null&&(m&&Ui.alternate!==null&&Zn.delete(Ui.key===null?Ar:Ui.key),Ue=W(Ui,Ue,Ar),rr===null?Mn=Ui:rr.sibling=Ui,rr=Ui);return m&&Zn.forEach(function(lc){return g(Ze,lc)}),kn&&Ra(Ze,Ar),Mn}function _s(Ze,Ue,ct,sn){var Mn=k(ct);if(typeof Mn!="function")throw Error(o(150));if(ct=Mn.call(ct),ct==null)throw Error(o(151));for(var rr=Mn=null,Zn=Ue,Ar=Ue=0,Ui=null,Er=ct.next();Zn!==null&&!Er.done;Ar++,Er=ct.next()){Zn.index>Ar?(Ui=Zn,Zn=null):Ui=Zn.sibling;var lc=Fn(Ze,Zn,Er.value,sn);if(lc===null){Zn===null&&(Zn=Ui);break}m&&Zn&&lc.alternate===null&&g(Ze,Zn),Ue=W(lc,Ue,Ar),rr===null?Mn=lc:rr.sibling=lc,rr=lc,Zn=Ui}if(Er.done)return T(Ze,Zn),kn&&Ra(Ze,Ar),Mn;if(Zn===null){for(;!Er.done;Ar++,Er=ct.next())Er=Kn(Ze,Er.value,sn),Er!==null&&(Ue=W(Er,Ue,Ar),rr===null?Mn=Er:rr.sibling=Er,rr=Er);return kn&&Ra(Ze,Ar),Mn}for(Zn=I(Ze,Zn);!Er.done;Ar++,Er=ct.next())Er=ur(Zn,Ze,Ar,Er.value,sn),Er!==null&&(m&&Er.alternate!==null&&Zn.delete(Er.key===null?Ar:Er.key),Ue=W(Er,Ue,Ar),rr===null?Mn=Er:rr.sibling=Er,rr=Er);return m&&Zn.forEach(function(q0){return g(Ze,q0)}),kn&&Ra(Ze,Ar),Mn}function Oo(Ze,Ue,ct,sn){if(typeof ct=="object"&&ct!==null&&ct.type===f&&ct.key===null&&(ct=ct.props.children),typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case l:e:{for(var Mn=ct.key,rr=Ue;rr!==null;){if(rr.key===Mn){if(Mn=ct.type,Mn===f){if(rr.tag===7){T(Ze,rr.sibling),Ue=B(rr,ct.props.children),Ue.return=Ze,Ze=Ue;break e}}else if(rr.elementType===Mn||typeof Mn=="object"&&Mn!==null&&Mn.$$typeof===R&&La(Mn)===rr.type){T(Ze,rr.sibling),Ue=B(rr,ct.props),Ue.ref=ia(Ze,rr,ct),Ue.return=Ze,Ze=Ue;break e}T(Ze,rr);break}else g(Ze,rr);rr=rr.sibling}ct.type===f?(Ue=Hu(ct.props.children,Ze.mode,sn,ct.key),Ue.return=Ze,Ze=Ue):(sn=Em(ct.type,ct.key,ct.props,null,Ze.mode,sn),sn.ref=ia(Ze,Ue,ct),sn.return=Ze,Ze=sn)}return pe(Ze);case c:e:{for(rr=ct.key;Ue!==null;){if(Ue.key===rr)if(Ue.tag===4&&Ue.stateNode.containerInfo===ct.containerInfo&&Ue.stateNode.implementation===ct.implementation){T(Ze,Ue.sibling),Ue=B(Ue,ct.children||[]),Ue.return=Ze,Ze=Ue;break e}else{T(Ze,Ue);break}else g(Ze,Ue);Ue=Ue.sibling}Ue=Mm(ct,Ze.mode,sn),Ue.return=Ze,Ze=Ue}return pe(Ze);case R:return rr=ct._init,Oo(Ze,Ue,rr(ct._payload),sn)}if(_e(ct))return cn(Ze,Ue,ct,sn);if(k(ct))return _s(Ze,Ue,ct,sn);Po(Ze,ct)}return typeof ct=="string"&&ct!==""||typeof ct=="number"?(ct=""+ct,Ue!==null&&Ue.tag===6?(T(Ze,Ue.sibling),Ue=B(Ue,ct),Ue.return=Ze,Ze=Ue):(T(Ze,Ue),Ue=Tm(ct,Ze.mode,sn),Ue.return=Ze,Ze=Ue),pe(Ze)):T(Ze,Ue)}return Oo}var Da=kf(!0),Tu=kf(!1),ml={},is=At(ml),ql=At(ml),Na=At(ml);function oo(m){if(m===ml)throw Error(o(174));return m}function de(m,g){Yt(Na,g),Yt(ql,m),Yt(is,ml),m=ge(g),Lt(is),Yt(is,m)}function Pe(){Lt(is),Lt(ql),Lt(Na)}function qe(m){var g=oo(Na.current),T=oo(is.current);g=q(T,m.type,g),T!==g&&(Yt(ql,m),Yt(is,g))}function tt(m){ql.current===m&&(Lt(is),Lt(ql))}var rt=At(0);function jt(m){for(var g=m;g!==null;){if(g.tag===13){var T=g.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||an(T)||wn(T)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if(g.flags&128)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var qt=[];function hn(){for(var m=0;m<qt.length;m++){var g=qt[m];Dt?g._workInProgressVersionPrimary=null:g._workInProgressVersionSecondary=null}qt.length=0}var en=a.ReactCurrentDispatcher,Bn=a.ReactCurrentBatchConfig,Ln=0,fn=null,Dn=null,ln=null,Nr=!1,ni=!1,li=0,ss=0;function Vr(){throw Error(o(321))}function ka(m,g){if(g===null)return!1;for(var T=0;T<g.length&&T<m.length;T++)if(!es(m[T],g[T]))return!1;return!0}function vi(m,g,T,I,B,W){if(Ln=W,fn=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,en.current=m===null||m.memoizedState===null?E0:T0,m=T(I,B),ni){W=0;do{if(ni=!1,li=0,25<=W)throw Error(o(301));W+=1,ln=Dn=null,g.updateQueue=null,en.current=M0,m=T(I,B)}while(ni)}if(en.current=Bf,g=Dn!==null&&Dn.next!==null,Ln=0,ln=Dn=fn=null,Nr=!1,g)throw Error(o(300));return m}function Bc(){var m=li!==0;return li=0,m}function Oa(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?fn.memoizedState=ln=m:ln=ln.next=m,ln}function Fa(){if(Dn===null){var m=fn.alternate;m=m!==null?m.memoizedState:null}else m=Dn.next;var g=ln===null?fn.memoizedState:ln.next;if(g!==null)ln=g,Dn=m;else{if(m===null)throw Error(o(310));Dn=m,m={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},ln===null?fn.memoizedState=ln=m:ln=ln.next=m}return ln}function gl(m,g){return typeof g=="function"?g(m):g}function Qd(m){var g=Fa(),T=g.queue;if(T===null)throw Error(o(311));T.lastRenderedReducer=m;var I=Dn,B=I.baseQueue,W=T.pending;if(W!==null){if(B!==null){var pe=B.next;B.next=W.next,W.next=pe}I.baseQueue=B=W,T.pending=null}if(B!==null){W=B.next,I=I.baseState;var ke=pe=null,dt=null,Vt=W;do{var mn=Vt.lane;if((Ln&mn)===mn)dt!==null&&(dt=dt.next={lane:0,action:Vt.action,hasEagerState:Vt.hasEagerState,eagerState:Vt.eagerState,next:null}),I=Vt.hasEagerState?Vt.eagerState:m(I,Vt.action);else{var Kn={lane:mn,action:Vt.action,hasEagerState:Vt.hasEagerState,eagerState:Vt.eagerState,next:null};dt===null?(ke=dt=Kn,pe=I):dt=dt.next=Kn,fn.lanes|=mn,yl|=mn}Vt=Vt.next}while(Vt!==null&&Vt!==W);dt===null?pe=I:dt.next=ke,es(I,g.memoizedState)||(os=!0),g.memoizedState=I,g.baseState=pe,g.baseQueue=dt,T.lastRenderedState=I}if(m=T.interleaved,m!==null){B=m;do W=B.lane,fn.lanes|=W,yl|=W,B=B.next;while(B!==m)}else B===null&&(T.lanes=0);return[g.memoizedState,T.dispatch]}function eh(m){var g=Fa(),T=g.queue;if(T===null)throw Error(o(311));T.lastRenderedReducer=m;var I=T.dispatch,B=T.pending,W=g.memoizedState;if(B!==null){T.pending=null;var pe=B=B.next;do W=m(W,pe.action),pe=pe.next;while(pe!==B);es(W,g.memoizedState)||(os=!0),g.memoizedState=W,g.baseQueue===null&&(g.baseState=W),T.lastRenderedState=W}return[W,I]}function x0(){}function _0(m,g){var T=fn,I=Fa(),B=g(),W=!es(I.memoizedState,B);if(W&&(I.memoizedState=B,os=!0),I=I.queue,Of(Yl.bind(null,T,I,m),[m]),I.getSnapshot!==g||W||ln!==null&&ln.memoizedState.tag&1){if(T.flags|=2048,nh(9,S0.bind(null,T,I,B,g),void 0,null),Ti===null)throw Error(o(349));Ln&30||w0(T,g,B)}return B}function w0(m,g,T){m.flags|=16384,m={getSnapshot:g,value:T},g=fn.updateQueue,g===null?(g={lastEffect:null,stores:null},fn.updateQueue=g,g.stores=[m]):(T=g.stores,T===null?g.stores=[m]:T.push(m))}function S0(m,g,T,I){g.value=T,g.getSnapshot=I,rm(g)&&Ns(m,1,-1)}function Yl(m,g,T){return T(function(){rm(g)&&Ns(m,1,-1)})}function rm(m){var g=m.getSnapshot;m=m.value;try{var T=g();return!es(m,T)}catch{return!0}}function th(m){var g=Oa();return typeof m=="function"&&(m=m()),g.memoizedState=g.baseState=m,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:m},g.queue=m,m=m.dispatch=kb.bind(null,fn,m),[g.memoizedState,m]}function nh(m,g,T,I){return m={tag:m,create:g,destroy:T,deps:I,next:null},g=fn.updateQueue,g===null?(g={lastEffect:null,stores:null},fn.updateQueue=g,g.lastEffect=m.next=m):(T=g.lastEffect,T===null?g.lastEffect=m.next=m:(I=T.next,T.next=m,m.next=I,g.lastEffect=m)),m}function Nx(){return Fa().memoizedState}function zc(m,g,T,I){var B=Oa();fn.flags|=m,B.memoizedState=nh(1|g,T,void 0,I===void 0?null:I)}function im(m,g,T,I){var B=Fa();I=I===void 0?null:I;var W=void 0;if(Dn!==null){var pe=Dn.memoizedState;if(W=pe.destroy,I!==null&&ka(I,pe.deps)){B.memoizedState=nh(g,T,W,I);return}}fn.flags|=m,B.memoizedState=nh(1|g,T,W,I)}function sm(m,g){return zc(8390656,8,m,g)}function Of(m,g){return im(2048,8,m,g)}function Zr(m,g){return im(4,2,m,g)}function om(m,g){return im(4,4,m,g)}function rh(m,g){if(typeof g=="function")return m=m(),g(m),function(){g(null)};if(g!=null)return m=m(),g.current=m,function(){g.current=null}}function Ff(m,g,T){return T=T!=null?T.concat([m]):null,im(4,4,rh.bind(null,g,m),T)}function am(){}function lm(m,g){var T=Fa();g=g===void 0?null:g;var I=T.memoizedState;return I!==null&&g!==null&&ka(g,I[1])?I[0]:(T.memoizedState=[m,g],m)}function Uf(m,g){var T=Fa();g=g===void 0?null:g;var I=T.memoizedState;return I!==null&&g!==null&&ka(g,I[1])?I[0]:(m=m(),T.memoizedState=[m,g],m)}function cm(m,g){var T=nr;nr=T!==0&&4>T?T:4,m(!0);var I=Bn.transition;Bn.transition={};try{m(!1),g()}finally{nr=T,Bn.transition=I}}function Mu(){return Fa().memoizedState}function kx(m,g,T){var I=Va(m);T={lane:I,action:T,hasEagerState:!1,eagerState:null,next:null},Ox(m)?b0(g,T):(ih(m,g,T),T=Lr(),m=Ns(m,I,T),m!==null&&sh(m,g,I))}function kb(m,g,T){var I=Va(m),B={lane:I,action:T,hasEagerState:!1,eagerState:null,next:null};if(Ox(m))b0(g,B);else{ih(m,g,B);var W=m.alternate;if(m.lanes===0&&(W===null||W.lanes===0)&&(W=g.lastRenderedReducer,W!==null))try{var pe=g.lastRenderedState,ke=W(pe,T);if(B.hasEagerState=!0,B.eagerState=ke,es(ke,pe))return}catch{}finally{}T=Lr(),m=Ns(m,I,T),m!==null&&sh(m,g,I)}}function Ox(m){var g=m.alternate;return m===fn||g!==null&&g===fn}function b0(m,g){ni=Nr=!0;var T=m.pending;T===null?g.next=g:(g.next=T.next,T.next=g),m.pending=g}function ih(m,g,T){Ti!==null&&m.mode&1&&!(sr&2)?(m=g.interleaved,m===null?(T.next=T,Se===null?Se=[g]:Se.push(g)):(T.next=m.next,m.next=T),g.interleaved=T):(m=g.pending,m===null?T.next=T:(T.next=m.next,m.next=T),g.pending=T)}function sh(m,g,T){if(T&4194240){var I=g.lanes;I&=m.pendingLanes,T|=I,g.lanes=T,Co(m,T)}}var Bf={readContext:J,useCallback:Vr,useContext:Vr,useEffect:Vr,useImperativeHandle:Vr,useInsertionEffect:Vr,useLayoutEffect:Vr,useMemo:Vr,useReducer:Vr,useRef:Vr,useState:Vr,useDebugValue:Vr,useDeferredValue:Vr,useTransition:Vr,useMutableSource:Vr,useSyncExternalStore:Vr,useId:Vr,unstable_isNewReconciler:!1},E0={readContext:J,useCallback:function(m,g){return Oa().memoizedState=[m,g===void 0?null:g],m},useContext:J,useEffect:sm,useImperativeHandle:function(m,g,T){return T=T!=null?T.concat([m]):null,zc(4194308,4,rh.bind(null,g,m),T)},useLayoutEffect:function(m,g){return zc(4194308,4,m,g)},useInsertionEffect:function(m,g){return zc(4,2,m,g)},useMemo:function(m,g){var T=Oa();return g=g===void 0?null:g,m=m(),T.memoizedState=[m,g],m},useReducer:function(m,g,T){var I=Oa();return g=T!==void 0?T(g):g,I.memoizedState=I.baseState=g,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:g},I.queue=m,m=m.dispatch=kx.bind(null,fn,m),[I.memoizedState,m]},useRef:function(m){var g=Oa();return m={current:m},g.memoizedState=m},useState:th,useDebugValue:am,useDeferredValue:function(m){var g=th(m),T=g[0],I=g[1];return sm(function(){var B=Bn.transition;Bn.transition={};try{I(m)}finally{Bn.transition=B}},[m]),T},useTransition:function(){var m=th(!1),g=m[0];return m=cm.bind(null,m[1]),Oa().memoizedState=m,[g,m]},useMutableSource:function(){},useSyncExternalStore:function(m,g,T){var I=fn,B=Oa();if(kn){if(T===void 0)throw Error(o(407));T=T()}else{if(T=g(),Ti===null)throw Error(o(349));Ln&30||w0(I,g,T)}B.memoizedState=T;var W={value:T,getSnapshot:g};return B.queue=W,sm(Yl.bind(null,I,W,m),[m]),I.flags|=2048,nh(9,S0.bind(null,I,W,T,g),void 0,null),T},useId:function(){var m=Oa(),g=Ti.identifierPrefix;if(kn){var T=gi,I=rs;T=(I&~(1<<32-cr(I)-1)).toString(32)+T,g=":"+g+"R"+T,T=li++,0<T&&(g+="H"+T.toString(32)),g+=":"}else T=ss++,g=":"+g+"r"+T.toString(32)+":";return m.memoizedState=g},unstable_isNewReconciler:!1},T0={readContext:J,useCallback:lm,useContext:J,useEffect:Of,useImperativeHandle:Ff,useInsertionEffect:Zr,useLayoutEffect:om,useMemo:Uf,useReducer:Qd,useRef:Nx,useState:function(){return Qd(gl)},useDebugValue:am,useDeferredValue:function(m){var g=Qd(gl),T=g[0],I=g[1];return Of(function(){var B=Bn.transition;Bn.transition={};try{I(m)}finally{Bn.transition=B}},[m]),T},useTransition:function(){var m=Qd(gl)[0],g=Fa().memoizedState;return[m,g]},useMutableSource:x0,useSyncExternalStore:_0,useId:Mu,unstable_isNewReconciler:!1},M0={readContext:J,useCallback:lm,useContext:J,useEffect:Of,useImperativeHandle:Ff,useInsertionEffect:Zr,useLayoutEffect:om,useMemo:Uf,useReducer:eh,useRef:Nx,useState:function(){return eh(gl)},useDebugValue:am,useDeferredValue:function(m){var g=eh(gl),T=g[0],I=g[1];return Of(function(){var B=Bn.transition;Bn.transition={};try{I(m)}finally{Bn.transition=B}},[m]),T},useTransition:function(){var m=eh(gl)[0],g=Fa().memoizedState;return[m,g]},useMutableSource:x0,useSyncExternalStore:_0,useId:Mu,unstable_isNewReconciler:!1};function A0(m,g){try{var T="",I=g;do T+=Df(I),I=I.return;while(I);var B=T}catch(W){B=`
Error generating stack: `+W.message+`
`+W.stack}return{value:m,source:g,stack:B}}function um(m,g){try{console.error(g.value)}catch(T){setTimeout(function(){throw T})}}var Ob=typeof WeakMap=="function"?WeakMap:Map;function Fx(m,g,T){T=ft(-1,T),T.tag=3,T.payload={element:null};var I=g.value;return T.callback=function(){Gf||(Gf=!0,ii=I),um(m,g)},T}function fm(m,g,T){T=ft(-1,T),T.tag=3;var I=m.type.getDerivedStateFromError;if(typeof I=="function"){var B=g.value;T.payload=function(){return I(B)},T.callback=function(){um(m,g)}}var W=m.stateNode;return W!==null&&typeof W.componentDidCatch=="function"&&(T.callback=function(){um(m,g),typeof I!="function"&&(za===null?za=new Set([this]):za.add(this));var pe=g.stack;this.componentDidCatch(g.value,{componentStack:pe!==null?pe:""})}),T}function Kl(m,g,T){var I=m.pingCache;if(I===null){I=m.pingCache=new Ob;var B=new Set;I.set(g,B)}else B=I.get(g),B===void 0&&(B=new Set,I.set(g,B));B.has(T)||(B.add(T),m=G0.bind(null,m,g,T),g.then(m,m))}function C0(m){do{var g;if((g=m.tag===13)&&(g=m.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return m;m=m.return}while(m!==null);return null}function Au(m,g,T,I,B){return m.mode&1?(m.flags|=65536,m.lanes=B,m):(m===g?m.flags|=65536:(m.flags|=128,T.flags|=131072,T.flags&=-52805,T.tag===1&&(T.alternate===null?T.tag=17:(g=ft(-1,1),g.tag=2,$e(T,g))),T.lanes|=1),m)}function $i(m){m.flags|=4}function zf(m,g){if(m!==null&&m.child===g.child)return!0;if(g.flags&16)return!1;for(m=g.child;m!==null;){if(m.flags&12854||m.subtreeFlags&12854)return!1;m=m.sibling}return!0}var Io,Cu,dm,hm;if(Jt)Io=function(m,g){for(var T=g.child;T!==null;){if(T.tag===5||T.tag===6)we(m,T.stateNode);else if(T.tag!==4&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===g)break;for(;T.sibling===null;){if(T.return===null||T.return===g)return;T=T.return}T.sibling.return=T.return,T=T.sibling}},Cu=function(){},dm=function(m,g,T,I,B){if(m=m.memoizedProps,m!==I){var W=g.stateNode,pe=oo(is.current);T=Ce(W,T,m,I,B,pe),(g.updateQueue=T)&&$i(g)}},hm=function(m,g,T,I){T!==I&&$i(g)};else if(at){Io=function(m,g,T,I){for(var B=g.child;B!==null;){if(B.tag===5){var W=B.stateNode;T&&I&&(W=Gt(W,B.type,B.memoizedProps,B)),we(m,W)}else if(B.tag===6)W=B.stateNode,T&&I&&(W=nn(W,B.memoizedProps,B)),we(m,W);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)W=B.child,W!==null&&(W.return=B),Io(m,B,!0,!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===g)break;for(;B.sibling===null;){if(B.return===null||B.return===g)return;B=B.return}B.sibling.return=B.return,B=B.sibling}};var Vc=function(m,g,T,I){for(var B=g.child;B!==null;){if(B.tag===5){var W=B.stateNode;T&&I&&(W=Gt(W,B.type,B.memoizedProps,B)),Qt(m,W)}else if(B.tag===6)W=B.stateNode,T&&I&&(W=nn(W,B.memoizedProps,B)),Qt(m,W);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)W=B.child,W!==null&&(W.return=B),Vc(m,B,!0,!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===g)break;for(;B.sibling===null;){if(B.return===null||B.return===g)return;B=B.return}B.sibling.return=B.return,B=B.sibling}};Cu=function(m,g){var T=g.stateNode;if(!zf(m,g)){m=T.containerInfo;var I=Ut(m);Vc(I,g,!1,!1),T.pendingChildren=I,$i(g),_n(m,I)}},dm=function(m,g,T,I,B){var W=m.stateNode,pe=m.memoizedProps;if((m=zf(m,g))&&pe===I)g.stateNode=W;else{var ke=g.stateNode,dt=oo(is.current),Vt=null;pe!==I&&(Vt=Ce(ke,T,pe,I,B,dt)),m&&Vt===null?g.stateNode=W:(W=Ft(W,Vt,T,pe,I,g,m,ke),nt(W,T,I,B,dt)&&$i(g),g.stateNode=W,m?$i(g):Io(W,g,!1,!1))}},hm=function(m,g,T,I){T!==I?(m=oo(Na.current),T=oo(is.current),g.stateNode=He(I,m,T,g),$i(g)):g.stateNode=m.stateNode}}else Cu=function(){},dm=function(){},hm=function(){};function Zl(m,g){if(!kn)switch(m.tailMode){case"hidden":g=m.tail;for(var T=null;g!==null;)g.alternate!==null&&(T=g),g=g.sibling;T===null?m.tail=null:T.sibling=null;break;case"collapsed":T=m.tail;for(var I=null;T!==null;)T.alternate!==null&&(I=T),T=T.sibling;I===null?g||m.tail===null?m.tail=null:m.tail.sibling=null:I.sibling=null}}function Ei(m){var g=m.alternate!==null&&m.alternate.child===m.child,T=0,I=0;if(g)for(var B=m.child;B!==null;)T|=B.lanes|B.childLanes,I|=B.subtreeFlags&14680064,I|=B.flags&14680064,B.return=m,B=B.sibling;else for(B=m.child;B!==null;)T|=B.lanes|B.childLanes,I|=B.subtreeFlags,I|=B.flags,B.return=m,B=B.sibling;return m.subtreeFlags|=I,m.childLanes=T,g}function pm(m,g,T){var I=g.pendingProps;switch(Zd(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ei(g),null;case 1:return In(g.type)&&_r(),Ei(g),null;case 3:return I=g.stateNode,Pe(),Lt(Ht),Lt(On),hn(),I.pendingContext&&(I.context=I.pendingContext,I.pendingContext=null),(m===null||m.child===null)&&(Xl(g)?$i(g):m===null||m.memoizedState.isDehydrated&&!(g.flags&256)||(g.flags|=1024,ai!==null&&(yh(ai),ai=null))),Cu(m,g),Ei(g),null;case 5:tt(g),T=oo(Na.current);var B=g.type;if(m!==null&&g.stateNode!=null)dm(m,g,B,I,T),m.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!I){if(g.stateNode===null)throw Error(o(166));return Ei(g),null}if(m=oo(is.current),Xl(g)){if(!Xe)throw Error(o(175));m=Z(g.stateNode,g.type,g.memoizedProps,T,m,g,!Pa),g.updateQueue=m,m!==null&&$i(g)}else{var W=ne(B,I,T,m,g);Io(W,g,!1,!1),g.stateNode=W,nt(W,B,I,T,m)&&$i(g)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return Ei(g),null;case 6:if(m&&g.stateNode!=null)hm(m,g,m.memoizedProps,I);else{if(typeof I!="string"&&g.stateNode===null)throw Error(o(166));if(m=oo(Na.current),T=oo(is.current),Xl(g)){if(!Xe)throw Error(o(176));if(m=g.stateNode,I=g.memoizedProps,(T=re(m,I,g,!Pa))&&(B=ms,B!==null))switch(W=(B.mode&1)!==0,B.tag){case 3:be(B.stateNode.containerInfo,m,I,W);break;case 5:Ee(B.type,B.memoizedProps,B.stateNode,m,I,W)}T&&$i(g)}else g.stateNode=He(I,m,T,g)}return Ei(g),null;case 13:if(Lt(rt),I=g.memoizedState,kn&&Gi!==null&&g.mode&1&&!(g.flags&128)){for(m=Gi;m;)m=Nn(m);return qs(),g.flags|=98560,g}if(I!==null&&I.dehydrated!==null){if(I=Xl(g),m===null){if(!I)throw Error(o(318));if(!Xe)throw Error(o(344));if(m=g.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));Me(m,g)}else qs(),!(g.flags&128)&&(g.memoizedState=null),g.flags|=4;return Ei(g),null}return ai!==null&&(yh(ai),ai=null),g.flags&128?(g.lanes=T,g):(I=I!==null,T=!1,m===null?Xl(g):T=m.memoizedState!==null,I&&!T&&(g.child.flags|=8192,g.mode&1&&(m===null||rt.current&1?xi===0&&(xi=3):wm())),g.updateQueue!==null&&(g.flags|=4),Ei(g),null);case 4:return Pe(),Cu(m,g),m===null&&Bt(g.stateNode.containerInfo),Ei(g),null;case 10:return V(g.type._context),Ei(g),null;case 17:return In(g.type)&&_r(),Ei(g),null;case 19:if(Lt(rt),B=g.memoizedState,B===null)return Ei(g),null;if(I=(g.flags&128)!==0,W=B.rendering,W===null)if(I)Zl(B,!1);else{if(xi!==0||m!==null&&m.flags&128)for(m=g.child;m!==null;){if(W=jt(m),W!==null){for(g.flags|=128,Zl(B,!1),m=W.updateQueue,m!==null&&(g.updateQueue=m,g.flags|=4),g.subtreeFlags=0,m=T,I=g.child;I!==null;)T=I,B=m,T.flags&=14680066,W=T.alternate,W===null?(T.childLanes=0,T.lanes=B,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=W.childLanes,T.lanes=W.lanes,T.child=W.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=W.memoizedProps,T.memoizedState=W.memoizedState,T.updateQueue=W.updateQueue,T.type=W.type,B=W.dependencies,T.dependencies=B===null?null:{lanes:B.lanes,firstContext:B.firstContext}),I=I.sibling;return Yt(rt,rt.current&1|2),g.child}m=m.sibling}B.tail!==null&&bi()>Wc&&(g.flags|=128,I=!0,Zl(B,!1),g.lanes=4194304)}else{if(!I)if(m=jt(W),m!==null){if(g.flags|=128,I=!0,m=m.updateQueue,m!==null&&(g.updateQueue=m,g.flags|=4),Zl(B,!0),B.tail===null&&B.tailMode==="hidden"&&!W.alternate&&!kn)return Ei(g),null}else 2*bi()-B.renderingStartTime>Wc&&T!==1073741824&&(g.flags|=128,I=!0,Zl(B,!1),g.lanes=4194304);B.isBackwards?(W.sibling=g.child,g.child=W):(m=B.last,m!==null?m.sibling=W:g.child=W,B.last=W)}return B.tail!==null?(g=B.tail,B.rendering=g,B.tail=g.sibling,B.renderingStartTime=bi(),g.sibling=null,m=rt.current,Yt(rt,I?m&1|2:m&1),g):(Ei(g),null);case 22:case 23:return xh(),I=g.memoizedState!==null,m!==null&&m.memoizedState!==null!==I&&(g.flags|=8192),I&&g.mode&1?Ds&1073741824&&(Ei(g),Jt&&g.subtreeFlags&6&&(g.flags|=8192)):Ei(g),null;case 24:return null;case 25:return null}throw Error(o(156,g.tag))}var R0=a.ReactCurrentOwner,os=!1;function yi(m,g,T,I){g.child=m===null?Tu(g,null,T,I):Da(g,m.child,T,I)}function Jr(m,g,T,I,B){T=T.render;var W=g.ref;return X(g,B),I=vi(m,g,T,I,W,B),T=Bc(),m!==null&&!os?(g.updateQueue=m.updateQueue,g.flags&=-2053,m.lanes&=~B,ao(m,g,B)):(kn&&T&&Ro(g),g.flags|=1,yi(m,g,I,B),g.child)}function qr(m,g,T,I,B){if(m===null){var W=T.type;return typeof W=="function"&&!bm(W)&&W.defaultProps===void 0&&T.compare===null&&T.defaultProps===void 0?(g.tag=15,g.type=W,Jl(m,g,W,I,B)):(m=Em(T.type,null,I,g,g.mode,B),m.ref=g.ref,m.return=g,g.child=m)}if(W=m.child,!(m.lanes&B)){var pe=W.memoizedProps;if(T=T.compare,T=T!==null?T:ps,T(pe,I)&&m.ref===g.ref)return ao(m,g,B)}return g.flags|=1,m=ac(W,I),m.ref=g.ref,m.return=g,g.child=m}function Jl(m,g,T,I,B){if(m!==null&&ps(m.memoizedProps,I)&&m.ref===g.ref)if(os=!1,(m.lanes&B)!==0)m.flags&131072&&(os=!0);else return g.lanes=m.lanes,ao(m,g,B);return Ql(m,g,T,I,B)}function gs(m,g,T){var I=g.pendingProps,B=I.children,W=m!==null?m.memoizedState:null;if(I.mode==="hidden")if(!(g.mode&1))g.memoizedState={baseLanes:0,cachePool:null},Yt(Fu,Ds),Ds|=T;else if(T&1073741824)g.memoizedState={baseLanes:0,cachePool:null},I=W!==null?W.baseLanes:T,Yt(Fu,Ds),Ds|=I;else return m=W!==null?W.baseLanes|T:T,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:m,cachePool:null},g.updateQueue=null,Yt(Fu,Ds),Ds|=m,null;else W!==null?(I=W.baseLanes|T,g.memoizedState=null):I=T,Yt(Fu,Ds),Ds|=I;return yi(m,g,B,T),g.child}function Ys(m,g){var T=g.ref;(m===null&&T!==null||m!==null&&m.ref!==T)&&(g.flags|=512,g.flags|=2097152)}function Ql(m,g,T,I,B){var W=In(T)?Xt:On.current;return W=er(g,W),X(g,B),T=vi(m,g,T,I,W,B),I=Bc(),m!==null&&!os?(g.updateQueue=m.updateQueue,g.flags&=-2053,m.lanes&=~B,ao(m,g,B)):(kn&&I&&Ro(g),g.flags|=1,yi(m,g,T,B),g.child)}function Ru(m,g,T,I,B){if(In(T)){var W=!0;lr(g)}else W=!1;if(X(g,B),g.stateNode===null)m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),hr(g,T,I),gr(g,T,I,B),I=!0;else if(m===null){var pe=g.stateNode,ke=g.memoizedProps;pe.props=ke;var dt=pe.context,Vt=T.contextType;typeof Vt=="object"&&Vt!==null?Vt=J(Vt):(Vt=In(T)?Xt:On.current,Vt=er(g,Vt));var mn=T.getDerivedStateFromProps,Kn=typeof mn=="function"||typeof pe.getSnapshotBeforeUpdate=="function";Kn||typeof pe.UNSAFE_componentWillReceiveProps!="function"&&typeof pe.componentWillReceiveProps!="function"||(ke!==I||dt!==Vt)&&dl(g,pe,I,Vt),ve=!1;var Fn=g.memoizedState;pe.state=Fn,dr(g,I,pe,B),dt=g.memoizedState,ke!==I||Fn!==dt||Ht.current||ve?(typeof mn=="function"&&(hi(g,T,mn,I),dt=g.memoizedState),(ke=ve||io(g,T,ke,I,Fn,dt,Vt))?(Kn||typeof pe.UNSAFE_componentWillMount!="function"&&typeof pe.componentWillMount!="function"||(typeof pe.componentWillMount=="function"&&pe.componentWillMount(),typeof pe.UNSAFE_componentWillMount=="function"&&pe.UNSAFE_componentWillMount()),typeof pe.componentDidMount=="function"&&(g.flags|=4194308)):(typeof pe.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=I,g.memoizedState=dt),pe.props=I,pe.state=dt,pe.context=Vt,I=ke):(typeof pe.componentDidMount=="function"&&(g.flags|=4194308),I=!1)}else{pe=g.stateNode,lt(m,g),ke=g.memoizedProps,Vt=g.type===g.elementType?ke:ts(g.type,ke),pe.props=Vt,Kn=g.pendingProps,Fn=pe.context,dt=T.contextType,typeof dt=="object"&&dt!==null?dt=J(dt):(dt=In(T)?Xt:On.current,dt=er(g,dt));var ur=T.getDerivedStateFromProps;(mn=typeof ur=="function"||typeof pe.getSnapshotBeforeUpdate=="function")||typeof pe.UNSAFE_componentWillReceiveProps!="function"&&typeof pe.componentWillReceiveProps!="function"||(ke!==Kn||Fn!==dt)&&dl(g,pe,I,dt),ve=!1,Fn=g.memoizedState,pe.state=Fn,dr(g,I,pe,B);var cn=g.memoizedState;ke!==Kn||Fn!==cn||Ht.current||ve?(typeof ur=="function"&&(hi(g,T,ur,I),cn=g.memoizedState),(Vt=ve||io(g,T,Vt,I,Fn,cn,dt)||!1)?(mn||typeof pe.UNSAFE_componentWillUpdate!="function"&&typeof pe.componentWillUpdate!="function"||(typeof pe.componentWillUpdate=="function"&&pe.componentWillUpdate(I,cn,dt),typeof pe.UNSAFE_componentWillUpdate=="function"&&pe.UNSAFE_componentWillUpdate(I,cn,dt)),typeof pe.componentDidUpdate=="function"&&(g.flags|=4),typeof pe.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof pe.componentDidUpdate!="function"||ke===m.memoizedProps&&Fn===m.memoizedState||(g.flags|=4),typeof pe.getSnapshotBeforeUpdate!="function"||ke===m.memoizedProps&&Fn===m.memoizedState||(g.flags|=1024),g.memoizedProps=I,g.memoizedState=cn),pe.props=I,pe.state=cn,pe.context=dt,I=Vt):(typeof pe.componentDidUpdate!="function"||ke===m.memoizedProps&&Fn===m.memoizedState||(g.flags|=4),typeof pe.getSnapshotBeforeUpdate!="function"||ke===m.memoizedProps&&Fn===m.memoizedState||(g.flags|=1024),I=!1)}return Ls(m,g,T,I,W,B)}function Ls(m,g,T,I,B,W){Ys(m,g);var pe=(g.flags&128)!==0;if(!I&&!pe)return B&&Sn(g,T,!1),ao(m,g,W);I=g.stateNode,R0.current=g;var ke=pe&&typeof T.getDerivedStateFromError!="function"?null:I.render();return g.flags|=1,m!==null&&pe?(g.child=Da(g,m.child,null,W),g.child=Da(g,null,ke,W)):yi(m,g,ke,W),g.memoizedState=I.state,B&&Sn(g,T,!0),g.child}function oh(m){var g=m.stateNode;g.pendingContext?Yn(m,g.pendingContext,g.pendingContext!==g.context):g.context&&Yn(m,g.context,!1),de(m,g.containerInfo)}function P0(m,g,T,I,B){return qs(),Eu(B),g.flags|=256,yi(m,g,T,I),g.child}var ah={dehydrated:null,treeContext:null,retryLane:0};function Pu(m){return{baseLanes:m,cachePool:null}}function I0(m,g,T){var I=g.pendingProps,B=rt.current,W=!1,pe=(g.flags&128)!==0,ke;if((ke=pe)||(ke=m!==null&&m.memoizedState===null?!1:(B&2)!==0),ke?(W=!0,g.flags&=-129):(m===null||m.memoizedState!==null)&&(B|=1),Yt(rt,B&1),m===null)return Ia(g),m=g.memoizedState,m!==null&&(m=m.dehydrated,m!==null)?(g.mode&1?wn(m)?g.lanes=8:g.lanes=1073741824:g.lanes=1,null):(B=I.children,m=I.fallback,W?(I=g.mode,W=g.child,B={mode:"hidden",children:B},!(I&1)&&W!==null?(W.childLanes=0,W.pendingProps=B):W=Sh(B,I,0,null),m=Hu(m,I,T,null),W.return=g,m.return=g,W.sibling=m,g.child=W,g.child.memoizedState=Pu(T),g.memoizedState=ah,m):Ua(g,B));if(B=m.memoizedState,B!==null){if(ke=B.dehydrated,ke!==null){if(pe)return g.flags&256?(g.flags&=-257,ch(m,g,T,Error(o(422)))):g.memoizedState!==null?(g.child=m.child,g.flags|=128,null):(W=I.fallback,B=g.mode,I=Sh({mode:"visible",children:I.children},B,0,null),W=Hu(W,B,T,null),W.flags|=2,I.return=g,W.return=g,I.sibling=W,g.child=I,g.mode&1&&Da(g,m.child,null,T),g.child.memoizedState=Pu(T),g.memoizedState=ah,W);if(!(g.mode&1))g=ch(m,g,T,null);else if(wn(ke))g=ch(m,g,T,Error(o(419)));else if(I=(T&m.childLanes)!==0,os||I){if(I=Ti,I!==null){switch(T&-T){case 4:W=2;break;case 16:W=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:W=32;break;case 536870912:W=268435456;break;default:W=0}I=W&(I.suspendedLanes|T)?0:W,I!==0&&I!==B.retryLane&&(B.retryLane=I,Ns(m,I,-1))}wm(),g=ch(m,g,T,Error(o(421)))}else an(ke)?(g.flags|=128,g.child=m.child,g=Hx.bind(null,m),br(ke,g),g=null):(T=B.treeContext,Xe&&(Gi=Mr(ke),ms=g,kn=!0,ai=null,Pa=!1,T!==null&&(ns[oi++]=rs,ns[oi++]=gi,ns[oi++]=Is,rs=T.id,gi=T.overflow,Is=g)),g=Ua(g,g.pendingProps.children),g.flags|=4096);return g}return W?(I=mm(m,g,I.children,I.fallback,T),W=g.child,B=m.child.memoizedState,W.memoizedState=B===null?Pu(T):{baseLanes:B.baseLanes|T,cachePool:null},W.childLanes=m.childLanes&~T,g.memoizedState=ah,I):(T=lh(m,g,I.children,T),g.memoizedState=null,T)}return W?(I=mm(m,g,I.children,I.fallback,T),W=g.child,B=m.child.memoizedState,W.memoizedState=B===null?Pu(T):{baseLanes:B.baseLanes|T,cachePool:null},W.childLanes=m.childLanes&~T,g.memoizedState=ah,I):(T=lh(m,g,I.children,T),g.memoizedState=null,T)}function Ua(m,g){return g=Sh({mode:"visible",children:g},m.mode,0,null),g.return=m,m.child=g}function lh(m,g,T,I){var B=m.child;return m=B.sibling,T=ac(B,{mode:"visible",children:T}),!(g.mode&1)&&(T.lanes=I),T.return=g,T.sibling=null,m!==null&&(I=g.deletions,I===null?(g.deletions=[m],g.flags|=16):I.push(m)),g.child=T}function mm(m,g,T,I,B){var W=g.mode;m=m.child;var pe=m.sibling,ke={mode:"hidden",children:T};return!(W&1)&&g.child!==m?(T=g.child,T.childLanes=0,T.pendingProps=ke,g.deletions=null):(T=ac(m,ke),T.subtreeFlags=m.subtreeFlags&14680064),pe!==null?I=ac(pe,I):(I=Hu(I,W,B,null),I.flags|=2),I.return=g,T.return=g,T.sibling=I,g.child=T,I}function ch(m,g,T,I){return I!==null&&Eu(I),Da(g,m.child,null,T),m=Ua(g,g.pendingProps.children),m.flags|=2,g.memoizedState=null,m}function Ux(m,g,T){m.lanes|=g;var I=m.alternate;I!==null&&(I.lanes|=g),G(m.return,g,T)}function vl(m,g,T,I,B){var W=m.memoizedState;W===null?m.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:I,tail:T,tailMode:B}:(W.isBackwards=g,W.rendering=null,W.renderingStartTime=0,W.last=I,W.tail=T,W.tailMode=B)}function Iu(m,g,T){var I=g.pendingProps,B=I.revealOrder,W=I.tail;if(yi(m,g,I.children,T),I=rt.current,I&2)I=I&1|2,g.flags|=128;else{if(m!==null&&m.flags&128)e:for(m=g.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&Ux(m,T,g);else if(m.tag===19)Ux(m,T,g);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===g)break e;for(;m.sibling===null;){if(m.return===null||m.return===g)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}I&=1}if(Yt(rt,I),!(g.mode&1))g.memoizedState=null;else switch(B){case"forwards":for(T=g.child,B=null;T!==null;)m=T.alternate,m!==null&&jt(m)===null&&(B=T),T=T.sibling;T=B,T===null?(B=g.child,g.child=null):(B=T.sibling,T.sibling=null),vl(g,!1,B,T,W);break;case"backwards":for(T=null,B=g.child,g.child=null;B!==null;){if(m=B.alternate,m!==null&&jt(m)===null){g.child=B;break}m=B.sibling,B.sibling=T,T=B,B=m}vl(g,!0,T,null,W);break;case"together":vl(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function ao(m,g,T){if(m!==null&&(g.dependencies=m.dependencies),yl|=g.lanes,!(T&g.childLanes))return null;if(m!==null&&g.child!==m.child)throw Error(o(153));if(g.child!==null){for(m=g.child,T=ac(m,m.pendingProps),g.child=T,T.return=g;m.sibling!==null;)m=m.sibling,T=T.sibling=ac(m,m.pendingProps),T.return=g;T.sibling=null}return g.child}function gm(m,g,T){switch(g.tag){case 3:oh(g),qs();break;case 5:qe(g);break;case 1:In(g.type)&&lr(g);break;case 4:de(g,g.stateNode.containerInfo);break;case 10:D(g,g.type._context,g.memoizedProps.value);break;case 13:var I=g.memoizedState;if(I!==null)return I.dehydrated!==null?(Yt(rt,rt.current&1),g.flags|=128,null):T&g.child.childLanes?I0(m,g,T):(Yt(rt,rt.current&1),m=ao(m,g,T),m!==null?m.sibling:null);Yt(rt,rt.current&1);break;case 19:if(I=(T&g.childLanes)!==0,m.flags&128){if(I)return Iu(m,g,T);g.flags|=128}var B=g.memoizedState;if(B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),Yt(rt,rt.current),I)break;return null;case 22:case 23:return g.lanes=0,gs(m,g,T)}return ao(m,g,T)}function vm(m,g){switch(Zd(g),g.tag){case 1:return In(g.type)&&_r(),m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 3:return Pe(),Lt(Ht),Lt(On),hn(),m=g.flags,m&65536&&!(m&128)?(g.flags=m&-65537|128,g):null;case 5:return tt(g),null;case 13:if(Lt(rt),m=g.memoizedState,m!==null&&m.dehydrated!==null){if(g.alternate===null)throw Error(o(340));qs()}return m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 19:return Lt(rt),null;case 4:return Pe(),null;case 10:return V(g.type._context),null;case 22:case 23:return xh(),null;case 24:return null;default:return null}}var Ks=!1,as=!1,Lu=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function sa(m,g){var T=m.ref;if(T!==null)if(typeof T=="function")try{T(null)}catch(I){Js(m,g,I)}else T.current=null}function ec(m,g,T){try{T()}catch(I){Js(m,g,I)}}var L0=!1;function D0(m,g){for(oe(m.containerInfo),Kt=g;Kt!==null;)if(m=Kt,g=m.child,(m.subtreeFlags&1028)!==0&&g!==null)g.return=m,Kt=g;else for(;Kt!==null;){m=Kt;try{var T=m.alternate;if(m.flags&1024)switch(m.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var I=T.memoizedProps,B=T.memoizedState,W=m.stateNode,pe=W.getSnapshotBeforeUpdate(m.elementType===m.type?I:ts(m.type,I),B);W.__reactInternalSnapshotBeforeUpdate=pe}break;case 3:Jt&&ot(m.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ke){Js(m,m.return,ke)}if(g=m.sibling,g!==null){g.return=m.return,Kt=g;break}Kt=m.return}return T=L0,L0=!1,T}function tc(m,g,T){var I=g.updateQueue;if(I=I!==null?I.lastEffect:null,I!==null){var B=I=I.next;do{if((B.tag&m)===m){var W=B.destroy;B.destroy=void 0,W!==void 0&&ec(g,T,W)}B=B.next}while(B!==I)}}function vs(m,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var T=g=g.next;do{if((T.tag&m)===m){var I=T.create;T.destroy=I()}T=T.next}while(T!==g)}}function Zs(m){var g=m.ref;if(g!==null){var T=m.stateNode;switch(m.tag){case 5:m=he(T);break;default:m=T}typeof g=="function"?g(m):g.current=m}}function ri(m,g,T){if(na&&typeof na.onCommitFiberUnmount=="function")try{na.onCommitFiberUnmount(wu,g)}catch{}switch(g.tag){case 0:case 11:case 14:case 15:if(m=g.updateQueue,m!==null&&(m=m.lastEffect,m!==null)){var I=m=m.next;do{var B=I,W=B.destroy;B=B.tag,W!==void 0&&(B&2||B&4)&&ec(g,T,W),I=I.next}while(I!==m)}break;case 1:if(sa(g,T),m=g.stateNode,typeof m.componentWillUnmount=="function")try{m.props=g.memoizedProps,m.state=g.memoizedState,m.componentWillUnmount()}catch(pe){Js(g,T,pe)}break;case 5:sa(g,T);break;case 4:Jt?O0(m,g,T):at&&at&&(g=g.stateNode.containerInfo,T=Ut(g),mr(g,T))}}function oa(m,g,T){for(var I=g;;)if(ri(m,I,T),I.child===null||Jt&&I.tag===4){if(I===g)break;for(;I.sibling===null;){if(I.return===null||I.return===g)return;I=I.return}I.sibling.return=I.return,I=I.sibling}else I.child.return=I,I=I.child}function N0(m){var g=m.alternate;g!==null&&(m.alternate=null,N0(g)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(g=m.stateNode,g!==null&&Re(g)),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function k0(m){return m.tag===5||m.tag===3||m.tag===4}function ym(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||k0(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function xm(m){if(Jt){e:{for(var g=m.return;g!==null;){if(k0(g))break e;g=g.return}throw Error(o(160))}var T=g;switch(T.tag){case 5:g=T.stateNode,T.flags&32&&(Ye(g),T.flags&=-33),T=ym(m),Vf(m,T,g);break;case 3:case 4:g=T.stateNode.containerInfo,T=ym(m),_m(m,T,g);break;default:throw Error(o(161))}}}function _m(m,g,T){var I=m.tag;if(I===5||I===6)m=m.stateNode,g?Wt(T,m,g):Rt(T,m);else if(I!==4&&(m=m.child,m!==null))for(_m(m,g,T),m=m.sibling;m!==null;)_m(m,g,T),m=m.sibling}function Vf(m,g,T){var I=m.tag;if(I===5||I===6)m=m.stateNode,g?Zt(T,m,g):wt(T,m);else if(I!==4&&(m=m.child,m!==null))for(Vf(m,g,T),m=m.sibling;m!==null;)Vf(m,g,T),m=m.sibling}function O0(m,g,T){for(var I=g,B=!1,W,pe;;){if(!B){B=I.return;e:for(;;){if(B===null)throw Error(o(160));switch(W=B.stateNode,B.tag){case 5:pe=!1;break e;case 3:W=W.containerInfo,pe=!0;break e;case 4:W=W.containerInfo,pe=!0;break e}B=B.return}B=!0}if(I.tag===5||I.tag===6)oa(m,I,T),pe?Ae(W,I.stateNode):Ot(W,I.stateNode);else if(I.tag===18)pe?K(W,I.stateNode):vt(W,I.stateNode);else if(I.tag===4){if(I.child!==null){W=I.stateNode.containerInfo,pe=!0,I.child.return=I,I=I.child;continue}}else if(ri(m,I,T),I.child!==null){I.child.return=I,I=I.child;continue}if(I===g)break;for(;I.sibling===null;){if(I.return===null||I.return===g)return;I=I.return,I.tag===4&&(B=!1)}I.sibling.return=I.return,I=I.sibling}}function Hc(m,g){if(Jt){switch(g.tag){case 0:case 11:case 14:case 15:tc(3,g,g.return),vs(3,g),tc(5,g,g.return);return;case 1:return;case 5:var T=g.stateNode;if(T!=null){var I=g.memoizedProps;m=m!==null?m.memoizedProps:I;var B=g.type,W=g.updateQueue;g.updateQueue=null,W!==null&&Tt(T,W,B,m,I,g)}return;case 6:if(g.stateNode===null)throw Error(o(162));T=g.memoizedProps,vn(g.stateNode,m!==null?m.memoizedProps:T,T);return;case 3:Xe&&m!==null&&m.memoizedState.isDehydrated&&Je(g.stateNode.containerInfo);return;case 12:return;case 13:Hf(g);return;case 19:Hf(g);return;case 17:return}throw Error(o(163))}switch(g.tag){case 0:case 11:case 14:case 15:tc(3,g,g.return),vs(3,g),tc(5,g,g.return);return;case 12:return;case 13:Hf(g);return;case 19:Hf(g);return;case 3:Xe&&m!==null&&m.memoizedState.isDehydrated&&Je(g.stateNode.containerInfo);break;case 22:case 23:return}e:if(at){switch(g.tag){case 1:case 5:case 6:break e;case 3:case 4:g=g.stateNode,mr(g.containerInfo,g.pendingChildren);break e}throw Error(o(163))}}function Hf(m){var g=m.updateQueue;if(g!==null){m.updateQueue=null;var T=m.stateNode;T===null&&(T=m.stateNode=new Lu),g.forEach(function(I){var B=jx.bind(null,m,I);T.has(I)||(T.add(I),I.then(B,B))})}}function Fb(m,g){for(Kt=g;Kt!==null;){g=Kt;var T=g.deletions;if(T!==null)for(var I=0;I<T.length;I++){var B=T[I];try{var W=m;Jt?O0(W,B,g):oa(W,B,g);var pe=B.alternate;pe!==null&&(pe.return=null),B.return=null}catch(Mn){Js(B,g,Mn)}}if(T=g.child,g.subtreeFlags&12854&&T!==null)T.return=g,Kt=T;else for(;Kt!==null;){g=Kt;try{var ke=g.flags;if(ke&32&&Jt&&Ye(g.stateNode),ke&512){var dt=g.alternate;if(dt!==null){var Vt=dt.ref;Vt!==null&&(typeof Vt=="function"?Vt(null):Vt.current=null)}}if(ke&8192)switch(g.tag){case 13:if(g.memoizedState!==null){var mn=g.alternate;(mn===null||mn.memoizedState===null)&&(gh=bi())}break;case 22:var Kn=g.memoizedState!==null,Fn=g.alternate,ur=Fn!==null&&Fn.memoizedState!==null;if(T=g,Jt){e:if(I=T,B=Kn,W=null,Jt)for(var cn=I;;){if(cn.tag===5){if(W===null){W=cn;var _s=cn.stateNode;B?_t(_s):Be(cn.stateNode,cn.memoizedProps)}}else if(cn.tag===6){if(W===null){var Oo=cn.stateNode;B?me(Oo):ze(Oo,cn.memoizedProps)}}else if((cn.tag!==22&&cn.tag!==23||cn.memoizedState===null||cn===I)&&cn.child!==null){cn.child.return=cn,cn=cn.child;continue}if(cn===I)break;for(;cn.sibling===null;){if(cn.return===null||cn.return===I)break e;W===cn&&(W=null),cn=cn.return}W===cn&&(W=null),cn.sibling.return=cn.return,cn=cn.sibling}}if(Kn&&!ur&&T.mode&1){Kt=T;for(var Ze=T.child;Ze!==null;){for(T=Kt=Ze;Kt!==null;){I=Kt;var Ue=I.child;switch(I.tag){case 0:case 11:case 14:case 15:tc(4,I,I.return);break;case 1:sa(I,I.return);var ct=I.stateNode;if(typeof ct.componentWillUnmount=="function"){var sn=I.return;try{ct.props=I.memoizedProps,ct.state=I.memoizedState,ct.componentWillUnmount()}catch(Mn){Js(I,sn,Mn)}}break;case 5:sa(I,I.return);break;case 22:if(I.memoizedState!==null){U0(T);continue}}Ue!==null?(Ue.return=I,Kt=Ue):U0(T)}Ze=Ze.sibling}}}switch(ke&4102){case 2:xm(g),g.flags&=-3;break;case 6:xm(g),g.flags&=-3,Hc(g.alternate,g);break;case 4096:g.flags&=-4097;break;case 4100:g.flags&=-4097,Hc(g.alternate,g);break;case 4:Hc(g.alternate,g)}}catch(Mn){Js(g,g.return,Mn)}if(T=g.sibling,T!==null){T.return=g.return,Kt=T;break}Kt=g.return}}}function uh(m,g,T){Kt=m,fh(m)}function fh(m,g,T){for(var I=(m.mode&1)!==0;Kt!==null;){var B=Kt,W=B.child;if(B.tag===22&&I){var pe=B.memoizedState!==null||Ks;if(!pe){var ke=B.alternate,dt=ke!==null&&ke.memoizedState!==null||as;ke=Ks;var Vt=as;if(Ks=pe,(as=dt)&&!Vt)for(Kt=B;Kt!==null;)pe=Kt,dt=pe.child,pe.tag===22&&pe.memoizedState!==null?Du(B):dt!==null?(dt.return=pe,Kt=dt):Du(B);for(;W!==null;)Kt=W,fh(W),W=W.sibling;Kt=B,Ks=ke,as=Vt}F0(m)}else B.subtreeFlags&8772&&W!==null?(W.return=B,Kt=W):F0(m)}}function F0(m){for(;Kt!==null;){var g=Kt;if(g.flags&8772){var T=g.alternate;try{if(g.flags&8772)switch(g.tag){case 0:case 11:case 15:as||vs(5,g);break;case 1:var I=g.stateNode;if(g.flags&4&&!as)if(T===null)I.componentDidMount();else{var B=g.elementType===g.type?T.memoizedProps:ts(g.type,T.memoizedProps);I.componentDidUpdate(B,T.memoizedState,I.__reactInternalSnapshotBeforeUpdate)}var W=g.updateQueue;W!==null&&Qn(g,W,I);break;case 3:var pe=g.updateQueue;if(pe!==null){if(T=null,g.child!==null)switch(g.child.tag){case 5:T=he(g.child.stateNode);break;case 1:T=g.child.stateNode}Qn(g,pe,T)}break;case 5:var ke=g.stateNode;T===null&&g.flags&4&&xt(ke,g.type,g.memoizedProps,g);break;case 6:break;case 4:break;case 12:break;case 13:if(Xe&&g.memoizedState===null){var dt=g.alternate;if(dt!==null){var Vt=dt.memoizedState;if(Vt!==null){var mn=Vt.dehydrated;mn!==null&&Qe(mn)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}as||g.flags&512&&Zs(g)}catch(Kn){Js(g,g.return,Kn)}}if(g===m){Kt=null;break}if(T=g.sibling,T!==null){T.return=g.return,Kt=T;break}Kt=g.return}}function U0(m){for(;Kt!==null;){var g=Kt;if(g===m){Kt=null;break}var T=g.sibling;if(T!==null){T.return=g.return,Kt=T;break}Kt=g.return}}function Du(m){for(;Kt!==null;){var g=Kt;try{switch(g.tag){case 0:case 11:case 15:var T=g.return;try{vs(4,g)}catch(dt){Js(g,T,dt)}break;case 1:var I=g.stateNode;if(typeof I.componentDidMount=="function"){var B=g.return;try{I.componentDidMount()}catch(dt){Js(g,B,dt)}}var W=g.return;try{Zs(g)}catch(dt){Js(g,W,dt)}break;case 5:var pe=g.return;try{Zs(g)}catch(dt){Js(g,pe,dt)}}}catch(dt){Js(g,g.return,dt)}if(g===m){Kt=null;break}var ke=g.sibling;if(ke!==null){ke.return=g.return,Kt=ke;break}Kt=g.return}}var dh=0,Nu=1,ku=2,nc=3,jf=4;if(typeof Symbol=="function"&&Symbol.for){var Ou=Symbol.for;dh=Ou("selector.component"),Nu=Ou("selector.has_pseudo_class"),ku=Ou("selector.role"),nc=Ou("selector.test_id"),jf=Ou("selector.text")}function hh(m){var g=ae(m);if(g!=null){if(typeof g.memoizedProps["data-testname"]!="string")throw Error(o(364));return g}if(m=se(m),m===null)throw Error(o(362));return m.stateNode.current}function ph(m,g){switch(g.$$typeof){case dh:if(m.type===g.value)return!0;break;case Nu:e:{g=g.value,m=[m,0];for(var T=0;T<m.length;){var I=m[T++],B=m[T++],W=g[B];if(I.tag!==5||!Oe(I)){for(;W!=null&&ph(I,W);)B++,W=g[B];if(B===g.length){g=!0;break e}else for(I=I.child;I!==null;)m.push(I,B),I=I.sibling}}g=!1}return g;case ku:if(m.tag===5&&Le(m.stateNode,g.value))return!0;break;case jf:if((m.tag===5||m.tag===6)&&(m=xe(m),m!==null&&0<=m.indexOf(g.value)))return!0;break;case nc:if(m.tag===5&&(m=m.memoizedProps["data-testname"],typeof m=="string"&&m.toLowerCase()===g.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function jc(m){switch(m.$$typeof){case dh:return"<"+(E(m.value)||"Unknown")+">";case Nu:return":has("+(jc(m)||"")+")";case ku:return'[role="'+m.value+'"]';case jf:return'"'+m.value+'"';case nc:return'[data-testname="'+m.value+'"]';default:throw Error(o(365))}}function Lo(m,g){var T=[];m=[m,0];for(var I=0;I<m.length;){var B=m[I++],W=m[I++],pe=g[W];if(B.tag!==5||!Oe(B)){for(;pe!=null&&ph(B,pe);)W++,pe=g[W];if(W===g.length)T.push(B);else for(B=B.child;B!==null;)m.push(B,W),B=B.sibling}}return T}function rc(m,g){if(!It)throw Error(o(363));m=hh(m),m=Lo(m,g),g=[],m=Array.from(m);for(var T=0;T<m.length;){var I=m[T++];if(I.tag===5)Oe(I)||g.push(I.stateNode);else for(I=I.child;I!==null;)m.push(I),I=I.sibling}return g}var B0=Math.ceil,mh=a.ReactCurrentDispatcher,Ba=a.ReactCurrentOwner,Gr=a.ReactCurrentBatchConfig,sr=0,Ti=null,$r=null,ci=0,Ds=0,Fu=At(0),xi=0,Wf=null,yl=0,Do=0,Uu=0,ic=null,Fi=null,gh=0,Wc=1/0;function Bu(){Wc=bi()+500}var Gf=!1,ii=null,za=null,$f=!1,xl=null,zu=0,Vu=0,sc=null,Qr=-1,_i=0;function Lr(){return sr&6?bi():Qr!==-1?Qr:Qr=bi()}function Va(m){return m.mode&1?sr&2&&ci!==0?ci&-ci:nm.transition!==null?(_i===0&&(m=Rs,Rs<<=1,!(Rs&4194240)&&(Rs=64),_i=m),_i):(m=nr,m!==0?m:ht()):1}function Ns(m,g,T){if(50<Vu)throw Vu=0,sc=null,Error(o(185));var I=Gc(m,g);return I===null?null:(cl(I,g,T),(!(sr&2)||I!==Ti)&&(I===Ti&&(!(sr&2)&&(Do|=g),xi===4&&xs(I,ci)),lo(I,T),g===1&&sr===0&&!(m.mode&1)&&(Bu(),Su&&ro())),I)}function Gc(m,g){m.lanes|=g;var T=m.alternate;for(T!==null&&(T.lanes|=g),T=m,m=m.return;m!==null;)m.childLanes|=g,T=m.alternate,T!==null&&(T.childLanes|=g),T=m,m=m.return;return T.tag===3?T.stateNode:null}function lo(m,g){var T=m.callbackNode;Af(m,g);var I=Ao(m,m===Ti?ci:0);if(I===0)T!==null&&kc(T),m.callbackNode=null,m.callbackPriority=0;else if(g=I&-I,m.callbackPriority!==g){if(T!=null&&kc(T),g===1)m.tag===0?Lf(No.bind(null,m)):Fc(No.bind(null,m)),mt?tn(function(){sr===0&&ro()}):ul(Wl,ro),T=null;else{switch(Aa(I)){case 1:T=Wl;break;case 4:T=y0;break;case 16:T=Rf;break;case 536870912:T=Pf;break;default:T=Rf}T=Sm(T,ys.bind(null,m))}m.callbackPriority=g,m.callbackNode=T}}function ys(m,g){if(Qr=-1,_i=0,sr&6)throw Error(o(327));var T=m.callbackNode;if(_l()&&m.callbackNode!==T)return null;var I=Ao(m,m===Ti?ci:0);if(I===0)return null;if(I&30||I&m.expiredLanes||g)g=_h(m,I);else{g=I;var B=sr;sr|=2;var W=H0();(Ti!==m||ci!==g)&&(Bu(),oc(m,g));do try{zx();break}catch(ke){V0(m,ke)}while(!0);C(),mh.current=W,sr=B,$r!==null?g=0:(Ti=null,ci=0,g=xi)}if(g!==0){if(g===2&&(B=Cf(m),B!==0&&(I=B,g=vh(m,B))),g===1)throw T=Wf,oc(m,0),xs(m,I),lo(m,bi()),T;if(g===6)xs(m,I);else{if(B=m.current.alternate,!(I&30)&&!z0(B)&&(g=_h(m,I),g===2&&(W=Cf(m),W!==0&&(I=W,g=vh(m,W))),g===1))throw T=Wf,oc(m,0),xs(m,I),lo(m,bi()),T;switch(m.finishedWork=B,m.finishedLanes=I,g){case 0:case 1:throw Error(o(345));case 2:Ha(m,Fi);break;case 3:if(xs(m,I),(I&130023424)===I&&(g=gh+500-bi(),10<g)){if(Ao(m,0)!==0)break;if(B=m.suspendedLanes,(B&I)!==I){Lr(),m.pingedLanes|=m.suspendedLanes&B;break}m.timeoutHandle=je(Ha.bind(null,m,Fi),g);break}Ha(m,Fi);break;case 4:if(xs(m,I),(I&4194240)===I)break;for(g=m.eventTimes,B=-1;0<I;){var pe=31-cr(I);W=1<<pe,pe=g[pe],pe>B&&(B=pe),I&=~W}if(I=B,I=bi()-I,I=(120>I?120:480>I?480:1080>I?1080:1920>I?1920:3e3>I?3e3:4320>I?4320:1960*B0(I/1960))-I,10<I){m.timeoutHandle=je(Ha.bind(null,m,Fi),I);break}Ha(m,Fi);break;case 5:Ha(m,Fi);break;default:throw Error(o(329))}}}return lo(m,bi()),m.callbackNode===T?ys.bind(null,m):null}function vh(m,g){var T=ic;return m.current.memoizedState.isDehydrated&&(oc(m,g).flags|=256),m=_h(m,g),m!==2&&(g=Fi,Fi=T,g!==null&&yh(g)),m}function yh(m){Fi===null?Fi=m:Fi.push.apply(Fi,m)}function z0(m){for(var g=m;;){if(g.flags&16384){var T=g.updateQueue;if(T!==null&&(T=T.stores,T!==null))for(var I=0;I<T.length;I++){var B=T[I],W=B.getSnapshot;B=B.value;try{if(!es(W(),B))return!1}catch{return!1}}}if(T=g.child,g.subtreeFlags&16384&&T!==null)T.return=g,g=T;else{if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function xs(m,g){for(g&=~Uu,g&=~Do,m.suspendedLanes|=g,m.pingedLanes&=~g,m=m.expirationTimes;0<g;){var T=31-cr(g),I=1<<T;m[T]=-1,g&=~I}}function No(m){if(sr&6)throw Error(o(327));_l();var g=Ao(m,0);if(!(g&1))return lo(m,bi()),null;var T=_h(m,g);if(m.tag!==0&&T===2){var I=Cf(m);I!==0&&(g=I,T=vh(m,I))}if(T===1)throw T=Wf,oc(m,0),xs(m,g),lo(m,bi()),T;if(T===6)throw Error(o(345));return m.finishedWork=m.current.alternate,m.finishedLanes=g,Ha(m,Fi),lo(m,bi()),null}function Xf(m){xl!==null&&xl.tag===0&&!(sr&6)&&_l();var g=sr;sr|=1;var T=Gr.transition,I=nr;try{if(Gr.transition=null,nr=1,m)return m()}finally{nr=I,Gr.transition=T,sr=g,!(sr&6)&&ro()}}function xh(){Ds=Fu.current,Lt(Fu)}function oc(m,g){m.finishedWork=null,m.finishedLanes=0;var T=m.timeoutHandle;if(T!==bt&&(m.timeoutHandle=bt,pt(T)),$r!==null)for(T=$r.return;T!==null;){var I=T;switch(Zd(I),I.tag){case 1:I=I.type.childContextTypes,I!=null&&_r();break;case 3:Pe(),Lt(Ht),Lt(On),hn();break;case 5:tt(I);break;case 4:Pe();break;case 13:Lt(rt);break;case 19:Lt(rt);break;case 10:V(I.type._context);break;case 22:case 23:xh()}T=T.return}if(Ti=m,$r=m=ac(m.current,null),ci=Ds=g,xi=0,Wf=null,Uu=Do=yl=0,Fi=ic=null,Se!==null){for(g=0;g<Se.length;g++)if(T=Se[g],I=T.interleaved,I!==null){T.interleaved=null;var B=I.next,W=T.pending;if(W!==null){var pe=W.next;W.next=B,I.next=pe}T.pending=I}Se=null}return m}function V0(m,g){do{var T=$r;try{if(C(),en.current=Bf,Nr){for(var I=fn.memoizedState;I!==null;){var B=I.queue;B!==null&&(B.pending=null),I=I.next}Nr=!1}if(Ln=0,ln=Dn=fn=null,ni=!1,li=0,Ba.current=null,T===null||T.return===null){xi=1,Wf=g,$r=null;break}e:{var W=m,pe=T.return,ke=T,dt=g;if(g=ci,ke.flags|=32768,dt!==null&&typeof dt=="object"&&typeof dt.then=="function"){var Vt=dt,mn=ke,Kn=mn.tag;if(!(mn.mode&1)&&(Kn===0||Kn===11||Kn===15)){var Fn=mn.alternate;Fn?(mn.updateQueue=Fn.updateQueue,mn.memoizedState=Fn.memoizedState,mn.lanes=Fn.lanes):(mn.updateQueue=null,mn.memoizedState=null)}var ur=C0(pe);if(ur!==null){ur.flags&=-257,Au(ur,pe,ke,W,g),ur.mode&1&&Kl(W,Vt,g),g=ur,dt=Vt;var cn=g.updateQueue;if(cn===null){var _s=new Set;_s.add(dt),g.updateQueue=_s}else cn.add(dt);break e}else{if(!(g&1)){Kl(W,Vt,g),wm();break e}dt=Error(o(426))}}else if(kn&&ke.mode&1){var Oo=C0(pe);if(Oo!==null){!(Oo.flags&65536)&&(Oo.flags|=256),Au(Oo,pe,ke,W,g),Eu(dt);break e}}W=dt,xi!==4&&(xi=2),ic===null?ic=[W]:ic.push(W),dt=A0(dt,ke),ke=pe;do{switch(ke.tag){case 3:ke.flags|=65536,g&=-g,ke.lanes|=g;var Ze=Fx(ke,dt,g);Un(ke,Ze);break e;case 1:W=dt;var Ue=ke.type,ct=ke.stateNode;if(!(ke.flags&128)&&(typeof Ue.getDerivedStateFromError=="function"||ct!==null&&typeof ct.componentDidCatch=="function"&&(za===null||!za.has(ct)))){ke.flags|=65536,g&=-g,ke.lanes|=g;var sn=fm(ke,W,g);Un(ke,sn);break e}}ke=ke.return}while(ke!==null)}W0(T)}catch(Mn){g=Mn,$r===T&&T!==null&&($r=T=T.return);continue}break}while(!0)}function H0(){var m=mh.current;return mh.current=Bf,m===null?Bf:m}function wm(){(xi===0||xi===3||xi===2)&&(xi=4),Ti===null||!(yl&268435455)&&!(Do&268435455)||xs(Ti,ci)}function _h(m,g){var T=sr;sr|=2;var I=H0();Ti===m&&ci===g||oc(m,g);do try{Bx();break}catch(B){V0(m,B)}while(!0);if(C(),sr=T,mh.current=I,$r!==null)throw Error(o(261));return Ti=null,ci=0,xi}function Bx(){for(;$r!==null;)j0($r)}function zx(){for(;$r!==null&&!fl();)j0($r)}function j0(m){var g=X0(m.alternate,m,Ds);m.memoizedProps=m.pendingProps,g===null?W0(m):$r=g,Ba.current=null}function W0(m){var g=m;do{var T=g.alternate;if(m=g.return,g.flags&32768){if(T=vm(T,g),T!==null){T.flags&=32767,$r=T;return}if(m!==null)m.flags|=32768,m.subtreeFlags=0,m.deletions=null;else{xi=6,$r=null;return}}else if(T=pm(T,g,Ds),T!==null){$r=T;return}if(g=g.sibling,g!==null){$r=g;return}$r=g=m}while(g!==null);xi===0&&(xi=5)}function Ha(m,g){var T=nr,I=Gr.transition;try{Gr.transition=null,nr=1,Vx(m,g,T)}finally{Gr.transition=I,nr=T}return null}function Vx(m,g,T){do _l();while(xl!==null);if(sr&6)throw Error(o(327));var I=m.finishedWork,B=m.finishedLanes;if(I===null)return null;if(m.finishedWork=null,m.finishedLanes=0,I===m.current)throw Error(o(177));m.callbackNode=null,m.callbackPriority=0;var W=I.lanes|I.childLanes;if(Nc(m,W),m===Ti&&($r=Ti=null,ci=0),!(I.subtreeFlags&2064)&&!(I.flags&2064)||$f||($f=!0,Sm(Rf,function(){return _l(),null})),W=(I.flags&15990)!==0,I.subtreeFlags&15990||W){W=Gr.transition,Gr.transition=null;var pe=nr;nr=1;var ke=sr;sr|=4,Ba.current=null,D0(m,I),Fb(m,I),$(m.containerInfo),m.current=I,uh(I),Kd(),sr=ke,nr=pe,Gr.transition=W}else m.current=I;if($f&&($f=!1,xl=m,zu=B),W=m.pendingLanes,W===0&&(za=null),Oc(I.stateNode),lo(m,bi()),g!==null)for(T=m.onRecoverableError,I=0;I<g.length;I++)T(g[I]);if(Gf)throw Gf=!1,m=ii,ii=null,m;return zu&1&&m.tag!==0&&_l(),W=m.pendingLanes,W&1?m===sc?Vu++:(Vu=0,sc=m):Vu=0,ro(),null}function _l(){if(xl!==null){var m=Aa(zu),g=Gr.transition,T=nr;try{if(Gr.transition=null,nr=16>m?16:m,xl===null)var I=!1;else{if(m=xl,xl=null,zu=0,sr&6)throw Error(o(331));var B=sr;for(sr|=4,Kt=m.current;Kt!==null;){var W=Kt,pe=W.child;if(Kt.flags&16){var ke=W.deletions;if(ke!==null){for(var dt=0;dt<ke.length;dt++){var Vt=ke[dt];for(Kt=Vt;Kt!==null;){var mn=Kt;switch(mn.tag){case 0:case 11:case 15:tc(8,mn,W)}var Kn=mn.child;if(Kn!==null)Kn.return=mn,Kt=Kn;else for(;Kt!==null;){mn=Kt;var Fn=mn.sibling,ur=mn.return;if(N0(mn),mn===Vt){Kt=null;break}if(Fn!==null){Fn.return=ur,Kt=Fn;break}Kt=ur}}}var cn=W.alternate;if(cn!==null){var _s=cn.child;if(_s!==null){cn.child=null;do{var Oo=_s.sibling;_s.sibling=null,_s=Oo}while(_s!==null)}}Kt=W}}if(W.subtreeFlags&2064&&pe!==null)pe.return=W,Kt=pe;else e:for(;Kt!==null;){if(W=Kt,W.flags&2048)switch(W.tag){case 0:case 11:case 15:tc(9,W,W.return)}var Ze=W.sibling;if(Ze!==null){Ze.return=W.return,Kt=Ze;break e}Kt=W.return}}var Ue=m.current;for(Kt=Ue;Kt!==null;){pe=Kt;var ct=pe.child;if(pe.subtreeFlags&2064&&ct!==null)ct.return=pe,Kt=ct;else e:for(pe=Ue;Kt!==null;){if(ke=Kt,ke.flags&2048)try{switch(ke.tag){case 0:case 11:case 15:vs(9,ke)}}catch(Mn){Js(ke,ke.return,Mn)}if(ke===pe){Kt=null;break e}var sn=ke.sibling;if(sn!==null){sn.return=ke.return,Kt=sn;break e}Kt=ke.return}}if(sr=B,ro(),na&&typeof na.onPostCommitFiberRoot=="function")try{na.onPostCommitFiberRoot(wu,m)}catch{}I=!0}return I}finally{nr=T,Gr.transition=g}}return!1}function wh(m,g,T){g=A0(T,g),g=Fx(m,g,1),$e(m,g),g=Lr(),m=Gc(m,1),m!==null&&(cl(m,1,g),lo(m,g))}function Js(m,g,T){if(m.tag===3)wh(m,m,T);else for(;g!==null;){if(g.tag===3){wh(g,m,T);break}else if(g.tag===1){var I=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof I.componentDidCatch=="function"&&(za===null||!za.has(I))){m=A0(T,m),m=fm(g,m,1),$e(g,m),m=Lr(),g=Gc(g,1),g!==null&&(cl(g,1,m),lo(g,m));break}}g=g.return}}function G0(m,g,T){var I=m.pingCache;I!==null&&I.delete(g),g=Lr(),m.pingedLanes|=m.suspendedLanes&T,Ti===m&&(ci&T)===T&&(xi===4||xi===3&&(ci&130023424)===ci&&500>bi()-gh?oc(m,0):Uu|=T),lo(m,g)}function $0(m,g){g===0&&(m.mode&1?(g=tr,tr<<=1,!(tr&130023424)&&(tr=4194304)):g=1);var T=Lr();m=Gc(m,g),m!==null&&(cl(m,g,T),lo(m,T))}function Hx(m){var g=m.memoizedState,T=0;g!==null&&(T=g.retryLane),$0(m,T)}function jx(m,g){var T=0;switch(m.tag){case 13:var I=m.stateNode,B=m.memoizedState;B!==null&&(T=B.retryLane);break;case 19:I=m.stateNode;break;default:throw Error(o(314))}I!==null&&I.delete(g),$0(m,T)}var X0;X0=function(m,g,T){if(m!==null)if(m.memoizedProps!==g.pendingProps||Ht.current)os=!0;else{if(!(m.lanes&T)&&!(g.flags&128))return os=!1,gm(m,g,T);os=!!(m.flags&131072)}else os=!1,kn&&g.flags&1048576&&ra(g,Xs,g.index);switch(g.lanes=0,g.tag){case 2:var I=g.type;m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),m=g.pendingProps;var B=er(g,On.current);X(g,T),B=vi(null,g,I,m,B,T);var W=Bc();return g.flags|=1,typeof B=="object"&&B!==null&&typeof B.render=="function"&&B.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,In(I)?(W=!0,lr(g)):W=!1,g.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,De(g),B.updater=$s,g.stateNode=B,B._reactInternals=g,gr(g,I,m,T),g=Ls(null,g,I,!0,W,T)):(g.tag=0,kn&&W&&Ro(g),yi(null,g,B,T),g=g.child),g;case 16:I=g.elementType;e:{switch(m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),m=g.pendingProps,B=I._init,I=B(I._payload),g.type=I,B=g.tag=Ub(I),m=ts(I,m),B){case 0:g=Ql(null,g,I,m,T);break e;case 1:g=Ru(null,g,I,m,T);break e;case 11:g=Jr(null,g,I,m,T);break e;case 14:g=qr(null,g,I,ts(I.type,m),T);break e}throw Error(o(306,I,""))}return g;case 0:return I=g.type,B=g.pendingProps,B=g.elementType===I?B:ts(I,B),Ql(m,g,I,B,T);case 1:return I=g.type,B=g.pendingProps,B=g.elementType===I?B:ts(I,B),Ru(m,g,I,B,T);case 3:e:{if(oh(g),m===null)throw Error(o(387));I=g.pendingProps,W=g.memoizedState,B=W.element,lt(m,g),dr(g,I,null,T);var pe=g.memoizedState;if(I=pe.element,Xe&&W.isDehydrated)if(W={element:I,isDehydrated:!1,cache:pe.cache,transitions:pe.transitions},g.updateQueue.baseState=W,g.memoizedState=W,g.flags&256){B=Error(o(423)),g=P0(m,g,I,T,B);break e}else if(I!==B){B=Error(o(424)),g=P0(m,g,I,T,B);break e}else for(Xe&&(Gi=Xr(g.stateNode.containerInfo),ms=g,kn=!0,ai=null,Pa=!1),T=Tu(g,null,I,T),g.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling;else{if(qs(),I===B){g=ao(m,g,T);break e}yi(m,g,I,T)}g=g.child}return g;case 5:return qe(g),m===null&&Ia(g),I=g.type,B=g.pendingProps,W=m!==null?m.memoizedProps:null,pe=B.children,Ve(I,B)?pe=null:W!==null&&Ve(I,W)&&(g.flags|=32),Ys(m,g),yi(m,g,pe,T),g.child;case 6:return m===null&&Ia(g),null;case 13:return I0(m,g,T);case 4:return de(g,g.stateNode.containerInfo),I=g.pendingProps,m===null?g.child=Da(g,null,I,T):yi(m,g,I,T),g.child;case 11:return I=g.type,B=g.pendingProps,B=g.elementType===I?B:ts(I,B),Jr(m,g,I,B,T);case 7:return yi(m,g,g.pendingProps,T),g.child;case 8:return yi(m,g,g.pendingProps.children,T),g.child;case 12:return yi(m,g,g.pendingProps.children,T),g.child;case 10:e:{if(I=g.type._context,B=g.pendingProps,W=g.memoizedProps,pe=B.value,D(g,I,pe),W!==null)if(es(W.value,pe)){if(W.children===B.children&&!Ht.current){g=ao(m,g,T);break e}}else for(W=g.child,W!==null&&(W.return=g);W!==null;){var ke=W.dependencies;if(ke!==null){pe=W.child;for(var dt=ke.firstContext;dt!==null;){if(dt.context===I){if(W.tag===1){dt=ft(-1,T&-T),dt.tag=2;var Vt=W.updateQueue;if(Vt!==null){Vt=Vt.shared;var mn=Vt.pending;mn===null?dt.next=dt:(dt.next=mn.next,mn.next=dt),Vt.pending=dt}}W.lanes|=T,dt=W.alternate,dt!==null&&(dt.lanes|=T),G(W.return,T,g),ke.lanes|=T;break}dt=dt.next}}else if(W.tag===10)pe=W.type===g.type?null:W.child;else if(W.tag===18){if(pe=W.return,pe===null)throw Error(o(341));pe.lanes|=T,ke=pe.alternate,ke!==null&&(ke.lanes|=T),G(pe,T,g),pe=W.sibling}else pe=W.child;if(pe!==null)pe.return=W;else for(pe=W;pe!==null;){if(pe===g){pe=null;break}if(W=pe.sibling,W!==null){W.return=pe.return,pe=W;break}pe=pe.return}W=pe}yi(m,g,B.children,T),g=g.child}return g;case 9:return B=g.type,I=g.pendingProps.children,X(g,T),B=J(B),I=I(B),g.flags|=1,yi(m,g,I,T),g.child;case 14:return I=g.type,B=ts(I,g.pendingProps),B=ts(I.type,B),qr(m,g,I,B,T);case 15:return Jl(m,g,g.type,g.pendingProps,T);case 17:return I=g.type,B=g.pendingProps,B=g.elementType===I?B:ts(I,B),m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),g.tag=1,In(I)?(m=!0,lr(g)):m=!1,X(g,T),hr(g,I,B),gr(g,I,B,T),Ls(null,g,I,!0,m,T);case 19:return Iu(m,g,T);case 22:return gs(m,g,T)}throw Error(o(156,g.tag))};function Sm(m,g){return ul(m,g)}function Wx(m,g,T,I){this.tag=m,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=I,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ko(m,g,T,I){return new Wx(m,g,T,I)}function bm(m){return m=m.prototype,!(!m||!m.isReactComponent)}function Ub(m){if(typeof m=="function")return bm(m)?1:0;if(m!=null){if(m=m.$$typeof,m===w)return 11;if(m===A)return 14}return 2}function ac(m,g){var T=m.alternate;return T===null?(T=ko(m.tag,g,m.key,m.mode),T.elementType=m.elementType,T.type=m.type,T.stateNode=m.stateNode,T.alternate=m,m.alternate=T):(T.pendingProps=g,T.type=m.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=m.flags&14680064,T.childLanes=m.childLanes,T.lanes=m.lanes,T.child=m.child,T.memoizedProps=m.memoizedProps,T.memoizedState=m.memoizedState,T.updateQueue=m.updateQueue,g=m.dependencies,T.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},T.sibling=m.sibling,T.index=m.index,T.ref=m.ref,T}function Em(m,g,T,I,B,W){var pe=2;if(I=m,typeof m=="function")bm(m)&&(pe=1);else if(typeof m=="string")pe=5;else e:switch(m){case f:return Hu(T.children,B,W,g);case h:pe=8,B|=8;break;case p:return m=ko(12,T,g,B|2),m.elementType=p,m.lanes=W,m;case S:return m=ko(13,T,g,B),m.elementType=S,m.lanes=W,m;case _:return m=ko(19,T,g,B),m.elementType=_,m.lanes=W,m;case P:return Sh(T,B,W,g);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case v:pe=10;break e;case y:pe=9;break e;case w:pe=11;break e;case A:pe=14;break e;case R:pe=16,I=null;break e}throw Error(o(130,m==null?m:typeof m,""))}return g=ko(pe,T,g,B),g.elementType=m,g.type=I,g.lanes=W,g}function Hu(m,g,T,I){return m=ko(7,m,I,g),m.lanes=T,m}function Sh(m,g,T,I){return m=ko(22,m,I,g),m.elementType=P,m.lanes=T,m.stateNode={},m}function Tm(m,g,T){return m=ko(6,m,null,g),m.lanes=T,m}function Mm(m,g,T){return g=ko(4,m.children!==null?m.children:[],m.key,g),g.lanes=T,g.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},g}function Am(m,g,T,I,B){this.tag=g,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=bt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ll(0),this.expirationTimes=ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ll(0),this.identifierPrefix=I,this.onRecoverableError=B,Xe&&(this.mutableSourceEagerHydrationData=null)}function Gx(m,g,T,I,B,W,pe,ke,dt){return m=new Am(m,g,T,ke,dt),g===1?(g=1,W===!0&&(g|=8)):g=0,W=ko(3,null,null,g),m.current=W,W.stateNode=m,W.memoizedState={element:I,isDehydrated:T,cache:null,transitions:null},De(W),m}function $x(m){if(!m)return un;m=m._reactInternals;e:{if(O(m)!==m||m.tag!==1)throw Error(o(170));var g=m;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(In(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(o(171))}if(m.tag===1){var T=m.type;if(In(T))return vr(m,T,g)}return g}function Xx(m){var g=m._reactInternals;if(g===void 0)throw typeof m.render=="function"?Error(o(188)):(m=Object.keys(m).join(","),Error(o(268,m)));return m=te(g),m===null?null:m.stateNode}function aa(m,g){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var T=m.retryLane;m.retryLane=T!==0&&T<g?T:g}}function bh(m,g){aa(m,g),(m=m.alternate)&&aa(m,g)}function Cm(m){return m=te(m),m===null?null:m.stateNode}function qx(){return null}return t.attemptContinuousHydration=function(m){if(m.tag===13){var g=Lr();Ns(m,134217728,g),bh(m,134217728)}},t.attemptHydrationAtCurrentPriority=function(m){if(m.tag===13){var g=Lr(),T=Va(m);Ns(m,T,g),bh(m,T)}},t.attemptSynchronousHydration=function(m){switch(m.tag){case 3:var g=m.stateNode;if(g.current.memoizedState.isDehydrated){var T=Dc(g.pendingLanes);T!==0&&(Co(g,T|1),lo(g,bi()),!(sr&6)&&(Bu(),ro()))}break;case 13:var I=Lr();Xf(function(){return Ns(m,1,I)}),bh(m,1)}},t.batchedUpdates=function(m,g){var T=sr;sr|=1;try{return m(g)}finally{sr=T,sr===0&&(Bu(),Su&&ro())}},t.createComponentSelector=function(m){return{$$typeof:dh,value:m}},t.createContainer=function(m,g,T,I,B,W,pe){return Gx(m,g,!1,null,T,I,B,W,pe)},t.createHasPseudoClassSelector=function(m){return{$$typeof:Nu,value:m}},t.createHydrationContainer=function(m,g,T,I,B,W,pe,ke,dt){return m=Gx(T,I,!0,m,B,W,pe,ke,dt),m.context=$x(null),T=m.current,I=Lr(),B=Va(T),W=ft(I,B),W.callback=g??null,$e(T,W),m.current.lanes=B,cl(m,B,I),lo(m,I),m},t.createPortal=function(m,g,T){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:I==null?null:""+I,children:m,containerInfo:g,implementation:T}},t.createRoleSelector=function(m){return{$$typeof:ku,value:m}},t.createTestNameSelector=function(m){return{$$typeof:nc,value:m}},t.createTextSelector=function(m){return{$$typeof:jf,value:m}},t.deferredUpdates=function(m){var g=nr,T=Gr.transition;try{return Gr.transition=null,nr=16,m()}finally{nr=g,Gr.transition=T}},t.discreteUpdates=function(m,g,T,I,B){var W=nr,pe=Gr.transition;try{return Gr.transition=null,nr=1,m(g,T,I,B)}finally{nr=W,Gr.transition=pe,sr===0&&Bu()}},t.findAllNodes=rc,t.findBoundingRects=function(m,g){if(!It)throw Error(o(363));g=rc(m,g),m=[];for(var T=0;T<g.length;T++)m.push(ee(g[T]));for(g=m.length-1;0<g;g--){T=m[g];for(var I=T.x,B=I+T.width,W=T.y,pe=W+T.height,ke=g-1;0<=ke;ke--)if(g!==ke){var dt=m[ke],Vt=dt.x,mn=Vt+dt.width,Kn=dt.y,Fn=Kn+dt.height;if(I>=Vt&&W>=Kn&&B<=mn&&pe<=Fn){m.splice(g,1);break}else if(I!==Vt||T.width!==dt.width||Fn<W||Kn>pe){if(!(W!==Kn||T.height!==dt.height||mn<I||Vt>B)){Vt>I&&(dt.width+=Vt-I,dt.x=I),mn<B&&(dt.width=B-Vt),m.splice(g,1);break}}else{Kn>W&&(dt.height+=Kn-W,dt.y=W),Fn<pe&&(dt.height=pe-Kn),m.splice(g,1);break}}}return m},t.findHostInstance=Xx,t.findHostInstanceWithNoPortals=function(m){return m=Y(m),m=m!==null?ue(m):null,m===null?null:m.stateNode},t.findHostInstanceWithWarning=function(m){return Xx(m)},t.flushControlled=function(m){var g=sr;sr|=1;var T=Gr.transition,I=nr;try{Gr.transition=null,nr=1,m()}finally{nr=I,Gr.transition=T,sr=g,sr===0&&(Bu(),ro())}},t.flushPassiveEffects=_l,t.flushSync=Xf,t.focusWithin=function(m,g){if(!It)throw Error(o(363));for(m=hh(m),g=Lo(m,g),g=Array.from(g),m=0;m<g.length;){var T=g[m++];if(!Oe(T)){if(T.tag===5&&Ge(T.stateNode))return!0;for(T=T.child;T!==null;)g.push(T),T=T.sibling}}return!1},t.getCurrentUpdatePriority=function(){return nr},t.getFindAllNodesFailureDescription=function(m,g){if(!It)throw Error(o(363));var T=0,I=[];m=[hh(m),0];for(var B=0;B<m.length;){var W=m[B++],pe=m[B++],ke=g[pe];if((W.tag!==5||!Oe(W))&&(ph(W,ke)&&(I.push(jc(ke)),pe++,pe>T&&(T=pe)),pe<g.length))for(W=W.child;W!==null;)m.push(W,pe),W=W.sibling}if(T<g.length){for(m=[];T<g.length;T++)m.push(jc(g[T]));return`findAllNodes was able to match part of the selector:
  `+(I.join(" > ")+`

No matching component was found for:
  `)+m.join(" > ")}return null},t.getPublicRootInstance=function(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 5:return he(m.child.stateNode);default:return m.child.stateNode}},t.injectIntoDevTools=function(m){if(m={bundleType:m.bundleType,version:m.version,rendererPackageName:m.rendererPackageName,rendererConfig:m.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:Cm,findFiberByHostInstance:m.findFiberByHostInstance||qx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")m=!1;else{var g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(g.isDisabled||!g.supportsFiber)m=!0;else{try{wu=g.inject(m),na=g}catch{}m=!!g.checkDCE}}return m},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(m,g,T,I){if(!It)throw Error(o(363));m=rc(m,g);var B=St(m,T,I).disconnect;return{disconnect:function(){B()}}},t.registerMutableSourceForHydration=function(m,g){var T=g._getVersion;T=T(g._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[g,T]:m.mutableSourceEagerHydrationData.push(g,T)},t.runWithPriority=function(m,g){var T=nr;try{return nr=m,g()}finally{nr=T}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(m,g,T,I){var B=g.current,W=Lr(),pe=Va(B);return T=$x(T),g.context===null?g.context=T:g.pendingContext=T,g=ft(W,pe),g.payload={element:m},I=I===void 0?null:I,I!==null&&(g.callback=I),$e(B,g),m=Ns(B,pe,W),m!==null&&Mt(m,B,pe),pe},t}),CT}var yD;function fee(){return yD||(yD=1,TT.exports=uee()),TT.exports}var dee=fee();const hee=Vl(dee);var RT={exports:{}},PT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xD;function pee(){return xD||(xD=1,function(n){function e(q,oe){var $=q.length;q.push(oe);e:for(;0<$;){var ne=$-1>>>1,we=q[ne];if(0<i(we,oe))q[ne]=oe,q[$]=we,$=ne;else break e}}function t(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var oe=q[0],$=q.pop();if($!==oe){q[0]=$;e:for(var ne=0,we=q.length,nt=we>>>1;ne<nt;){var Ce=2*(ne+1)-1,Ve=q[Ce],He=Ce+1,je=q[He];if(0>i(Ve,$))He<we&&0>i(je,Ve)?(q[ne]=je,q[He]=$,ne=He):(q[ne]=Ve,q[Ce]=$,ne=Ce);else if(He<we&&0>i(je,$))q[ne]=je,q[He]=$,ne=He;else break e}}return oe}function i(q,oe){var $=q.sortIndex-oe.sortIndex;return $!==0?$:q.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,h=null,p=3,v=!1,y=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(q){for(var oe=t(c);oe!==null;){if(oe.callback===null)r(c);else if(oe.startTime<=q)r(c),oe.sortIndex=oe.expirationTime,e(l,oe);else break;oe=t(c)}}function P(q){if(w=!1,R(q),!y)if(t(l)!==null)y=!0,he(U);else{var oe=t(c);oe!==null&&ge(P,oe.startTime-q)}}function U(q,oe){y=!1,w&&(w=!1,_(j),j=-1),v=!0;var $=p;try{for(R(oe),h=t(l);h!==null&&(!(h.expirationTime>oe)||q&&!Y());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,p=h.priorityLevel;var we=ne(h.expirationTime<=oe);oe=n.unstable_now(),typeof we=="function"?h.callback=we:h===t(l)&&r(l),R(oe)}else r(l);h=t(l)}if(h!==null)var nt=!0;else{var Ce=t(c);Ce!==null&&ge(P,Ce.startTime-oe),nt=!1}return nt}finally{h=null,p=$,v=!1}}var k=!1,E=null,j=-1,O=5,F=-1;function Y(){return!(n.unstable_now()-F<O)}function te(){if(E!==null){var q=n.unstable_now();F=q;var oe=!0;try{oe=E(!0,q)}finally{oe?ie():(k=!1,E=null)}}else k=!1}var ie;if(typeof A=="function")ie=function(){A(te)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,_e=ue.port2;ue.port1.onmessage=te,ie=function(){_e.postMessage(null)}}else ie=function(){S(te,0)};function he(q){E=q,k||(k=!0,ie())}function ge(q,oe){j=S(function(){q(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_continueExecution=function(){y||v||(y=!0,he(U))},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(q){switch(p){case 1:case 2:case 3:var oe=3;break;default:oe=p}var $=p;p=oe;try{return q()}finally{p=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(q,oe){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var $=p;p=q;try{return oe()}finally{p=$}},n.unstable_scheduleCallback=function(q,oe,$){var ne=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ne+$:ne):$=ne,q){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=$+we,q={id:f++,callback:oe,priorityLevel:q,startTime:$,expirationTime:we,sortIndex:-1},$>ne?(q.sortIndex=$,e(c,q),t(l)===null&&q===t(c)&&(w?(_(j),j=-1):w=!0,ge(P,$-ne))):(q.sortIndex=we,e(l,q),y||v||(y=!0,he(U))),q},n.unstable_shouldYield=Y,n.unstable_wrapCallback=function(q){var oe=p;return function(){var $=p;p=oe;try{return q.apply(this,arguments)}finally{p=$}}}}(PT)),PT}var _D;function mee(){return _D||(_D=1,RT.exports=pee()),RT.exports}var wD=mee();const oP={},uB=n=>void Object.assign(oP,n);function gee(n,e){function t(f,{args:h=[],attach:p,...v},y){let w=`${f[0].toUpperCase()}${f.slice(1)}`,S;if(f==="primitive"){if(v.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const _=v.object;S=og(_,{type:f,root:y,attach:p,primitive:!0})}else{const _=oP[w];if(!_)throw new Error(`R3F: ${w} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");S=og(new _(...h),{type:f,root:y,attach:p,memoizedProps:{args:h}})}return S.__r3f.attach===void 0&&(S instanceof ar?S.__r3f.attach="geometry":S instanceof hs&&(S.__r3f.attach="material")),w!=="inject"&&DT(S,v),S}function r(f,h){let p=!1;if(h){var v,y;(v=h.__r3f)!=null&&v.attach?LT(f,h,h.__r3f.attach):h.isObject3D&&f.isObject3D&&(f.add(h),p=!0),p||(y=f.__r3f)==null||y.objects.push(h),h.__r3f||og(h,{}),h.__r3f.parent=f,EA(h),ag(h)}}function i(f,h,p){let v=!1;if(h){var y,w;if((y=h.__r3f)!=null&&y.attach)LT(f,h,h.__r3f.attach);else if(h.isObject3D&&f.isObject3D){h.parent=f,h.dispatchEvent({type:"added"}),f.dispatchEvent({type:"childadded",child:h});const S=f.children.filter(A=>A!==h),_=S.indexOf(p);f.children=[...S.slice(0,_),h,...S.slice(_)],v=!0}v||(w=f.__r3f)==null||w.objects.push(h),h.__r3f||og(h,{}),h.__r3f.parent=f,EA(h),ag(h)}}function s(f,h,p=!1){f&&[...f].forEach(v=>o(h,v,p))}function o(f,h,p){if(h){var v,y,w;if(h.__r3f&&(h.__r3f.parent=null),(v=f.__r3f)!=null&&v.objects&&(f.__r3f.objects=f.__r3f.objects.filter(P=>P!==h)),(y=h.__r3f)!=null&&y.attach)MD(f,h,h.__r3f.attach);else if(h.isObject3D&&f.isObject3D){var S;f.remove(h),(S=h.__r3f)!=null&&S.root&&Eee(K1(h),h)}const A=(w=h.__r3f)==null?void 0:w.primitive,R=!A&&(p===void 0?h.dispose!==null:p);if(!A){var _;s((_=h.__r3f)==null?void 0:_.objects,h,R),s(h.children,h,R)}if(delete h.__r3f,R&&h.dispose&&h.type!=="Scene"){const P=()=>{try{h.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?wD.unstable_scheduleCallback(wD.unstable_IdlePriority,P):P()}ag(f)}}function a(f,h,p,v){var y;const w=(y=f.__r3f)==null?void 0:y.parent;if(!w)return;const S=t(h,p,f.__r3f.root);if(f.children){for(const _ of f.children)_.__r3f&&r(S,_);f.children=f.children.filter(_=>!_.__r3f)}f.__r3f.objects.forEach(_=>r(S,_)),f.__r3f.objects=[],f.__r3f.autoRemovedBeforeAppend||o(w,f),S.parent&&(S.__r3f.autoRemovedBeforeAppend=!0),r(w,S),S.raycast&&S.__r3f.eventCount&&K1(S).getState().internal.interaction.push(S),[v,v.alternate].forEach(_=>{_!==null&&(_.stateNode=S,_.ref&&(typeof _.ref=="function"?_.ref(S):_.ref.current=S))})}const l=()=>{};return{reconciler:hee({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,h)=>{if(!h)return;const p=f.getState().scene;p.__r3f&&(p.__r3f.root=f,r(p,h))},removeChildFromContainer:(f,h)=>{h&&o(f.getState().scene,h)},insertInContainerBefore:(f,h,p)=>{if(!h||!p)return;const v=f.getState().scene;v.__r3f&&i(v,h,p)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var h;return!!((h=f==null?void 0:f.__r3f)!=null?h:{}).handlers},prepareUpdate(f,h,p,v){var y;if(((y=f==null?void 0:f.__r3f)!=null?y:{}).primitive&&v.object&&v.object!==f)return[!0];{const{args:S=[],children:_,...A}=v,{args:R=[],children:P,...U}=p;if(!Array.isArray(S))throw new Error("R3F: the args prop must be an array!");if(S.some((E,j)=>E!==R[j]))return[!0];const k=vB(f,A,U,!0);return k.changes.length?[!1,k]:null}},commitUpdate(f,[h,p],v,y,w,S){h?a(f,v,w,S):DT(f,p)},commitMount(f,h,p,v){var y;const w=(y=f.__r3f)!=null?y:{};f.raycast&&w.handlers&&w.eventCount&&K1(f).getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>og(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var h;const{attach:p,parent:v}=(h=f.__r3f)!=null?h:{};p&&v&&MD(v,f,p),f.isObject3D&&(f.visible=!1),ag(f)},unhideInstance(f,h){var p;const{attach:v,parent:y}=(p=f.__r3f)!=null?p:{};v&&y&&LT(y,f,v),(f.isObject3D&&h.visible==null||h.visible)&&(f.visible=!0),ag(f)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():yg.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&fi.fun(performance.now)?performance.now:fi.fun(Date.now)?Date.now:()=>0,scheduleTimeout:fi.fun(setTimeout)?setTimeout:void 0,cancelTimeout:fi.fun(clearTimeout)?clearTimeout:void 0}),applyProps:DT}}var SD,bD;const IT=n=>"colorSpace"in n||"outputColorSpace"in n,fB=()=>{var n;return(n=oP.ColorManagement)!=null?n:null},dB=n=>n&&n.isOrthographicCamera,vee=n=>n&&n.hasOwnProperty("current"),bx=typeof window<"u"&&((SD=window.document)!=null&&SD.createElement||((bD=window.navigator)==null?void 0:bD.product)==="ReactNative")?z.useLayoutEffect:z.useEffect;function hB(n){const e=z.useRef(n);return bx(()=>void(e.current=n),[n]),e}function yee({set:n}){return bx(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class pB extends z.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}pB.getDerivedStateFromError=()=>({error:!0});const mB="__default",ED=new Map,xee=n=>n&&!!n.memoized&&!!n.changes;function gB(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const _v=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function K1(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const fi={obj:n=>n===Object(n)&&!fi.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(fi.str(n)||fi.num(n)||fi.boo(n))return n===e;const s=fi.obj(n);if(s&&r==="reference")return n===e;const o=fi.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!fi.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(fi.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function _ee(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function wee(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function og(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function bA(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const TD=/-\d+$/;function LT(n,e,t){if(fi.str(t)){if(TD.test(t)){const s=t.replace(TD,""),{target:o,key:a}=bA(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=bA(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function MD(n,e,t){var r,i;if(fi.str(t)){const{target:s,key:o}=bA(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function vB(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){const f=n.__r3f,h=Object.entries(i),p=[];if(c){const y=Object.keys(l);for(let w=0;w<y.length;w++)i.hasOwnProperty(y[w])||h.unshift([y[w],mB+"remove"])}h.forEach(([y,w])=>{var S;if((S=n.__r3f)!=null&&S.primitive&&y==="object"||fi.equ(w,l[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return p.push([y,w,!0,[]]);let _=[];y.includes("-")&&(_=y.split("-")),p.push([y,w,!1,_]);for(const A in i){const R=i[A];A.startsWith(`${y}-`)&&p.push([A,R,!1,A.split("-")])}});const v={...i};return f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.args&&(v.args=f.memoizedProps.args),f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.attach&&(v.attach=f.memoizedProps.attach),{memoized:v,changes:p}}const See=typeof process<"u"&&!1;function DT(n,e){var t;const r=n.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:a}=xee(e)?e:vB(n,e),l=r==null?void 0:r.eventCount;n.__r3f&&(n.__r3f.memoizedProps=o);for(let f=0;f<a.length;f++){let[h,p,v,y]=a[f];if(IT(n)){const A="srgb",R="srgb-linear";h==="encoding"?(h="colorSpace",p=p===3001?A:R):h==="outputEncoding"&&(h="outputColorSpace",p=p===3001?A:R)}let w=n,S=w[h];if(y.length&&(S=y.reduce((_,A)=>_[A],n),!(S&&S.set))){const[_,...A]=y.reverse();w=A.reverse().reduce((R,P)=>R[P],n),h=_}if(p===mB+"remove")if(w.constructor){let _=ED.get(w.constructor);_||(_=new w.constructor,ED.set(w.constructor,_)),p=_[h]}else p=0;if(v&&r)p?r.handlers[h]=p:delete r.handlers[h],r.eventCount=Object.keys(r.handlers).length;else if(S&&S.set&&(S.copy||S instanceof yp)){if(Array.isArray(p))S.fromArray?S.fromArray(p):S.set(...p);else if(S.copy&&p&&p.constructor&&(See?S.constructor.name===p.constructor.name:S.constructor===p.constructor))S.copy(p);else if(p!==void 0){const _=S instanceof rn;!_&&S.setScalar?S.setScalar(p):S instanceof yp&&p instanceof yp?S.mask=p.mask:S.set(p),!fB()&&s&&!s.linear&&_&&S.convertSRGBToLinear()}}else if(w[h]=p,w[h]instanceof Br&&w[h].format===Ji&&w[h].type===ba&&s){const _=w[h];IT(_)&&IT(s.gl)?_.colorSpace=s.gl.outputColorSpace:_.encoding=s.gl.outputEncoding}ag(n)}if(r&&r.parent&&n.raycast&&l!==r.eventCount){const f=K1(n).getState().internal,h=f.interaction.indexOf(n);h>-1&&f.interaction.splice(h,1),r.eventCount&&f.interaction.push(n)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=n.__r3f)!=null&&t.parent&&EA(n),n}function ag(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function EA(n){n.onUpdate==null||n.onUpdate(n)}function yB(n,e){n.manual||(dB(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function h1(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function bee(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return yg.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return yg.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return yg.ContinuousEventPriority;default:return yg.DefaultEventPriority}}function xB(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function Eee(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{xB(t.capturedMap,e,r,i)})}function Tee(n){function e(l){const{internal:c}=n.getState(),f=l.offsetX-c.initialClick[0],h=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(f*f+h*h))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(f=>{var h;return(h=c.__r3f)==null?void 0:h.handlers["onPointer"+f]}))}function r(l,c){const f=n.getState(),h=new Set,p=[],v=c?c(f.internal.interaction):f.internal.interaction;for(let _=0;_<v.length;_++){const A=_v(v[_]);A&&(A.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(l,f);function y(_){const A=_v(_);if(!A||!A.events.enabled||A.raycaster.camera===null)return[];if(A.raycaster.camera===void 0){var R;A.events.compute==null||A.events.compute(l,A,(R=A.previousRoot)==null?void 0:R.getState()),A.raycaster.camera===void 0&&(A.raycaster.camera=null)}return A.raycaster.camera?A.raycaster.intersectObject(_,!0):[]}let w=v.flatMap(y).sort((_,A)=>{const R=_v(_.object),P=_v(A.object);return!R||!P?_.distance-A.distance:P.events.priority-R.events.priority||_.distance-A.distance}).filter(_=>{const A=h1(_);return h.has(A)?!1:(h.add(A),!0)});f.events.filter&&(w=f.events.filter(w,f));for(const _ of w){let A=_.object;for(;A;){var S;(S=A.__r3f)!=null&&S.eventCount&&p.push({..._,eventObject:A}),A=A.parent}}if("pointerId"in l&&f.internal.capturedMap.has(l.pointerId))for(let _ of f.internal.capturedMap.get(l.pointerId).values())h.has(h1(_.intersection))||p.push(_.intersection);return p}function i(l,c,f,h){const p=n.getState();if(l.length){const v={stopped:!1};for(const y of l){const w=_v(y.object)||p,{raycaster:S,pointer:_,camera:A,internal:R}=w,P=new ce(_.x,_.y,0).unproject(A),U=F=>{var Y,te;return(Y=(te=R.capturedMap.get(F))==null?void 0:te.has(y.eventObject))!=null?Y:!1},k=F=>{const Y={intersection:y,target:c.target};R.capturedMap.has(F)?R.capturedMap.get(F).set(y.eventObject,Y):R.capturedMap.set(F,new Map([[y.eventObject,Y]])),c.target.setPointerCapture(F)},E=F=>{const Y=R.capturedMap.get(F);Y&&xB(R.capturedMap,y.eventObject,Y,F)};let j={};for(let F in c){let Y=c[F];typeof Y!="function"&&(j[F]=Y)}let O={...y,...j,pointer:_,intersections:l,stopped:v.stopped,delta:f,unprojectedPoint:P,ray:S.ray,camera:A,stopPropagation(){const F="pointerId"in c&&R.capturedMap.get(c.pointerId);if((!F||F.has(y.eventObject))&&(O.stopped=v.stopped=!0,R.hovered.size&&Array.from(R.hovered.values()).find(Y=>Y.eventObject===y.eventObject))){const Y=l.slice(0,l.indexOf(y));s([...Y,y])}},target:{hasPointerCapture:U,setPointerCapture:k,releasePointerCapture:E},currentTarget:{hasPointerCapture:U,setPointerCapture:k,releasePointerCapture:E},nativeEvent:c};if(h(O),v.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const f of c.hovered.values())if(!l.length||!l.find(h=>h.object===f.object&&h.index===f.index&&h.instanceId===f.instanceId)){const p=f.eventObject.__r3f,v=p==null?void 0:p.handlers;if(c.hovered.delete(h1(f)),p!=null&&p.eventCount){const y={...f,intersections:l};v.onPointerOut==null||v.onPointerOut(y),v.onPointerLeave==null||v.onPointerLeave(y)}}}function o(l,c){for(let f=0;f<c.length;f++){const h=c[f].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:f}=n.getState();"pointerId"in c&&f.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{f.capturedMap.has(c.pointerId)&&(f.capturedMap.delete(c.pointerId),s([]))})}}return function(f){const{onPointerMissed:h,internal:p}=n.getState();p.lastEvent.current=f;const v=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",S=r(f,v?t:void 0),_=y?e(f):0;l==="onPointerDown"&&(p.initialClick=[f.offsetX,f.offsetY],p.initialHits=S.map(R=>R.eventObject)),y&&!S.length&&_<=2&&(o(f,p.interaction),h&&h(f)),v&&s(S);function A(R){const P=R.eventObject,U=P.__r3f,k=U==null?void 0:U.handlers;if(U!=null&&U.eventCount)if(v){if(k.onPointerOver||k.onPointerEnter||k.onPointerOut||k.onPointerLeave){const E=h1(R),j=p.hovered.get(E);j?j.stopped&&R.stopPropagation():(p.hovered.set(E,R),k.onPointerOver==null||k.onPointerOver(R),k.onPointerEnter==null||k.onPointerEnter(R))}k.onPointerMove==null||k.onPointerMove(R)}else{const E=k[l];E?(!y||p.initialHits.includes(P))&&(o(f,p.interaction.filter(j=>!p.initialHits.includes(j))),E(R)):y&&p.initialHits.includes(P)&&o(f,p.interaction.filter(j=>!p.initialHits.includes(j)))}}i(S,f,_,A)}}return{handlePointer:a}}const Mee=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],_B=n=>!!(n!=null&&n.render),aP=z.createContext(null),Aee=(n,e)=>{const t=aB((a,l)=>{const c=new ce,f=new ce,h=new ce;function p(_=l().camera,A=f,R=l().size){const{width:P,height:U,top:k,left:E}=R,j=P/U;A instanceof ce?h.copy(A):h.set(...A);const O=_.getWorldPosition(c).distanceTo(h);if(dB(_))return{width:P/_.zoom,height:U/_.zoom,top:k,left:E,factor:1,distance:O,aspect:j};{const F=_.fov*Math.PI/180,Y=2*Math.tan(F/2)*O,te=Y*(P/U);return{width:te,height:Y,top:k,left:E,factor:P/te,distance:O,aspect:j}}}let v;const y=_=>a(A=>({performance:{...A.performance,current:_}})),w=new gt;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(_=1)=>n(l(),_),advance:(_,A)=>e(_,A,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new JR,pointer:w,mouse:w,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=l();v&&clearTimeout(v),_.performance.current!==_.performance.min&&y(_.performance.min),v=setTimeout(()=>y(l().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:_=>a(A=>({...A,events:{...A.events,..._}})),setSize:(_,A,R,P,U)=>{const k=l().camera,E={width:_,height:A,top:P||0,left:U||0,updateStyle:R};a(j=>({size:E,viewport:{...j.viewport,...p(k,f,E)}}))},setDpr:_=>a(A=>{const R=gB(_);return{viewport:{...A.viewport,dpr:R,initialDpr:A.viewport.initialDpr||R}}}),setFrameloop:(_="always")=>{const A=l().clock;A.stop(),A.elapsedTime=0,_!=="never"&&(A.start(),A.elapsedTime=0),a(()=>({frameloop:_}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:z.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(_,A,R)=>{const P=l().internal;return P.priority=P.priority+(A>0?1:0),P.subscribers.push({ref:_,priority:A,store:R}),P.subscribers=P.subscribers.sort((U,k)=>U.priority-k.priority),()=>{const U=l().internal;U!=null&&U.subscribers&&(U.priority=U.priority-(A>0?1:0),U.subscribers=U.subscribers.filter(k=>k.ref!==_))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:f,set:h}=t.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var p;i=l,s=c.dpr,yB(a,l),f.setPixelRatio(c.dpr);const v=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&f.domElement instanceof HTMLCanvasElement;f.setSize(l.width,l.height,v)}a!==o&&(o=a,h(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let p1,Cee=new Set,Ree=new Set,Pee=new Set;function NT(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function wv(n,e){switch(n){case"before":return NT(Cee,e);case"after":return NT(Ree,e);case"tail":return NT(Pee,e)}}let kT,OT;function FT(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),kT=e.internal.subscribers,p1=0;p1<kT.length;p1++)OT=kT[p1],OT.ref.current(OT.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Iee(n){let e=!1,t=!1,r,i,s;function o(c){i=requestAnimationFrame(o),e=!0,r=0,wv("before",c),t=!0;for(const h of n.values()){var f;s=h.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((f=s.gl.xr)!=null&&f.isPresenting)&&(r+=FT(c,s))}if(t=!1,wv("after",c),r===0)return wv("tail",c),e=!1,cancelAnimationFrame(i)}function a(c,f=1){var h;if(!c)return n.forEach(p=>a(p.store.getState(),f));(h=c.gl.xr)!=null&&h.isPresenting||!c.internal.active||c.frameloop==="never"||(f>1?c.internal.frames=Math.min(60,c.internal.frames+f):t?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,f=!0,h,p){if(f&&wv("before",c),h)FT(c,h,p);else for(const v of n.values())FT(c,v.store.getState());f&&wv("after",c)}return{loop:o,invalidate:a,advance:l}}function lP(){const n=z.useContext(aP);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Xa(n=t=>t,e){return lP()(n,e)}function cP(n,e=0){const t=lP(),r=t.getState().internal.subscribe,i=hB(n);return bx(()=>r(i,e,t),[e,r,t]),null}const AD=new WeakMap;function wB(n,e){return function(t,...r){let i=AD.get(t);return i||(i=new t,AD.set(t,i)),n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,_ee(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function Bp(n,e,t,r){const i=Array.isArray(e)?e:[e],s=see(wB(t,r),[n,...i],{equal:fi.equ});return Array.isArray(e)?s:s[0]}Bp.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return oee(wB(t),[n,...r])};Bp.clear=function(n,e){const t=Array.isArray(e)?e:[e];return aee([n,...t])};const qg=new Map,{invalidate:CD,advance:RD}=Iee(qg),{reconciler:Fy,applyProps:gd}=gee(qg,bee),Jm={objects:"shallow",strict:!1},Lee=(n,e)=>{const t=typeof n=="function"?n(e):n;return _B(t)?t:new sP({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function Dee(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=t}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:r,height:i,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function Nee(n){const e=qg.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||Aee(CD,RD),o=t||Fy.createContainer(s,yg.ConcurrentRoot,null,!1,null,"",i,null);e||qg.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(f={}){let{gl:h,size:p,scene:v,events:y,onCreated:w,shadows:S=!1,linear:_=!1,flat:A=!1,legacy:R=!1,orthographic:P=!1,frameloop:U="always",dpr:k=[1,2],performance:E,raycaster:j,camera:O,onPointerMissed:F}=f,Y=s.getState(),te=Y.gl;Y.gl||Y.set({gl:te=Lee(h,n)});let ie=Y.raycaster;ie||Y.set({raycaster:ie=new nP});const{params:ue,..._e}=j||{};if(fi.equ(_e,ie,Jm)||gd(ie,{..._e}),fi.equ(ue,ie.params,Jm)||gd(ie,{params:{...ie.params,...ue}}),!Y.camera||Y.camera===c&&!fi.equ(c,O,Jm)){c=O;const $=O instanceof hx,ne=$?O:P?new au(0,0,0,0,.1,1e3):new Hi(75,0,.1,1e3);$||(ne.position.z=5,O&&(gd(ne,O),("aspect"in O||"left"in O||"right"in O||"bottom"in O||"top"in O)&&(ne.manual=!0,ne.updateProjectionMatrix())),!Y.camera&&!(O!=null&&O.rotation)&&ne.lookAt(0,0,0)),Y.set({camera:ne}),ie.camera=ne}if(!Y.scene){let $;v instanceof $g?$=v:($=new $g,v&&gd($,v)),Y.set({scene:og($)})}if(!Y.xr){var he;const $=(nt,Ce)=>{const Ve=s.getState();Ve.frameloop!=="never"&&RD(nt,!0,Ve,Ce)},ne=()=>{const nt=s.getState();nt.gl.xr.enabled=nt.gl.xr.isPresenting,nt.gl.xr.setAnimationLoop(nt.gl.xr.isPresenting?$:null),nt.gl.xr.isPresenting||CD(nt)},we={connect(){const nt=s.getState().gl;nt.xr.addEventListener("sessionstart",ne),nt.xr.addEventListener("sessionend",ne)},disconnect(){const nt=s.getState().gl;nt.xr.removeEventListener("sessionstart",ne),nt.xr.removeEventListener("sessionend",ne)}};typeof((he=te.xr)==null?void 0:he.addEventListener)=="function"&&we.connect(),Y.set({xr:we})}if(te.shadowMap){const $=te.shadowMap.enabled,ne=te.shadowMap.type;if(te.shadowMap.enabled=!!S,fi.boo(S))te.shadowMap.type=Kv;else if(fi.str(S)){var ge;const we={basic:mU,percentage:jS,soft:Kv,variance:yc};te.shadowMap.type=(ge=we[S])!=null?ge:Kv}else fi.obj(S)&&Object.assign(te.shadowMap,S);($!==te.shadowMap.enabled||ne!==te.shadowMap.type)&&(te.shadowMap.needsUpdate=!0)}const q=fB();q&&("enabled"in q?q.enabled=!R:"legacyMode"in q&&(q.legacyMode=R)),l||gd(te,{outputEncoding:_?3e3:3001,toneMapping:A?su:hR}),Y.legacy!==R&&Y.set(()=>({legacy:R})),Y.linear!==_&&Y.set(()=>({linear:_})),Y.flat!==A&&Y.set(()=>({flat:A})),h&&!fi.fun(h)&&!_B(h)&&!fi.equ(h,te,Jm)&&gd(te,h),y&&!Y.events.handlers&&Y.set({events:y(s)});const oe=Dee(n,p);return fi.equ(oe,Y.size,Jm)||Y.setSize(oe.width,oe.height,oe.updateStyle,oe.top,oe.left),k&&Y.viewport.dpr!==gB(k)&&Y.setDpr(k),Y.frameloop!==U&&Y.setFrameloop(U),Y.onPointerMissed||Y.set({onPointerMissed:F}),E&&!fi.equ(E,Y.performance,Jm)&&Y.set($=>({performance:{...$.performance,...E}})),a=w,l=!0,this},render(f){return l||this.configure(),Fy.updateContainer(N.jsx(kee,{store:s,children:f,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){SB(n)}}}function kee({store:n,children:e,onCreated:t,rootElement:r}){return bx(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),N.jsx(aP.Provider,{value:n,children:e})}function SB(n,e){const t=qg.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),Fy.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),wee(i),qg.delete(n)}catch{}},500)})}}function Oee(n,e,t){return N.jsx(Fee,{children:n,container:e,state:t},e.uuid)}function Fee({state:n={},children:e,container:t}){const{events:r,size:i,...s}=n,o=lP(),[a]=z.useState(()=>new nP),[l]=z.useState(()=>new gt),c=z.useCallback((h,p)=>{const v={...h};Object.keys(h).forEach(w=>{(Mee.includes(w)||h[w]!==p[w]&&p[w])&&delete v[w]});let y;if(p&&i){const w=p.camera;y=h.viewport.getCurrentViewport(w,new ce,i),w!==h.camera&&yB(w,i)}return{...v,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...h.events,...p==null?void 0:p.events,...r},size:{...h.size,...i},viewport:{...h.viewport,...y},...s}},[n]),[f]=z.useState(()=>{const h=o.getState();return aB((v,y)=>({...h,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...h.events,...r},size:{...h.size,...i},...s,set:v,get:y,setEvents:w=>v(S=>({...S,events:{...S.events,...w}}))}))});return z.useEffect(()=>{const h=o.subscribe(p=>f.setState(v=>c(p,v)));return()=>{h()}},[c]),z.useEffect(()=>{f.setState(h=>c(o.getState(),h))},[c]),z.useEffect(()=>()=>{f.destroy()},[]),N.jsx(N.Fragment,{children:Fy.createPortal(N.jsx(aP.Provider,{value:f,children:e}),f,null)})}Fy.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:z.version});const UT={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Uee(n){const{handlePointer:e}=Tee(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(UT).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=UT[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=UT[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}var BT,PD;function Bee(){if(PD)return BT;PD=1;function n(e,t,r){var i,s,o,a,l;t==null&&(t=100);function c(){var h=Date.now()-a;h<t&&h>=0?i=setTimeout(c,t-h):(i=null,r||(l=e.apply(o,s),o=s=null))}var f=function(){o=this,s=arguments,a=Date.now();var h=r&&!i;return i||(i=setTimeout(c,t)),h&&(l=e.apply(o,s),o=s=null),l};return f.clear=function(){i&&(clearTimeout(i),i=null)},f.flush=function(){i&&(l=e.apply(o,s),o=s=null,clearTimeout(i),i=null)},f}return n.debounce=n,BT=n,BT}var zee=Bee();const ID=Vl(zee);var Vee=Object.defineProperty,Hee=Object.defineProperties,jee=Object.getOwnPropertyDescriptors,LD=Object.getOwnPropertySymbols,Wee=Object.prototype.hasOwnProperty,Gee=Object.prototype.propertyIsEnumerable,DD=(n,e,t)=>e in n?Vee(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ND=(n,e)=>{for(var t in e||(e={}))Wee.call(e,t)&&DD(n,t,e[t]);if(LD)for(var t of LD(e))Gee.call(e,t)&&DD(n,t,e[t]);return n},$ee=(n,e)=>Hee(n,jee(e)),kD,OD;typeof window<"u"&&((kD=window.document)!=null&&kD.createElement||((OD=window.navigator)==null?void 0:OD.product)==="ReactNative")?z.useLayoutEffect:z.useEffect;function bB(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=n.child;for(;r;){const i=bB(r,e,t);if(i)return i;r=r.sibling}}function EB(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const FD=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=FD;return}return FD.apply(this,arguments)};const uP=EB(z.createContext(null));class TB extends z.Component{render(){return z.createElement(uP.Provider,{value:this._reactInternals},this.props.children)}}function Xee(){const n=z.useContext(uP);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=z.useId();return z.useMemo(()=>{for(const r of[n,n==null?void 0:n.alternate]){if(!r)continue;const i=bB(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[n,e])}function qee(){const n=Xee(),[e]=z.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const i=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;i&&i!==uP&&!e.has(i)&&e.set(i,z.useContext(EB(i)))}t=t.return}return e}function Yee(){const n=qee();return z.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>z.createElement(e,null,z.createElement(t.Provider,$ee(ND({},r),{value:n.get(t)}))),e=>z.createElement(TB,ND({},e))),[n])}function Kee({debounce:n,scroll:e,polyfill:t,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=t||typeof window<"u"&&window.ResizeObserver,[s,o]=z.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!i)return s.width=1280,s.height=800,[()=>{},s,()=>{}];const a=z.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,c=n?typeof n=="number"?n:n.resize:null,f=z.useRef(!1);z.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[h,p,v]=z.useMemo(()=>{const _=()=>{if(!a.current.element)return;const{left:A,top:R,width:P,height:U,bottom:k,right:E,x:j,y:O}=a.current.element.getBoundingClientRect(),F={left:A,top:R,width:P,height:U,bottom:k,right:E,x:j,y:O};a.current.element instanceof HTMLElement&&r&&(F.height=a.current.element.offsetHeight,F.width=a.current.element.offsetWidth),Object.freeze(F),f.current&&!ete(a.current.lastBounds,F)&&o(a.current.lastBounds=F)};return[_,c?ID(_,c):_,l?ID(_,l):_]},[o,r,l,c]);function y(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",v,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function w(){var _;a.current.element&&(a.current.resizeObserver=new i(p),(_=a.current.resizeObserver)==null||_.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(A=>A.addEventListener("scroll",v,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{v()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const S=_=>{!_||_===a.current.element||(y(),a.current.element=_,a.current.scrollContainers=MB(_),w())};return Jee(v,!!e),Zee(p),z.useEffect(()=>{y(),w()},[e,v,p]),z.useEffect(()=>y,[]),[S,s,h]}function Zee(n){z.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function Jee(n,e){z.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function MB(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...MB(n.parentElement)]}const Qee=["x","y","top","bottom","left","right","width","height"],ete=(n,e)=>Qee.every(t=>n[t]===e[t]),tte=z.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=Uee,eventSource:a,eventPrefix:l,shadows:c,linear:f,flat:h,legacy:p,orthographic:v,frameloop:y,dpr:w,performance:S,raycaster:_,camera:A,scene:R,onPointerMissed:P,onCreated:U,...k},E){z.useMemo(()=>uB(QQ),[]);const j=Yee(),[O,F]=Kee({scroll:!0,debounce:{scroll:50,resize:0},...r}),Y=z.useRef(null),te=z.useRef(null);z.useImperativeHandle(E,()=>Y.current);const ie=hB(P),[ue,_e]=z.useState(!1),[he,ge]=z.useState(!1);if(ue)throw ue;if(he)throw he;const q=z.useRef(null);bx(()=>{const $=Y.current;F.width>0&&F.height>0&&$&&(q.current||(q.current=Nee($)),q.current.configure({gl:s,events:o,shadows:c,linear:f,flat:h,legacy:p,orthographic:v,frameloop:y,dpr:w,performance:S,raycaster:_,camera:A,scene:R,size:F,onPointerMissed:(...ne)=>ie.current==null?void 0:ie.current(...ne),onCreated:ne=>{ne.events.connect==null||ne.events.connect(a?vee(a)?a.current:a:te.current),l&&ne.setEvents({compute:(we,nt)=>{const Ce=we[l+"X"],Ve=we[l+"Y"];nt.pointer.set(Ce/nt.size.width*2-1,-(Ve/nt.size.height)*2+1),nt.raycaster.setFromCamera(nt.pointer,nt.camera)}}),U==null||U(ne)}}),q.current.render(N.jsx(j,{children:N.jsx(pB,{set:ge,children:N.jsx(z.Suspense,{fallback:N.jsx(yee,{set:_e}),children:e})})})))}),z.useEffect(()=>{const $=Y.current;if($)return()=>SB($)},[]);const oe=a?"none":"auto";return N.jsx("div",{ref:te,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:oe,...i},...k,children:N.jsx("div",{ref:O,style:{width:"100%",height:"100%"},children:N.jsx("canvas",{ref:Y,style:{display:"block"},children:t})})})}),nte=z.forwardRef(function(e,t){return N.jsx(TB,{children:N.jsx(tte,{...e,ref:t})})});function rte(n,e,t){return Math.max(e,Math.min(n,t))}const _o={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function UD(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function BD(n,e,t,r=.15){return r===0?rte(n,e,t):n<e?-UD(e-n,t-e,r)+e:n>t?+UD(n-t,t-e,r)+t:n}function ite(n,[e,t],[r,i]){const[[s,o],[a,l]]=n;return[BD(e,s,o,r),BD(t,a,l,i)]}function ste(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ote(n){var e=ste(n,"string");return typeof e=="symbol"?e:String(e)}function pa(n,e,t){return e=ote(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ni(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(t),!0).forEach(function(r){pa(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zD(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const AB={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function VD(n){return n?n[0].toUpperCase()+n.slice(1):""}const ate=["enter","leave"];function lte(n=!1,e){return n&&!ate.includes(e)}function cte(n,e="",t=!1){const r=AB[n],i=r&&r[e]||e;return"on"+VD(n)+VD(i)+(lte(t,i)?"Capture":"")}const ute=["gotpointercapture","lostpointercapture"];function fte(n){let e=n.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const r=ute.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:t}}function dte(n,e=""){const t=AB[n],r=t&&t[e]||e;return n+r}function _b(n){return"touches"in n}function CB(n){return _b(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function hte(n){return Array.from(n.touches).filter(e=>{var t,r;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(r=t.contains)===null||r===void 0?void 0:r.call(t,e.target))})}function pte(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function RB(n){return _b(n)?pte(n)[0]:n}function mte(n){return hte(n).map(e=>e.identifier)}function zT(n){const e=RB(n);return _b(n)?e.identifier:e.pointerId}function HD(n){const e=RB(n);return[e.clientX,e.clientY]}function gte(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s}=n;Object.assign(e,{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s})}return e}function rS(n,...e){return typeof n=="function"?n(...e):n}function vte(){}function yte(...n){return n.length===0?vte:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function jD(n,e){return Object.assign({},e,n||{})}const xte=32;class _te{constructor(e,t,r){this.ctrl=e,this.args=t,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:r,args:i}=this;t[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,r=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=r.from?rS(r.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:r,shared:i}=this;t.args=this.args;let s=0;if(e&&(t.event=e,r.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,gte(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const k=t._delta.map(Math.abs);_o.addTo(t._distance,k)}this.axisIntent&&this.axisIntent(e);const[o,a]=t._movement,[l,c]=r.threshold,{_step:f,values:h}=t;if(r.hasCustomTransform?(f[0]===!1&&(f[0]=Math.abs(o)>=l&&h[0]),f[1]===!1&&(f[1]=Math.abs(a)>=c&&h[1])):(f[0]===!1&&(f[0]=Math.abs(o)>=l&&Math.sign(o)*l),f[1]===!1&&(f[1]=Math.abs(a)>=c&&Math.sign(a)*c)),t.intentional=f[0]!==!1||f[1]!==!1,!t.intentional)return;const p=[0,0];if(r.hasCustomTransform){const[k,E]=h;p[0]=f[0]!==!1?k-f[0]:0,p[1]=f[1]!==!1?E-f[1]:0}else p[0]=f[0]!==!1?o-f[0]:0,p[1]=f[1]!==!1?a-f[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(p);const v=t.offset,y=t._active&&!t._blocked||t.active;y&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=i[this.ingKey]=t._active,e&&(t.first&&("bounds"in r&&(t._bounds=rS(r.bounds,t)),this.setup&&this.setup()),t.movement=p,this.computeOffset()));const[w,S]=t.offset,[[_,A],[R,P]]=t._bounds;t.overflow=[w<_?-1:w>A?1:0,S<R?-1:S>P?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const U=t._active?r.rubberband||[0,0]:[0,0];if(t.offset=ite(t._bounds,t.offset,U),t.delta=_o.sub(t.offset,v),this.computeMovement(),y&&(!t.last||s>xte)){t.delta=_o.sub(t.offset,v);const k=t.delta.map(Math.abs);_o.addTo(t.distance,k),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&s>0&&(t.velocity=[k[0]/s,k[1]/s],t.timeDelta=s)}}emit(){const e=this.state,t=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(Ni(Ni(Ni({},t),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function wte([n,e],t){const r=Math.abs(n),i=Math.abs(e);if(r>i&&r>t)return"x";if(i>r&&i>t)return"y"}class Ste extends _te{constructor(...e){super(...e),pa(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=_o.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=_o.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,r=this.config;if(!t.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[CB(e)]:r.axisThreshold;t.axis=wte(t._movement,i)}t._blocked=(r.lockDirection||!!r.axis)&&!t.axis||!!r.axis&&r.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const bte=n=>n,WD=.15,PB={enabled(n=!0){return n},eventOptions(n,e,t){return Ni(Ni({},t.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[WD,WD];case!1:return[0,0];default:return _o.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return _o.toVector(n)},transform(n,e,t){const r=n||t.shared.transform;return this.hasCustomTransform=!!r,r||bte},threshold(n){return _o.toVector(n,0)}},Ete=0,Ex=Ni(Ni({},PB),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(n=Ete){return n},bounds(n={}){if(typeof n=="function")return s=>Ex.bounds(n(s));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:r=-1/0,bottom:i=1/0}=n;return[[e,t],[r,i]]}}),GD={ArrowRight:(n,e=1)=>[n*e,0],ArrowLeft:(n,e=1)=>[-1*n*e,0],ArrowUp:(n,e=1)=>[0,-1*n*e],ArrowDown:(n,e=1)=>[0,n*e]};class Tte extends Ste{constructor(...e){super(...e),pa(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:t.left-r.left+e.offset[0],right:t.right-r.right+e.offset[0],top:t.top-r.top+e.offset[1],bottom:t.bottom-r.bottom+e.offset[1]};e._bounds=Ex.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=zT(e),r._pointerActive=!0,this.computeValues(HD(e)),this.computeInitial(),t.preventScrollAxis&&CB(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,r=this.config;if(!t._pointerActive)return;const i=zT(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;const s=HD(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=_o.sub(s,t._values),this.computeValues(s)),_o.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,r=this.config;if(!t._active||!t._pointerActive)return;const i=zT(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=t._distance;if(t.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,t.tap&&r.filterTaps)t._force=!0;else{const[a,l]=t._delta,[c,f]=t._movement,[h,p]=r.swipe.velocity,[v,y]=r.swipe.distance,w=r.swipe.duration;if(t.elapsedTime<w){const S=Math.abs(a/t.timeDelta),_=Math.abs(l/t.timeDelta);S>h&&Math.abs(c)>v&&(t.swipe[0]=Math.sign(a)),_>p&&Math.abs(f)>y&&(t.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,r=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,Mte(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=GD[e.key];if(t){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=t(this.config.keyboardDisplacement,i),r._keyboardActive=!0,_o.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in GD&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function Mte(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const Tx=typeof window<"u"&&window.document&&window.document.createElement;function IB(){return Tx&&"ontouchstart"in window}function Ate(){return IB()||Tx&&window.navigator.maxTouchPoints>1}function Cte(){return Tx&&"onpointerdown"in window}function Rte(){return Tx&&"exitPointerLock"in window.document}function Pte(){try{return"constructor"in GestureEvent}catch{return!1}}const Rl={isBrowser:Tx,gesture:Pte(),touch:IB(),touchscreen:Ate(),pointer:Cte(),pointerLock:Rte()},Ite=250,Lte=180,Dte=.5,Nte=50,kte=250,Ote=10,$D={mouse:0,touch:0,pen:8},Fte=Ni(Ni({},Ex),{},{device(n,e,{pointer:{touch:t=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&Rl.pointerLock,Rl.touch&&t?"touch":this.pointerLock?"mouse":Rl.pointer&&!i?"pointer":Rl.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&n?Ite:void 0,!(!Rl.touchscreen||t===!1))return n||(t!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&t},threshold(n,e,{filterTaps:t=!1,tapsThreshold:r=3,axis:i=void 0}){const s=_o.toVector(n,t?r:i?1:0);return this.filterTaps=t,this.tapsThreshold=r,s},swipe({velocity:n=Dte,distance:e=Nte,duration:t=kte}={}){return{velocity:this.transform(_o.toVector(n)),distance:this.transform(_o.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return Lte;case!1:return 0;default:return n}},axisThreshold(n){return n?Ni(Ni({},$D),n):$D},keyboardDisplacement(n=Ote){return n}});Ni(Ni({},PB),{},{device(n,e,{shared:t,pointer:{touch:r=!1}={}}){if(t.target&&!Rl.touch&&Rl.gesture)return"gesture";if(Rl.touch&&r)return"touch";if(Rl.touchscreen){if(Rl.pointer)return"pointer";if(Rl.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:r={}}){const i=o=>{const a=jD(rS(t,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=jD(rS(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof t!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",_o.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});Ni(Ni({},Ex),{},{mouseOnly:(n=!0)=>n});Ni(Ni({},Ex),{},{mouseOnly:(n=!0)=>n});const LB=new Map,TA=new Map;function Ute(n){LB.set(n.key,n.engine),TA.set(n.key,n.resolver)}const Bte={key:"drag",engine:Tte,resolver:Fte};function zte(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Vte(n,e){if(n==null)return{};var t=zte(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}const Hte={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=Rl.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},jte=["target","eventOptions","window","enabled","transform"];function Z1(n={},e){const t={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":t[r]=i.call(t,n[r],r,n);break;case"object":t[r]=Z1(n[r],i);break;case"boolean":i&&(t[r]=n[r]);break}return t}function Wte(n,e,t={}){const r=n,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,c=Vte(r,jte);if(t.shared=Z1({target:i,eventOptions:s,window:o,enabled:a,transform:l},Hte),e){const f=TA.get(e);t[e]=Z1(Ni({shared:t.shared},c),f)}else for(const f in c){const h=TA.get(f);h&&(t[f]=Z1(Ni({shared:t.shared},c[f]),h))}return t}class DB{constructor(e,t){pa(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,r,i,s){const o=this._listeners,a=dte(t,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=Ni(Ni({},l),s);e.addEventListener(a,i,c);const f=()=>{e.removeEventListener(a,i,c),o.delete(f)};return o.add(f),f}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class Gte{constructor(){pa(this,"_timeouts",new Map)}add(e,t,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(t,r,...i))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class $te{constructor(e){pa(this,"gestures",new Set),pa(this,"_targetEventStore",new DB(this)),pa(this,"gestureEventStores",{}),pa(this,"gestureTimeoutStores",{}),pa(this,"handlers",{}),pa(this,"config",{}),pa(this,"pointerIds",new Set),pa(this,"touchIds",new Set),pa(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Xte(this,e)}setEventIds(e){if(_b(e))return this.touchIds=new Set(mte(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=Wte(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,r={};let i;if(!(t.target&&(i=t.target(),!i))){if(t.enabled){for(const o of this.gestures){const a=this.config[o],l=XD(r,a.eventOptions,!!i);if(a.enabled){const c=LB.get(o);new c(this,e,o).bind(l)}}const s=XD(r,t.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](Ni(Ni({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in r)r[s]=yte(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=fte(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}}function Qm(n,e){n.gestures.add(e),n.gestureEventStores[e]=new DB(n,e),n.gestureTimeoutStores[e]=new Gte}function Xte(n,e){e.drag&&Qm(n,"drag"),e.wheel&&Qm(n,"wheel"),e.scroll&&Qm(n,"scroll"),e.move&&Qm(n,"move"),e.pinch&&Qm(n,"pinch"),e.hover&&Qm(n,"hover")}const XD=(n,e,t)=>(r,i,s,o={},a=!1)=>{var l,c;const f=(l=o.capture)!==null&&l!==void 0?l:e.capture,h=(c=o.passive)!==null&&c!==void 0?c:e.passive;let p=a?r:cte(r,i,f);t&&h&&(p+="Passive"),n[p]=n[p]||[],n[p].push(s)};function qte(n,e={},t,r){const i=Te.useMemo(()=>new $te(n),[]);if(i.applyHandlers(n,r),i.applyConfig(e,t),Te.useEffect(i.effect.bind(i)),Te.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function Yte(n,e){return Ute(Bte),qte({drag:n},e||{},"drag")}var Nl=Uint8Array,yd=Uint16Array,MA=Uint32Array,NB=new Nl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),kB=new Nl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Kte=new Nl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),OB=function(n,e){for(var t=new yd(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new MA(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return[t,i]},FB=OB(NB,2),UB=FB[0],Zte=FB[1];UB[28]=258,Zte[258]=28;var Jte=OB(kB,0),Qte=Jte[0],AA=new yd(32768);for(var mi=0;mi<32768;++mi){var cd=(mi&43690)>>>1|(mi&21845)<<1;cd=(cd&52428)>>>2|(cd&13107)<<2,cd=(cd&61680)>>>4|(cd&3855)<<4,AA[mi]=((cd&65280)>>>8|(cd&255)<<8)>>>1}var sy=function(n,e,t){for(var r=n.length,i=0,s=new yd(e);i<r;++i)++s[n[i]-1];var o=new yd(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new yd(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],f=e-n[i],h=o[n[i]-1]++<<f,p=h|(1<<f)-1;h<=p;++h)a[AA[h]>>>l]=c}else for(a=new yd(r),i=0;i<r;++i)n[i]&&(a[i]=AA[o[n[i]-1]++]>>>15-n[i]);return a},Mx=new Nl(288);for(var mi=0;mi<144;++mi)Mx[mi]=8;for(var mi=144;mi<256;++mi)Mx[mi]=9;for(var mi=256;mi<280;++mi)Mx[mi]=7;for(var mi=280;mi<288;++mi)Mx[mi]=8;var BB=new Nl(32);for(var mi=0;mi<32;++mi)BB[mi]=5;var ene=sy(Mx,9,1),tne=sy(BB,5,1),VT=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},mc=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},HT=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},nne=function(n){return(n/8|0)+(n&7&&1)},rne=function(n,e,t){(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof yd?yd:n instanceof MA?MA:Nl)(t-e);return r.set(n.subarray(e,t)),r},ine=function(n,e,t){var r=n.length;if(!r||t&&!t.l&&r<5)return e||new Nl(0);var i=!e||t,s=!t||t.i;t||(t={}),e||(e=new Nl(r*3));var o=function(He){var je=e.length;if(He>je){var pt=new Nl(Math.max(je*2,He));pt.set(e),e=pt}},a=t.f||0,l=t.p||0,c=t.b||0,f=t.l,h=t.d,p=t.m,v=t.n,y=r*8;do{if(!f){t.f=a=mc(n,l,1);var w=mc(n,l+1,3);if(l+=3,w)if(w==1)f=ene,h=tne,p=9,v=5;else if(w==2){var R=mc(n,l,31)+257,P=mc(n,l+10,15)+4,U=R+mc(n,l+5,31)+1;l+=14;for(var k=new Nl(U),E=new Nl(19),j=0;j<P;++j)E[Kte[j]]=mc(n,l+j*3,7);l+=P*3;for(var O=VT(E),F=(1<<O)-1,Y=sy(E,O,1),j=0;j<U;){var te=Y[mc(n,l,F)];l+=te&15;var S=te>>>4;if(S<16)k[j++]=S;else{var ie=0,ue=0;for(S==16?(ue=3+mc(n,l,3),l+=2,ie=k[j-1]):S==17?(ue=3+mc(n,l,7),l+=3):S==18&&(ue=11+mc(n,l,127),l+=7);ue--;)k[j++]=ie}}var _e=k.subarray(0,R),he=k.subarray(R);p=VT(_e),v=VT(he),f=sy(_e,p,1),h=sy(he,v,1)}else throw"invalid block type";else{var S=nne(l)+4,_=n[S-4]|n[S-3]<<8,A=S+_;if(A>r){if(s)throw"unexpected EOF";break}i&&o(c+_),e.set(n.subarray(S,A),c),t.b=c+=_,t.p=l=A*8;continue}if(l>y){if(s)throw"unexpected EOF";break}}i&&o(c+131072);for(var ge=(1<<p)-1,q=(1<<v)-1,oe=l;;oe=l){var ie=f[HT(n,l)&ge],$=ie>>>4;if(l+=ie&15,l>y){if(s)throw"unexpected EOF";break}if(!ie)throw"invalid length/literal";if($<256)e[c++]=$;else if($==256){oe=l,f=null;break}else{var ne=$-254;if($>264){var j=$-257,we=NB[j];ne=mc(n,l,(1<<we)-1)+UB[j],l+=we}var nt=h[HT(n,l)&q],Ce=nt>>>4;if(!nt)throw"invalid distance";l+=nt&15;var he=Qte[Ce];if(Ce>3){var we=kB[Ce];he+=HT(n,l)&(1<<we)-1,l+=we}if(l>y){if(s)throw"unexpected EOF";break}i&&o(c+131072);for(var Ve=c+ne;c<Ve;c+=4)e[c]=e[c-he],e[c+1]=e[c+1-he],e[c+2]=e[c+2-he],e[c+3]=e[c+3-he];c=Ve}}t.l=f,t.p=oe,t.b=c,f&&(a=1,t.m=p,t.d=h,t.n=v)}while(!a);return c==e.length?e:rne(e,0,c)},sne=new Nl(0),one=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function m1(n,e){return ine((one(n),n.subarray(2,-4)),e)}var ane=typeof TextDecoder<"u"&&new TextDecoder,lne=0;try{ane.decode(sne,{stream:!0}),lne=1}catch{}const cne=n=>n&&n.isCubeTexture;class une extends Si{constructor(e,t){var r,i;const s=cne(e),a=((i=s?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(a)),c=Math.pow(2,l),f=3*Math.max(c,16*7),h=4*c,p=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/f}`,`#define CUBEUV_TEXEL_HEIGHT ${1/h}`,`#define CUBEUV_MAX_MIP ${l}.0`],v=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,y=p.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${parseInt(lx.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,w={map:{value:e},height:{value:(t==null?void 0:t.height)||15},radius:{value:(t==null?void 0:t.radius)||100}},S=new xx(1,16),_=new Ea({uniforms:w,fragmentShader:y,vertexShader:v,side:Dl});super(S,_)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var fne=Object.defineProperty,dne=(n,e,t)=>e in n?fne(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,hne=(n,e,t)=>(dne(n,e+"",t),t);class pne{constructor(){hne(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}var mne=Object.defineProperty,gne=(n,e,t)=>e in n?mne(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Hn=(n,e,t)=>(gne(n,typeof e!="symbol"?e+"":e,t),t);const g1=new Kp,qD=new ef,vne=Math.cos(70*(Math.PI/180)),YD=(n,e)=>(n%e+e)%e;let yne=class extends pne{constructor(e,t){super(),Hn(this,"object"),Hn(this,"domElement"),Hn(this,"enabled",!0),Hn(this,"target",new ce),Hn(this,"minDistance",0),Hn(this,"maxDistance",1/0),Hn(this,"minZoom",0),Hn(this,"maxZoom",1/0),Hn(this,"minPolarAngle",0),Hn(this,"maxPolarAngle",Math.PI),Hn(this,"minAzimuthAngle",-1/0),Hn(this,"maxAzimuthAngle",1/0),Hn(this,"enableDamping",!1),Hn(this,"dampingFactor",.05),Hn(this,"enableZoom",!0),Hn(this,"zoomSpeed",1),Hn(this,"enableRotate",!0),Hn(this,"rotateSpeed",1),Hn(this,"enablePan",!0),Hn(this,"panSpeed",1),Hn(this,"screenSpacePanning",!0),Hn(this,"keyPanSpeed",7),Hn(this,"zoomToCursor",!1),Hn(this,"autoRotate",!1),Hn(this,"autoRotateSpeed",2),Hn(this,"reverseOrbit",!1),Hn(this,"reverseHorizontalOrbit",!1),Hn(this,"reverseVerticalOrbit",!1),Hn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Hn(this,"mouseButtons",{LEFT:qh.ROTATE,MIDDLE:qh.DOLLY,RIGHT:qh.PAN}),Hn(this,"touches",{ONE:Yh.ROTATE,TWO:Yh.DOLLY_PAN}),Hn(this,"target0"),Hn(this,"position0"),Hn(this,"zoom0"),Hn(this,"_domElementKeyEvents",null),Hn(this,"getPolarAngle"),Hn(this,"getAzimuthalAngle"),Hn(this,"setPolarAngle"),Hn(this,"setAzimuthalAngle"),Hn(this,"getDistance"),Hn(this,"getZoomScale"),Hn(this,"listenToKeyEvents"),Hn(this,"stopListenToKeyEvents"),Hn(this,"saveState"),Hn(this,"reset"),Hn(this,"update"),Hn(this,"connect"),Hn(this,"dispose"),Hn(this,"dollyIn"),Hn(this,"dollyOut"),Hn(this,"getScale"),Hn(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>f.phi,this.getAzimuthalAngle=()=>f.theta,this.setPolarAngle=Ae=>{let Ye=YD(Ae,2*Math.PI),_t=f.phi;_t<0&&(_t+=2*Math.PI),Ye<0&&(Ye+=2*Math.PI);let me=Math.abs(Ye-_t);2*Math.PI-me<me&&(Ye<_t?Ye+=2*Math.PI:_t+=2*Math.PI),h.phi=Ye-_t,r.update()},this.setAzimuthalAngle=Ae=>{let Ye=YD(Ae,2*Math.PI),_t=f.theta;_t<0&&(_t+=2*Math.PI),Ye<0&&(Ye+=2*Math.PI);let me=Math.abs(Ye-_t);2*Math.PI-me<me&&(Ye<_t?Ye+=2*Math.PI:_t+=2*Math.PI),h.theta=Ye-_t,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=Ae=>{Ae.addEventListener("keydown",wt),this._domElementKeyEvents=Ae},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",wt),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const Ae=new ce,Ye=new ce(0,1,0),_t=new Ws().setFromUnitVectors(e.up,Ye),me=_t.clone().invert(),Be=new ce,ze=new Ws,ot=2*Math.PI;return function(){const Ut=r.object.position;_t.setFromUnitVectors(e.up,Ye),me.copy(_t).invert(),Ae.copy(Ut).sub(r.target),Ae.applyQuaternion(_t),f.setFromVector3(Ae),r.autoRotate&&l===a.NONE&&ue(te()),r.enableDamping?(f.theta+=h.theta*r.dampingFactor,f.phi+=h.phi*r.dampingFactor):(f.theta+=h.theta,f.phi+=h.phi);let Qt=r.minAzimuthAngle,_n=r.maxAzimuthAngle;isFinite(Qt)&&isFinite(_n)&&(Qt<-Math.PI?Qt+=ot:Qt>Math.PI&&(Qt-=ot),_n<-Math.PI?_n+=ot:_n>Math.PI&&(_n-=ot),Qt<=_n?f.theta=Math.max(Qt,Math.min(_n,f.theta)):f.theta=f.theta>(Qt+_n)/2?Math.max(Qt,f.theta):Math.min(_n,f.theta)),f.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,f.phi)),f.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(v,r.dampingFactor):r.target.add(v),r.zoomToCursor&&O||r.object.isOrthographicCamera?f.radius=nt(f.radius):f.radius=nt(f.radius*p),Ae.setFromSpherical(f),Ae.applyQuaternion(me),Ut.copy(r.target).add(Ae),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(h.theta*=1-r.dampingFactor,h.phi*=1-r.dampingFactor,v.multiplyScalar(1-r.dampingFactor)):(h.set(0,0,0),v.set(0,0,0));let mr=!1;if(r.zoomToCursor&&O){let Gt=null;if(r.object instanceof Hi&&r.object.isPerspectiveCamera){const nn=Ae.length();Gt=nt(nn*p);const Pn=nn-Gt;r.object.position.addScaledVector(E,Pn),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const nn=new ce(j.x,j.y,0);nn.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix(),mr=!0;const Pn=new ce(j.x,j.y,0);Pn.unproject(r.object),r.object.position.sub(Pn).add(nn),r.object.updateMatrixWorld(),Gt=Ae.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Gt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Gt).add(r.object.position):(g1.origin.copy(r.object.position),g1.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(g1.direction))<vne?e.lookAt(r.target):(qD.setFromNormalAndCoplanarPoint(r.object.up,r.target),g1.intersectPlane(qD,r.target))))}else r.object instanceof au&&r.object.isOrthographicCamera&&(mr=p!==1,mr&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix()));return p=1,O=!1,mr||Be.distanceToSquared(r.object.position)>c||8*(1-ze.dot(r.object.quaternion))>c?(r.dispatchEvent(i),Be.copy(r.object.position),ze.copy(r.object.quaternion),mr=!1,!0):!1}})(),this.connect=Ae=>{r.domElement=Ae,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",xt),r.domElement.addEventListener("pointerdown",ee),r.domElement.addEventListener("pointercancel",Oe),r.domElement.addEventListener("wheel",St)},this.dispose=()=>{var Ae,Ye,_t,me,Be,ze;r.domElement&&(r.domElement.style.touchAction="auto"),(Ae=r.domElement)==null||Ae.removeEventListener("contextmenu",xt),(Ye=r.domElement)==null||Ye.removeEventListener("pointerdown",ee),(_t=r.domElement)==null||_t.removeEventListener("pointercancel",Oe),(me=r.domElement)==null||me.removeEventListener("wheel",St),(Be=r.domElement)==null||Be.ownerDocument.removeEventListener("pointermove",xe),(ze=r.domElement)==null||ze.ownerDocument.removeEventListener("pointerup",Oe),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",wt)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,f=new xA,h=new xA;let p=1;const v=new ce,y=new gt,w=new gt,S=new gt,_=new gt,A=new gt,R=new gt,P=new gt,U=new gt,k=new gt,E=new ce,j=new gt;let O=!1;const F=[],Y={};function te(){return 2*Math.PI/60/60*r.autoRotateSpeed}function ie(){return Math.pow(.95,r.zoomSpeed)}function ue(Ae){r.reverseOrbit||r.reverseHorizontalOrbit?h.theta+=Ae:h.theta-=Ae}function _e(Ae){r.reverseOrbit||r.reverseVerticalOrbit?h.phi+=Ae:h.phi-=Ae}const he=(()=>{const Ae=new ce;return function(_t,me){Ae.setFromMatrixColumn(me,0),Ae.multiplyScalar(-_t),v.add(Ae)}})(),ge=(()=>{const Ae=new ce;return function(_t,me){r.screenSpacePanning===!0?Ae.setFromMatrixColumn(me,1):(Ae.setFromMatrixColumn(me,0),Ae.crossVectors(r.object.up,Ae)),Ae.multiplyScalar(_t),v.add(Ae)}})(),q=(()=>{const Ae=new ce;return function(_t,me){const Be=r.domElement;if(Be&&r.object instanceof Hi&&r.object.isPerspectiveCamera){const ze=r.object.position;Ae.copy(ze).sub(r.target);let ot=Ae.length();ot*=Math.tan(r.object.fov/2*Math.PI/180),he(2*_t*ot/Be.clientHeight,r.object.matrix),ge(2*me*ot/Be.clientHeight,r.object.matrix)}else Be&&r.object instanceof au&&r.object.isOrthographicCamera?(he(_t*(r.object.right-r.object.left)/r.object.zoom/Be.clientWidth,r.object.matrix),ge(me*(r.object.top-r.object.bottom)/r.object.zoom/Be.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function oe(Ae){r.object instanceof Hi&&r.object.isPerspectiveCamera||r.object instanceof au&&r.object.isOrthographicCamera?p=Ae:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function $(Ae){oe(p/Ae)}function ne(Ae){oe(p*Ae)}function we(Ae){if(!r.zoomToCursor||!r.domElement)return;O=!0;const Ye=r.domElement.getBoundingClientRect(),_t=Ae.clientX-Ye.left,me=Ae.clientY-Ye.top,Be=Ye.width,ze=Ye.height;j.x=_t/Be*2-1,j.y=-(me/ze)*2+1,E.set(j.x,j.y,1).unproject(r.object).sub(r.object.position).normalize()}function nt(Ae){return Math.max(r.minDistance,Math.min(r.maxDistance,Ae))}function Ce(Ae){y.set(Ae.clientX,Ae.clientY)}function Ve(Ae){we(Ae),P.set(Ae.clientX,Ae.clientY)}function He(Ae){_.set(Ae.clientX,Ae.clientY)}function je(Ae){w.set(Ae.clientX,Ae.clientY),S.subVectors(w,y).multiplyScalar(r.rotateSpeed);const Ye=r.domElement;Ye&&(ue(2*Math.PI*S.x/Ye.clientHeight),_e(2*Math.PI*S.y/Ye.clientHeight)),y.copy(w),r.update()}function pt(Ae){U.set(Ae.clientX,Ae.clientY),k.subVectors(U,P),k.y>0?$(ie()):k.y<0&&ne(ie()),P.copy(U),r.update()}function bt(Ae){A.set(Ae.clientX,Ae.clientY),R.subVectors(A,_).multiplyScalar(r.panSpeed),q(R.x,R.y),_.copy(A),r.update()}function Dt(Ae){we(Ae),Ae.deltaY<0?ne(ie()):Ae.deltaY>0&&$(ie()),r.update()}function Jt(Ae){let Ye=!1;switch(Ae.code){case r.keys.UP:q(0,r.keyPanSpeed),Ye=!0;break;case r.keys.BOTTOM:q(0,-r.keyPanSpeed),Ye=!0;break;case r.keys.LEFT:q(r.keyPanSpeed,0),Ye=!0;break;case r.keys.RIGHT:q(-r.keyPanSpeed,0),Ye=!0;break}Ye&&(Ae.preventDefault(),r.update())}function at(){if(F.length==1)y.set(F[0].pageX,F[0].pageY);else{const Ae=.5*(F[0].pageX+F[1].pageX),Ye=.5*(F[0].pageY+F[1].pageY);y.set(Ae,Ye)}}function Xe(){if(F.length==1)_.set(F[0].pageX,F[0].pageY);else{const Ae=.5*(F[0].pageX+F[1].pageX),Ye=.5*(F[0].pageY+F[1].pageY);_.set(Ae,Ye)}}function ae(){const Ae=F[0].pageX-F[1].pageX,Ye=F[0].pageY-F[1].pageY,_t=Math.sqrt(Ae*Ae+Ye*Ye);P.set(0,_t)}function Bt(){r.enableZoom&&ae(),r.enablePan&&Xe()}function ht(){r.enableZoom&&ae(),r.enableRotate&&at()}function Re(Ae){if(F.length==1)w.set(Ae.pageX,Ae.pageY);else{const _t=Ot(Ae),me=.5*(Ae.pageX+_t.x),Be=.5*(Ae.pageY+_t.y);w.set(me,Be)}S.subVectors(w,y).multiplyScalar(r.rotateSpeed);const Ye=r.domElement;Ye&&(ue(2*Math.PI*S.x/Ye.clientHeight),_e(2*Math.PI*S.y/Ye.clientHeight)),y.copy(w)}function mt(Ae){if(F.length==1)A.set(Ae.pageX,Ae.pageY);else{const Ye=Ot(Ae),_t=.5*(Ae.pageX+Ye.x),me=.5*(Ae.pageY+Ye.y);A.set(_t,me)}R.subVectors(A,_).multiplyScalar(r.panSpeed),q(R.x,R.y),_.copy(A)}function tn(Ae){const Ye=Ot(Ae),_t=Ae.pageX-Ye.x,me=Ae.pageY-Ye.y,Be=Math.sqrt(_t*_t+me*me);U.set(0,Be),k.set(0,Math.pow(U.y/P.y,r.zoomSpeed)),$(k.y),P.copy(U)}function It(Ae){r.enableZoom&&tn(Ae),r.enablePan&&mt(Ae)}function se(Ae){r.enableZoom&&tn(Ae),r.enableRotate&&Re(Ae)}function ee(Ae){var Ye,_t;r.enabled!==!1&&(F.length===0&&((Ye=r.domElement)==null||Ye.ownerDocument.addEventListener("pointermove",xe),(_t=r.domElement)==null||_t.ownerDocument.addEventListener("pointerup",Oe)),Tt(Ae),Ae.pointerType==="touch"?Rt(Ae):Le(Ae))}function xe(Ae){r.enabled!==!1&&(Ae.pointerType==="touch"?vn(Ae):Ge(Ae))}function Oe(Ae){var Ye,_t,me;Zt(Ae),F.length===0&&((Ye=r.domElement)==null||Ye.releasePointerCapture(Ae.pointerId),(_t=r.domElement)==null||_t.ownerDocument.removeEventListener("pointermove",xe),(me=r.domElement)==null||me.ownerDocument.removeEventListener("pointerup",Oe)),r.dispatchEvent(o),l=a.NONE}function Le(Ae){let Ye;switch(Ae.button){case 0:Ye=r.mouseButtons.LEFT;break;case 1:Ye=r.mouseButtons.MIDDLE;break;case 2:Ye=r.mouseButtons.RIGHT;break;default:Ye=-1}switch(Ye){case qh.DOLLY:if(r.enableZoom===!1)return;Ve(Ae),l=a.DOLLY;break;case qh.ROTATE:if(Ae.ctrlKey||Ae.metaKey||Ae.shiftKey){if(r.enablePan===!1)return;He(Ae),l=a.PAN}else{if(r.enableRotate===!1)return;Ce(Ae),l=a.ROTATE}break;case qh.PAN:if(Ae.ctrlKey||Ae.metaKey||Ae.shiftKey){if(r.enableRotate===!1)return;Ce(Ae),l=a.ROTATE}else{if(r.enablePan===!1)return;He(Ae),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Ge(Ae){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;je(Ae);break;case a.DOLLY:if(r.enableZoom===!1)return;pt(Ae);break;case a.PAN:if(r.enablePan===!1)return;bt(Ae);break}}function St(Ae){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(Ae.preventDefault(),r.dispatchEvent(s),Dt(Ae),r.dispatchEvent(o))}function wt(Ae){r.enabled===!1||r.enablePan===!1||Jt(Ae)}function Rt(Ae){switch(Wt(Ae),F.length){case 1:switch(r.touches.ONE){case Yh.ROTATE:if(r.enableRotate===!1)return;at(),l=a.TOUCH_ROTATE;break;case Yh.PAN:if(r.enablePan===!1)return;Xe(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Yh.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Bt(),l=a.TOUCH_DOLLY_PAN;break;case Yh.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ht(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function vn(Ae){switch(Wt(Ae),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;Re(Ae),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;mt(Ae),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;It(Ae),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;se(Ae),r.update();break;default:l=a.NONE}}function xt(Ae){r.enabled!==!1&&Ae.preventDefault()}function Tt(Ae){F.push(Ae)}function Zt(Ae){delete Y[Ae.pointerId];for(let Ye=0;Ye<F.length;Ye++)if(F[Ye].pointerId==Ae.pointerId){F.splice(Ye,1);return}}function Wt(Ae){let Ye=Y[Ae.pointerId];Ye===void 0&&(Ye=new gt,Y[Ae.pointerId]=Ye),Ye.set(Ae.pageX,Ae.pageY)}function Ot(Ae){const Ye=Ae.pointerId===F[0].pointerId?F[1]:F[0];return Y[Ye.pointerId]}this.dollyIn=(Ae=ie())=>{ne(Ae),r.update()},this.dollyOut=(Ae=ie())=>{$(Ae),r.update()},this.getScale=()=>p,this.setScale=Ae=>{oe(Ae),r.update()},this.getZoomScale=()=>ie(),t!==void 0&&this.connect(t),this.update()}};class xne extends $R{constructor(e){super(e),this.type=js}parse(e){const o=function(j,O){switch(j){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(O||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(O||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(O||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(O||""))}},f=`
`,h=function(j,O,F){O=O||1024;let te=j.pos,ie=-1,ue=0,_e="",he=String.fromCharCode.apply(null,new Uint16Array(j.subarray(te,te+128)));for(;0>(ie=he.indexOf(f))&&ue<O&&te<j.byteLength;)_e+=he,ue+=he.length,te+=128,he+=String.fromCharCode.apply(null,new Uint16Array(j.subarray(te,te+128)));return-1<ie?(j.pos+=ue+ie+1,_e+he.slice(0,ie)):!1},p=function(j){const O=/^#\?(\S+)/,F=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,Y=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,te=/^\s*FORMAT=(\S+)\s*$/,ie=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,ue={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let _e,he;for((j.pos>=j.byteLength||!(_e=h(j)))&&o(1,"no header found"),(he=_e.match(O))||o(3,"bad initial token"),ue.valid|=1,ue.programtype=he[1],ue.string+=_e+`
`;_e=h(j),_e!==!1;){if(ue.string+=_e+`
`,_e.charAt(0)==="#"){ue.comments+=_e+`
`;continue}if((he=_e.match(F))&&(ue.gamma=parseFloat(he[1])),(he=_e.match(Y))&&(ue.exposure=parseFloat(he[1])),(he=_e.match(te))&&(ue.valid|=2,ue.format=he[1]),(he=_e.match(ie))&&(ue.valid|=4,ue.height=parseInt(he[1],10),ue.width=parseInt(he[2],10)),ue.valid&2&&ue.valid&4)break}return ue.valid&2||o(3,"missing format specifier"),ue.valid&4||o(3,"missing image size specifier"),ue},v=function(j,O,F){const Y=O;if(Y<8||Y>32767||j[0]!==2||j[1]!==2||j[2]&128)return new Uint8Array(j);Y!==(j[2]<<8|j[3])&&o(3,"wrong scanline width");const te=new Uint8Array(4*O*F);te.length||o(4,"unable to allocate buffer space");let ie=0,ue=0;const _e=4*Y,he=new Uint8Array(4),ge=new Uint8Array(_e);let q=F;for(;q>0&&ue<j.byteLength;){ue+4>j.byteLength&&o(1),he[0]=j[ue++],he[1]=j[ue++],he[2]=j[ue++],he[3]=j[ue++],(he[0]!=2||he[1]!=2||(he[2]<<8|he[3])!=Y)&&o(3,"bad rgbe scanline format");let oe=0,$;for(;oe<_e&&ue<j.byteLength;){$=j[ue++];const we=$>128;if(we&&($-=128),($===0||oe+$>_e)&&o(3,"bad scanline data"),we){const nt=j[ue++];for(let Ce=0;Ce<$;Ce++)ge[oe++]=nt}else ge.set(j.subarray(ue,ue+$),oe),oe+=$,ue+=$}const ne=Y;for(let we=0;we<ne;we++){let nt=0;te[ie]=ge[we+nt],nt+=Y,te[ie+1]=ge[we+nt],nt+=Y,te[ie+2]=ge[we+nt],nt+=Y,te[ie+3]=ge[we+nt],ie+=4}q--}return te},y=function(j,O,F,Y){const te=j[O+3],ie=Math.pow(2,te-128)/255;F[Y+0]=j[O+0]*ie,F[Y+1]=j[O+1]*ie,F[Y+2]=j[O+2]*ie,F[Y+3]=1},w=function(j,O,F,Y){const te=j[O+3],ie=Math.pow(2,te-128)/255;F[Y+0]=ap.toHalfFloat(Math.min(j[O+0]*ie,65504)),F[Y+1]=ap.toHalfFloat(Math.min(j[O+1]*ie,65504)),F[Y+2]=ap.toHalfFloat(Math.min(j[O+2]*ie,65504)),F[Y+3]=ap.toHalfFloat(1)},S=new Uint8Array(e);S.pos=0;const _=p(S),A=_.width,R=_.height,P=v(S.subarray(S.pos),A,R);let U,k,E;switch(this.type){case Di:E=P.length/4;const j=new Float32Array(E*4);for(let F=0;F<E;F++)y(P,F*4,j,F*4);U=j,k=Di;break;case js:E=P.length/4;const O=new Uint16Array(E*4);for(let F=0;F<E;F++)w(P,F*4,O,F*4);U=O,k=js;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:A,height:R,data:U,header:_.string,gamma:_.gamma,exposure:_.exposure,type:k}}setDataType(e){return this.type=e,this}load(e,t,r,i){function s(o,a){switch(o.type){case Di:case js:"colorSpace"in o?o.colorSpace="srgb-linear":o.encoding=3e3,o.minFilter=Ur,o.magFilter=Ur,o.generateMipmaps=!1,o.flipY=!0;break}t&&t(o,a)}return super.load(e,s,r,i)}}const Sv="colorSpace"in new Br;class _ne extends $R{constructor(e){super(e),this.type=js}parse(e){const O=Math.pow(2.7182818,2.2);function F(Z,re){for(var Me=0,Fe=0;Fe<65536;++Fe)(Fe==0||Z[Fe>>3]&1<<(Fe&7))&&(re[Me++]=Fe);for(var Je=Me-1;Me<65536;)re[Me++]=0;return Je}function Y(Z){for(var re=0;re<16384;re++)Z[re]={},Z[re].len=0,Z[re].lit=0,Z[re].p=null}const te={l:0,c:0,lc:0};function ie(Z,re,Me,Fe,Je){for(;Me<Z;)re=re<<8|Ot(Fe,Je),Me+=8;Me-=Z,te.l=re>>Me&(1<<Z)-1,te.c=re,te.lc=Me}const ue=new Array(59);function _e(Z){for(var re=0;re<=58;++re)ue[re]=0;for(var re=0;re<65537;++re)ue[Z[re]]+=1;for(var Me=0,re=58;re>0;--re){var Fe=Me+ue[re]>>1;ue[re]=Me,Me=Fe}for(var re=0;re<65537;++re){var Je=Z[re];Je>0&&(Z[re]=Je|ue[Je]++<<6)}}function he(Z,re,Me,Fe,Je,Qe,vt){for(var K=Me,fe=0,be=0;Je<=Qe;Je++){if(K.value-Me.value>Fe)return!1;ie(6,fe,be,Z,K);var Ee=te.l;if(fe=te.c,be=te.lc,vt[Je]=Ee,Ee==63){if(K.value-Me.value>Fe)throw"Something wrong with hufUnpackEncTable";ie(8,fe,be,Z,K);var le=te.l+6;if(fe=te.c,be=te.lc,Je+le>Qe+1)throw"Something wrong with hufUnpackEncTable";for(;le--;)vt[Je++]=0;Je--}else if(Ee>=59){var le=Ee-59+2;if(Je+le>Qe+1)throw"Something wrong with hufUnpackEncTable";for(;le--;)vt[Je++]=0;Je--}}_e(vt)}function ge(Z){return Z&63}function q(Z){return Z>>6}function oe(Z,re,Me,Fe){for(;re<=Me;re++){var Je=q(Z[re]),Qe=ge(Z[re]);if(Je>>Qe)throw"Invalid table entry";if(Qe>14){var vt=Fe[Je>>Qe-14];if(vt.len)throw"Invalid table entry";if(vt.lit++,vt.p){var K=vt.p;vt.p=new Array(vt.lit);for(var fe=0;fe<vt.lit-1;++fe)vt.p[fe]=K[fe]}else vt.p=new Array(1);vt.p[vt.lit-1]=re}else if(Qe)for(var be=0,fe=1<<14-Qe;fe>0;fe--){var vt=Fe[(Je<<14-Qe)+be];if(vt.len||vt.p)throw"Invalid table entry";vt.len=Qe,vt.lit=re,be++}}return!0}const $={c:0,lc:0};function ne(Z,re,Me,Fe){Z=Z<<8|Ot(Me,Fe),re+=8,$.c=Z,$.lc=re}const we={c:0,lc:0};function nt(Z,re,Me,Fe,Je,Qe,vt,K,fe,be){if(Z==re){Fe<8&&(ne(Me,Fe,Je,vt),Me=$.c,Fe=$.lc),Fe-=8;var Ee=Me>>Fe,Ee=new Uint8Array([Ee])[0];if(fe.value+Ee>be)return!1;for(var le=K[fe.value-1];Ee-- >0;)K[fe.value++]=le}else if(fe.value<be)K[fe.value++]=Z;else return!1;we.c=Me,we.lc=Fe}function Ce(Z){return Z&65535}function Ve(Z){var re=Ce(Z);return re>32767?re-65536:re}const He={a:0,b:0};function je(Z,re){var Me=Ve(Z),Fe=Ve(re),Je=Fe,Qe=Me+(Je&1)+(Je>>1),vt=Qe,K=Qe-Je;He.a=vt,He.b=K}function pt(Z,re){var Me=Ce(Z),Fe=Ce(re),Je=Me-(Fe>>1)&65535,Qe=Fe+Je-32768&65535;He.a=Qe,He.b=Je}function bt(Z,re,Me,Fe,Je,Qe,vt){for(var K=vt<16384,fe=Me>Je?Je:Me,be=1,Ee;be<=fe;)be<<=1;for(be>>=1,Ee=be,be>>=1;be>=1;){for(var le=0,it=le+Qe*(Je-Ee),et=Qe*be,ut=Qe*Ee,yt=Fe*be,Pt=Fe*Ee,kt,At,Lt,Yt;le<=it;le+=ut){for(var un=le,On=le+Fe*(Me-Ee);un<=On;un+=Pt){var Ht=un+yt,Xt=un+et,er=Xt+yt;K?(je(Z[un+re],Z[Xt+re]),kt=He.a,Lt=He.b,je(Z[Ht+re],Z[er+re]),At=He.a,Yt=He.b,je(kt,At),Z[un+re]=He.a,Z[Ht+re]=He.b,je(Lt,Yt),Z[Xt+re]=He.a,Z[er+re]=He.b):(pt(Z[un+re],Z[Xt+re]),kt=He.a,Lt=He.b,pt(Z[Ht+re],Z[er+re]),At=He.a,Yt=He.b,pt(kt,At),Z[un+re]=He.a,Z[Ht+re]=He.b,pt(Lt,Yt),Z[Xt+re]=He.a,Z[er+re]=He.b)}if(Me&be){var Xt=un+et;K?je(Z[un+re],Z[Xt+re]):pt(Z[un+re],Z[Xt+re]),kt=He.a,Z[Xt+re]=He.b,Z[un+re]=kt}}if(Je&be)for(var un=le,On=le+Fe*(Me-Ee);un<=On;un+=Pt){var Ht=un+yt;K?je(Z[un+re],Z[Ht+re]):pt(Z[un+re],Z[Ht+re]),kt=He.a,Z[Ht+re]=He.b,Z[un+re]=kt}Ee=be,be>>=1}return le}function Dt(Z,re,Me,Fe,Je,Qe,vt,K,fe,be){for(var Ee=0,le=0,it=K,et=Math.trunc(Je.value+(Qe+7)/8);Je.value<et;)for(ne(Ee,le,Me,Je),Ee=$.c,le=$.lc;le>=14;){var ut=Ee>>le-14&16383,yt=re[ut];if(yt.len)le-=yt.len,nt(yt.lit,vt,Ee,le,Me,Fe,Je,fe,be,it),Ee=we.c,le=we.lc;else{if(!yt.p)throw"hufDecode issues";var Pt;for(Pt=0;Pt<yt.lit;Pt++){for(var kt=ge(Z[yt.p[Pt]]);le<kt&&Je.value<et;)ne(Ee,le,Me,Je),Ee=$.c,le=$.lc;if(le>=kt&&q(Z[yt.p[Pt]])==(Ee>>le-kt&(1<<kt)-1)){le-=kt,nt(yt.p[Pt],vt,Ee,le,Me,Fe,Je,fe,be,it),Ee=we.c,le=we.lc;break}}if(Pt==yt.lit)throw"hufDecode issues"}}var At=8-Qe&7;for(Ee>>=At,le-=At;le>0;){var yt=re[Ee<<14-le&16383];if(yt.len)le-=yt.len,nt(yt.lit,vt,Ee,le,Me,Fe,Je,fe,be,it),Ee=we.c,le=we.lc;else throw"hufDecode issues"}return!0}function Jt(Z,re,Me,Fe,Je,Qe){var vt={value:0},K=Me.value,fe=Wt(re,Me),be=Wt(re,Me);Me.value+=4;var Ee=Wt(re,Me);if(Me.value+=4,fe<0||fe>=65537||be<0||be>=65537)throw"Something wrong with HUF_ENCSIZE";var le=new Array(65537),it=new Array(16384);Y(it);var et=Fe-(Me.value-K);if(he(Z,re,Me,et,fe,be,le),Ee>8*(Fe-(Me.value-K)))throw"Something wrong with hufUncompress";oe(le,fe,be,it),Dt(le,it,Z,re,Me,Ee,be,Qe,Je,vt)}function at(Z,re,Me){for(var Fe=0;Fe<Me;++Fe)re[Fe]=Z[re[Fe]]}function Xe(Z){for(var re=1;re<Z.length;re++){var Me=Z[re-1]+Z[re]-128;Z[re]=Me}}function ae(Z,re){for(var Me=0,Fe=Math.floor((Z.length+1)/2),Je=0,Qe=Z.length-1;!(Je>Qe||(re[Je++]=Z[Me++],Je>Qe));)re[Je++]=Z[Fe++]}function Bt(Z){for(var re=Z.byteLength,Me=new Array,Fe=0,Je=new DataView(Z);re>0;){var Qe=Je.getInt8(Fe++);if(Qe<0){var vt=-Qe;re-=vt+1;for(var K=0;K<vt;K++)Me.push(Je.getUint8(Fe++))}else{var vt=Qe;re-=2;for(var fe=Je.getUint8(Fe++),K=0;K<vt+1;K++)Me.push(fe)}}return Me}function ht(Z,re,Me,Fe,Je,Qe){var Ht=new DataView(Qe.buffer),vt=Me[Z.idx[0]].width,K=Me[Z.idx[0]].height,fe=3,be=Math.floor(vt/8),Ee=Math.ceil(vt/8),le=Math.ceil(K/8),it=vt-(Ee-1)*8,et=K-(le-1)*8,ut={value:0},yt=new Array(fe),Pt=new Array(fe),kt=new Array(fe),At=new Array(fe),Lt=new Array(fe);for(let Yn=0;Yn<fe;++Yn)Lt[Yn]=re[Z.idx[Yn]],yt[Yn]=Yn<1?0:yt[Yn-1]+Ee*le,Pt[Yn]=new Float32Array(64),kt[Yn]=new Uint16Array(64),At[Yn]=new Uint16Array(Ee*64);for(let Yn=0;Yn<le;++Yn){var Yt=8;Yn==le-1&&(Yt=et);var un=8;for(let lr=0;lr<Ee;++lr){lr==Ee-1&&(un=it);for(let Sn=0;Sn<fe;++Sn)kt[Sn].fill(0),kt[Sn][0]=Je[yt[Sn]++],Re(ut,Fe,kt[Sn]),mt(kt[Sn],Pt[Sn]),tn(Pt[Sn]);It(Pt);for(let Sn=0;Sn<fe;++Sn)se(Pt[Sn],At[Sn],lr*64)}let vr=0;for(let lr=0;lr<fe;++lr){const Sn=Me[Z.idx[lr]].type;for(let cr=8*Yn;cr<8*Yn+Yt;++cr){vr=Lt[lr][cr];for(let Kr=0;Kr<be;++Kr){const $n=Kr*64+(cr&7)*8;Ht.setUint16(vr+0*2*Sn,At[lr][$n+0],!0),Ht.setUint16(vr+1*2*Sn,At[lr][$n+1],!0),Ht.setUint16(vr+2*2*Sn,At[lr][$n+2],!0),Ht.setUint16(vr+3*2*Sn,At[lr][$n+3],!0),Ht.setUint16(vr+4*2*Sn,At[lr][$n+4],!0),Ht.setUint16(vr+5*2*Sn,At[lr][$n+5],!0),Ht.setUint16(vr+6*2*Sn,At[lr][$n+6],!0),Ht.setUint16(vr+7*2*Sn,At[lr][$n+7],!0),vr+=8*2*Sn}}if(be!=Ee)for(let cr=8*Yn;cr<8*Yn+Yt;++cr){const Kr=Lt[lr][cr]+8*be*2*Sn,$n=be*64+(cr&7)*8;for(let Wr=0;Wr<un;++Wr)Ht.setUint16(Kr+Wr*2*Sn,At[lr][$n+Wr],!0)}}}for(var On=new Uint16Array(vt),Ht=new DataView(Qe.buffer),Xt=0;Xt<fe;++Xt){Me[Z.idx[Xt]].decoded=!0;var er=Me[Z.idx[Xt]].type;if(Me[Xt].type==2)for(var In=0;In<K;++In){const Yn=Lt[Xt][In];for(var _r=0;_r<vt;++_r)On[_r]=Ht.getUint16(Yn+_r*2*er,!0);for(var _r=0;_r<vt;++_r)Ht.setFloat32(Yn+_r*2*er,Be(On[_r]),!0)}}}function Re(Z,re,Me){for(var Fe,Je=1;Je<64;)Fe=re[Z.value],Fe==65280?Je=64:Fe>>8==255?Je+=Fe&255:(Me[Je]=Fe,Je++),Z.value++}function mt(Z,re){re[0]=Be(Z[0]),re[1]=Be(Z[1]),re[2]=Be(Z[5]),re[3]=Be(Z[6]),re[4]=Be(Z[14]),re[5]=Be(Z[15]),re[6]=Be(Z[27]),re[7]=Be(Z[28]),re[8]=Be(Z[2]),re[9]=Be(Z[4]),re[10]=Be(Z[7]),re[11]=Be(Z[13]),re[12]=Be(Z[16]),re[13]=Be(Z[26]),re[14]=Be(Z[29]),re[15]=Be(Z[42]),re[16]=Be(Z[3]),re[17]=Be(Z[8]),re[18]=Be(Z[12]),re[19]=Be(Z[17]),re[20]=Be(Z[25]),re[21]=Be(Z[30]),re[22]=Be(Z[41]),re[23]=Be(Z[43]),re[24]=Be(Z[9]),re[25]=Be(Z[11]),re[26]=Be(Z[18]),re[27]=Be(Z[24]),re[28]=Be(Z[31]),re[29]=Be(Z[40]),re[30]=Be(Z[44]),re[31]=Be(Z[53]),re[32]=Be(Z[10]),re[33]=Be(Z[19]),re[34]=Be(Z[23]),re[35]=Be(Z[32]),re[36]=Be(Z[39]),re[37]=Be(Z[45]),re[38]=Be(Z[52]),re[39]=Be(Z[54]),re[40]=Be(Z[20]),re[41]=Be(Z[22]),re[42]=Be(Z[33]),re[43]=Be(Z[38]),re[44]=Be(Z[46]),re[45]=Be(Z[51]),re[46]=Be(Z[55]),re[47]=Be(Z[60]),re[48]=Be(Z[21]),re[49]=Be(Z[34]),re[50]=Be(Z[37]),re[51]=Be(Z[47]),re[52]=Be(Z[50]),re[53]=Be(Z[56]),re[54]=Be(Z[59]),re[55]=Be(Z[61]),re[56]=Be(Z[35]),re[57]=Be(Z[36]),re[58]=Be(Z[48]),re[59]=Be(Z[49]),re[60]=Be(Z[57]),re[61]=Be(Z[58]),re[62]=Be(Z[62]),re[63]=Be(Z[63])}function tn(Z){const re=.5*Math.cos(.7853975),Me=.5*Math.cos(3.14159/16),Fe=.5*Math.cos(3.14159/8),Je=.5*Math.cos(3*3.14159/16),Qe=.5*Math.cos(5*3.14159/16),vt=.5*Math.cos(3*3.14159/8),K=.5*Math.cos(7*3.14159/16);for(var fe=new Array(4),be=new Array(4),Ee=new Array(4),le=new Array(4),it=0;it<8;++it){var et=it*8;fe[0]=Fe*Z[et+2],fe[1]=vt*Z[et+2],fe[2]=Fe*Z[et+6],fe[3]=vt*Z[et+6],be[0]=Me*Z[et+1]+Je*Z[et+3]+Qe*Z[et+5]+K*Z[et+7],be[1]=Je*Z[et+1]-K*Z[et+3]-Me*Z[et+5]-Qe*Z[et+7],be[2]=Qe*Z[et+1]-Me*Z[et+3]+K*Z[et+5]+Je*Z[et+7],be[3]=K*Z[et+1]-Qe*Z[et+3]+Je*Z[et+5]-Me*Z[et+7],Ee[0]=re*(Z[et+0]+Z[et+4]),Ee[3]=re*(Z[et+0]-Z[et+4]),Ee[1]=fe[0]+fe[3],Ee[2]=fe[1]-fe[2],le[0]=Ee[0]+Ee[1],le[1]=Ee[3]+Ee[2],le[2]=Ee[3]-Ee[2],le[3]=Ee[0]-Ee[1],Z[et+0]=le[0]+be[0],Z[et+1]=le[1]+be[1],Z[et+2]=le[2]+be[2],Z[et+3]=le[3]+be[3],Z[et+4]=le[3]-be[3],Z[et+5]=le[2]-be[2],Z[et+6]=le[1]-be[1],Z[et+7]=le[0]-be[0]}for(var ut=0;ut<8;++ut)fe[0]=Fe*Z[16+ut],fe[1]=vt*Z[16+ut],fe[2]=Fe*Z[48+ut],fe[3]=vt*Z[48+ut],be[0]=Me*Z[8+ut]+Je*Z[24+ut]+Qe*Z[40+ut]+K*Z[56+ut],be[1]=Je*Z[8+ut]-K*Z[24+ut]-Me*Z[40+ut]-Qe*Z[56+ut],be[2]=Qe*Z[8+ut]-Me*Z[24+ut]+K*Z[40+ut]+Je*Z[56+ut],be[3]=K*Z[8+ut]-Qe*Z[24+ut]+Je*Z[40+ut]-Me*Z[56+ut],Ee[0]=re*(Z[ut]+Z[32+ut]),Ee[3]=re*(Z[ut]-Z[32+ut]),Ee[1]=fe[0]+fe[3],Ee[2]=fe[1]-fe[2],le[0]=Ee[0]+Ee[1],le[1]=Ee[3]+Ee[2],le[2]=Ee[3]-Ee[2],le[3]=Ee[0]-Ee[1],Z[0+ut]=le[0]+be[0],Z[8+ut]=le[1]+be[1],Z[16+ut]=le[2]+be[2],Z[24+ut]=le[3]+be[3],Z[32+ut]=le[3]-be[3],Z[40+ut]=le[2]-be[2],Z[48+ut]=le[1]-be[1],Z[56+ut]=le[0]-be[0]}function It(Z){for(var re=0;re<64;++re){var Me=Z[0][re],Fe=Z[1][re],Je=Z[2][re];Z[0][re]=Me+1.5747*Je,Z[1][re]=Me-.1873*Fe-.4682*Je,Z[2][re]=Me+1.8556*Fe}}function se(Z,re,Me){for(var Fe=0;Fe<64;++Fe)re[Me+Fe]=ap.toHalfFloat(ee(Z[Fe]))}function ee(Z){return Z<=1?Math.sign(Z)*Math.pow(Math.abs(Z),2.2):Math.sign(Z)*Math.pow(O,Math.abs(Z)-1)}function xe(Z){return new DataView(Z.array.buffer,Z.offset.value,Z.size)}function Oe(Z){var re=Z.viewer.buffer.slice(Z.offset.value,Z.offset.value+Z.size),Me=new Uint8Array(Bt(re)),Fe=new Uint8Array(Me.length);return Xe(Me),ae(Me,Fe),new DataView(Fe.buffer)}function Le(Z){var re=Z.array.slice(Z.offset.value,Z.offset.value+Z.size),Me=m1(re),Fe=new Uint8Array(Me.length);return Xe(Me),ae(Me,Fe),new DataView(Fe.buffer)}function Ge(Z){for(var re=Z.viewer,Me={value:Z.offset.value},Fe=new Uint16Array(Z.width*Z.scanlineBlockSize*(Z.channels*Z.type)),Je=new Uint8Array(8192),Qe=0,vt=new Array(Z.channels),K=0;K<Z.channels;K++)vt[K]={},vt[K].start=Qe,vt[K].end=vt[K].start,vt[K].nx=Z.width,vt[K].ny=Z.lines,vt[K].size=Z.type,Qe+=vt[K].nx*vt[K].ny*vt[K].size;var fe=ze(re,Me),be=ze(re,Me);if(be>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(fe<=be)for(var K=0;K<be-fe+1;K++)Je[K+fe]=Ae(re,Me);var Ee=new Uint16Array(65536),le=F(Je,Ee),it=Wt(re,Me);Jt(Z.array,re,Me,it,Fe,Qe);for(var K=0;K<Z.channels;++K)for(var et=vt[K],ut=0;ut<vt[K].size;++ut)bt(Fe,et.start+ut,et.nx,et.size,et.ny,et.nx*et.size,le);at(Ee,Fe,Qe);for(var yt=0,Pt=new Uint8Array(Fe.buffer.byteLength),kt=0;kt<Z.lines;kt++)for(var At=0;At<Z.channels;At++){var et=vt[At],Lt=et.nx*et.size,Yt=new Uint8Array(Fe.buffer,et.end*2,Lt*2);Pt.set(Yt,yt),yt+=Lt*2,et.end+=Lt}return new DataView(Pt.buffer)}function St(Z){var re=Z.array.slice(Z.offset.value,Z.offset.value+Z.size),Me=m1(re);const Fe=Z.lines*Z.channels*Z.width,Je=Z.type==1?new Uint16Array(Fe):new Uint32Array(Fe);let Qe=0,vt=0;const K=new Array(4);for(let fe=0;fe<Z.lines;fe++)for(let be=0;be<Z.channels;be++){let Ee=0;switch(Z.type){case 1:K[0]=Qe,K[1]=K[0]+Z.width,Qe=K[1]+Z.width;for(let le=0;le<Z.width;++le){const it=Me[K[0]++]<<8|Me[K[1]++];Ee+=it,Je[vt]=Ee,vt++}break;case 2:K[0]=Qe,K[1]=K[0]+Z.width,K[2]=K[1]+Z.width,Qe=K[2]+Z.width;for(let le=0;le<Z.width;++le){const it=Me[K[0]++]<<24|Me[K[1]++]<<16|Me[K[2]++]<<8;Ee+=it,Je[vt]=Ee,vt++}break}}return new DataView(Je.buffer)}function wt(Z){var re=Z.viewer,Me={value:Z.offset.value},Fe=new Uint8Array(Z.width*Z.lines*(Z.channels*Z.type*2)),Je={version:Ye(re,Me),unknownUncompressedSize:Ye(re,Me),unknownCompressedSize:Ye(re,Me),acCompressedSize:Ye(re,Me),dcCompressedSize:Ye(re,Me),rleCompressedSize:Ye(re,Me),rleUncompressedSize:Ye(re,Me),rleRawSize:Ye(re,Me),totalAcUncompressedCount:Ye(re,Me),totalDcUncompressedCount:Ye(re,Me),acCompression:Ye(re,Me)};if(Je.version<2)throw"EXRLoader.parse: "+Nn.compression+" version "+Je.version+" is unsupported";for(var Qe=new Array,vt=ze(re,Me)-2;vt>0;){var K=Rt(re.buffer,Me),fe=Ae(re,Me),be=fe>>2&3,Ee=(fe>>4)-1,le=new Int8Array([Ee])[0],it=Ae(re,Me);Qe.push({name:K,index:le,type:it,compression:be}),vt-=K.length+3}for(var et=Nn.channels,ut=new Array(Z.channels),yt=0;yt<Z.channels;++yt){var Pt=ut[yt]={},kt=et[yt];Pt.name=kt.name,Pt.compression=0,Pt.decoded=!1,Pt.type=kt.pixelType,Pt.pLinear=kt.pLinear,Pt.width=Z.width,Pt.height=Z.lines}for(var At={idx:new Array(3)},Lt=0;Lt<Z.channels;++Lt)for(var Pt=ut[Lt],yt=0;yt<Qe.length;++yt){var Yt=Qe[yt];Pt.name==Yt.name&&(Pt.compression=Yt.compression,Yt.index>=0&&(At.idx[Yt.index]=Lt),Pt.offset=Lt)}if(Je.acCompressedSize>0)switch(Je.acCompression){case 0:var Ht=new Uint16Array(Je.totalAcUncompressedCount);Jt(Z.array,re,Me,Je.acCompressedSize,Ht,Je.totalAcUncompressedCount);break;case 1:var un=Z.array.slice(Me.value,Me.value+Je.totalAcUncompressedCount),On=m1(un),Ht=new Uint16Array(On.buffer);Me.value+=Je.totalAcUncompressedCount;break}if(Je.dcCompressedSize>0){var Xt={array:Z.array,offset:Me,size:Je.dcCompressedSize},er=new Uint16Array(Le(Xt).buffer);Me.value+=Je.dcCompressedSize}if(Je.rleRawSize>0){var un=Z.array.slice(Me.value,Me.value+Je.rleCompressedSize),On=m1(un),In=Bt(On.buffer);Me.value+=Je.rleCompressedSize}for(var _r=0,Yn=new Array(ut.length),yt=0;yt<Yn.length;++yt)Yn[yt]=new Array;for(var vr=0;vr<Z.lines;++vr)for(var lr=0;lr<ut.length;++lr)Yn[lr].push(_r),_r+=ut[lr].width*Z.type*2;ht(At,Yn,ut,Ht,er,Fe);for(var yt=0;yt<ut.length;++yt){var Pt=ut[yt];if(!Pt.decoded)switch(Pt.compression){case 2:for(var Sn=0,cr=0,vr=0;vr<Z.lines;++vr){for(var Kr=Yn[yt][Sn],$n=0;$n<Pt.width;++$n){for(var Wr=0;Wr<2*Pt.type;++Wr)Fe[Kr++]=In[cr+Wr*Pt.width*Pt.height];cr++}Sn++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(Fe.buffer)}function Rt(Z,re){for(var Me=new Uint8Array(Z),Fe=0;Me[re.value+Fe]!=0;)Fe+=1;var Je=new TextDecoder().decode(Me.slice(re.value,re.value+Fe));return re.value=re.value+Fe+1,Je}function vn(Z,re,Me){var Fe=new TextDecoder().decode(new Uint8Array(Z).slice(re.value,re.value+Me));return re.value=re.value+Me,Fe}function xt(Z,re){var Me=Zt(Z,re),Fe=Wt(Z,re);return[Me,Fe]}function Tt(Z,re){var Me=Wt(Z,re),Fe=Wt(Z,re);return[Me,Fe]}function Zt(Z,re){var Me=Z.getInt32(re.value,!0);return re.value=re.value+4,Me}function Wt(Z,re){var Me=Z.getUint32(re.value,!0);return re.value=re.value+4,Me}function Ot(Z,re){var Me=Z[re.value];return re.value=re.value+1,Me}function Ae(Z,re){var Me=Z.getUint8(re.value);return re.value=re.value+1,Me}const Ye=function(Z,re){let Me;return"getBigInt64"in DataView.prototype?Me=Number(Z.getBigInt64(re.value,!0)):Me=Z.getUint32(re.value+4,!0)+Number(Z.getUint32(re.value,!0)<<32),re.value+=8,Me};function _t(Z,re){var Me=Z.getFloat32(re.value,!0);return re.value+=4,Me}function me(Z,re){return ap.toHalfFloat(_t(Z,re))}function Be(Z){var re=(Z&31744)>>10,Me=Z&1023;return(Z>>15?-1:1)*(re?re===31?Me?NaN:1/0:Math.pow(2,re-15)*(1+Me/1024):6103515625e-14*(Me/1024))}function ze(Z,re){var Me=Z.getUint16(re.value,!0);return re.value+=2,Me}function ot(Z,re){return Be(ze(Z,re))}function Ft(Z,re,Me,Fe){for(var Je=Me.value,Qe=[];Me.value<Je+Fe-1;){var vt=Rt(re,Me),K=Zt(Z,Me),fe=Ae(Z,Me);Me.value+=3;var be=Zt(Z,Me),Ee=Zt(Z,Me);Qe.push({name:vt,pixelType:K,pLinear:fe,xSampling:be,ySampling:Ee})}return Me.value+=1,Qe}function Ut(Z,re){var Me=_t(Z,re),Fe=_t(Z,re),Je=_t(Z,re),Qe=_t(Z,re),vt=_t(Z,re),K=_t(Z,re),fe=_t(Z,re),be=_t(Z,re);return{redX:Me,redY:Fe,greenX:Je,greenY:Qe,blueX:vt,blueY:K,whiteX:fe,whiteY:be}}function Qt(Z,re){var Me=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],Fe=Ae(Z,re);return Me[Fe]}function _n(Z,re){var Me=Wt(Z,re),Fe=Wt(Z,re),Je=Wt(Z,re),Qe=Wt(Z,re);return{xMin:Me,yMin:Fe,xMax:Je,yMax:Qe}}function mr(Z,re){var Me=["INCREASING_Y"],Fe=Ae(Z,re);return Me[Fe]}function Gt(Z,re){var Me=_t(Z,re),Fe=_t(Z,re);return[Me,Fe]}function nn(Z,re){var Me=_t(Z,re),Fe=_t(Z,re),Je=_t(Z,re);return[Me,Fe,Je]}function Pn(Z,re,Me,Fe,Je){if(Fe==="string"||Fe==="stringvector"||Fe==="iccProfile")return vn(re,Me,Je);if(Fe==="chlist")return Ft(Z,re,Me,Je);if(Fe==="chromaticities")return Ut(Z,Me);if(Fe==="compression")return Qt(Z,Me);if(Fe==="box2i")return _n(Z,Me);if(Fe==="lineOrder")return mr(Z,Me);if(Fe==="float")return _t(Z,Me);if(Fe==="v2f")return Gt(Z,Me);if(Fe==="v3f")return nn(Z,Me);if(Fe==="int")return Zt(Z,Me);if(Fe==="rational")return xt(Z,Me);if(Fe==="timecode")return Tt(Z,Me);if(Fe==="preview")return Me.value+=Je,"skipped";Me.value+=Je}function zt(Z,re,Me){const Fe={};if(Z.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";Fe.version=Z.getUint8(4);const Je=Z.getUint8(5);Fe.spec={singleTile:!!(Je&2),longName:!!(Je&4),deepFormat:!!(Je&8),multiPart:!!(Je&16)},Me.value=8;for(var Qe=!0;Qe;){var vt=Rt(re,Me);if(vt==0)Qe=!1;else{var K=Rt(re,Me),fe=Wt(Z,Me),be=Pn(Z,re,Me,K,fe);be===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${K}'.`):Fe[vt]=be}}if(Je&-5)throw console.error("EXRHeader:",Fe),"THREE.EXRLoader: provided file is currently unsupported.";return Fe}function En(Z,re,Me,Fe,Je){const Qe={size:0,viewer:re,array:Me,offset:Fe,width:Z.dataWindow.xMax-Z.dataWindow.xMin+1,height:Z.dataWindow.yMax-Z.dataWindow.yMin+1,channels:Z.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:Z.channels[0].pixelType,uncompress:null,getter:null,format:null,[Sv?"colorSpace":"encoding"]:null};switch(Z.compression){case"NO_COMPRESSION":Qe.lines=1,Qe.uncompress=xe;break;case"RLE_COMPRESSION":Qe.lines=1,Qe.uncompress=Oe;break;case"ZIPS_COMPRESSION":Qe.lines=1,Qe.uncompress=Le;break;case"ZIP_COMPRESSION":Qe.lines=16,Qe.uncompress=Le;break;case"PIZ_COMPRESSION":Qe.lines=32,Qe.uncompress=Ge;break;case"PXR24_COMPRESSION":Qe.lines=16,Qe.uncompress=St;break;case"DWAA_COMPRESSION":Qe.lines=32,Qe.uncompress=wt;break;case"DWAB_COMPRESSION":Qe.lines=256,Qe.uncompress=wt;break;default:throw"EXRLoader.parse: "+Z.compression+" is unsupported"}if(Qe.scanlineBlockSize=Qe.lines,Qe.type==1)switch(Je){case Di:Qe.getter=ot,Qe.inputSize=2;break;case js:Qe.getter=ze,Qe.inputSize=2;break}else if(Qe.type==2)switch(Je){case Di:Qe.getter=_t,Qe.inputSize=4;break;case js:Qe.getter=me,Qe.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+Qe.type+" for "+Z.compression+".";Qe.blockCount=(Z.dataWindow.yMax+1)/Qe.scanlineBlockSize;for(var vt=0;vt<Qe.blockCount;vt++)Ye(re,Fe);Qe.outputChannels=Qe.channels==3?4:Qe.channels;const K=Qe.width*Qe.height*Qe.outputChannels;switch(Je){case Di:Qe.byteArray=new Float32Array(K),Qe.channels<Qe.outputChannels&&Qe.byteArray.fill(1,0,K);break;case js:Qe.byteArray=new Uint16Array(K),Qe.channels<Qe.outputChannels&&Qe.byteArray.fill(15360,0,K);break;default:console.error("THREE.EXRLoader: unsupported type: ",Je);break}return Qe.bytesPerLine=Qe.width*Qe.inputSize*Qe.channels,Qe.outputChannels==4?Qe.format=Ji:Qe.format=fx,Sv?Qe.colorSpace="srgb-linear":Qe.encoding=3e3,Qe}const an=new DataView(e),wn=new Uint8Array(e),br={value:0},Nn=zt(an,e,br),dn=En(Nn,an,wn,br,this.type),Xr={value:0},Mr={R:0,G:1,B:2,A:3,Y:0};for(let Z=0;Z<dn.height/dn.scanlineBlockSize;Z++){const re=Wt(an,br);dn.size=Wt(an,br),dn.lines=re+dn.scanlineBlockSize>dn.height?dn.height-re:dn.scanlineBlockSize;const Fe=dn.size<dn.lines*dn.bytesPerLine?dn.uncompress(dn):xe(dn);br.value+=dn.size;for(let Je=0;Je<dn.scanlineBlockSize;Je++){const Qe=Je+Z*dn.scanlineBlockSize;if(Qe>=dn.height)break;for(let vt=0;vt<dn.channels;vt++){const K=Mr[Nn.channels[vt].name];for(let fe=0;fe<dn.width;fe++){Xr.value=(Je*(dn.channels*dn.width)+vt*dn.width+fe)*dn.inputSize;const be=(dn.height-1-Qe)*(dn.width*dn.outputChannels)+fe*dn.outputChannels+K;dn.byteArray[be]=dn.getter(Fe,Xr)}}}}return{header:Nn,width:dn.width,height:dn.height,data:dn.byteArray,format:dn.format,[Sv?"colorSpace":"encoding"]:dn[Sv?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,r,i){function s(o,a){Sv?o.colorSpace=a.colorSpace:o.encoding=a.encoding,o.minFilter=Ur,o.magFilter=Ur,o.generateMipmaps=!1,o.flipY=!1,t&&t(o,a)}return super.load(e,s,r,i)}}const wne=z.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},f)=>{const h=Xa(k=>k.invalidate),p=Xa(k=>k.camera),v=Xa(k=>k.gl),y=Xa(k=>k.events),w=Xa(k=>k.setEvents),S=Xa(k=>k.set),_=Xa(k=>k.get),A=Xa(k=>k.performance),R=e||p,P=r||y.connected||v.domElement,U=z.useMemo(()=>new yne(R),[R]);return cP(()=>{U.enabled&&U.update()},-1),z.useEffect(()=>(s&&U.connect(s===!0?P:s),U.connect(P),()=>void U.dispose()),[s,P,t,U,h]),z.useEffect(()=>{const k=O=>{h(),t&&A.regress(),o&&o(O)},E=O=>{a&&a(O)},j=O=>{l&&l(O)};return U.addEventListener("change",k),U.addEventListener("start",E),U.addEventListener("end",j),()=>{U.removeEventListener("start",E),U.removeEventListener("end",j),U.removeEventListener("change",k)}},[o,a,l,U,h,w]),z.useEffect(()=>{if(n){const k=_().controls;return S({controls:U}),()=>S({controls:k})}},[n,U]),z.createElement("primitive",vw({ref:f,object:U,enableDamping:i},c))});var jT={exports:{}},WT,KD;function Sne(){if(KD)return WT;KD=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return WT=n,WT}var GT,ZD;function bne(){if(ZD)return GT;ZD=1;var n=Sne();function e(){}function t(){}return t.resetWarningCache=e,GT=function(){function r(o,a,l,c,f,h){if(h!==n){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},GT}var JD;function Ene(){return JD||(JD=1,jT.exports=bne()()),jT.exports}var Tne=Ene();const ui=Vl(Tne),Mne=3e3,Ane=3001,zB=(n,e,t)=>{let r;switch(n){case ba:r=new Uint8ClampedArray(e*t*4);break;case js:r=new Uint16Array(e*t*4);break;case hu:r=new Uint32Array(e*t*4);break;case GS:r=new Int8Array(e*t*4);break;case $S:r=new Int16Array(e*t*4);break;case ux:r=new Int32Array(e*t*4);break;case Di:r=new Float32Array(e*t*4);break;default:throw new Error("Unsupported data type")}return r};let v1;const Cne=(n,e,t,r)=>{if(v1!==void 0)return v1;const i=new il(1,1,r);e.setRenderTarget(i);const s=new Si(new $d,new va({color:16777215}));e.render(s,t),e.setRenderTarget(null);const o=zB(n,i.width,i.height);return e.readRenderTargetPixels(i,0,0,i.width,i.height,o),i.dispose(),s.geometry.dispose(),s.material.dispose(),v1=o[0]!==0,v1};class fP{constructor(e){var t,r,i,s,o,a,l,c,f,h,p,v,y,w,S,_;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(R){throw this._renderer.setRenderTarget(null),R}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const A={format:Ji,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((t=e.renderTargetOptions)===null||t===void 0?void 0:t.anisotropy)!==void 0?(r=e.renderTargetOptions)===null||r===void 0?void 0:r.anisotropy:1,generateMipmaps:((i=e.renderTargetOptions)===null||i===void 0?void 0:i.generateMipmaps)!==void 0?(s=e.renderTargetOptions)===null||s===void 0?void 0:s.generateMipmaps:!1,magFilter:((o=e.renderTargetOptions)===null||o===void 0?void 0:o.magFilter)!==void 0?(a=e.renderTargetOptions)===null||a===void 0?void 0:a.magFilter:Ur,minFilter:((l=e.renderTargetOptions)===null||l===void 0?void 0:l.minFilter)!==void 0?(c=e.renderTargetOptions)===null||c===void 0?void 0:c.minFilter:Ur,samples:((f=e.renderTargetOptions)===null||f===void 0?void 0:f.samples)!==void 0?(h=e.renderTargetOptions)===null||h===void 0?void 0:h.samples:void 0,wrapS:((p=e.renderTargetOptions)===null||p===void 0?void 0:p.wrapS)!==void 0?(v=e.renderTargetOptions)===null||v===void 0?void 0:v.wrapS:Zi,wrapT:((y=e.renderTargetOptions)===null||y===void 0?void 0:y.wrapT)!==void 0?(w=e.renderTargetOptions)===null||w===void 0?void 0:w.wrapT:Zi};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=fP.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new $g,this._camera=new au,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!Cne(this._type,this._renderer,this._camera,A)){let R;switch(this._type){case js:R=this._renderer.extensions.has("EXT_color_buffer_float")?Di:void 0;break}R!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${Di}`),this._type=R):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new Si(new $d,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new il(this.width,this.height,A),this._renderTarget.texture.mapping=((S=e.renderTargetOptions)===null||S===void 0?void 0:S.mapping)!==void 0?(_=e.renderTargetOptions)===null||_===void 0?void 0:_.mapping:Id}static instantiateRenderer(){const e=new sP;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=zB(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const t=new Sc(this.toArray(),this.width,this.height,Ji,this._type,(e==null?void 0:e.mapping)||Id,(e==null?void 0:e.wrapS)||Zi,(e==null?void 0:e.wrapT)||Zi,(e==null?void 0:e.magFilter)||Ur,(e==null?void 0:e.minFilter)||Ur,(e==null?void 0:e.anisotropy)||1,Ms);return t.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,t}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof Ea&&Object.values(this.material.uniforms).forEach(t=>{t.value instanceof Br&&t.value.dispose()}),Object.values(this.material).forEach(t=>{t instanceof Br&&t.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const Rne=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,Pne=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class Ine extends Ea{constructor({gamma:e,offsetHdr:t,offsetSdr:r,gainMapMin:i,gainMapMax:s,maxDisplayBoost:o,hdrCapacityMin:a,hdrCapacityMax:l,sdr:c,gainMap:f}){super({name:"GainMapDecoderMaterial",vertexShader:Rne,fragmentShader:Pne,uniforms:{sdr:{value:c},gainMap:{value:f},gamma:{value:new ce(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new ce().fromArray(t)},offsetSdr:{value:new ce().fromArray(r)},gainMapMin:{value:new ce().fromArray(i)},gainMapMax:{value:new ce().fromArray(s)},weightFactor:{value:(Math.log2(o)-a)/(l-a)}},blending:iu,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=o,this._hdrCapacityMin=a,this._hdrCapacityMax=l,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const t=this.uniforms.gamma.value;t.x=1/e[0],t.y=1/e[1],t.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class VB extends Error{}class HB extends Error{}const bv=(n,e,t)=>{const r=new RegExp(`${e}="([^"]*)"`,"i").exec(n);if(r)return r[1];const i=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(n);if(i){const s=i[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return s&&s.length===3?s.map(o=>o.replace(/<\/?rdf:li>/g,"")):i[1].trim()}if(t!==void 0)return t;throw new Error(`Can't find ${e} in gainmap metadata`)},Lne=n=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(n):e=n.toString();let t=e.indexOf("<x:xmpmeta");for(;t!==-1;){const r=e.indexOf("x:xmpmeta>",t),i=e.slice(t,r+10);try{const s=bv(i,"hdrgm:GainMapMin","0"),o=bv(i,"hdrgm:GainMapMax"),a=bv(i,"hdrgm:Gamma","1"),l=bv(i,"hdrgm:OffsetSDR","0.015625"),c=bv(i,"hdrgm:OffsetHDR","0.015625"),f=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(i),h=f?f[1]:"0",p=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(i);if(!p)throw new Error("Incomplete gainmap metadata");const v=p[1];return{gainMapMin:Array.isArray(s)?s.map(y=>parseFloat(y)):[parseFloat(s),parseFloat(s),parseFloat(s)],gainMapMax:Array.isArray(o)?o.map(y=>parseFloat(y)):[parseFloat(o),parseFloat(o),parseFloat(o)],gamma:Array.isArray(a)?a.map(y=>parseFloat(y)):[parseFloat(a),parseFloat(a),parseFloat(a)],offsetSdr:Array.isArray(l)?l.map(y=>parseFloat(y)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetHdr:Array.isArray(c)?c.map(y=>parseFloat(y)):[parseFloat(c),parseFloat(c),parseFloat(c)],hdrCapacityMin:parseFloat(h),hdrCapacityMax:parseFloat(v)}}catch{}t=e.indexOf("<x:xmpmeta",r)}};class Dne{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((t,r)=>{const i=this.options.debug,s=new DataView(e.buffer);if(s.getUint16(0)!==65496){r(new Error("Not a valid jpeg"));return}const o=s.byteLength;let a=2,l=0,c;for(;a<o;){if(++l>250){r(new Error(`Found no marker after ${l} loops `));return}if(s.getUint8(a)!==255){r(new Error(`Not a valid marker at offset 0x${a.toString(16)}, found: 0x${s.getUint8(a).toString(16)}`));return}if(c=s.getUint8(a+1),i&&console.log(`Marker: ${c.toString(16)}`),c===226){i&&console.log("Found APP2 marker (0xffe2)");const f=a+4;if(s.getUint32(f)===1297106432){const h=f+4;let p;if(s.getUint16(h)===18761)p=!1;else if(s.getUint16(h)===19789)p=!0;else{r(new Error("No valid endianness marker found in TIFF header"));return}if(s.getUint16(h+2,!p)!==42){r(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const v=s.getUint32(h+4,!p);if(v<8){r(new Error("Not valid TIFF data! (First offset less than 8)"));return}const y=h+v,w=s.getUint16(y,!p),S=y+2;let _=0;for(let U=S;U<S+12*w;U+=12)s.getUint16(U,!p)===45057&&(_=s.getUint32(U+8,!p));const R=y+2+w*12+4,P=[];for(let U=R;U<R+_*16;U+=16){const k={MPType:s.getUint32(U,!p),size:s.getUint32(U+4,!p),dataOffset:s.getUint32(U+8,!p),dependantImages:s.getUint32(U+12,!p),start:-1,end:-1,isFII:!1};k.dataOffset?(k.start=h+k.dataOffset,k.isFII=!1):(k.start=0,k.isFII=!0),k.end=k.start+k.size,P.push(k)}if(this.options.extractNonFII&&P.length){const U=new Blob([s]),k=[];for(const E of P){if(E.isFII&&!this.options.extractFII)continue;const j=U.slice(E.start,E.end+1,"image/jpeg");k.push(j)}t(k)}}}a+=2+s.getUint16(a+2)}})}}const Nne=async n=>{const e=Lne(n);if(!e)throw new HB("Gain map XMP metadata not found");const r=await new Dne({extractFII:!0,extractNonFII:!0}).extract(n);if(r.length!==2)throw new VB("Gain map recovery image not found");return{sdr:new Uint8Array(await r[0].arrayBuffer()),gainMap:new Uint8Array(await r[1].arrayBuffer()),metadata:e}},QD=n=>new Promise((e,t)=>{const r=document.createElement("img");r.onload=()=>{e(r)},r.onerror=i=>{t(i)},r.src=URL.createObjectURL(n)});class jB extends To{constructor(e,t){super(t),e&&(this._renderer=e),this._internalLoadingManager=new vb}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new Ine({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new Br,sdr:new Br});return new fP({width:16,height:16,type:js,colorSpace:Ms,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,t,r,i){const s=i?new Blob([i],{type:"image/jpeg"}):void 0,o=new Blob([r],{type:"image/jpeg"});let a,l,c=!1;if(typeof createImageBitmap>"u"){const p=await Promise.all([s?QD(s):Promise.resolve(void 0),QD(o)]);l=p[0],a=p[1],c=!0}else{const p=await Promise.all([s?createImageBitmap(s,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(o,{imageOrientation:"flipY"})]);l=p[0],a=p[1]}const f=new Br(l||new ImageData(2,2),Id,Zi,Zi,Ur,fA,Ji,ba,1,Ms);f.flipY=c,f.needsUpdate=!0;const h=new Br(a,Id,Zi,Zi,Ur,fA,Ji,ba,1,ds);h.flipY=c,h.needsUpdate=!0,e.width=a.width,e.height=a.height,e.material.gainMap=f,e.material.sdr=h,e.material.gainMapMin=t.gainMapMin,e.material.gainMapMax=t.gainMapMax,e.material.offsetHdr=t.offsetHdr,e.material.offsetSdr=t.offsetSdr,e.material.gamma=t.gamma,e.material.hdrCapacityMin=t.hdrCapacityMin,e.material.hdrCapacityMax=t.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,t.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class kne extends jB{load([e,t,r],i,s,o){const a=this.prepareQuadRenderer();let l,c,f;const h=async()=>{if(l&&c&&f){try{await this.render(a,f,l,c)}catch(O){this.manager.itemError(e),this.manager.itemError(t),this.manager.itemError(r),typeof o=="function"&&o(O),a.disposeOnDemandRenderer();return}typeof i=="function"&&i(a),this.manager.itemEnd(e),this.manager.itemEnd(t),this.manager.itemEnd(r),a.disposeOnDemandRenderer()}};let p=!0,v=0,y=0,w=!0,S=0,_=0,A=!0,R=0,P=0;const U=()=>{if(typeof s=="function"){const O=v+S+R,F=y+_+P,Y=p&&w&&A;s(new ProgressEvent("progress",{lengthComputable:Y,loaded:F,total:O}))}};this.manager.itemStart(e),this.manager.itemStart(t),this.manager.itemStart(r);const k=new ta(this._internalLoadingManager);k.setResponseType("arraybuffer"),k.setRequestHeader(this.requestHeader),k.setPath(this.path),k.setWithCredentials(this.withCredentials),k.load(e,async O=>{if(typeof O=="string")throw new Error("Invalid sdr buffer");l=O,await h()},O=>{p=O.lengthComputable,y=O.loaded,v=O.total,U()},O=>{this.manager.itemError(e),typeof o=="function"&&o(O)});const E=new ta(this._internalLoadingManager);E.setResponseType("arraybuffer"),E.setRequestHeader(this.requestHeader),E.setPath(this.path),E.setWithCredentials(this.withCredentials),E.load(t,async O=>{if(typeof O=="string")throw new Error("Invalid gainmap buffer");c=O,await h()},O=>{w=O.lengthComputable,_=O.loaded,S=O.total,U()},O=>{this.manager.itemError(t),typeof o=="function"&&o(O)});const j=new ta(this._internalLoadingManager);return j.setRequestHeader(this.requestHeader),j.setPath(this.path),j.setWithCredentials(this.withCredentials),j.load(r,async O=>{if(typeof O!="string")throw new Error("Invalid metadata string");f=JSON.parse(O),await h()},O=>{A=O.lengthComputable,P=O.loaded,R=O.total,U()},O=>{this.manager.itemError(r),typeof o=="function"&&o(O)}),a}}class One extends jB{load(e,t,r,i){const s=this.prepareQuadRenderer(),o=new ta(this._internalLoadingManager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(this.withCredentials),this.manager.itemStart(e),o.load(e,async a=>{if(typeof a=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const l=new Uint8Array(a);let c,f,h;try{const p=await Nne(l);c=p.sdr,f=p.gainMap,h=p.metadata}catch(p){if(p instanceof HB||p instanceof VB)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),h={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},c=l;else throw p}try{await this.render(s,h,c,f)}catch(p){this.manager.itemError(e),typeof i=="function"&&i(p),s.disposeOnDemandRenderer();return}typeof t=="function"&&t(s),this.manager.itemEnd(e),s.disposeOnDemandRenderer()},r,a=>{this.manager.itemError(e),typeof i=="function"&&i(a)}),s}}const Uy={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},WB="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",Ag=n=>Array.isArray(n),dP=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function wb({files:n=dP,path:e="",preset:t=void 0,encoding:r=void 0,extensions:i}={}){let s=null,o=!1;t&&(hP(t),n=Uy[t],e=WB),o=Ag(n);const{extension:a,isCubemap:l}=pP(n);if(s=mP(a),!s)throw new Error("useEnvironment: Unrecognized file extension: "+n);const c=Xa(v=>v.gl);z.useLayoutEffect(()=>{if(a!=="webp"&&a!=="jpg"&&a!=="jpeg")return;function v(){Bp.clear(s,o?[n]:n)}c.domElement.addEventListener("webglcontextlost",v,{once:!0})},[n,c.domElement]);const f=Bp(s,o?[n]:n,v=>{(a==="webp"||a==="jpg"||a==="jpeg")&&v.setRenderer(c),v.setPath==null||v.setPath(e),i&&i(v)});let h=o?f[0]:f;if(a==="jpg"||a==="jpeg"||a==="webp"){var p;h=(p=h.renderTarget)==null?void 0:p.texture}return h.mapping=l?du:Bg,"colorSpace"in h?h.colorSpace=r??l?"srgb":"srgb-linear":h.encoding=r??l?Ane:Mne,h}const Fne={files:dP,path:"",preset:void 0,extensions:void 0};wb.preload=n=>{const e={...Fne,...n};let{files:t,path:r=""}=e;const{preset:i,extensions:s}=e;i&&(hP(i),t=Uy[i],r=WB);const{extension:o}=pP(t);if(o==="webp"||o==="jpg"||o==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const a=mP(o);if(!a)throw new Error("useEnvironment: Unrecognized file extension: "+t);Bp.preload(a,Ag(t)?[t]:t,l=>{l.setPath==null||l.setPath(r),s&&s(l)})};const Une={files:dP,preset:void 0};wb.clear=n=>{const e={...Une,...n};let{files:t}=e;const{preset:r}=e;r&&(hP(r),t=Uy[r]);const{extension:i}=pP(t),s=mP(i);if(!s)throw new Error("useEnvironment: Unrecognized file extension: "+t);Bp.clear(s,Ag(t)?[t]:t)};function hP(n){if(!(n in Uy))throw new Error("Preset must be one of: "+Object.keys(Uy).join(", "))}function pP(n){var e;const t=Ag(n)&&n.length===6,r=Ag(n)&&n.length===3&&n.some(o=>o.endsWith("json")),i=Ag(n)?n[0]:n;return{extension:t?"cube":r?"webp":i.startsWith("data:application/exr")?"exr":i.startsWith("data:application/hdr")?"hdr":i.startsWith("data:image/jpeg")?"jpg":(e=i.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:t,isGainmap:r}}function mP(n){return n==="cube"?z4:n==="hdr"?xne:n==="exr"?_ne:n==="jpg"||n==="jpeg"?One:n==="webp"?kne:null}const Bne=n=>n.current&&n.current.isScene,zne=n=>Bne(n)?n.current:n;function gP(n,e,t,r,i={}){var s,o,a,l;i={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...i};const c=zne(e||t),f=c.background,h=c.environment,p={backgroundBlurriness:c.backgroundBlurriness,backgroundIntensity:c.backgroundIntensity,backgroundRotation:(s=(o=c.backgroundRotation)==null||o.clone==null?void 0:o.clone())!==null&&s!==void 0?s:[0,0,0],environmentIntensity:c.environmentIntensity,environmentRotation:(a=(l=c.environmentRotation)==null||l.clone==null?void 0:l.clone())!==null&&a!==void 0?a:[0,0,0]};return n!=="only"&&(c.environment=r),n&&(c.background=r),gd(c,i),()=>{n!=="only"&&(c.environment=h),n&&(c.background=f),gd(c,p)}}function vP({scene:n,background:e=!1,map:t,...r}){const i=Xa(s=>s.scene);return z.useLayoutEffect(()=>{if(t)return gP(e,n,i,t,r)}),null}function GB({background:n=!1,scene:e,blur:t,backgroundBlurriness:r,backgroundIntensity:i,backgroundRotation:s,environmentIntensity:o,environmentRotation:a,...l}){const c=wb(l),f=Xa(h=>h.scene);return z.useLayoutEffect(()=>gP(n,e,f,c,{backgroundBlurriness:t??r,backgroundIntensity:i,backgroundRotation:s,environmentIntensity:o,environmentRotation:a})),null}function Vne({children:n,near:e=.1,far:t=1e3,resolution:r=256,frames:i=1,map:s,background:o=!1,blur:a,backgroundBlurriness:l,backgroundIntensity:c,backgroundRotation:f,environmentIntensity:h,environmentRotation:p,scene:v,files:y,path:w,preset:S=void 0,extensions:_}){const A=Xa(j=>j.gl),R=Xa(j=>j.scene),P=z.useRef(null),[U]=z.useState(()=>new $g),k=z.useMemo(()=>{const j=new CR(r);return j.texture.type=js,j},[r]);z.useLayoutEffect(()=>{if(i===1){const j=A.autoClear;A.autoClear=!0,P.current.update(A,U),A.autoClear=j}return gP(o,v,R,k.texture,{backgroundBlurriness:a??l,backgroundIntensity:c,backgroundRotation:f,environmentIntensity:h,environmentRotation:p})},[n,U,k.texture,v,R,o,i,A]);let E=1;return cP(()=>{if(i===1/0||E<i){const j=A.autoClear;A.autoClear=!0,P.current.update(A,U),A.autoClear=j,E++}}),z.createElement(z.Fragment,null,Oee(z.createElement(z.Fragment,null,n,z.createElement("cubeCamera",{ref:P,args:[e,t,k]}),y||S?z.createElement(GB,{background:!0,files:y,preset:S,path:w,extensions:_}):s?z.createElement(vP,{background:!0,map:s,extensions:_}):null),U))}function Hne(n){var e,t,r,i;const s=wb(n),o=n.map||s;z.useMemo(()=>uB({GroundProjectedEnvImpl:une}),[]);const a=z.useMemo(()=>[o],[o]),l=(e=n.ground)==null?void 0:e.height,c=(t=n.ground)==null?void 0:t.radius,f=(r=(i=n.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return z.createElement(z.Fragment,null,z.createElement(vP,vw({},n,{map:o})),z.createElement("groundProjectedEnvImpl",{args:a,scale:f,height:l,radius:c}))}function jne(n){return n.ground?z.createElement(Hne,n):n.map?z.createElement(vP,n):n.children?z.createElement(Vne,n):z.createElement(GB,n)}function Ju(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function $B(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var tl={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Yg={duration:.5,overwrite:!1,delay:0},yP,So,wi,Ol=1e8,di=1/Ol,CA=Math.PI*2,Wne=CA/4,Gne=0,XB=Math.sqrt,$ne=Math.cos,Xne=Math.sin,Gs=function(e){return typeof e=="string"},ji=function(e){return typeof e=="function"},_f=function(e){return typeof e=="number"},xP=function(e){return typeof e>"u"},pu=function(e){return typeof e=="object"},xa=function(e){return e!==!1},_P=function(){return typeof window<"u"},y1=function(e){return ji(e)||Gs(e)},qB=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},bo=Array.isArray,RA=/(?:-?\.?\d|\.)+/gi,YB=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,xg=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,$T=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,KB=/[+-]=-?[.\d]+/,ZB=/[^,'"\[\]\s]+/gi,qne=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ri,qc,PA,wP,ol={},iS={},JB,QB=function(e){return(iS=zp(e,ol))&&Ta},SP=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},By=function(e,t){return!t&&console.warn(e)},ez=function(e,t){return e&&(ol[e]=t)&&iS&&(iS[e]=t)||ol},zy=function(){return 0},Yne={suppressEvents:!0,isStart:!0,kill:!1},J1={suppressEvents:!0,kill:!1},Kne={suppressEvents:!0},bP={},Td=[],IA={},tz,Ya={},XT={},eN=30,Q1=[],EP="",TP=function(e){var t=e[0],r,i;if(pu(t)||ji(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(i=Q1.length;i--&&!Q1[i].targetTest(t););r=Q1[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new Tz(e[i],r)))||e.splice(i,1);return e},_p=function(e){return e._gsap||TP(Fl(e))[0]._gsap},nz=function(e,t,r){return(r=e[t])&&ji(r)?e[t]():xP(r)&&e.getAttribute&&e.getAttribute(t)||r},_a=function(e,t){return(e=e.split(",")).forEach(t)||e},Ki=function(e){return Math.round(e*1e5)/1e5||0},Hs=function(e){return Math.round(e*1e7)/1e7||0},Cg=function(e,t){var r=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},Zne=function(e,t){for(var r=t.length,i=0;e.indexOf(t[i])<0&&++i<r;);return i<r},sS=function(){var e=Td.length,t=Td.slice(0),r,i;for(IA={},Td.length=0,r=0;r<e;r++)i=t[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},rz=function(e,t,r,i){Td.length&&!So&&sS(),e.render(t,r,So&&t<0&&(e._initted||e._startAt)),Td.length&&!So&&sS()},iz=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(ZB).length<2?t:Gs(e)?e.trim():e},sz=function(e){return e},zl=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},Jne=function(e){return function(t,r){for(var i in r)i in t||i==="duration"&&e||i==="ease"||(t[i]=r[i])}},zp=function(e,t){for(var r in t)e[r]=t[r];return e},tN=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=pu(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},oS=function(e,t){var r={},i;for(i in e)i in t||(r[i]=e[i]);return r},oy=function(e){var t=e.parent||Ri,r=e.keyframes?Jne(bo(e.keyframes)):zl;if(xa(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},Qne=function(e,t){for(var r=e.length,i=r===t.length;i&&r--&&e[r]===t[r];);return r<0},oz=function(e,t,r,i,s){var o=e[i],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},Sb=function(e,t,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=t._prev,o=t._next;s?s._next=o:e[r]===t&&(e[r]=o),o?o._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},kd=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},wp=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},ere=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},LA=function(e,t,r,i){return e._startAt&&(So?e._startAt.revert(J1):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},tre=function n(e){return!e||e._ts&&n(e.parent)},nN=function(e){return e._repeat?Kg(e._tTime,e=e.duration()+e._rDelay)*e:0},Kg=function(e,t){var r=Math.floor(e/=t);return e&&r===e?r-1:r},aS=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},bb=function(e){return e._end=Hs(e._start+(e._tDur/Math.abs(e._ts||e._rts||di)||0))},Eb=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Hs(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),bb(e),r._dirty||wp(r,e)),e},az=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=aS(e.rawTime(),t),(!t._dur||Ax(0,t.totalDuration(),r)-t._tTime>di)&&t.render(r,!0)),wp(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-di}},Kc=function(e,t,r,i){return t.parent&&kd(t),t._start=Hs((_f(r)?r:r||e!==Ri?Ml(e,r,t):e._time)+t._delay),t._end=Hs(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),oz(e,t,"_first","_last",e._sort?"_start":0),DA(t)||(e._recent=t),i||az(e,t),e._ts<0&&Eb(e,e._tTime),e},lz=function(e,t){return(ol.ScrollTrigger||SP("scrollTrigger",t))&&ol.ScrollTrigger.create(t,e)},cz=function(e,t,r,i,s){if(AP(e,t,s),!e._initted)return 1;if(!r&&e._pt&&!So&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&tz!==Za.frame)return Td.push(e),e._lazy=[s,i],1},nre=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},DA=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},rre=function(e,t,r,i){var s=e.ratio,o=t<0||!t&&(!e._start&&nre(e)&&!(!e._initted&&DA(e))||(e._ts<0||e._dp._ts<0)&&!DA(e))?0:1,a=e._rDelay,l=0,c,f,h;if(a&&e._repeat&&(l=Ax(0,e._tDur,t),f=Kg(l,a),e._yoyo&&f&1&&(o=1-o),f!==Kg(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||So||i||e._zTime===di||!t&&e._zTime){if(!e._initted&&cz(e,t,i,r,l))return;for(h=e._zTime,e._zTime=t||(r?di:0),r||(r=t&&!h),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;t<0&&LA(e,t,r,!0),e._onUpdate&&!r&&Qa(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&Qa(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&kd(e,1),!r&&!So&&(Qa(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},ire=function(e,t,r){var i;if(r>t)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},Zg=function(e,t,r,i){var s=e._repeat,o=Hs(t)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Hs(o*(s+1)+e._rDelay*s):o,a>0&&!i&&Eb(e,e._tTime=e._tDur*a),e.parent&&bb(e),r||wp(e.parent,e),e},rN=function(e){return e instanceof qo?wp(e):Zg(e,e._dur)},sre={_start:0,endTime:zy,totalDuration:zy},Ml=function n(e,t,r){var i=e.labels,s=e._recent||sre,o=e.duration()>=Ol?s.endTime(!1):e._dur,a,l,c;return Gs(t)&&(isNaN(t)||t in i)?(l=t.charAt(0),c=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(a<0?s:r).totalDuration()/100:1)):a<0?(t in i||(i[t]=o),i[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),c&&r&&(l=l/100*(bo(r)?r[0]:r).totalDuration()),a>1?n(e,t.substr(0,a-1),r)+l:o+l)):t==null?o:+t},ay=function(e,t,r){var i=_f(t[1]),s=(i?2:1)+(e<2?0:1),o=t[s],a,l;if(i&&(o.duration=t[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=xa(l.vars.inherit)&&l.parent;o.immediateRender=xa(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new fs(t[0],o,t[s+1])},qd=function(e,t){return e||e===0?t(e):t},Ax=function(e,t,r){return r<e?e:r>t?t:r},yo=function(e,t){return!Gs(e)||!(t=qne.exec(e))?"":t[1]},ore=function(e,t,r){return qd(r,function(i){return Ax(e,t,i)})},NA=[].slice,uz=function(e,t){return e&&pu(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&pu(e[0]))&&!e.nodeType&&e!==qc},are=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return Gs(i)&&!t||uz(i,1)?(s=r).push.apply(s,Fl(i)):r.push(i)})||r},Fl=function(e,t,r){return wi&&!t&&wi.selector?wi.selector(e):Gs(e)&&!r&&(PA||!Jg())?NA.call((t||wP).querySelectorAll(e),0):bo(e)?are(e,r):uz(e)?NA.call(e,0):e?[e]:[]},kA=function(e){return e=Fl(e)[0]||By("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return Fl(t,r.querySelectorAll?r:r===e?By("Invalid scope")||wP.createElement("div"):e)}},fz=function(e){return e.sort(function(){return .5-Math.random()})},dz=function(e){if(ji(e))return e;var t=pu(e)?e:{each:e},r=Sp(t.ease),i=t.from||0,s=parseFloat(t.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,c=t.axis,f=i,h=i;return Gs(i)?f=h={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(f=i[0],h=i[1]),function(p,v,y){var w=(y||t).length,S=o[w],_,A,R,P,U,k,E,j,O;if(!S){if(O=t.grid==="auto"?0:(t.grid||[1,Ol])[1],!O){for(E=-Ol;E<(E=y[O++].getBoundingClientRect().left)&&O<w;);O<w&&O--}for(S=o[w]=[],_=l?Math.min(O,w)*f-.5:i%O,A=O===Ol?0:l?w*h/O-.5:i/O|0,E=0,j=Ol,k=0;k<w;k++)R=k%O-_,P=A-(k/O|0),S[k]=U=c?Math.abs(c==="y"?P:R):XB(R*R+P*P),U>E&&(E=U),U<j&&(j=U);i==="random"&&fz(S),S.max=E-j,S.min=j,S.v=w=(parseFloat(t.amount)||parseFloat(t.each)*(O>w?w-1:c?c==="y"?w/O:O:Math.max(O,w/O))||0)*(i==="edges"?-1:1),S.b=w<0?s-w:s,S.u=yo(t.amount||t.each)||0,r=r&&w<0?Sz(r):r}return w=(S[p]-S.min)/S.max||0,Hs(S.b+(r?r(w):w)*S.v)+S.u}},OA=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=Hs(Math.round(parseFloat(r)/e)*e*t);return(i-i%1)/t+(_f(r)?0:yo(r))}},hz=function(e,t){var r=bo(e),i,s;return!r&&pu(e)&&(i=r=e.radius||Ol,e.values?(e=Fl(e.values),(s=!_f(e[0]))&&(i*=i)):e=OA(e.increment)),qd(t,r?ji(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=Ol,f=0,h=e.length,p,v;h--;)s?(p=e[h].x-a,v=e[h].y-l,p=p*p+v*v):p=Math.abs(e[h]-a),p<c&&(c=p,f=h);return f=!i||c<=i?e[f]:o,s||f===o||_f(o)?f:f+yo(o)}:OA(e))},pz=function(e,t,r,i){return qd(bo(e)?!t:r===!0?!!(r=0):!i,function(){return bo(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*i)/i})},lre=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduce(function(s,o){return o(s)},i)}},cre=function(e,t){return function(r){return e(parseFloat(r))+(t||yo(r))}},ure=function(e,t,r){return gz(e,t,0,1,r)},mz=function(e,t,r){return qd(r,function(i){return e[~~t(i)]})},fre=function n(e,t,r){var i=t-e;return bo(e)?mz(e,n(0,e.length),t):qd(r,function(s){return(i+(s-e)%i)%i+e})},dre=function n(e,t,r){var i=t-e,s=i*2;return bo(e)?mz(e,n(0,e.length-1),t):qd(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},Vy=function(e){for(var t=0,r="",i,s,o,a;~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?ZB:RA),r+=e.substr(t,i-t)+pz(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return r+e.substr(t,e.length-t)},gz=function(e,t,r,i,s){var o=t-e,a=i-r;return qd(s,function(l){return r+((l-e)/o*a||0)})},hre=function n(e,t,r,i){var s=isNaN(e+t)?0:function(v){return(1-v)*e+v*t};if(!s){var o=Gs(e),a={},l,c,f,h,p;if(r===!0&&(i=1)&&(r=null),o)e={p:e},t={p:t};else if(bo(e)&&!bo(t)){for(f=[],h=e.length,p=h-2,c=1;c<h;c++)f.push(n(e[c-1],e[c]));h--,s=function(y){y*=h;var w=Math.min(p,~~y);return f[w](y-w)},r=t}else i||(e=zp(bo(e)?[]:{},e));if(!f){for(l in t)MP.call(a,e,l,"get",t[l]);s=function(y){return PP(y,a)||(o?e.p:e)}}}return qd(r,s)},iN=function(e,t,r){var i=e.labels,s=Ol,o,a,l;for(o in i)a=i[o]-t,a<0==!!r&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},Qa=function(e,t,r){var i=e.vars,s=i[t],o=wi,a=e._ctx,l,c,f;if(s)return l=i[t+"Params"],c=i.callbackScope||e,r&&Td.length&&sS(),a&&(wi=a),f=l?s.apply(c,l):s.call(c),wi=o,f},Ov=function(e){return kd(e),e.scrollTrigger&&e.scrollTrigger.kill(!!So),e.progress()<1&&Qa(e,"onInterrupt"),e},_g,vz=[],yz=function(e){if(e)if(e=!e.name&&e.default||e,_P()||e.headless){var t=e.name,r=ji(e),i=t&&!r&&e.init?function(){this._props=[]}:e,s={init:zy,render:PP,add:MP,kill:Rre,modifier:Cre,rawVars:0},o={targetTest:0,get:0,getSetter:RP,aliases:{},register:0};if(Jg(),e!==i){if(Ya[t])return;zl(i,zl(oS(e,s),o)),zp(i.prototype,zp(s,oS(e,o))),Ya[i.prop=t]=i,e.targetTest&&(Q1.push(i),bP[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}ez(t,i),e.register&&e.register(Ta,i,wa)}else vz.push(e)},si=255,Fv={aqua:[0,si,si],lime:[0,si,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,si],navy:[0,0,128],white:[si,si,si],olive:[128,128,0],yellow:[si,si,0],orange:[si,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[si,0,0],pink:[si,192,203],cyan:[0,si,si],transparent:[si,si,si,0]},qT=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*si+.5|0},xz=function(e,t,r){var i=e?_f(e)?[e>>16,e>>8&si,e&si]:0:Fv.black,s,o,a,l,c,f,h,p,v,y;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Fv[e])i=Fv[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&si,i&si,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&si,e&si]}else if(e.substr(0,3)==="hsl"){if(i=y=e.match(RA),!t)l=+i[0]%360/360,c=+i[1]/100,f=+i[2]/100,o=f<=.5?f*(c+1):f+c-f*c,s=f*2-o,i.length>3&&(i[3]*=1),i[0]=qT(l+1/3,s,o),i[1]=qT(l,s,o),i[2]=qT(l-1/3,s,o);else if(~e.indexOf("="))return i=e.match(YB),r&&i.length<4&&(i[3]=1),i}else i=e.match(RA)||Fv.transparent;i=i.map(Number)}return t&&!y&&(s=i[0]/si,o=i[1]/si,a=i[2]/si,h=Math.max(s,o,a),p=Math.min(s,o,a),f=(h+p)/2,h===p?l=c=0:(v=h-p,c=f>.5?v/(2-h-p):v/(h+p),l=h===s?(o-a)/v+(o<a?6:0):h===o?(a-s)/v+2:(s-o)/v+4,l*=60),i[0]=~~(l+.5),i[1]=~~(c*100+.5),i[2]=~~(f*100+.5)),r&&i.length<4&&(i[3]=1),i},_z=function(e){var t=[],r=[],i=-1;return e.split(Md).forEach(function(s){var o=s.match(xg)||[];t.push.apply(t,o),r.push(i+=o.length+1)}),t.c=r,t},sN=function(e,t,r){var i="",s=(e+i).match(Md),o=t?"hsla(":"rgba(",a=0,l,c,f,h;if(!s)return e;if(s=s.map(function(p){return(p=xz(p,t,1))&&o+(t?p[0]+","+p[1]+"%,"+p[2]+"%,"+p[3]:p.join(","))+")"}),r&&(f=_z(e),l=r.c,l.join(i)!==f.c.join(i)))for(c=e.replace(Md,"1").split(xg),h=c.length-1;a<h;a++)i+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(f.length?f:s.length?s:r).shift());if(!c)for(c=e.split(Md),h=c.length-1;a<h;a++)i+=c[a]+s[a];return i+c[h]},Md=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Fv)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),pre=/hsl[a]?\(/,wz=function(e){var t=e.join(" "),r;if(Md.lastIndex=0,Md.test(t))return r=pre.test(t),e[1]=sN(e[1],r),e[0]=sN(e[0],r,_z(e[1])),!0},Hy,Za=function(){var n=Date.now,e=500,t=33,r=n(),i=r,s=1e3/240,o=s,a=[],l,c,f,h,p,v,y=function w(S){var _=n()-i,A=S===!0,R,P,U,k;if((_>e||_<0)&&(r+=_-t),i+=_,U=i-r,R=U-o,(R>0||A)&&(k=++h.frame,p=U-h.time*1e3,h.time=U=U/1e3,o+=R+(R>=s?4:s-R),P=1),A||(l=c(w)),P)for(v=0;v<a.length;v++)a[v](U,p,k,S)};return h={time:0,frame:0,tick:function(){y(!0)},deltaRatio:function(S){return p/(1e3/(S||60))},wake:function(){JB&&(!PA&&_P()&&(qc=PA=window,wP=qc.document||{},ol.gsap=Ta,(qc.gsapVersions||(qc.gsapVersions=[])).push(Ta.version),QB(iS||qc.GreenSockGlobals||!qc.gsap&&qc||{}),vz.forEach(yz)),f=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&h.sleep(),c=f||function(S){return setTimeout(S,o-h.time*1e3+1|0)},Hy=1,y(2))},sleep:function(){(f?cancelAnimationFrame:clearTimeout)(l),Hy=0,c=zy},lagSmoothing:function(S,_){e=S||1/0,t=Math.min(_||33,e)},fps:function(S){s=1e3/(S||240),o=h.time*1e3+s},add:function(S,_,A){var R=_?function(P,U,k,E){S(P,U,k,E),h.remove(R)}:S;return h.remove(S),a[A?"unshift":"push"](R),Jg(),R},remove:function(S,_){~(_=a.indexOf(S))&&a.splice(_,1)&&v>=_&&v--},_listeners:a},h}(),Jg=function(){return!Hy&&Za.wake()},Pr={},mre=/^[\d.\-M][\d.\-,\s]/,gre=/["']/g,vre=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,a,l,c;s<o;s++)l=r[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),t[i]=isNaN(c)?c.replace(gre,"").trim():+c,i=l.substr(a+1).trim();return t},yre=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<r?e.indexOf(")",r+1):r)},xre=function(e){var t=(e+"").split("("),r=Pr[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[vre(t[1])]:yre(e).split(",").map(iz)):Pr._CE&&mre.test(e)?Pr._CE("",e):r},Sz=function(e){return function(t){return 1-e(1-t)}},bz=function n(e,t){for(var r=e._first,i;r;)r instanceof qo?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=t)),r=r._next},Sp=function(e,t){return e&&(ji(e)?e:Pr[e]||xre(e))||t},em=function(e,t,r,i){r===void 0&&(r=function(l){return 1-t(1-l)}),i===void 0&&(i=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:r,easeInOut:i},o;return _a(e,function(a){Pr[a]=ol[a]=s,Pr[o=a.toLowerCase()]=r;for(var l in s)Pr[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=Pr[a+"."+l]=s[l]}),s},Ez=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},YT=function n(e,t,r){var i=t>=1?t:1,s=(r||(e?.3:.45))/(t<1?t:1),o=s/CA*(Math.asin(1/i)||0),a=function(f){return f===1?1:i*Math.pow(2,-10*f)*Xne((f-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:Ez(a);return s=CA/s,l.config=function(c,f){return n(e,c,f)},l},KT=function n(e,t){t===void 0&&(t=1.70158);var r=function(o){return o?--o*o*((t+1)*o+t)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:Ez(r);return i.config=function(s){return n(e,s)},i};_a("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;em(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});Pr.Linear.easeNone=Pr.none=Pr.Linear.easeIn;em("Elastic",YT("in"),YT("out"),YT());(function(n,e){var t=1/e,r=2*t,i=2.5*t,s=function(a){return a<t?n*a*a:a<r?n*Math.pow(a-1.5/e,2)+.75:a<i?n*(a-=2.25/e)*a+.9375:n*Math.pow(a-2.625/e,2)+.984375};em("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);em("Expo",function(n){return n?Math.pow(2,10*(n-1)):0});em("Circ",function(n){return-(XB(1-n*n)-1)});em("Sine",function(n){return n===1?1:-$ne(n*Wne)+1});em("Back",KT("in"),KT("out"),KT());Pr.SteppedEase=Pr.steps=ol.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,i=e+(t?0:1),s=t?1:0,o=1-di;return function(a){return((i*Ax(0,o,a)|0)+s)*r}}};Yg.ease=Pr["quad.out"];_a("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return EP+=n+","+n+"Params,"});var Tz=function(e,t){this.id=Gne++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:nz,this.set=t?t.getSetter:RP},jy=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Zg(this,+t.duration,1,1),this.data=t.data,wi&&(this._ctx=wi,wi.data.push(this)),Hy||Za.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,Zg(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(Jg(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(Eb(this,r),!s._dp||s.parent||az(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Kc(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===di||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),rz(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+nN(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+nN(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?Kg(this._tTime,s)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-di?0:this._rts;if(this._rts===r)return this;var s=this.parent&&this._ts?aS(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-di?0:this._rts,this.totalTime(Ax(-Math.abs(this._delay),this._tDur,s),i!==!1),bb(this),ere(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Jg(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==di&&(this._tTime-=di)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Kc(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(xa(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?aS(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=Kne);var i=So;return So=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),So=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,rN(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,rN(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(Ml(this,r),xa(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,xa(i))},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-di:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-di,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-di)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=ji(r)?r:sz,a=function(){var c=i.then;i.then=null,ji(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=c),s(o),i.then=c};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){Ov(this)},n}();zl(jy.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-di,_prom:0,_ps:!1,_rts:1});var qo=function(n){$B(e,n);function e(r,i){var s;return r===void 0&&(r={}),s=n.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=xa(r.sortChildren),Ri&&Kc(r.parent||Ri,Ju(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&lz(Ju(s),r.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,o){return ay(0,arguments,this),this},t.from=function(i,s,o){return ay(1,arguments,this),this},t.fromTo=function(i,s,o,a){return ay(2,arguments,this),this},t.set=function(i,s,o){return s.duration=0,s.parent=this,oy(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new fs(i,s,Ml(this,o),1),this},t.call=function(i,s,o){return Kc(this,fs.delayedCall(0,i,s),o)},t.staggerTo=function(i,s,o,a,l,c,f){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=f,o.parent=this,new fs(i,o,Ml(this,l)),this},t.staggerFrom=function(i,s,o,a,l,c,f){return o.runBackwards=1,oy(o).immediateRender=xa(o.immediateRender),this.staggerTo(i,s,o,a,l,c,f)},t.staggerFromTo=function(i,s,o,a,l,c,f,h){return a.startAt=o,oy(a).immediateRender=xa(a.immediateRender),this.staggerTo(i,s,a,l,c,f,h)},t.render=function(i,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,f=i<=0?0:Hs(i),h=this._zTime<0!=i<0&&(this._initted||!c),p,v,y,w,S,_,A,R,P,U,k,E;if(this!==Ri&&f>l&&i>=0&&(f=l),f!==this._tTime||o||h){if(a!==this._time&&c&&(f+=this._time-a,i+=this._time-a),p=f,P=this._start,R=this._ts,_=!R,h&&(c||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(k=this._yoyo,S=c+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(S*100+i,s,o);if(p=Hs(f%S),f===l?(w=this._repeat,p=c):(w=~~(f/S),w&&w===f/S&&(p=c,w--),p>c&&(p=c)),U=Kg(this._tTime,S),!a&&this._tTime&&U!==w&&this._tTime-U*S-this._dur<=0&&(U=w),k&&w&1&&(p=c-p,E=1),w!==U&&!this._lock){var j=k&&U&1,O=j===(k&&w&1);if(w<U&&(j=!j),a=j?0:f%c?c:f,this._lock=1,this.render(a||(E?0:Hs(w*S)),s,!c)._lock=0,this._tTime=f,!s&&this.parent&&Qa(this,"onRepeat"),this.vars.repeatRefresh&&!E&&(this.invalidate()._lock=1),a&&a!==this._time||_!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,O&&(this._lock=2,a=j?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!E&&this.invalidate()),this._lock=0,!this._ts&&!_)return this;bz(this,E)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(A=ire(this,Hs(a),Hs(p)),A&&(f-=p-(p=A._start))),this._tTime=f,this._time=p,this._act=!R,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&p&&!s&&!w&&(Qa(this,"onStart"),this._tTime!==f))return this;if(p>=a&&i>=0)for(v=this._first;v;){if(y=v._next,(v._act||p>=v._start)&&v._ts&&A!==v){if(v.parent!==this)return this.render(i,s,o);if(v.render(v._ts>0?(p-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(p-v._start)*v._ts,s,o),p!==this._time||!this._ts&&!_){A=0,y&&(f+=this._zTime=-di);break}}v=y}else{v=this._last;for(var F=i<0?i:p;v;){if(y=v._prev,(v._act||F<=v._end)&&v._ts&&A!==v){if(v.parent!==this)return this.render(i,s,o);if(v.render(v._ts>0?(F-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(F-v._start)*v._ts,s,o||So&&(v._initted||v._startAt)),p!==this._time||!this._ts&&!_){A=0,y&&(f+=this._zTime=F?-di:di);break}}v=y}}if(A&&!s&&(this.pause(),A.render(p>=a?0:-di)._zTime=p>=a?1:-1,this._ts))return this._start=P,bb(this),this.render(i,s,o);this._onUpdate&&!s&&Qa(this,"onUpdate",!0),(f===l&&this._tTime>=this.totalDuration()||!f&&a)&&(P===this._start||Math.abs(R)!==Math.abs(this._ts))&&(this._lock||((i||!c)&&(f===l&&this._ts>0||!f&&this._ts<0)&&kd(this,1),!s&&!(i<0&&!a)&&(f||a||!l)&&(Qa(this,f===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var o=this;if(_f(s)||(s=Ml(this,s,i)),!(i instanceof jy)){if(bo(i))return i.forEach(function(a){return o.add(a,s)}),this;if(Gs(i))return this.addLabel(i,s);if(ji(i))i=fs.delayedCall(0,i);else return this}return this!==i?Kc(this,i,s):this},t.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-Ol);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof fs?s&&l.push(c):(o&&l.push(c),i&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},t.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},t.remove=function(i){return Gs(i)?this.removeLabel(i):ji(i)?this.killTweensOf(i):(Sb(this,i),i===this._recent&&(this._recent=this._last),wp(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Hs(Za.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=Ml(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,o){var a=fs.delayedCall(0,s||zy,o);return a.data="isPause",this._hasPause=1,Kc(this,a,Ml(this,i))},t.removePause=function(i){var s=this._first;for(i=Ml(this,i);s;)s._start===i&&s.data==="isPause"&&kd(s),s=s._next},t.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)xd!==a[l]&&a[l].kill(i,s);return this},t.getTweensOf=function(i,s){for(var o=[],a=Fl(i),l=this._first,c=_f(s),f;l;)l instanceof fs?Zne(l._targets,a)&&(c?(!xd||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(f=l.getTweensOf(a,s)).length&&o.push.apply(o,f),l=l._next;return o},t.tweenTo=function(i,s){s=s||{};var o=this,a=Ml(o,i),l=s,c=l.startAt,f=l.onStart,h=l.onStartParams,p=l.immediateRender,v,y=fs.to(o,zl({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||di,onStart:function(){if(o.pause(),!v){var S=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());y._dur!==S&&Zg(y,S,0,1).render(y._time,!0,!0),v=1}f&&f.apply(y,h||[])}},s));return p?y.render(0):y},t.tweenFromTo=function(i,s,o){return this.tweenTo(s,zl({startAt:{time:Ml(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),iN(this,Ml(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),iN(this,Ml(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+di)},t.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=i);return wp(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return n.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),wp(this)},t.totalDuration=function(i){var s=0,o=this,a=o._last,l=Ol,c,f,h;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(h=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),f=a._start,f>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Kc(o,a,f-a._delay,1)._lock=0):l=f,f<0&&a._ts&&(s-=f,(!h&&!o._dp||h&&h.smoothChildTiming)&&(o._start+=f/o._ts,o._time-=f,o._tTime-=f),o.shiftChildren(-f,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;Zg(o,o===Ri&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(Ri._ts&&(rz(Ri,aS(i,Ri)),tz=Za.frame),Za.frame>=eN){eN+=tl.autoSleep||120;var s=Ri._first;if((!s||!s._ts)&&tl.autoSleep&&Za._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Za.sleep()}}},e}(jy);zl(qo.prototype,{_lock:0,_hasPause:0,_forcing:0});var _re=function(e,t,r,i,s,o,a){var l=new wa(this._pt,e,t,0,1,Iz,null,s),c=0,f=0,h,p,v,y,w,S,_,A;for(l.b=r,l.e=i,r+="",i+="",(_=~i.indexOf("random("))&&(i=Vy(i)),o&&(A=[r,i],o(A,e,t),r=A[0],i=A[1]),p=r.match($T)||[];h=$T.exec(i);)y=h[0],w=i.substring(c,h.index),v?v=(v+1)%5:w.substr(-5)==="rgba("&&(v=1),y!==p[f++]&&(S=parseFloat(p[f-1])||0,l._pt={_next:l._pt,p:w||f===1?w:",",s:S,c:y.charAt(1)==="="?Cg(S,y)-S:parseFloat(y)-S,m:v&&v<4?Math.round:0},c=$T.lastIndex);return l.c=c<i.length?i.substring(c,i.length):"",l.fp=a,(KB.test(i)||_)&&(l.e=0),this._pt=l,l},MP=function(e,t,r,i,s,o,a,l,c,f){ji(i)&&(i=i(s||0,e,o));var h=e[t],p=r!=="get"?r:ji(h)?c?e[t.indexOf("set")||!ji(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():h,v=ji(h)?c?Tre:Rz:CP,y;if(Gs(i)&&(~i.indexOf("random(")&&(i=Vy(i)),i.charAt(1)==="="&&(y=Cg(p,i)+(yo(p)||0),(y||y===0)&&(i=y))),!f||p!==i||FA)return!isNaN(p*i)&&i!==""?(y=new wa(this._pt,e,t,+p||0,i-(p||0),typeof h=="boolean"?Are:Pz,0,v),c&&(y.fp=c),a&&y.modifier(a,this,e),this._pt=y):(!h&&!(t in e)&&SP(t,i),_re.call(this,e,t,p,i,v,l||tl.stringFilter,c))},wre=function(e,t,r,i,s){if(ji(e)&&(e=ly(e,s,t,r,i)),!pu(e)||e.style&&e.nodeType||bo(e)||qB(e))return Gs(e)?ly(e,s,t,r,i):e;var o={},a;for(a in e)o[a]=ly(e[a],s,t,r,i);return o},Mz=function(e,t,r,i,s,o){var a,l,c,f;if(Ya[e]&&(a=new Ya[e]).init(s,a.rawVars?t[e]:wre(t[e],i,s,o,r),r,i,o)!==!1&&(r._pt=l=new wa(r._pt,s,e,0,1,a.render,a,0,a.priority),r!==_g))for(c=r._ptLookup[r._targets.indexOf(s)],f=a._props.length;f--;)c[a._props[f]]=l;return a},xd,FA,AP=function n(e,t,r){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,c=i.onUpdate,f=i.runBackwards,h=i.yoyoEase,p=i.keyframes,v=i.autoRevert,y=e._dur,w=e._startAt,S=e._targets,_=e.parent,A=_&&_.data==="nested"?_.vars.targets:S,R=e._overwrite==="auto"&&!yP,P=e.timeline,U,k,E,j,O,F,Y,te,ie,ue,_e,he,ge;if(P&&(!p||!s)&&(s="none"),e._ease=Sp(s,Yg.ease),e._yEase=h?Sz(Sp(h===!0?s:h,Yg.ease)):0,h&&e._yoyo&&!e._repeat&&(h=e._yEase,e._yEase=e._ease,e._ease=h),e._from=!P&&!!i.runBackwards,!P||p&&!i.stagger){if(te=S[0]?_p(S[0]).harness:0,he=te&&i[te.prop],U=oS(i,bP),w&&(w._zTime<0&&w.progress(1),t<0&&f&&a&&!v?w.render(-1,!0):w.revert(f&&y?J1:Yne),w._lazy=0),o){if(kd(e._startAt=fs.set(S,zl({data:"isStart",overwrite:!1,parent:_,immediateRender:!0,lazy:!w&&xa(l),startAt:null,delay:0,onUpdate:c&&function(){return Qa(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(So||!a&&!v)&&e._startAt.revert(J1),a&&y&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(f&&y&&!w){if(t&&(a=!1),E=zl({overwrite:!1,data:"isFromStart",lazy:a&&!w&&xa(l),immediateRender:a,stagger:0,parent:_},U),he&&(E[te.prop]=he),kd(e._startAt=fs.set(S,E)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(So?e._startAt.revert(J1):e._startAt.render(-1,!0)),e._zTime=t,!a)n(e._startAt,di,di);else if(!t)return}for(e._pt=e._ptCache=0,l=y&&xa(l)||l&&!y,k=0;k<S.length;k++){if(O=S[k],Y=O._gsap||TP(S)[k]._gsap,e._ptLookup[k]=ue={},IA[Y.id]&&Td.length&&sS(),_e=A===S?k:A.indexOf(O),te&&(ie=new te).init(O,he||U,e,_e,A)!==!1&&(e._pt=j=new wa(e._pt,O,ie.name,0,1,ie.render,ie,0,ie.priority),ie._props.forEach(function(q){ue[q]=j}),ie.priority&&(F=1)),!te||he)for(E in U)Ya[E]&&(ie=Mz(E,U,e,_e,O,A))?ie.priority&&(F=1):ue[E]=j=MP.call(e,O,E,"get",U[E],_e,A,0,i.stringFilter);e._op&&e._op[k]&&e.kill(O,e._op[k]),R&&e._pt&&(xd=e,Ri.killTweensOf(O,ue,e.globalTime(t)),ge=!e.parent,xd=0),e._pt&&l&&(IA[Y.id]=1)}F&&Lz(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!ge,p&&t<=0&&P.render(Ol,!0,!0)},Sre=function(e,t,r,i,s,o,a,l){var c=(e._pt&&e._ptCache||(e._ptCache={}))[t],f,h,p,v;if(!c)for(c=e._ptCache[t]=[],p=e._ptLookup,v=e._targets.length;v--;){if(f=p[v][t],f&&f.d&&f.d._pt)for(f=f.d._pt;f&&f.p!==t&&f.fp!==t;)f=f._next;if(!f)return FA=1,e.vars[t]="+=0",AP(e,a),FA=0,l?By(t+" not eligible for reset"):1;c.push(f)}for(v=c.length;v--;)h=c[v],f=h._pt||h,f.s=(i||i===0)&&!s?i:f.s+(i||0)+o*f.c,f.c=r-f.s,h.e&&(h.e=Ki(r)+yo(h.e)),h.b&&(h.b=f.s+yo(h.b))},bre=function(e,t){var r=e[0]?_p(e[0]).harness:0,i=r&&r.aliases,s,o,a,l;if(!i)return t;s=zp({},t);for(o in i)if(o in s)for(l=i[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},Ere=function(e,t,r,i){var s=t.ease||i||"power1.inOut",o,a;if(bo(t))a=r[e]||(r[e]=[]),t.forEach(function(l,c){return a.push({t:c/(t.length-1)*100,v:l,e:s})});else for(o in t)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},ly=function(e,t,r,i,s){return ji(e)?e.call(t,r,i,s):Gs(e)&&~e.indexOf("random(")?Vy(e):e},Az=EP+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Cz={};_a(Az+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return Cz[n]=1});var fs=function(n){$B(e,n);function e(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=n.call(this,o?i:oy(i))||this;var l=a.vars,c=l.duration,f=l.delay,h=l.immediateRender,p=l.stagger,v=l.overwrite,y=l.keyframes,w=l.defaults,S=l.scrollTrigger,_=l.yoyoEase,A=i.parent||Ri,R=(bo(r)||qB(r)?_f(r[0]):"length"in i)?[r]:Fl(r),P,U,k,E,j,O,F,Y;if(a._targets=R.length?TP(R):By("GSAP target "+r+" not found. https://gsap.com",!tl.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=v,y||p||y1(c)||y1(f)){if(i=a.vars,P=a.timeline=new qo({data:"nested",defaults:w||{},targets:A&&A.data==="nested"?A.vars.targets:R}),P.kill(),P.parent=P._dp=Ju(a),P._start=0,p||y1(c)||y1(f)){if(E=R.length,F=p&&dz(p),pu(p))for(j in p)~Az.indexOf(j)&&(Y||(Y={}),Y[j]=p[j]);for(U=0;U<E;U++)k=oS(i,Cz),k.stagger=0,_&&(k.yoyoEase=_),Y&&zp(k,Y),O=R[U],k.duration=+ly(c,Ju(a),U,O,R),k.delay=(+ly(f,Ju(a),U,O,R)||0)-a._delay,!p&&E===1&&k.delay&&(a._delay=f=k.delay,a._start+=f,k.delay=0),P.to(O,k,F?F(U,O,R):0),P._ease=Pr.none;P.duration()?c=f=0:a.timeline=0}else if(y){oy(zl(P.vars.defaults,{ease:"none"})),P._ease=Sp(y.ease||i.ease||"none");var te=0,ie,ue,_e;if(bo(y))y.forEach(function(he){return P.to(R,he,">")}),P.duration();else{k={};for(j in y)j==="ease"||j==="easeEach"||Ere(j,y[j],k,y.easeEach);for(j in k)for(ie=k[j].sort(function(he,ge){return he.t-ge.t}),te=0,U=0;U<ie.length;U++)ue=ie[U],_e={ease:ue.e,duration:(ue.t-(U?ie[U-1].t:0))/100*c},_e[j]=ue.v,P.to(R,_e,te),te+=_e.duration;P.duration()<c&&P.to({},{duration:c-P.duration()})}}c||a.duration(c=P.duration())}else a.timeline=0;return v===!0&&!yP&&(xd=Ju(a),Ri.killTweensOf(R),xd=0),Kc(A,Ju(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(h||!c&&!y&&a._start===Hs(A._time)&&xa(h)&&tre(Ju(a))&&A.data!=="nested")&&(a._tTime=-di,a.render(Math.max(0,-f)||0)),S&&lz(Ju(a),S),a}var t=e.prototype;return t.render=function(i,s,o){var a=this._time,l=this._tDur,c=this._dur,f=i<0,h=i>l-di&&!f?l:i<di?0:i,p,v,y,w,S,_,A,R,P;if(!c)rre(this,i,s,o);else if(h!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==f){if(p=h,R=this.timeline,this._repeat){if(w=c+this._rDelay,this._repeat<-1&&f)return this.totalTime(w*100+i,s,o);if(p=Hs(h%w),h===l?(y=this._repeat,p=c):(y=~~(h/w),y&&y===Hs(h/w)&&(p=c,y--),p>c&&(p=c)),_=this._yoyo&&y&1,_&&(P=this._yEase,p=c-p),S=Kg(this._tTime,w),p===a&&!o&&this._initted&&y===S)return this._tTime=h,this;y!==S&&(R&&this._yEase&&bz(R,_),this.vars.repeatRefresh&&!_&&!this._lock&&this._time!==w&&this._initted&&(this._lock=o=1,this.render(Hs(w*y),!0).invalidate()._lock=0))}if(!this._initted){if(cz(this,f?i:p,o,s,h))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&y!==S))return this;if(c!==this._dur)return this.render(i,s,o)}if(this._tTime=h,this._time=p,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=A=(P||this._ease)(p/c),this._from&&(this.ratio=A=1-A),p&&!a&&!s&&!y&&(Qa(this,"onStart"),this._tTime!==h))return this;for(v=this._pt;v;)v.r(A,v.d),v=v._next;R&&R.render(i<0?i:R._dur*R._ease(p/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(f&&LA(this,i,s,o),Qa(this,"onUpdate")),this._repeat&&y!==S&&this.vars.onRepeat&&!s&&this.parent&&Qa(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(f&&!this._onUpdate&&LA(this,i,!0,!0),(i||!c)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&kd(this,1),!s&&!(f&&!a)&&(h||a||_)&&(Qa(this,h===l?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,o,a,l){Hy||Za.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),f;return this._initted||AP(this,c),f=this._ease(c/this._dur),Sre(this,i,s,o,a,f,c,l)?this.resetTo(i,s,o,a,1):(Eb(this,0),this.parent||oz(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Ov(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,xd&&xd.vars.overwrite!==!0)._first||Ov(this),this.parent&&o!==this.timeline.totalDuration()&&Zg(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?Fl(i):a,c=this._ptLookup,f=this._pt,h,p,v,y,w,S,_;if((!s||s==="all")&&Qne(a,l))return s==="all"&&(this._pt=0),Ov(this);for(h=this._op=this._op||[],s!=="all"&&(Gs(s)&&(w={},_a(s,function(A){return w[A]=1}),s=w),s=bre(a,s)),_=a.length;_--;)if(~l.indexOf(a[_])){p=c[_],s==="all"?(h[_]=s,y=p,v={}):(v=h[_]=h[_]||{},y=s);for(w in y)S=p&&p[w],S&&((!("kill"in S.d)||S.d.kill(w)===!0)&&Sb(this,S,"_pt"),delete p[w]),v!=="all"&&(v[w]=1)}return this._initted&&!this._pt&&f&&Ov(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return ay(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return ay(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return Ri.killTweensOf(i,s,o)},e}(jy);zl(fs.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});_a("staggerTo,staggerFrom,staggerFromTo",function(n){fs[n]=function(){var e=new qo,t=NA.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var CP=function(e,t,r){return e[t]=r},Rz=function(e,t,r){return e[t](r)},Tre=function(e,t,r,i){return e[t](i.fp,r)},Mre=function(e,t,r){return e.setAttribute(t,r)},RP=function(e,t){return ji(e[t])?Rz:xP(e[t])&&e.setAttribute?Mre:CP},Pz=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},Are=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},Iz=function(e,t){var r=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=t.c}t.set(t.t,t.p,i,t)},PP=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},Cre=function(e,t,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,t,r),s=o},Rre=function(e){for(var t=this._pt,r,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?Sb(this,t,"_pt"):t.dep||(r=1),t=i;return!r},Pre=function(e,t,r,i){i.mSet(e,t,i.m.call(i.tween,r,i.mt),i)},Lz=function(e){for(var t=e._pt,r,i,s,o;t;){for(r=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:o=t,t=r}e._pt=s},wa=function(){function n(t,r,i,s,o,a,l,c,f){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||Pz,this.d=l||this,this.set=c||CP,this.pr=f||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=Pre,this.m=r,this.mt=s,this.tween=i},n}();_a(EP+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return bP[n]=1});ol.TweenMax=ol.TweenLite=fs;ol.TimelineLite=ol.TimelineMax=qo;Ri=new qo({sortChildren:!1,defaults:Yg,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});tl.stringFilter=wz;var bp=[],ew={},Ire=[],oN=0,Lre=0,ZT=function(e){return(ew[e]||Ire).map(function(t){return t()})},UA=function(){var e=Date.now(),t=[];e-oN>2&&(ZT("matchMediaInit"),bp.forEach(function(r){var i=r.queries,s=r.conditions,o,a,l,c;for(a in i)o=qc.matchMedia(i[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(r.revert(),l&&t.push(r))}),ZT("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),oN=e,ZT("matchMedia"))},Dz=function(){function n(t,r){this.selector=r&&kA(r),this.data=[],this._r=[],this.isReverted=!1,this.id=Lre++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,i,s){ji(r)&&(s=i,i=r,r=ji);var o=this,a=function(){var c=wi,f=o.selector,h;return c&&c!==o&&c.data.push(o),s&&(o.selector=kA(s)),wi=o,h=i.apply(o,arguments),ji(h)&&o._r.push(h),wi=c,o.selector=f,o.isReverted=!1,h};return o.last=a,r===ji?a(o,function(l){return o.add(null,l)}):r?o[r]=a:a},e.ignore=function(r){var i=wi;wi=null,r(this),wi=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof n?r.push.apply(r,i.getTweens()):i instanceof fs&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r?function(){for(var a=s.getTweens(),l=s.data.length,c;l--;)c=s.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(f){return a.splice(a.indexOf(f),1)}));for(a.map(function(f){return{g:f._dur||f._delay||f._sat&&!f._sat.vars.immediateRender?f.globalTime(0):-1/0,t:f}}).sort(function(f,h){return h.g-f.g||-1/0}).forEach(function(f){return f.t.revert(r)}),l=s.data.length;l--;)c=s.data[l],c instanceof qo?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof fs)&&c.revert&&c.revert(r);s._r.forEach(function(f){return f(r,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=bp.length;o--;)bp[o].id===this.id&&bp.splice(o,1)},e.revert=function(r){this.kill(r||{})},n}(),Dre=function(){function n(t){this.contexts=[],this.scope=t,wi&&wi.data.push(this)}var e=n.prototype;return e.add=function(r,i,s){pu(r)||(r={matches:r});var o=new Dz(0,s||this.scope),a=o.conditions={},l,c,f;wi&&!o.selector&&(o.selector=wi.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(c in r)c==="all"?f=1:(l=qc.matchMedia(r[c]),l&&(bp.indexOf(o)<0&&bp.push(o),(a[c]=l.matches)&&(f=1),l.addListener?l.addListener(UA):l.addEventListener("change",UA)));return f&&i(o,function(h){return o.add(null,h)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},n}(),lS={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(i){return yz(i)})},timeline:function(e){return new qo(e)},getTweensOf:function(e,t){return Ri.getTweensOf(e,t)},getProperty:function(e,t,r,i){Gs(e)&&(e=Fl(e)[0]);var s=_p(e||{}).get,o=r?sz:iz;return r==="native"&&(r=""),e&&(t?o((Ya[t]&&Ya[t].get||s)(e,t,r,i)):function(a,l,c){return o((Ya[a]&&Ya[a].get||s)(e,a,l,c))})},quickSetter:function(e,t,r){if(e=Fl(e),e.length>1){var i=e.map(function(f){return Ta.quickSetter(f,t,r)}),s=i.length;return function(f){for(var h=s;h--;)i[h](f)}}e=e[0]||{};var o=Ya[t],a=_p(e),l=a.harness&&(a.harness.aliases||{})[t]||t,c=o?function(f){var h=new o;_g._pt=0,h.init(e,r?f+r:f,_g,0,[e]),h.render(1,h),_g._pt&&PP(1,_g)}:a.set(e,l);return o?c:function(f){return c(e,l,r?f+r:f,a,1)}},quickTo:function(e,t,r){var i,s=Ta.to(e,zp((i={},i[t]="+=0.1",i.paused=!0,i),r||{})),o=function(l,c,f){return s.resetTo(t,l,c,f)};return o.tween=s,o},isTweening:function(e){return Ri.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Sp(e.ease,Yg.ease)),tN(Yg,e||{})},config:function(e){return tN(tl,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!Ya[a]&&!ol[a]&&By(t+" effect requires "+a+" plugin.")}),XT[t]=function(a,l,c){return r(Fl(a),zl(l||{},s),c)},o&&(qo.prototype[t]=function(a,l,c){return this.add(XT[t](a,pu(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,t){Pr[e]=Sp(t)},parseEase:function(e,t){return arguments.length?Sp(e,t):Pr},getById:function(e){return Ri.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new qo(e),i,s;for(r.smoothChildTiming=xa(e.smoothChildTiming),Ri.remove(r),r._dp=0,r._time=r._tTime=Ri._time,i=Ri._first;i;)s=i._next,(t||!(!i._dur&&i instanceof fs&&i.vars.onComplete===i._targets[0]))&&Kc(r,i,i._start-i._delay),i=s;return Kc(Ri,r,0),r},context:function(e,t){return e?new Dz(e,t):wi},matchMedia:function(e){return new Dre(e)},matchMediaRefresh:function(){return bp.forEach(function(e){var t=e.conditions,r,i;for(i in t)t[i]&&(t[i]=!1,r=1);r&&e.revert()})||UA()},addEventListener:function(e,t){var r=ew[e]||(ew[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=ew[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)},utils:{wrap:fre,wrapYoyo:dre,distribute:dz,random:pz,snap:hz,normalize:ure,getUnit:yo,clamp:ore,splitColor:xz,toArray:Fl,selector:kA,mapRange:gz,pipe:lre,unitize:cre,interpolate:hre,shuffle:fz},install:QB,effects:XT,ticker:Za,updateRoot:qo.updateRoot,plugins:Ya,globalTimeline:Ri,core:{PropTween:wa,globals:ez,Tween:fs,Timeline:qo,Animation:jy,getCache:_p,_removeLinkedListItem:Sb,reverting:function(){return So},context:function(e){return e&&wi&&(wi.data.push(e),e._ctx=wi),wi},suppressOverwrites:function(e){return yP=e}}};_a("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return lS[n]=fs[n]});Za.add(qo.updateRoot);_g=lS.to({},{duration:0});var Nre=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},kre=function(e,t){var r=e._targets,i,s,o;for(i in t)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=Nre(o,i)),o&&o.modifier&&o.modifier(t[i],e,r[s],i))},JT=function(e,t){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,c;if(Gs(s)&&(l={},_a(s,function(f){return l[f]=1}),s=l),t){l={};for(c in s)l[c]=t(s[c]);s=l}kre(a,s)}}}},Ta=lS.registerPlugin({name:"attr",init:function(e,t,r,i,s){var o,a,l;this.tween=r;for(o in t)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",t[o],i,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var r=t._pt;r;)So?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},JT("roundProps",OA),JT("modifiers"),JT("snap",hz))||lS;fs.version=qo.version=Ta.version="3.12.5";JB=1;_P()&&Jg();Pr.Power0;Pr.Power1;Pr.Power2;Pr.Power3;Pr.Power4;Pr.Linear;Pr.Quad;Pr.Cubic;Pr.Quart;Pr.Quint;Pr.Strong;Pr.Elastic;Pr.Back;Pr.SteppedEase;Pr.Bounce;Pr.Sine;Pr.Expo;Pr.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var aN,_d,Rg,IP,up,lN,LP,Ore=function(){return typeof window<"u"},wf={},Jh=180/Math.PI,Pg=Math.PI/180,eg=Math.atan2,cN=1e8,DP=/([A-Z])/g,Fre=/(left|right|width|margin|padding|x)/i,Ure=/[\s,\(]\S/,Qc={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},BA=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Bre=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},zre=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},Vre=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},Nz=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},kz=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},Hre=function(e,t,r){return e.style[t]=r},jre=function(e,t,r){return e.style.setProperty(t,r)},Wre=function(e,t,r){return e._gsap[t]=r},Gre=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},$re=function(e,t,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},Xre=function(e,t,r,i,s){var o=e._gsap;o[t]=r,o.renderTransform(s,o)},Li="transform",Sa=Li+"Origin",qre=function n(e,t){var r=this,i=this.target,s=i.style,o=i._gsap;if(e in wf&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Qc[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return r.tfm[a]=tf(i,a)}):this.tfm[e]=o.x?o[e]:tf(i,e),e===Sa&&(this.tfm.zOrigin=o.zOrigin);else return Qc.transform.split(",").forEach(function(a){return n.call(r,a,t)});if(this.props.indexOf(Li)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Sa,t,"")),e=Li}(s||t)&&this.props.push(e,t,s[e])},Oz=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Yre=function(){var e=this.props,t=this.target,r=t.style,i=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(DP,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=LP(),(!s||!s.isStart)&&!r[Li]&&(Oz(r),i.zOrigin&&r[Sa]&&(r[Sa]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},Fz=function(e,t){var r={target:e,props:[],revert:Yre,save:qre};return e._gsap||Ta.core.getCache(e),t&&t.split(",").forEach(function(i){return r.save(i)}),r},Uz,zA=function(e,t){var r=_d.createElementNS?_d.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):_d.createElement(e);return r&&r.style?r:_d.createElement(e)},lu=function n(e,t,r){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(DP,"-$1").toLowerCase())||i.getPropertyValue(t)||!r&&n(e,Qg(t)||t,1)||""},uN="O,Moz,ms,Ms,Webkit".split(","),Qg=function(e,t,r){var i=t||up,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(uN[o]+e in s););return o<0?null:(o===3?"ms":o>=0?uN[o]:"")+e},VA=function(){Ore()&&window.document&&(aN=window,_d=aN.document,Rg=_d.documentElement,up=zA("div")||{style:{}},zA("div"),Li=Qg(Li),Sa=Li+"Origin",up.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Uz=!!Qg("perspective"),LP=Ta.core.reverting,IP=1)},QT=function n(e){var t=zA("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(Rg.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(o=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),Rg.removeChild(t),this.style.cssText=s,o},fN=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},Bz=function(e){var t;try{t=e.getBBox()}catch{t=QT.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===QT||(t=QT.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+fN(e,["x","cx","x1"])||0,y:+fN(e,["y","cy","y1"])||0,width:0,height:0}:t},zz=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&Bz(e))},Vp=function(e,t){if(t){var r=e.style,i;t in wf&&t!==Sa&&(t=Li),r.removeProperty?(i=t.substr(0,2),(i==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(i==="--"?t:t.replace(DP,"-$1").toLowerCase())):r.removeAttribute(t)}},wd=function(e,t,r,i,s,o){var a=new wa(e._pt,t,r,0,1,o?kz:Nz);return e._pt=a,a.b=i,a.e=s,e._props.push(r),a},dN={deg:1,rad:1,turn:1},Kre={grid:1,flex:1},Od=function n(e,t,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=up.style,l=Fre.test(t),c=e.tagName.toLowerCase()==="svg",f=(c?"client":"offset")+(l?"Width":"Height"),h=100,p=i==="px",v=i==="%",y,w,S,_;if(i===o||!s||dN[i]||dN[o])return s;if(o!=="px"&&!p&&(s=n(e,t,r,"px")),_=e.getCTM&&zz(e),(v||o==="%")&&(wf[t]||~t.indexOf("adius")))return y=_?e.getBBox()[l?"width":"height"]:e[f],Ki(v?s/y*h:s/100*y);if(a[l?"width":"height"]=h+(p?o:i),w=~t.indexOf("adius")||i==="em"&&e.appendChild&&!c?e:e.parentNode,_&&(w=(e.ownerSVGElement||{}).parentNode),(!w||w===_d||!w.appendChild)&&(w=_d.body),S=w._gsap,S&&v&&S.width&&l&&S.time===Za.time&&!S.uncache)return Ki(s/S.width*h);if(v&&(t==="height"||t==="width")){var A=e.style[t];e.style[t]=h+i,y=e[f],A?e.style[t]=A:Vp(e,t)}else(v||o==="%")&&!Kre[lu(w,"display")]&&(a.position=lu(e,"position")),w===e&&(a.position="static"),w.appendChild(up),y=up[f],w.removeChild(up),a.position="absolute";return l&&v&&(S=_p(w),S.time=Za.time,S.width=w[f]),Ki(p?y*s/h:y&&s?h/y*s:0)},tf=function(e,t,r,i){var s;return IP||VA(),t in Qc&&t!=="transform"&&(t=Qc[t],~t.indexOf(",")&&(t=t.split(",")[0])),wf[t]&&t!=="transform"?(s=Gy(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:uS(lu(e,Sa))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=cS[t]&&cS[t](e,t,r)||lu(e,t)||nz(e,t)||(t==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?Od(e,t,s,r)+r:s},Zre=function(e,t,r,i){if(!r||r==="none"){var s=Qg(t,e,1),o=s&&lu(e,s,1);o&&o!==r?(t=s,r=o):t==="borderColor"&&(r=lu(e,"borderTopColor"))}var a=new wa(this._pt,e.style,t,0,1,Iz),l=0,c=0,f,h,p,v,y,w,S,_,A,R,P,U;if(a.b=r,a.e=i,r+="",i+="",i==="auto"&&(w=e.style[t],e.style[t]=i,i=lu(e,t)||i,w?e.style[t]=w:Vp(e,t)),f=[r,i],wz(f),r=f[0],i=f[1],p=r.match(xg)||[],U=i.match(xg)||[],U.length){for(;h=xg.exec(i);)S=h[0],A=i.substring(l,h.index),y?y=(y+1)%5:(A.substr(-5)==="rgba("||A.substr(-5)==="hsla(")&&(y=1),S!==(w=p[c++]||"")&&(v=parseFloat(w)||0,P=w.substr((v+"").length),S.charAt(1)==="="&&(S=Cg(v,S)+P),_=parseFloat(S),R=S.substr((_+"").length),l=xg.lastIndex-R.length,R||(R=R||tl.units[t]||P,l===i.length&&(i+=R,a.e+=R)),P!==R&&(v=Od(e,t,w,R)||0),a._pt={_next:a._pt,p:A||c===1?A:",",s:v,c:_-v,m:y&&y<4||t==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=t==="display"&&i==="none"?kz:Nz;return KB.test(i)&&(a.e=0),this._pt=a,a},hN={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Jre=function(e){var t=e.split(" "),r=t[0],i=t[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),t[0]=hN[r]||r,t[1]=hN[i]||i,t.join(" ")},Qre=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,i=r.style,s=t.u,o=r._gsap,a,l,c;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],wf[a]&&(l=1,a=a==="transformOrigin"?Sa:Li),Vp(r,a);l&&(Vp(r,Li),o&&(o.svg&&r.removeAttribute("transform"),Gy(r,1),o.uncache=1,Oz(i)))}},cS={clearProps:function(e,t,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new wa(e._pt,t,r,0,0,Qre);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},Wy=[1,0,0,1,0,0],Vz={},Hz=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},pN=function(e){var t=lu(e,Li);return Hz(t)?Wy:t.substr(7).match(YB).map(Ki)},NP=function(e,t){var r=e._gsap||_p(e),i=e.style,s=pN(e),o,a,l,c;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?Wy:s):(s===Wy&&!e.offsetParent&&e!==Rg&&!r.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(c=1,a=e.nextElementSibling,Rg.appendChild(e)),s=pN(e),l?i.display=l:Vp(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):Rg.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},HA=function(e,t,r,i,s,o){var a=e._gsap,l=s||NP(e,!0),c=a.xOrigin||0,f=a.yOrigin||0,h=a.xOffset||0,p=a.yOffset||0,v=l[0],y=l[1],w=l[2],S=l[3],_=l[4],A=l[5],R=t.split(" "),P=parseFloat(R[0])||0,U=parseFloat(R[1])||0,k,E,j,O;r?l!==Wy&&(E=v*S-y*w)&&(j=P*(S/E)+U*(-w/E)+(w*A-S*_)/E,O=P*(-y/E)+U*(v/E)-(v*A-y*_)/E,P=j,U=O):(k=Bz(e),P=k.x+(~R[0].indexOf("%")?P/100*k.width:P),U=k.y+(~(R[1]||R[0]).indexOf("%")?U/100*k.height:U)),i||i!==!1&&a.smooth?(_=P-c,A=U-f,a.xOffset=h+(_*v+A*w)-_,a.yOffset=p+(_*y+A*S)-A):a.xOffset=a.yOffset=0,a.xOrigin=P,a.yOrigin=U,a.smooth=!!i,a.origin=t,a.originIsAbsolute=!!r,e.style[Sa]="0px 0px",o&&(wd(o,a,"xOrigin",c,P),wd(o,a,"yOrigin",f,U),wd(o,a,"xOffset",h,a.xOffset),wd(o,a,"yOffset",p,a.yOffset)),e.setAttribute("data-svg-origin",P+" "+U)},Gy=function(e,t){var r=e._gsap||new Tz(e);if("x"in r&&!t&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=lu(e,Sa)||"0",f,h,p,v,y,w,S,_,A,R,P,U,k,E,j,O,F,Y,te,ie,ue,_e,he,ge,q,oe,$,ne,we,nt,Ce,Ve;return f=h=p=w=S=_=A=R=P=0,v=y=1,r.svg=!!(e.getCTM&&zz(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[Li]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Li]!=="none"?l[Li]:"")),i.scale=i.rotate=i.translate="none"),E=NP(e,r.svg),r.svg&&(r.uncache?(q=e.getBBox(),c=r.xOrigin-q.x+"px "+(r.yOrigin-q.y)+"px",ge=""):ge=!t&&e.getAttribute("data-svg-origin"),HA(e,ge||c,!!ge||r.originIsAbsolute,r.smooth!==!1,E)),U=r.xOrigin||0,k=r.yOrigin||0,E!==Wy&&(Y=E[0],te=E[1],ie=E[2],ue=E[3],f=_e=E[4],h=he=E[5],E.length===6?(v=Math.sqrt(Y*Y+te*te),y=Math.sqrt(ue*ue+ie*ie),w=Y||te?eg(te,Y)*Jh:0,A=ie||ue?eg(ie,ue)*Jh+w:0,A&&(y*=Math.abs(Math.cos(A*Pg))),r.svg&&(f-=U-(U*Y+k*ie),h-=k-(U*te+k*ue))):(Ve=E[6],nt=E[7],$=E[8],ne=E[9],we=E[10],Ce=E[11],f=E[12],h=E[13],p=E[14],j=eg(Ve,we),S=j*Jh,j&&(O=Math.cos(-j),F=Math.sin(-j),ge=_e*O+$*F,q=he*O+ne*F,oe=Ve*O+we*F,$=_e*-F+$*O,ne=he*-F+ne*O,we=Ve*-F+we*O,Ce=nt*-F+Ce*O,_e=ge,he=q,Ve=oe),j=eg(-ie,we),_=j*Jh,j&&(O=Math.cos(-j),F=Math.sin(-j),ge=Y*O-$*F,q=te*O-ne*F,oe=ie*O-we*F,Ce=ue*F+Ce*O,Y=ge,te=q,ie=oe),j=eg(te,Y),w=j*Jh,j&&(O=Math.cos(j),F=Math.sin(j),ge=Y*O+te*F,q=_e*O+he*F,te=te*O-Y*F,he=he*O-_e*F,Y=ge,_e=q),S&&Math.abs(S)+Math.abs(w)>359.9&&(S=w=0,_=180-_),v=Ki(Math.sqrt(Y*Y+te*te+ie*ie)),y=Ki(Math.sqrt(he*he+Ve*Ve)),j=eg(_e,he),A=Math.abs(j)>2e-4?j*Jh:0,P=Ce?1/(Ce<0?-Ce:Ce):0),r.svg&&(ge=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!Hz(lu(e,Li)),ge&&e.setAttribute("transform",ge))),Math.abs(A)>90&&Math.abs(A)<270&&(s?(v*=-1,A+=w<=0?180:-180,w+=w<=0?180:-180):(y*=-1,A+=A<=0?180:-180)),t=t||r.uncache,r.x=f-((r.xPercent=f&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-f)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=h-((r.yPercent=h&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-h)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=p+o,r.scaleX=Ki(v),r.scaleY=Ki(y),r.rotation=Ki(w)+a,r.rotationX=Ki(S)+a,r.rotationY=Ki(_)+a,r.skewX=A+a,r.skewY=R+a,r.transformPerspective=P+o,(r.zOrigin=parseFloat(c.split(" ")[2])||!t&&r.zOrigin||0)&&(i[Sa]=uS(c)),r.xOffset=r.yOffset=0,r.force3D=tl.force3D,r.renderTransform=r.svg?tie:Uz?jz:eie,r.uncache=0,r},uS=function(e){return(e=e.split(" "))[0]+" "+e[1]},eM=function(e,t,r){var i=yo(t);return Ki(parseFloat(t)+parseFloat(Od(e,"x",r+"px",i)))+i},eie=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,jz(e,t)},jh="0deg",Ev="0px",Wh=") ",jz=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.z,c=r.rotation,f=r.rotationY,h=r.rotationX,p=r.skewX,v=r.skewY,y=r.scaleX,w=r.scaleY,S=r.transformPerspective,_=r.force3D,A=r.target,R=r.zOrigin,P="",U=_==="auto"&&e&&e!==1||_===!0;if(R&&(h!==jh||f!==jh)){var k=parseFloat(f)*Pg,E=Math.sin(k),j=Math.cos(k),O;k=parseFloat(h)*Pg,O=Math.cos(k),o=eM(A,o,E*O*-R),a=eM(A,a,-Math.sin(k)*-R),l=eM(A,l,j*O*-R+R)}S!==Ev&&(P+="perspective("+S+Wh),(i||s)&&(P+="translate("+i+"%, "+s+"%) "),(U||o!==Ev||a!==Ev||l!==Ev)&&(P+=l!==Ev||U?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Wh),c!==jh&&(P+="rotate("+c+Wh),f!==jh&&(P+="rotateY("+f+Wh),h!==jh&&(P+="rotateX("+h+Wh),(p!==jh||v!==jh)&&(P+="skew("+p+", "+v+Wh),(y!==1||w!==1)&&(P+="scale("+y+", "+w+Wh),A.style[Li]=P||"translate(0, 0)"},tie=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.rotation,c=r.skewX,f=r.skewY,h=r.scaleX,p=r.scaleY,v=r.target,y=r.xOrigin,w=r.yOrigin,S=r.xOffset,_=r.yOffset,A=r.forceCSS,R=parseFloat(o),P=parseFloat(a),U,k,E,j,O;l=parseFloat(l),c=parseFloat(c),f=parseFloat(f),f&&(f=parseFloat(f),c+=f,l+=f),l||c?(l*=Pg,c*=Pg,U=Math.cos(l)*h,k=Math.sin(l)*h,E=Math.sin(l-c)*-p,j=Math.cos(l-c)*p,c&&(f*=Pg,O=Math.tan(c-f),O=Math.sqrt(1+O*O),E*=O,j*=O,f&&(O=Math.tan(f),O=Math.sqrt(1+O*O),U*=O,k*=O)),U=Ki(U),k=Ki(k),E=Ki(E),j=Ki(j)):(U=h,j=p,k=E=0),(R&&!~(o+"").indexOf("px")||P&&!~(a+"").indexOf("px"))&&(R=Od(v,"x",o,"px"),P=Od(v,"y",a,"px")),(y||w||S||_)&&(R=Ki(R+y-(y*U+w*E)+S),P=Ki(P+w-(y*k+w*j)+_)),(i||s)&&(O=v.getBBox(),R=Ki(R+i/100*O.width),P=Ki(P+s/100*O.height)),O="matrix("+U+","+k+","+E+","+j+","+R+","+P+")",v.setAttribute("transform",O),A&&(v.style[Li]=O)},nie=function(e,t,r,i,s){var o=360,a=Gs(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Jh:1),c=l-i,f=i+c+"deg",h,p;return a&&(h=s.split("_")[1],h==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),h==="cw"&&c<0?c=(c+o*cN)%o-~~(c/o)*o:h==="ccw"&&c>0&&(c=(c-o*cN)%o-~~(c/o)*o)),e._pt=p=new wa(e._pt,t,r,i,c,Bre),p.e=f,p.u="deg",e._props.push(r),p},mN=function(e,t){for(var r in t)e[r]=t[r];return e},rie=function(e,t,r){var i=mN({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,c,f,h,p,v,y;i.svg?(c=r.getAttribute("transform"),r.setAttribute("transform",""),o[Li]=t,a=Gy(r,1),Vp(r,Li),r.setAttribute("transform",c)):(c=getComputedStyle(r)[Li],o[Li]=t,a=Gy(r,1),o[Li]=c);for(l in wf)c=i[l],f=a[l],c!==f&&s.indexOf(l)<0&&(v=yo(c),y=yo(f),h=v!==y?Od(r,l,c,y):parseFloat(c),p=parseFloat(f),e._pt=new wa(e._pt,a,l,h,p-h,BA),e._pt.u=y||0,e._props.push(l));mN(a,i)};_a("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",i="Bottom",s="Left",o=(e<3?[t,r,i,s]:[t+s,t+r,i+r,i+s]).map(function(a){return e<2?n+a:"border"+a+n});cS[e>1?"border"+n:n]=function(a,l,c,f,h){var p,v;if(arguments.length<4)return p=o.map(function(y){return tf(a,y,c)}),v=p.join(" "),v.split(p[0]).length===5?p[0]:v;p=(f+"").split(" "),v={},o.forEach(function(y,w){return v[y]=p[w]=p[w]||p[(w-1)/2|0]}),a.init(l,v,h)}});var Wz={name:"css",register:VA,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,i,s){var o=this._props,a=e.style,l=r.vars.startAt,c,f,h,p,v,y,w,S,_,A,R,P,U,k,E,j;IP||VA(),this.styles=this.styles||Fz(e),j=this.styles.props,this.tween=r;for(w in t)if(w!=="autoRound"&&(f=t[w],!(Ya[w]&&Mz(w,t,r,i,e,s)))){if(v=typeof f,y=cS[w],v==="function"&&(f=f.call(r,i,e,s),v=typeof f),v==="string"&&~f.indexOf("random(")&&(f=Vy(f)),y)y(this,e,w,f,r)&&(E=1);else if(w.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(w)+"").trim(),f+="",Md.lastIndex=0,Md.test(c)||(S=yo(c),_=yo(f)),_?S!==_&&(c=Od(e,w,c,_)+_):S&&(f+=S),this.add(a,"setProperty",c,f,i,s,0,0,w),o.push(w),j.push(w,0,a[w]);else if(v!=="undefined"){if(l&&w in l?(c=typeof l[w]=="function"?l[w].call(r,i,e,s):l[w],Gs(c)&&~c.indexOf("random(")&&(c=Vy(c)),yo(c+"")||c==="auto"||(c+=tl.units[w]||yo(tf(e,w))||""),(c+"").charAt(1)==="="&&(c=tf(e,w))):c=tf(e,w),p=parseFloat(c),A=v==="string"&&f.charAt(1)==="="&&f.substr(0,2),A&&(f=f.substr(2)),h=parseFloat(f),w in Qc&&(w==="autoAlpha"&&(p===1&&tf(e,"visibility")==="hidden"&&h&&(p=0),j.push("visibility",0,a.visibility),wd(this,a,"visibility",p?"inherit":"hidden",h?"inherit":"hidden",!h)),w!=="scale"&&w!=="transform"&&(w=Qc[w],~w.indexOf(",")&&(w=w.split(",")[0]))),R=w in wf,R){if(this.styles.save(w),P||(U=e._gsap,U.renderTransform&&!t.parseTransform||Gy(e,t.parseTransform),k=t.smoothOrigin!==!1&&U.smooth,P=this._pt=new wa(this._pt,a,Li,0,1,U.renderTransform,U,0,-1),P.dep=1),w==="scale")this._pt=new wa(this._pt,U,"scaleY",U.scaleY,(A?Cg(U.scaleY,A+h):h)-U.scaleY||0,BA),this._pt.u=0,o.push("scaleY",w),w+="X";else if(w==="transformOrigin"){j.push(Sa,0,a[Sa]),f=Jre(f),U.svg?HA(e,f,0,k,0,this):(_=parseFloat(f.split(" ")[2])||0,_!==U.zOrigin&&wd(this,U,"zOrigin",U.zOrigin,_),wd(this,a,w,uS(c),uS(f)));continue}else if(w==="svgOrigin"){HA(e,f,1,k,0,this);continue}else if(w in Vz){nie(this,U,w,p,A?Cg(p,A+f):f);continue}else if(w==="smoothOrigin"){wd(this,U,"smooth",U.smooth,f);continue}else if(w==="force3D"){U[w]=f;continue}else if(w==="transform"){rie(this,f,e);continue}}else w in a||(w=Qg(w)||w);if(R||(h||h===0)&&(p||p===0)&&!Ure.test(f)&&w in a)S=(c+"").substr((p+"").length),h||(h=0),_=yo(f)||(w in tl.units?tl.units[w]:S),S!==_&&(p=Od(e,w,c,_)),this._pt=new wa(this._pt,R?U:a,w,p,(A?Cg(p,A+h):h)-p,!R&&(_==="px"||w==="zIndex")&&t.autoRound!==!1?Vre:BA),this._pt.u=_||0,S!==_&&_!=="%"&&(this._pt.b=c,this._pt.r=zre);else if(w in a)Zre.call(this,e,w,c,A?A+f:f);else if(w in e)this.add(e,w,c||e[w],A?A+f:f,i,s);else if(w!=="parseTransform"){SP(w,f);continue}R||(w in a?j.push(w,0,a[w]):j.push(w,1,c||e[w])),o.push(w)}}E&&Lz(this)},render:function(e,t){if(t.tween._time||!LP())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:tf,aliases:Qc,getSetter:function(e,t,r){var i=Qc[t];return i&&i.indexOf(",")<0&&(t=i),t in wf&&t!==Sa&&(e._gsap.x||tf(e,"x"))?r&&lN===r?t==="scale"?Gre:Wre:(lN=r||{})&&(t==="scale"?$re:Xre):e.style&&!xP(e.style[t])?Hre:~t.indexOf("-")?jre:RP(e,t)},core:{_removeProperty:Vp,_getMatrix:NP}};Ta.utils.checkPrefix=Qg;Ta.core.getStyleSaver=Fz;(function(n,e,t,r){var i=_a(n+","+e+","+t,function(s){wf[s]=1});_a(e,function(s){tl.units[s]="deg",Vz[s]=1}),Qc[i[13]]=n+","+e,_a(r,function(s){var o=s.split(":");Qc[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");_a("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){tl.units[n]="px"});Ta.registerPlugin(Wz);var Rr=Ta.registerPlugin(Wz)||Ta;Rr.core.Tween;function iie(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function sie(n,e,t){return e&&iie(n.prototype,e),n}/*!
 * Observer 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var to,tw,Ja,Sd,bd,Ig,Gz,Qh,cy,$z,uf,gc,Xz,qz=function(){return to||typeof window<"u"&&(to=window.gsap)&&to.registerPlugin&&to},Yz=1,wg=[],wr=[],cu=[],uy=Date.now,jA=function(e,t){return t},oie=function(){var e=cy.core,t=e.bridge||{},r=e._scrollers,i=e._proxies;r.push.apply(r,wr),i.push.apply(i,cu),wr=r,cu=i,jA=function(o,a){return t[o](a)}},Ad=function(e,t){return~cu.indexOf(e)&&cu[cu.indexOf(e)+1][t]},fy=function(e){return!!~$z.indexOf(e)},Vo=function(e,t,r,i,s){return e.addEventListener(t,r,{passive:i!==!1,capture:!!s})},Bo=function(e,t,r,i){return e.removeEventListener(t,r,!!i)},x1="scrollLeft",_1="scrollTop",WA=function(){return uf&&uf.isPressed||wr.cache++},fS=function(e,t){var r=function i(s){if(s||s===0){Yz&&(Ja.history.scrollRestoration="manual");var o=uf&&uf.isPressed;s=i.v=Math.round(s)||(uf&&uf.iOS?1:0),e(s),i.cacheID=wr.cache,o&&jA("ss",s)}else(t||wr.cache!==i.cacheID||jA("ref"))&&(i.cacheID=wr.cache,i.v=e());return i.v+i.offset};return r.offset=0,e&&r},Yo={s:x1,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:fS(function(n){return arguments.length?Ja.scrollTo(n,bs.sc()):Ja.pageXOffset||Sd[x1]||bd[x1]||Ig[x1]||0})},bs={s:_1,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Yo,sc:fS(function(n){return arguments.length?Ja.scrollTo(Yo.sc(),n):Ja.pageYOffset||Sd[_1]||bd[_1]||Ig[_1]||0})},ma=function(e,t){return(t&&t._ctx&&t._ctx.selector||to.utils.toArray)(e)[0]||(typeof e=="string"&&to.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},Fd=function(e,t){var r=t.s,i=t.sc;fy(e)&&(e=Sd.scrollingElement||bd);var s=wr.indexOf(e),o=i===bs.sc?1:2;!~s&&(s=wr.push(e)-1),wr[s+o]||Vo(e,"scroll",WA);var a=wr[s+o],l=a||(wr[s+o]=fS(Ad(e,r),!0)||(fy(e)?i:fS(function(c){return arguments.length?e[r]=c:e[r]})));return l.target=e,a||(l.smooth=to.getProperty(e,"scrollBehavior")==="smooth"),l},GA=function(e,t,r){var i=e,s=e,o=uy(),a=o,l=t||50,c=Math.max(500,l*3),f=function(y,w){var S=uy();w||S-o>l?(s=i,i=y,a=o,o=S):r?i+=y:i=s+(y-s)/(S-a)*(o-a)},h=function(){s=i=r?0:i,a=o=0},p=function(y){var w=a,S=s,_=uy();return(y||y===0)&&y!==i&&f(y),o===a||_-a>c?0:(i+(r?S:-S))/((r?_:o)-w)*1e3};return{update:f,reset:h,getVelocity:p}},Tv=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},gN=function(e){var t=Math.max.apply(Math,e),r=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(r)?t:r},Kz=function(){cy=to.core.globals().ScrollTrigger,cy&&cy.core&&oie()},Zz=function(e){return to=e||qz(),!tw&&to&&typeof document<"u"&&document.body&&(Ja=window,Sd=document,bd=Sd.documentElement,Ig=Sd.body,$z=[Ja,Sd,bd,Ig],to.utils.clamp,Xz=to.core.context||function(){},Qh="onpointerenter"in Ig?"pointer":"mouse",Gz=Qi.isTouch=Ja.matchMedia&&Ja.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Ja||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,gc=Qi.eventTypes=("ontouchstart"in bd?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in bd?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return Yz=0},500),Kz(),tw=1),tw};Yo.op=bs;wr.cache=0;var Qi=function(){function n(t){this.init(t)}var e=n.prototype;return e.init=function(r){tw||Zz(to)||console.warn("Please gsap.registerPlugin(Observer)"),cy||Kz();var i=r.tolerance,s=r.dragMinimum,o=r.type,a=r.target,l=r.lineHeight,c=r.debounce,f=r.preventDefault,h=r.onStop,p=r.onStopDelay,v=r.ignore,y=r.wheelSpeed,w=r.event,S=r.onDragStart,_=r.onDragEnd,A=r.onDrag,R=r.onPress,P=r.onRelease,U=r.onRight,k=r.onLeft,E=r.onUp,j=r.onDown,O=r.onChangeX,F=r.onChangeY,Y=r.onChange,te=r.onToggleX,ie=r.onToggleY,ue=r.onHover,_e=r.onHoverEnd,he=r.onMove,ge=r.ignoreCheck,q=r.isNormalizer,oe=r.onGestureStart,$=r.onGestureEnd,ne=r.onWheel,we=r.onEnable,nt=r.onDisable,Ce=r.onClick,Ve=r.scrollSpeed,He=r.capture,je=r.allowClicks,pt=r.lockAxis,bt=r.onLockAxis;this.target=a=ma(a)||bd,this.vars=r,v&&(v=to.utils.toArray(v)),i=i||1e-9,s=s||0,y=y||1,Ve=Ve||1,o=o||"wheel,touch,pointer",c=c!==!1,l||(l=parseFloat(Ja.getComputedStyle(Ig).lineHeight)||22);var Dt,Jt,at,Xe,ae,Bt,ht,Re=this,mt=0,tn=0,It=r.passive||!f,se=Fd(a,Yo),ee=Fd(a,bs),xe=se(),Oe=ee(),Le=~o.indexOf("touch")&&!~o.indexOf("pointer")&&gc[0]==="pointerdown",Ge=fy(a),St=a.ownerDocument||Sd,wt=[0,0,0],Rt=[0,0,0],vn=0,xt=function(){return vn=uy()},Tt=function(nn,Pn){return(Re.event=nn)&&v&&~v.indexOf(nn.target)||Pn&&Le&&nn.pointerType!=="touch"||ge&&ge(nn,Pn)},Zt=function(){Re._vx.reset(),Re._vy.reset(),Jt.pause(),h&&h(Re)},Wt=function(){var nn=Re.deltaX=gN(wt),Pn=Re.deltaY=gN(Rt),zt=Math.abs(nn)>=i,En=Math.abs(Pn)>=i;Y&&(zt||En)&&Y(Re,nn,Pn,wt,Rt),zt&&(U&&Re.deltaX>0&&U(Re),k&&Re.deltaX<0&&k(Re),O&&O(Re),te&&Re.deltaX<0!=mt<0&&te(Re),mt=Re.deltaX,wt[0]=wt[1]=wt[2]=0),En&&(j&&Re.deltaY>0&&j(Re),E&&Re.deltaY<0&&E(Re),F&&F(Re),ie&&Re.deltaY<0!=tn<0&&ie(Re),tn=Re.deltaY,Rt[0]=Rt[1]=Rt[2]=0),(Xe||at)&&(he&&he(Re),at&&(A(Re),at=!1),Xe=!1),Bt&&!(Bt=!1)&&bt&&bt(Re),ae&&(ne(Re),ae=!1),Dt=0},Ot=function(nn,Pn,zt){wt[zt]+=nn,Rt[zt]+=Pn,Re._vx.update(nn),Re._vy.update(Pn),c?Dt||(Dt=requestAnimationFrame(Wt)):Wt()},Ae=function(nn,Pn){pt&&!ht&&(Re.axis=ht=Math.abs(nn)>Math.abs(Pn)?"x":"y",Bt=!0),ht!=="y"&&(wt[2]+=nn,Re._vx.update(nn,!0)),ht!=="x"&&(Rt[2]+=Pn,Re._vy.update(Pn,!0)),c?Dt||(Dt=requestAnimationFrame(Wt)):Wt()},Ye=function(nn){if(!Tt(nn,1)){nn=Tv(nn,f);var Pn=nn.clientX,zt=nn.clientY,En=Pn-Re.x,an=zt-Re.y,wn=Re.isDragging;Re.x=Pn,Re.y=zt,(wn||Math.abs(Re.startX-Pn)>=s||Math.abs(Re.startY-zt)>=s)&&(A&&(at=!0),wn||(Re.isDragging=!0),Ae(En,an),wn||S&&S(Re))}},_t=Re.onPress=function(Gt){Tt(Gt,1)||Gt&&Gt.button||(Re.axis=ht=null,Jt.pause(),Re.isPressed=!0,Gt=Tv(Gt),mt=tn=0,Re.startX=Re.x=Gt.clientX,Re.startY=Re.y=Gt.clientY,Re._vx.reset(),Re._vy.reset(),Vo(q?a:St,gc[1],Ye,It,!0),Re.deltaX=Re.deltaY=0,R&&R(Re))},me=Re.onRelease=function(Gt){if(!Tt(Gt,1)){Bo(q?a:St,gc[1],Ye,!0);var nn=!isNaN(Re.y-Re.startY),Pn=Re.isDragging,zt=Pn&&(Math.abs(Re.x-Re.startX)>3||Math.abs(Re.y-Re.startY)>3),En=Tv(Gt);!zt&&nn&&(Re._vx.reset(),Re._vy.reset(),f&&je&&to.delayedCall(.08,function(){if(uy()-vn>300&&!Gt.defaultPrevented){if(Gt.target.click)Gt.target.click();else if(St.createEvent){var an=St.createEvent("MouseEvents");an.initMouseEvent("click",!0,!0,Ja,1,En.screenX,En.screenY,En.clientX,En.clientY,!1,!1,!1,!1,0,null),Gt.target.dispatchEvent(an)}}})),Re.isDragging=Re.isGesturing=Re.isPressed=!1,h&&Pn&&!q&&Jt.restart(!0),_&&Pn&&_(Re),P&&P(Re,zt)}},Be=function(nn){return nn.touches&&nn.touches.length>1&&(Re.isGesturing=!0)&&oe(nn,Re.isDragging)},ze=function(){return(Re.isGesturing=!1)||$(Re)},ot=function(nn){if(!Tt(nn)){var Pn=se(),zt=ee();Ot((Pn-xe)*Ve,(zt-Oe)*Ve,1),xe=Pn,Oe=zt,h&&Jt.restart(!0)}},Ft=function(nn){if(!Tt(nn)){nn=Tv(nn,f),ne&&(ae=!0);var Pn=(nn.deltaMode===1?l:nn.deltaMode===2?Ja.innerHeight:1)*y;Ot(nn.deltaX*Pn,nn.deltaY*Pn,0),h&&!q&&Jt.restart(!0)}},Ut=function(nn){if(!Tt(nn)){var Pn=nn.clientX,zt=nn.clientY,En=Pn-Re.x,an=zt-Re.y;Re.x=Pn,Re.y=zt,Xe=!0,h&&Jt.restart(!0),(En||an)&&Ae(En,an)}},Qt=function(nn){Re.event=nn,ue(Re)},_n=function(nn){Re.event=nn,_e(Re)},mr=function(nn){return Tt(nn)||Tv(nn,f)&&Ce(Re)};Jt=Re._dc=to.delayedCall(p||.25,Zt).pause(),Re.deltaX=Re.deltaY=0,Re._vx=GA(0,50,!0),Re._vy=GA(0,50,!0),Re.scrollX=se,Re.scrollY=ee,Re.isDragging=Re.isGesturing=Re.isPressed=!1,Xz(this),Re.enable=function(Gt){return Re.isEnabled||(Vo(Ge?St:a,"scroll",WA),o.indexOf("scroll")>=0&&Vo(Ge?St:a,"scroll",ot,It,He),o.indexOf("wheel")>=0&&Vo(a,"wheel",Ft,It,He),(o.indexOf("touch")>=0&&Gz||o.indexOf("pointer")>=0)&&(Vo(a,gc[0],_t,It,He),Vo(St,gc[2],me),Vo(St,gc[3],me),je&&Vo(a,"click",xt,!0,!0),Ce&&Vo(a,"click",mr),oe&&Vo(St,"gesturestart",Be),$&&Vo(St,"gestureend",ze),ue&&Vo(a,Qh+"enter",Qt),_e&&Vo(a,Qh+"leave",_n),he&&Vo(a,Qh+"move",Ut)),Re.isEnabled=!0,Gt&&Gt.type&&_t(Gt),we&&we(Re)),Re},Re.disable=function(){Re.isEnabled&&(wg.filter(function(Gt){return Gt!==Re&&fy(Gt.target)}).length||Bo(Ge?St:a,"scroll",WA),Re.isPressed&&(Re._vx.reset(),Re._vy.reset(),Bo(q?a:St,gc[1],Ye,!0)),Bo(Ge?St:a,"scroll",ot,He),Bo(a,"wheel",Ft,He),Bo(a,gc[0],_t,He),Bo(St,gc[2],me),Bo(St,gc[3],me),Bo(a,"click",xt,!0),Bo(a,"click",mr),Bo(St,"gesturestart",Be),Bo(St,"gestureend",ze),Bo(a,Qh+"enter",Qt),Bo(a,Qh+"leave",_n),Bo(a,Qh+"move",Ut),Re.isEnabled=Re.isPressed=Re.isDragging=!1,nt&&nt(Re))},Re.kill=Re.revert=function(){Re.disable();var Gt=wg.indexOf(Re);Gt>=0&&wg.splice(Gt,1),uf===Re&&(uf=0)},wg.push(Re),q&&fy(a)&&(uf=Re),Re.enable(w)},sie(n,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),n}();Qi.version="3.12.5";Qi.create=function(n){return new Qi(n)};Qi.register=Zz;Qi.getAll=function(){return wg.slice()};Qi.getById=function(n){return wg.filter(function(e){return e.vars.id===n})[0]};qz()&&to.registerPlugin(Qi);/*!
 * ScrollTrigger 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var xn,lg,Cr,Mi,_c,pi,Jz,dS,$y,dy,Uv,w1,mo,Tb,$A,Wo,vN,yN,cg,Qz,tM,e5,jo,XA,t5,n5,pd,qA,kP,Lg,OP,hS,YA,nM,S1=1,vo=Date.now,rM=vo(),Bl=0,Bv=0,xN=function(e,t,r){var i=qa(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return r["_"+t+"Clamp"]=i,i?e.substr(6,e.length-7):e},_N=function(e,t){return t&&(!qa(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},aie=function n(){return Bv&&requestAnimationFrame(n)},wN=function(){return Tb=1},SN=function(){return Tb=0},Yc=function(e){return e},zv=function(e){return Math.round(e*1e5)/1e5||0},r5=function(){return typeof window<"u"},i5=function(){return xn||r5()&&(xn=window.gsap)&&xn.registerPlugin&&xn},Hp=function(e){return!!~Jz.indexOf(e)},s5=function(e){return(e==="Height"?OP:Cr["inner"+e])||_c["client"+e]||pi["client"+e]},o5=function(e){return Ad(e,"getBoundingClientRect")||(Hp(e)?function(){return ow.width=Cr.innerWidth,ow.height=OP,ow}:function(){return of(e)})},lie=function(e,t,r){var i=r.d,s=r.d2,o=r.a;return(o=Ad(e,"getBoundingClientRect"))?function(){return o()[i]}:function(){return(t?s5(s):e["client"+s])||0}},cie=function(e,t){return!t||~cu.indexOf(e)?o5(e):function(){return ow}},eu=function(e,t){var r=t.s,i=t.d2,s=t.d,o=t.a;return Math.max(0,(r="scroll"+i)&&(o=Ad(e,r))?o()-o5(e)()[s]:Hp(e)?(_c[r]||pi[r])-s5(i):e[r]-e["offset"+i])},b1=function(e,t){for(var r=0;r<cg.length;r+=3)(!t||~t.indexOf(cg[r+1]))&&e(cg[r],cg[r+1],cg[r+2])},qa=function(e){return typeof e=="string"},Ko=function(e){return typeof e=="function"},Vv=function(e){return typeof e=="number"},ep=function(e){return typeof e=="object"},Mv=function(e,t,r){return e&&e.progress(t?0:1)&&r&&e.pause()},iM=function(e,t){if(e.enabled){var r=e._ctx?e._ctx.add(function(){return t(e)}):t(e);r&&r.totalTime&&(e.callbackAnimation=r)}},tg=Math.abs,a5="left",l5="top",FP="right",UP="bottom",Ep="width",Tp="height",hy="Right",py="Left",my="Top",gy="Bottom",us="padding",Pl="margin",e0="Width",BP="Height",Ss="px",Il=function(e){return Cr.getComputedStyle(e)},uie=function(e){var t=Il(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},bN=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},of=function(e,t){var r=t&&Il(e)[$A]!=="matrix(1, 0, 0, 1, 0, 0)"&&xn.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=e.getBoundingClientRect();return r&&r.progress(0).kill(),i},pS=function(e,t){var r=t.d2;return e["offset"+r]||e["client"+r]||0},c5=function(e){var t=[],r=e.labels,i=e.duration(),s;for(s in r)t.push(r[s]/i);return t},fie=function(e){return function(t){return xn.utils.snap(c5(e),t)}},zP=function(e){var t=xn.utils.snap(e),r=Array.isArray(e)&&e.slice(0).sort(function(i,s){return i-s});return r?function(i,s,o){o===void 0&&(o=.001);var a;if(!s)return t(i);if(s>0){for(i-=o,a=0;a<r.length;a++)if(r[a]>=i)return r[a];return r[a-1]}else for(a=r.length,i+=o;a--;)if(r[a]<=i)return r[a];return r[0]}:function(i,s,o){o===void 0&&(o=.001);var a=t(i);return!s||Math.abs(a-i)<o||a-i<0==s<0?a:t(s<0?i-e:i+e)}},die=function(e){return function(t,r){return zP(c5(e))(t,r.direction)}},E1=function(e,t,r,i){return r.split(",").forEach(function(s){return e(t,s,i)})},Bs=function(e,t,r,i,s){return e.addEventListener(t,r,{passive:!i,capture:!!s})},Us=function(e,t,r,i){return e.removeEventListener(t,r,!!i)},T1=function(e,t,r){r=r&&r.wheelHandler,r&&(e(t,"wheel",r),e(t,"touchmove",r))},EN={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},M1={toggleActions:"play",anticipatePin:0},mS={top:0,left:0,center:.5,bottom:1,right:1},nw=function(e,t){if(qa(e)){var r=e.indexOf("="),i=~r?+(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(i*=t/100),e=e.substr(0,r-1)),e=i+(e in mS?mS[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},A1=function(e,t,r,i,s,o,a,l){var c=s.startColor,f=s.endColor,h=s.fontSize,p=s.indent,v=s.fontWeight,y=Mi.createElement("div"),w=Hp(r)||Ad(r,"pinType")==="fixed",S=e.indexOf("scroller")!==-1,_=w?pi:r,A=e.indexOf("start")!==-1,R=A?c:f,P="border-color:"+R+";font-size:"+h+";color:"+R+";font-weight:"+v+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return P+="position:"+((S||l)&&w?"fixed;":"absolute;"),(S||l||!w)&&(P+=(i===bs?FP:UP)+":"+(o+parseFloat(p))+"px;"),a&&(P+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),y._isStart=A,y.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),y.style.cssText=P,y.innerText=t||t===0?e+"-"+t:e,_.children[0]?_.insertBefore(y,_.children[0]):_.appendChild(y),y._offset=y["offset"+i.op.d2],rw(y,0,i,A),y},rw=function(e,t,r,i){var s={display:"block"},o=r[i?"os2":"p2"],a=r[i?"p2":"os2"];e._isFlipped=i,s[r.a+"Percent"]=i?-100:0,s[r.a]=i?"1px":0,s["border"+o+e0]=1,s["border"+a+e0]=0,s[r.p]=t+"px",xn.set(e,s)},xr=[],KA={},Xy,TN=function(){return vo()-Bl>34&&(Xy||(Xy=requestAnimationFrame(mf)))},ng=function(){(!jo||!jo.isPressed||jo.startX>pi.clientWidth)&&(wr.cache++,jo?Xy||(Xy=requestAnimationFrame(mf)):mf(),Bl||Wp("scrollStart"),Bl=vo())},sM=function(){n5=Cr.innerWidth,t5=Cr.innerHeight},Hv=function(){wr.cache++,!mo&&!e5&&!Mi.fullscreenElement&&!Mi.webkitFullscreenElement&&(!XA||n5!==Cr.innerWidth||Math.abs(Cr.innerHeight-t5)>Cr.innerHeight*.25)&&dS.restart(!0)},jp={},hie=[],u5=function n(){return Us(Jn,"scrollEnd",n)||fp(!0)},Wp=function(e){return jp[e]&&jp[e].map(function(t){return t()})||hie},$a=[],f5=function(e){for(var t=0;t<$a.length;t+=5)(!e||$a[t+4]&&$a[t+4].query===e)&&($a[t].style.cssText=$a[t+1],$a[t].getBBox&&$a[t].setAttribute("transform",$a[t+2]||""),$a[t+3].uncache=1)},VP=function(e,t){var r;for(Wo=0;Wo<xr.length;Wo++)r=xr[Wo],r&&(!t||r._ctx===t)&&(e?r.kill(1):r.revert(!0,!0));hS=!0,t&&f5(t),t||Wp("revert")},d5=function(e,t){wr.cache++,(t||!Go)&&wr.forEach(function(r){return Ko(r)&&r.cacheID++&&(r.rec=0)}),qa(e)&&(Cr.history.scrollRestoration=kP=e)},Go,Mp=0,MN,pie=function(){if(MN!==Mp){var e=MN=Mp;requestAnimationFrame(function(){return e===Mp&&fp(!0)})}},h5=function(){pi.appendChild(Lg),OP=!jo&&Lg.offsetHeight||Cr.innerHeight,pi.removeChild(Lg)},AN=function(e){return $y(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},fp=function(e,t){if(Bl&&!e&&!hS){Bs(Jn,"scrollEnd",u5);return}h5(),Go=Jn.isRefreshing=!0,wr.forEach(function(i){return Ko(i)&&++i.cacheID&&(i.rec=i())});var r=Wp("refreshInit");Qz&&Jn.sort(),t||VP(),wr.forEach(function(i){Ko(i)&&(i.smooth&&(i.target.style.scrollBehavior="auto"),i(0))}),xr.slice(0).forEach(function(i){return i.refresh()}),hS=!1,xr.forEach(function(i){if(i._subPinOffset&&i.pin){var s=i.vars.horizontal?"offsetWidth":"offsetHeight",o=i.pin[s];i.revert(!0,1),i.adjustPinSpacing(i.pin[s]-o),i.refresh()}}),YA=1,AN(!0),xr.forEach(function(i){var s=eu(i.scroller,i._dir),o=i.vars.end==="max"||i._endClamp&&i.end>s,a=i._startClamp&&i.start>=s;(o||a)&&i.setPositions(a?s-1:i.start,o?Math.max(a?s:i.start+1,s):i.end,!0)}),AN(!1),YA=0,r.forEach(function(i){return i&&i.render&&i.render(-1)}),wr.forEach(function(i){Ko(i)&&(i.smooth&&requestAnimationFrame(function(){return i.target.style.scrollBehavior="smooth"}),i.rec&&i(i.rec))}),d5(kP,1),dS.pause(),Mp++,Go=2,mf(2),xr.forEach(function(i){return Ko(i.vars.onRefresh)&&i.vars.onRefresh(i)}),Go=Jn.isRefreshing=!1,Wp("refresh")},ZA=0,iw=1,vy,mf=function(e){if(e===2||!Go&&!hS){Jn.isUpdating=!0,vy&&vy.update(0);var t=xr.length,r=vo(),i=r-rM>=50,s=t&&xr[0].scroll();if(iw=ZA>s?-1:1,Go||(ZA=s),i&&(Bl&&!Tb&&r-Bl>200&&(Bl=0,Wp("scrollEnd")),Uv=rM,rM=r),iw<0){for(Wo=t;Wo-- >0;)xr[Wo]&&xr[Wo].update(0,i);iw=1}else for(Wo=0;Wo<t;Wo++)xr[Wo]&&xr[Wo].update(0,i);Jn.isUpdating=!1}Xy=0},JA=[a5,l5,UP,FP,Pl+gy,Pl+hy,Pl+my,Pl+py,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],sw=JA.concat([Ep,Tp,"boxSizing","max"+e0,"max"+BP,"position",Pl,us,us+my,us+hy,us+gy,us+py]),mie=function(e,t,r){Dg(r);var i=e._gsap;if(i.spacerIsNative)Dg(i.spacerState);else if(e._gsap.swappedIn){var s=t.parentNode;s&&(s.insertBefore(e,t),s.removeChild(t))}e._gsap.swappedIn=!1},oM=function(e,t,r,i){if(!e._gsap.swappedIn){for(var s=JA.length,o=t.style,a=e.style,l;s--;)l=JA[s],o[l]=r[l];o.position=r.position==="absolute"?"absolute":"relative",r.display==="inline"&&(o.display="inline-block"),a[UP]=a[FP]="auto",o.flexBasis=r.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[Ep]=pS(e,Yo)+Ss,o[Tp]=pS(e,bs)+Ss,o[us]=a[Pl]=a[l5]=a[a5]="0",Dg(i),a[Ep]=a["max"+e0]=r[Ep],a[Tp]=a["max"+BP]=r[Tp],a[us]=r[us],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},gie=/([A-Z])/g,Dg=function(e){if(e){var t=e.t.style,r=e.length,i=0,s,o;for((e.t._gsap||xn.core.getCache(e.t)).uncache=1;i<r;i+=2)o=e[i+1],s=e[i],o?t[s]=o:t[s]&&t.removeProperty(s.replace(gie,"-$1").toLowerCase())}},C1=function(e){for(var t=sw.length,r=e.style,i=[],s=0;s<t;s++)i.push(sw[s],r[sw[s]]);return i.t=e,i},vie=function(e,t,r){for(var i=[],s=e.length,o=r?8:0,a;o<s;o+=2)a=e[o],i.push(a,a in t?t[a]:e[o+1]);return i.t=e.t,i},ow={left:0,top:0},CN=function(e,t,r,i,s,o,a,l,c,f,h,p,v,y){Ko(e)&&(e=e(l)),qa(e)&&e.substr(0,3)==="max"&&(e=p+(e.charAt(4)==="="?nw("0"+e.substr(3),r):0));var w=v?v.time():0,S,_,A;if(v&&v.seek(0),isNaN(e)||(e=+e),Vv(e))v&&(e=xn.utils.mapRange(v.scrollTrigger.start,v.scrollTrigger.end,0,p,e)),a&&rw(a,r,i,!0);else{Ko(t)&&(t=t(l));var R=(e||"0").split(" "),P,U,k,E;A=ma(t,l)||pi,P=of(A)||{},(!P||!P.left&&!P.top)&&Il(A).display==="none"&&(E=A.style.display,A.style.display="block",P=of(A),E?A.style.display=E:A.style.removeProperty("display")),U=nw(R[0],P[i.d]),k=nw(R[1]||"0",r),e=P[i.p]-c[i.p]-f+U+s-k,a&&rw(a,k,i,r-k<20||a._isStart&&k>20),r-=r-k}if(y&&(l[y]=e||-.001,e<0&&(e=0)),o){var j=e+r,O=o._isStart;S="scroll"+i.d2,rw(o,j,i,O&&j>20||!O&&(h?Math.max(pi[S],_c[S]):o.parentNode[S])<=j+1),h&&(c=of(a),h&&(o.style[i.op.p]=c[i.op.p]-i.op.m-o._offset+Ss))}return v&&A&&(S=of(A),v.seek(p),_=of(A),v._caScrollDist=S[i.p]-_[i.p],e=e/v._caScrollDist*p),v&&v.seek(w),v?e:Math.round(e)},yie=/(webkit|moz|length|cssText|inset)/i,RN=function(e,t,r,i){if(e.parentNode!==t){var s=e.style,o,a;if(t===pi){e._stOrig=s.cssText,a=Il(e);for(o in a)!+o&&!yie.test(o)&&a[o]&&typeof s[o]=="string"&&o!=="0"&&(s[o]=a[o]);s.top=r,s.left=i}else s.cssText=e._stOrig;xn.core.getCache(e).uncache=1,t.appendChild(e)}},p5=function(e,t,r){var i=t,s=i;return function(o){var a=Math.round(e());return a!==i&&a!==s&&Math.abs(a-i)>3&&Math.abs(a-s)>3&&(o=a,r&&r()),s=i,i=o,o}},R1=function(e,t,r){var i={};i[t.p]="+="+r,xn.set(e,i)},PN=function(e,t){var r=Fd(e,t),i="_scroll"+t.p2,s=function o(a,l,c,f,h){var p=o.tween,v=l.onComplete,y={};c=c||r();var w=p5(r,c,function(){p.kill(),o.tween=0});return h=f&&h||0,f=f||a-c,p&&p.kill(),l[i]=a,l.inherit=!1,l.modifiers=y,y[i]=function(){return w(c+f*p.ratio+h*p.ratio*p.ratio)},l.onUpdate=function(){wr.cache++,o.tween&&mf()},l.onComplete=function(){o.tween=0,v&&v.call(p)},p=o.tween=xn.to(e,l),p};return e[i]=r,r.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},Bs(e,"wheel",r.wheelHandler),Jn.isTouch&&Bs(e,"touchmove",r.wheelHandler),s},Jn=function(){function n(t,r){lg||n.register(xn)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),qA(this),this.init(t,r)}var e=n.prototype;return e.init=function(r,i){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Bv){this.update=this.refresh=this.kill=Yc;return}r=bN(qa(r)||Vv(r)||r.nodeType?{trigger:r}:r,M1);var s=r,o=s.onUpdate,a=s.toggleClass,l=s.id,c=s.onToggle,f=s.onRefresh,h=s.scrub,p=s.trigger,v=s.pin,y=s.pinSpacing,w=s.invalidateOnRefresh,S=s.anticipatePin,_=s.onScrubComplete,A=s.onSnapComplete,R=s.once,P=s.snap,U=s.pinReparent,k=s.pinSpacer,E=s.containerAnimation,j=s.fastScrollEnd,O=s.preventOverlaps,F=r.horizontal||r.containerAnimation&&r.horizontal!==!1?Yo:bs,Y=!h&&h!==0,te=ma(r.scroller||Cr),ie=xn.core.getCache(te),ue=Hp(te),_e=("pinType"in r?r.pinType:Ad(te,"pinType")||ue&&"fixed")==="fixed",he=[r.onEnter,r.onLeave,r.onEnterBack,r.onLeaveBack],ge=Y&&r.toggleActions.split(" "),q="markers"in r?r.markers:M1.markers,oe=ue?0:parseFloat(Il(te)["border"+F.p2+e0])||0,$=this,ne=r.onRefreshInit&&function(){return r.onRefreshInit($)},we=lie(te,ue,F),nt=cie(te,ue),Ce=0,Ve=0,He=0,je=Fd(te,F),pt,bt,Dt,Jt,at,Xe,ae,Bt,ht,Re,mt,tn,It,se,ee,xe,Oe,Le,Ge,St,wt,Rt,vn,xt,Tt,Zt,Wt,Ot,Ae,Ye,_t,me,Be,ze,ot,Ft,Ut,Qt,_n;if($._startClamp=$._endClamp=!1,$._dir=F,S*=45,$.scroller=te,$.scroll=E?E.time.bind(E):je,Jt=je(),$.vars=r,i=i||r.animation,"refreshPriority"in r&&(Qz=1,r.refreshPriority===-9999&&(vy=$)),ie.tweenScroll=ie.tweenScroll||{top:PN(te,bs),left:PN(te,Yo)},$.tweenTo=pt=ie.tweenScroll[F.p],$.scrubDuration=function(zt){Be=Vv(zt)&&zt,Be?me?me.duration(zt):me=xn.to(i,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Be,paused:!0,onComplete:function(){return _&&_($)}}):(me&&me.progress(1).kill(),me=0)},i&&(i.vars.lazy=!1,i._initted&&!$.isReverted||i.vars.immediateRender!==!1&&r.immediateRender!==!1&&i.duration()&&i.render(0,!0,!0),$.animation=i.pause(),i.scrollTrigger=$,$.scrubDuration(h),Ye=0,l||(l=i.vars.id)),P&&((!ep(P)||P.push)&&(P={snapTo:P}),"scrollBehavior"in pi.style&&xn.set(ue?[pi,_c]:te,{scrollBehavior:"auto"}),wr.forEach(function(zt){return Ko(zt)&&zt.target===(ue?Mi.scrollingElement||_c:te)&&(zt.smooth=!1)}),Dt=Ko(P.snapTo)?P.snapTo:P.snapTo==="labels"?fie(i):P.snapTo==="labelsDirectional"?die(i):P.directional!==!1?function(zt,En){return zP(P.snapTo)(zt,vo()-Ve<500?0:En.direction)}:xn.utils.snap(P.snapTo),ze=P.duration||{min:.1,max:2},ze=ep(ze)?dy(ze.min,ze.max):dy(ze,ze),ot=xn.delayedCall(P.delay||Be/2||.1,function(){var zt=je(),En=vo()-Ve<500,an=pt.tween;if((En||Math.abs($.getVelocity())<10)&&!an&&!Tb&&Ce!==zt){var wn=(zt-Xe)/se,br=i&&!Y?i.totalProgress():wn,Nn=En?0:(br-_t)/(vo()-Uv)*1e3||0,dn=xn.utils.clamp(-wn,1-wn,tg(Nn/2)*Nn/.185),Xr=wn+(P.inertia===!1?0:dn),Mr,Z,re=P,Me=re.onStart,Fe=re.onInterrupt,Je=re.onComplete;if(Mr=Dt(Xr,$),Vv(Mr)||(Mr=Xr),Z=Math.round(Xe+Mr*se),zt<=ae&&zt>=Xe&&Z!==zt){if(an&&!an._initted&&an.data<=tg(Z-zt))return;P.inertia===!1&&(dn=Mr-wn),pt(Z,{duration:ze(tg(Math.max(tg(Xr-br),tg(Mr-br))*.185/Nn/.05||0)),ease:P.ease||"power3",data:tg(Z-zt),onInterrupt:function(){return ot.restart(!0)&&Fe&&Fe($)},onComplete:function(){$.update(),Ce=je(),i&&(me?me.resetTo("totalProgress",Mr,i._tTime/i._tDur):i.progress(Mr)),Ye=_t=i&&!Y?i.totalProgress():$.progress,A&&A($),Je&&Je($)}},zt,dn*se,Z-zt-dn*se),Me&&Me($,pt.tween)}}else $.isActive&&Ce!==zt&&ot.restart(!0)}).pause()),l&&(KA[l]=$),p=$.trigger=ma(p||v!==!0&&v),_n=p&&p._gsap&&p._gsap.stRevert,_n&&(_n=_n($)),v=v===!0?p:ma(v),qa(a)&&(a={targets:p,className:a}),v&&(y===!1||y===Pl||(y=!y&&v.parentNode&&v.parentNode.style&&Il(v.parentNode).display==="flex"?!1:us),$.pin=v,bt=xn.core.getCache(v),bt.spacer?ee=bt.pinState:(k&&(k=ma(k),k&&!k.nodeType&&(k=k.current||k.nativeElement),bt.spacerIsNative=!!k,k&&(bt.spacerState=C1(k))),bt.spacer=Le=k||Mi.createElement("div"),Le.classList.add("pin-spacer"),l&&Le.classList.add("pin-spacer-"+l),bt.pinState=ee=C1(v)),r.force3D!==!1&&xn.set(v,{force3D:!0}),$.spacer=Le=bt.spacer,Ae=Il(v),xt=Ae[y+F.os2],St=xn.getProperty(v),wt=xn.quickSetter(v,F.a,Ss),oM(v,Le,Ae),Oe=C1(v)),q){tn=ep(q)?bN(q,EN):EN,Re=A1("scroller-start",l,te,F,tn,0),mt=A1("scroller-end",l,te,F,tn,0,Re),Ge=Re["offset"+F.op.d2];var mr=ma(Ad(te,"content")||te);Bt=this.markerStart=A1("start",l,mr,F,tn,Ge,0,E),ht=this.markerEnd=A1("end",l,mr,F,tn,Ge,0,E),E&&(Qt=xn.quickSetter([Bt,ht],F.a,Ss)),!_e&&!(cu.length&&Ad(te,"fixedMarkers")===!0)&&(uie(ue?pi:te),xn.set([Re,mt],{force3D:!0}),Zt=xn.quickSetter(Re,F.a,Ss),Ot=xn.quickSetter(mt,F.a,Ss))}if(E){var Gt=E.vars.onUpdate,nn=E.vars.onUpdateParams;E.eventCallback("onUpdate",function(){$.update(0,0,1),Gt&&Gt.apply(E,nn||[])})}if($.previous=function(){return xr[xr.indexOf($)-1]},$.next=function(){return xr[xr.indexOf($)+1]},$.revert=function(zt,En){if(!En)return $.kill(!0);var an=zt!==!1||!$.enabled,wn=mo;an!==$.isReverted&&(an&&(Ft=Math.max(je(),$.scroll.rec||0),He=$.progress,Ut=i&&i.progress()),Bt&&[Bt,ht,Re,mt].forEach(function(br){return br.style.display=an?"none":"block"}),an&&(mo=$,$.update(an)),v&&(!U||!$.isActive)&&(an?mie(v,Le,ee):oM(v,Le,Il(v),Tt)),an||$.update(an),mo=wn,$.isReverted=an)},$.refresh=function(zt,En,an,wn){if(!((mo||!$.enabled)&&!En)){if(v&&zt&&Bl){Bs(n,"scrollEnd",u5);return}!Go&&ne&&ne($),mo=$,pt.tween&&!an&&(pt.tween.kill(),pt.tween=0),me&&me.pause(),w&&i&&i.revert({kill:!1}).invalidate(),$.isReverted||$.revert(!0,!0),$._subPinOffset=!1;var br=we(),Nn=nt(),dn=E?E.duration():eu(te,F),Xr=se<=.01,Mr=0,Z=wn||0,re=ep(an)?an.end:r.end,Me=r.endTrigger||p,Fe=ep(an)?an.start:r.start||(r.start===0||!p?0:v?"0 0":"0 100%"),Je=$.pinnedContainer=r.pinnedContainer&&ma(r.pinnedContainer,$),Qe=p&&Math.max(0,xr.indexOf($))||0,vt=Qe,K,fe,be,Ee,le,it,et,ut,yt,Pt,kt,At,Lt;for(q&&ep(an)&&(At=xn.getProperty(Re,F.p),Lt=xn.getProperty(mt,F.p));vt--;)it=xr[vt],it.end||it.refresh(0,1)||(mo=$),et=it.pin,et&&(et===p||et===v||et===Je)&&!it.isReverted&&(Pt||(Pt=[]),Pt.unshift(it),it.revert(!0,!0)),it!==xr[vt]&&(Qe--,vt--);for(Ko(Fe)&&(Fe=Fe($)),Fe=xN(Fe,"start",$),Xe=CN(Fe,p,br,F,je(),Bt,Re,$,Nn,oe,_e,dn,E,$._startClamp&&"_startClamp")||(v?-.001:0),Ko(re)&&(re=re($)),qa(re)&&!re.indexOf("+=")&&(~re.indexOf(" ")?re=(qa(Fe)?Fe.split(" ")[0]:"")+re:(Mr=nw(re.substr(2),br),re=qa(Fe)?Fe:(E?xn.utils.mapRange(0,E.duration(),E.scrollTrigger.start,E.scrollTrigger.end,Xe):Xe)+Mr,Me=p)),re=xN(re,"end",$),ae=Math.max(Xe,CN(re||(Me?"100% 0":dn),Me,br,F,je()+Mr,ht,mt,$,Nn,oe,_e,dn,E,$._endClamp&&"_endClamp"))||-.001,Mr=0,vt=Qe;vt--;)it=xr[vt],et=it.pin,et&&it.start-it._pinPush<=Xe&&!E&&it.end>0&&(K=it.end-($._startClamp?Math.max(0,it.start):it.start),(et===p&&it.start-it._pinPush<Xe||et===Je)&&isNaN(Fe)&&(Mr+=K*(1-it.progress)),et===v&&(Z+=K));if(Xe+=Mr,ae+=Mr,$._startClamp&&($._startClamp+=Mr),$._endClamp&&!Go&&($._endClamp=ae||-.001,ae=Math.min(ae,eu(te,F))),se=ae-Xe||(Xe-=.01)&&.001,Xr&&(He=xn.utils.clamp(0,1,xn.utils.normalize(Xe,ae,Ft))),$._pinPush=Z,Bt&&Mr&&(K={},K[F.a]="+="+Mr,Je&&(K[F.p]="-="+je()),xn.set([Bt,ht],K)),v&&!(YA&&$.end>=eu(te,F)))K=Il(v),Ee=F===bs,be=je(),Rt=parseFloat(St(F.a))+Z,!dn&&ae>1&&(kt=(ue?Mi.scrollingElement||_c:te).style,kt={style:kt,value:kt["overflow"+F.a.toUpperCase()]},ue&&Il(pi)["overflow"+F.a.toUpperCase()]!=="scroll"&&(kt.style["overflow"+F.a.toUpperCase()]="scroll")),oM(v,Le,K),Oe=C1(v),fe=of(v,!0),ut=_e&&Fd(te,Ee?Yo:bs)(),y?(Tt=[y+F.os2,se+Z+Ss],Tt.t=Le,vt=y===us?pS(v,F)+se+Z:0,vt&&(Tt.push(F.d,vt+Ss),Le.style.flexBasis!=="auto"&&(Le.style.flexBasis=vt+Ss)),Dg(Tt),Je&&xr.forEach(function(Yt){Yt.pin===Je&&Yt.vars.pinSpacing!==!1&&(Yt._subPinOffset=!0)}),_e&&je(Ft)):(vt=pS(v,F),vt&&Le.style.flexBasis!=="auto"&&(Le.style.flexBasis=vt+Ss)),_e&&(le={top:fe.top+(Ee?be-Xe:ut)+Ss,left:fe.left+(Ee?ut:be-Xe)+Ss,boxSizing:"border-box",position:"fixed"},le[Ep]=le["max"+e0]=Math.ceil(fe.width)+Ss,le[Tp]=le["max"+BP]=Math.ceil(fe.height)+Ss,le[Pl]=le[Pl+my]=le[Pl+hy]=le[Pl+gy]=le[Pl+py]="0",le[us]=K[us],le[us+my]=K[us+my],le[us+hy]=K[us+hy],le[us+gy]=K[us+gy],le[us+py]=K[us+py],xe=vie(ee,le,U),Go&&je(0)),i?(yt=i._initted,tM(1),i.render(i.duration(),!0,!0),vn=St(F.a)-Rt+se+Z,Wt=Math.abs(se-vn)>1,_e&&Wt&&xe.splice(xe.length-2,2),i.render(0,!0,!0),yt||i.invalidate(!0),i.parent||i.totalTime(i.totalTime()),tM(0)):vn=se,kt&&(kt.value?kt.style["overflow"+F.a.toUpperCase()]=kt.value:kt.style.removeProperty("overflow-"+F.a));else if(p&&je()&&!E)for(fe=p.parentNode;fe&&fe!==pi;)fe._pinOffset&&(Xe-=fe._pinOffset,ae-=fe._pinOffset),fe=fe.parentNode;Pt&&Pt.forEach(function(Yt){return Yt.revert(!1,!0)}),$.start=Xe,$.end=ae,Jt=at=Go?Ft:je(),!E&&!Go&&(Jt<Ft&&je(Ft),$.scroll.rec=0),$.revert(!1,!0),Ve=vo(),ot&&(Ce=-1,ot.restart(!0)),mo=0,i&&Y&&(i._initted||Ut)&&i.progress()!==Ut&&i.progress(Ut||0,!0).render(i.time(),!0,!0),(Xr||He!==$.progress||E||w)&&(i&&!Y&&i.totalProgress(E&&Xe<-.001&&!He?xn.utils.normalize(Xe,ae,0):He,!0),$.progress=Xr||(Jt-Xe)/se===He?0:He),v&&y&&(Le._pinOffset=Math.round($.progress*vn)),me&&me.invalidate(),isNaN(At)||(At-=xn.getProperty(Re,F.p),Lt-=xn.getProperty(mt,F.p),R1(Re,F,At),R1(Bt,F,At-(wn||0)),R1(mt,F,Lt),R1(ht,F,Lt-(wn||0))),Xr&&!Go&&$.update(),f&&!Go&&!It&&(It=!0,f($),It=!1)}},$.getVelocity=function(){return(je()-at)/(vo()-Uv)*1e3||0},$.endAnimation=function(){Mv($.callbackAnimation),i&&(me?me.progress(1):i.paused()?Y||Mv(i,$.direction<0,1):Mv(i,i.reversed()))},$.labelToScroll=function(zt){return i&&i.labels&&(Xe||$.refresh()||Xe)+i.labels[zt]/i.duration()*se||0},$.getTrailing=function(zt){var En=xr.indexOf($),an=$.direction>0?xr.slice(0,En).reverse():xr.slice(En+1);return(qa(zt)?an.filter(function(wn){return wn.vars.preventOverlaps===zt}):an).filter(function(wn){return $.direction>0?wn.end<=Xe:wn.start>=ae})},$.update=function(zt,En,an){if(!(E&&!an&&!zt)){var wn=Go===!0?Ft:$.scroll(),br=zt?0:(wn-Xe)/se,Nn=br<0?0:br>1?1:br||0,dn=$.progress,Xr,Mr,Z,re,Me,Fe,Je,Qe;if(En&&(at=Jt,Jt=E?je():wn,P&&(_t=Ye,Ye=i&&!Y?i.totalProgress():Nn)),S&&v&&!mo&&!S1&&Bl&&(!Nn&&Xe<wn+(wn-at)/(vo()-Uv)*S?Nn=1e-4:Nn===1&&ae>wn+(wn-at)/(vo()-Uv)*S&&(Nn=.9999)),Nn!==dn&&$.enabled){if(Xr=$.isActive=!!Nn&&Nn<1,Mr=!!dn&&dn<1,Fe=Xr!==Mr,Me=Fe||!!Nn!=!!dn,$.direction=Nn>dn?1:-1,$.progress=Nn,Me&&!mo&&(Z=Nn&&!dn?0:Nn===1?1:dn===1?2:3,Y&&(re=!Fe&&ge[Z+1]!=="none"&&ge[Z+1]||ge[Z],Qe=i&&(re==="complete"||re==="reset"||re in i))),O&&(Fe||Qe)&&(Qe||h||!i)&&(Ko(O)?O($):$.getTrailing(O).forEach(function(be){return be.endAnimation()})),Y||(me&&!mo&&!S1?(me._dp._time-me._start!==me._time&&me.render(me._dp._time-me._start),me.resetTo?me.resetTo("totalProgress",Nn,i._tTime/i._tDur):(me.vars.totalProgress=Nn,me.invalidate().restart())):i&&i.totalProgress(Nn,!!(mo&&(Ve||zt)))),v){if(zt&&y&&(Le.style[y+F.os2]=xt),!_e)wt(zv(Rt+vn*Nn));else if(Me){if(Je=!zt&&Nn>dn&&ae+1>wn&&wn+1>=eu(te,F),U)if(!zt&&(Xr||Je)){var vt=of(v,!0),K=wn-Xe;RN(v,pi,vt.top+(F===bs?K:0)+Ss,vt.left+(F===bs?0:K)+Ss)}else RN(v,Le);Dg(Xr||Je?xe:Oe),Wt&&Nn<1&&Xr||wt(Rt+(Nn===1&&!Je?vn:0))}}P&&!pt.tween&&!mo&&!S1&&ot.restart(!0),a&&(Fe||R&&Nn&&(Nn<1||!nM))&&$y(a.targets).forEach(function(be){return be.classList[Xr||R?"add":"remove"](a.className)}),o&&!Y&&!zt&&o($),Me&&!mo?(Y&&(Qe&&(re==="complete"?i.pause().totalProgress(1):re==="reset"?i.restart(!0).pause():re==="restart"?i.restart(!0):i[re]()),o&&o($)),(Fe||!nM)&&(c&&Fe&&iM($,c),he[Z]&&iM($,he[Z]),R&&(Nn===1?$.kill(!1,1):he[Z]=0),Fe||(Z=Nn===1?1:3,he[Z]&&iM($,he[Z]))),j&&!Xr&&Math.abs($.getVelocity())>(Vv(j)?j:2500)&&(Mv($.callbackAnimation),me?me.progress(1):Mv(i,re==="reverse"?1:!Nn,1))):Y&&o&&!mo&&o($)}if(Ot){var fe=E?wn/E.duration()*(E._caScrollDist||0):wn;Zt(fe+(Re._isFlipped?1:0)),Ot(fe)}Qt&&Qt(-wn/E.duration()*(E._caScrollDist||0))}},$.enable=function(zt,En){$.enabled||($.enabled=!0,Bs(te,"resize",Hv),ue||Bs(te,"scroll",ng),ne&&Bs(n,"refreshInit",ne),zt!==!1&&($.progress=He=0,Jt=at=Ce=je()),En!==!1&&$.refresh())},$.getTween=function(zt){return zt&&pt?pt.tween:me},$.setPositions=function(zt,En,an,wn){if(E){var br=E.scrollTrigger,Nn=E.duration(),dn=br.end-br.start;zt=br.start+dn*zt/Nn,En=br.start+dn*En/Nn}$.refresh(!1,!1,{start:_N(zt,an&&!!$._startClamp),end:_N(En,an&&!!$._endClamp)},wn),$.update()},$.adjustPinSpacing=function(zt){if(Tt&&zt){var En=Tt.indexOf(F.d)+1;Tt[En]=parseFloat(Tt[En])+zt+Ss,Tt[1]=parseFloat(Tt[1])+zt+Ss,Dg(Tt)}},$.disable=function(zt,En){if($.enabled&&(zt!==!1&&$.revert(!0,!0),$.enabled=$.isActive=!1,En||me&&me.pause(),Ft=0,bt&&(bt.uncache=1),ne&&Us(n,"refreshInit",ne),ot&&(ot.pause(),pt.tween&&pt.tween.kill()&&(pt.tween=0)),!ue)){for(var an=xr.length;an--;)if(xr[an].scroller===te&&xr[an]!==$)return;Us(te,"resize",Hv),ue||Us(te,"scroll",ng)}},$.kill=function(zt,En){$.disable(zt,En),me&&!En&&me.kill(),l&&delete KA[l];var an=xr.indexOf($);an>=0&&xr.splice(an,1),an===Wo&&iw>0&&Wo--,an=0,xr.forEach(function(wn){return wn.scroller===$.scroller&&(an=1)}),an||Go||($.scroll.rec=0),i&&(i.scrollTrigger=null,zt&&i.revert({kill:!1}),En||i.kill()),Bt&&[Bt,ht,Re,mt].forEach(function(wn){return wn.parentNode&&wn.parentNode.removeChild(wn)}),vy===$&&(vy=0),v&&(bt&&(bt.uncache=1),an=0,xr.forEach(function(wn){return wn.pin===v&&an++}),an||(bt.spacer=0)),r.onKill&&r.onKill($)},xr.push($),$.enable(!1,!1),_n&&_n($),i&&i.add&&!se){var Pn=$.update;$.update=function(){$.update=Pn,Xe||ae||$.refresh()},xn.delayedCall(.01,$.update),se=.01,Xe=ae=0}else $.refresh();v&&pie()},n.register=function(r){return lg||(xn=r||i5(),r5()&&window.document&&n.enable(),lg=Bv),lg},n.defaults=function(r){if(r)for(var i in r)M1[i]=r[i];return M1},n.disable=function(r,i){Bv=0,xr.forEach(function(o){return o[i?"kill":"disable"](r)}),Us(Cr,"wheel",ng),Us(Mi,"scroll",ng),clearInterval(w1),Us(Mi,"touchcancel",Yc),Us(pi,"touchstart",Yc),E1(Us,Mi,"pointerdown,touchstart,mousedown",wN),E1(Us,Mi,"pointerup,touchend,mouseup",SN),dS.kill(),b1(Us);for(var s=0;s<wr.length;s+=3)T1(Us,wr[s],wr[s+1]),T1(Us,wr[s],wr[s+2])},n.enable=function(){if(Cr=window,Mi=document,_c=Mi.documentElement,pi=Mi.body,xn&&($y=xn.utils.toArray,dy=xn.utils.clamp,qA=xn.core.context||Yc,tM=xn.core.suppressOverwrites||Yc,kP=Cr.history.scrollRestoration||"auto",ZA=Cr.pageYOffset,xn.core.globals("ScrollTrigger",n),pi)){Bv=1,Lg=document.createElement("div"),Lg.style.height="100vh",Lg.style.position="absolute",h5(),aie(),Qi.register(xn),n.isTouch=Qi.isTouch,pd=Qi.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),XA=Qi.isTouch===1,Bs(Cr,"wheel",ng),Jz=[Cr,Mi,_c,pi],xn.matchMedia?(n.matchMedia=function(l){var c=xn.matchMedia(),f;for(f in l)c.add(f,l[f]);return c},xn.addEventListener("matchMediaInit",function(){return VP()}),xn.addEventListener("matchMediaRevert",function(){return f5()}),xn.addEventListener("matchMedia",function(){fp(0,1),Wp("matchMedia")}),xn.matchMedia("(orientation: portrait)",function(){return sM(),sM})):console.warn("Requires GSAP 3.11.0 or later"),sM(),Bs(Mi,"scroll",ng);var r=pi.style,i=r.borderTopStyle,s=xn.core.Animation.prototype,o,a;for(s.revert||Object.defineProperty(s,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",o=of(pi),bs.m=Math.round(o.top+bs.sc())||0,Yo.m=Math.round(o.left+Yo.sc())||0,i?r.borderTopStyle=i:r.removeProperty("border-top-style"),w1=setInterval(TN,250),xn.delayedCall(.5,function(){return S1=0}),Bs(Mi,"touchcancel",Yc),Bs(pi,"touchstart",Yc),E1(Bs,Mi,"pointerdown,touchstart,mousedown",wN),E1(Bs,Mi,"pointerup,touchend,mouseup",SN),$A=xn.utils.checkPrefix("transform"),sw.push($A),lg=vo(),dS=xn.delayedCall(.2,fp).pause(),cg=[Mi,"visibilitychange",function(){var l=Cr.innerWidth,c=Cr.innerHeight;Mi.hidden?(vN=l,yN=c):(vN!==l||yN!==c)&&Hv()},Mi,"DOMContentLoaded",fp,Cr,"load",fp,Cr,"resize",Hv],b1(Bs),xr.forEach(function(l){return l.enable(0,1)}),a=0;a<wr.length;a+=3)T1(Us,wr[a],wr[a+1]),T1(Us,wr[a],wr[a+2])}},n.config=function(r){"limitCallbacks"in r&&(nM=!!r.limitCallbacks);var i=r.syncInterval;i&&clearInterval(w1)||(w1=i)&&setInterval(TN,i),"ignoreMobileResize"in r&&(XA=n.isTouch===1&&r.ignoreMobileResize),"autoRefreshEvents"in r&&(b1(Us)||b1(Bs,r.autoRefreshEvents||"none"),e5=(r.autoRefreshEvents+"").indexOf("resize")===-1)},n.scrollerProxy=function(r,i){var s=ma(r),o=wr.indexOf(s),a=Hp(s);~o&&wr.splice(o,a?6:2),i&&(a?cu.unshift(Cr,i,pi,i,_c,i):cu.unshift(s,i))},n.clearMatchMedia=function(r){xr.forEach(function(i){return i._ctx&&i._ctx.query===r&&i._ctx.kill(!0,!0)})},n.isInViewport=function(r,i,s){var o=(qa(r)?ma(r):r).getBoundingClientRect(),a=o[s?Ep:Tp]*i||0;return s?o.right-a>0&&o.left+a<Cr.innerWidth:o.bottom-a>0&&o.top+a<Cr.innerHeight},n.positionInViewport=function(r,i,s){qa(r)&&(r=ma(r));var o=r.getBoundingClientRect(),a=o[s?Ep:Tp],l=i==null?a/2:i in mS?mS[i]*a:~i.indexOf("%")?parseFloat(i)*a/100:parseFloat(i)||0;return s?(o.left+l)/Cr.innerWidth:(o.top+l)/Cr.innerHeight},n.killAll=function(r){if(xr.slice(0).forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),r!==!0){var i=jp.killAll||[];jp={},i.forEach(function(s){return s()})}},n}();Jn.version="3.12.5";Jn.saveStyles=function(n){return n?$y(n).forEach(function(e){if(e&&e.style){var t=$a.indexOf(e);t>=0&&$a.splice(t,5),$a.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),xn.core.getCache(e),qA())}}):$a};Jn.revert=function(n,e){return VP(!n,e)};Jn.create=function(n,e){return new Jn(n,e)};Jn.refresh=function(n){return n?Hv():(lg||Jn.register())&&fp(!0)};Jn.update=function(n){return++wr.cache&&mf(n===!0?2:0)};Jn.clearScrollMemory=d5;Jn.maxScroll=function(n,e){return eu(n,e?Yo:bs)};Jn.getScrollFunc=function(n,e){return Fd(ma(n),e?Yo:bs)};Jn.getById=function(n){return KA[n]};Jn.getAll=function(){return xr.filter(function(n){return n.vars.id!=="ScrollSmoother"})};Jn.isScrolling=function(){return!!Bl};Jn.snapDirectional=zP;Jn.addEventListener=function(n,e){var t=jp[n]||(jp[n]=[]);~t.indexOf(e)||t.push(e)};Jn.removeEventListener=function(n,e){var t=jp[n],r=t&&t.indexOf(e);r>=0&&t.splice(r,1)};Jn.batch=function(n,e){var t=[],r={},i=e.interval||.016,s=e.batchMax||1e9,o=function(c,f){var h=[],p=[],v=xn.delayedCall(i,function(){f(h,p),h=[],p=[]}).pause();return function(y){h.length||v.restart(!0),h.push(y.trigger),p.push(y),s<=h.length&&v.progress(1)}},a;for(a in e)r[a]=a.substr(0,2)==="on"&&Ko(e[a])&&a!=="onRefreshInit"?o(a,e[a]):e[a];return Ko(s)&&(s=s(),Bs(Jn,"refresh",function(){return s=e.batchMax()})),$y(n).forEach(function(l){var c={};for(a in r)c[a]=r[a];c.trigger=l,t.push(Jn.create(c))}),t};var IN=function(e,t,r,i){return t>i?e(i):t<0&&e(0),r>i?(i-t)/(r-t):r<0?t/(t-r):1},aM=function n(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(Qi.isTouch?" pinch-zoom":""):"none",e===_c&&n(pi,t)},P1={auto:1,scroll:1},xie=function(e){var t=e.event,r=e.target,i=e.axis,s=(t.changedTouches?t.changedTouches[0]:t).target,o=s._gsap||xn.core.getCache(s),a=vo(),l;if(!o._isScrollT||a-o._isScrollT>2e3){for(;s&&s!==pi&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(P1[(l=Il(s)).overflowY]||P1[l.overflowX]));)s=s.parentNode;o._isScroll=s&&s!==r&&!Hp(s)&&(P1[(l=Il(s)).overflowY]||P1[l.overflowX]),o._isScrollT=a}(o._isScroll||i==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},m5=function(e,t,r,i){return Qi.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:i=i&&xie,onPress:i,onDrag:i,onScroll:i,onEnable:function(){return r&&Bs(Mi,Qi.eventTypes[0],DN,!1,!0)},onDisable:function(){return Us(Mi,Qi.eventTypes[0],DN,!0)}})},_ie=/(input|label|select|textarea)/i,LN,DN=function(e){var t=_ie.test(e.target.tagName);(t||LN)&&(e._gsapAllow=!0,LN=t)},wie=function(e){ep(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,r=t.normalizeScrollX,i=t.momentum,s=t.allowNestedScroll,o=t.onRelease,a,l,c=ma(e.target)||_c,f=xn.core.globals().ScrollSmoother,h=f&&f.get(),p=pd&&(e.content&&ma(e.content)||h&&e.content!==!1&&!h.smooth()&&h.content()),v=Fd(c,bs),y=Fd(c,Yo),w=1,S=(Qi.isTouch&&Cr.visualViewport?Cr.visualViewport.scale*Cr.visualViewport.width:Cr.outerWidth)/Cr.innerWidth,_=0,A=Ko(i)?function(){return i(a)}:function(){return i||2.8},R,P,U=m5(c,e.type,!0,s),k=function(){return P=!1},E=Yc,j=Yc,O=function(){l=eu(c,bs),j=dy(pd?1:0,l),r&&(E=dy(0,eu(c,Yo))),R=Mp},F=function(){p._gsap.y=zv(parseFloat(p._gsap.y)+v.offset)+"px",p.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(p._gsap.y)+", 0, 1)",v.offset=v.cacheID=0},Y=function(){if(P){requestAnimationFrame(k);var q=zv(a.deltaY/2),oe=j(v.v-q);if(p&&oe!==v.v+v.offset){v.offset=oe-v.v;var $=zv((parseFloat(p&&p._gsap.y)||0)-v.offset);p.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+$+", 0, 1)",p._gsap.y=$+"px",v.cacheID=wr.cache,mf()}return!0}v.offset&&F(),P=!0},te,ie,ue,_e,he=function(){O(),te.isActive()&&te.vars.scrollY>l&&(v()>l?te.progress(1)&&v(l):te.resetTo("scrollY",l))};return p&&xn.set(p,{y:"+=0"}),e.ignoreCheck=function(ge){return pd&&ge.type==="touchmove"&&Y()||w>1.05&&ge.type!=="touchstart"||a.isGesturing||ge.touches&&ge.touches.length>1},e.onPress=function(){P=!1;var ge=w;w=zv((Cr.visualViewport&&Cr.visualViewport.scale||1)/S),te.pause(),ge!==w&&aM(c,w>1.01?!0:r?!1:"x"),ie=y(),ue=v(),O(),R=Mp},e.onRelease=e.onGestureStart=function(ge,q){if(v.offset&&F(),!q)_e.restart(!0);else{wr.cache++;var oe=A(),$,ne;r&&($=y(),ne=$+oe*.05*-ge.velocityX/.227,oe*=IN(y,$,ne,eu(c,Yo)),te.vars.scrollX=E(ne)),$=v(),ne=$+oe*.05*-ge.velocityY/.227,oe*=IN(v,$,ne,eu(c,bs)),te.vars.scrollY=j(ne),te.invalidate().duration(oe).play(.01),(pd&&te.vars.scrollY>=l||$>=l-1)&&xn.to({},{onUpdate:he,duration:oe})}o&&o(ge)},e.onWheel=function(){te._ts&&te.pause(),vo()-_>1e3&&(R=0,_=vo())},e.onChange=function(ge,q,oe,$,ne){if(Mp!==R&&O(),q&&r&&y(E($[2]===q?ie+(ge.startX-ge.x):y()+q-$[1])),oe){v.offset&&F();var we=ne[2]===oe,nt=we?ue+ge.startY-ge.y:v()+oe-ne[1],Ce=j(nt);we&&nt!==Ce&&(ue+=Ce-nt),v(Ce)}(oe||q)&&mf()},e.onEnable=function(){aM(c,r?!1:"x"),Jn.addEventListener("refresh",he),Bs(Cr,"resize",he),v.smooth&&(v.target.style.scrollBehavior="auto",v.smooth=y.smooth=!1),U.enable()},e.onDisable=function(){aM(c,!0),Us(Cr,"resize",he),Jn.removeEventListener("refresh",he),U.kill()},e.lockAxis=e.lockAxis!==!1,a=new Qi(e),a.iOS=pd,pd&&!v()&&v(1),pd&&xn.ticker.add(Yc),_e=a._dc,te=xn.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:r?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:p5(v,v(),function(){return te.pause()})},onUpdate:mf,onComplete:_e.vars.onComplete}),a};Jn.sort=function(n){return xr.sort(n||function(e,t){return(e.vars.refreshPriority||0)*-1e6+e.start-(t.start+(t.vars.refreshPriority||0)*-1e6)})};Jn.observe=function(n){return new Qi(n)};Jn.normalizeScroll=function(n){if(typeof n>"u")return jo;if(n===!0&&jo)return jo.enable();if(n===!1){jo&&jo.kill(),jo=n;return}var e=n instanceof Qi?n:wie(n);return jo&&jo.target===e.target&&jo.kill(),Hp(e.target)&&(jo=e),e};Jn.core={_getVelocityProp:GA,_inputObserver:m5,_scrollers:wr,_proxies:cu,bridge:{ss:function(){Bl||Wp("scrollStart"),Bl=vo()},ref:function(){return mo}}};i5()&&xn.registerPlugin(Jn);Rr.registerPlugin(Jn);function NN(n,e){if(e===$U)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===Qw||e===SR){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(e===Qw)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}class Sie extends To{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Aie(t)}),this.register(function(t){return new Cie(t)}),this.register(function(t){return new Fie(t)}),this.register(function(t){return new Uie(t)}),this.register(function(t){return new Bie(t)}),this.register(function(t){return new Pie(t)}),this.register(function(t){return new Iie(t)}),this.register(function(t){return new Lie(t)}),this.register(function(t){return new Die(t)}),this.register(function(t){return new Mie(t)}),this.register(function(t){return new Nie(t)}),this.register(function(t){return new Rie(t)}),this.register(function(t){return new Oie(t)}),this.register(function(t){return new kie(t)}),this.register(function(t){return new Eie(t)}),this.register(function(t){return new zie(t)}),this.register(function(t){return new Vie(t)})}load(e,t,r,i){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const c=Ed.extractUrlBase(e);o=Ed.resolveURL(c,this.path)}else o=Ed.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new ta(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(f){t(f),s.manager.itemEnd(e)},a)}catch(f){a(f)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={},l=new TextDecoder;if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(l.decode(new Uint8Array(e,0,4))===g5){try{o[Sr.KHR_BINARY_GLTF]=new Hie(e)}catch(h){i&&i(h);return}s=JSON.parse(o[Sr.KHR_BINARY_GLTF].content)}else s=JSON.parse(l.decode(e));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new tse(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let f=0;f<this.pluginCallbacks.length;f++){const h=this.pluginCallbacks[f](c);h.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[h.name]=h,o[h.name]=!0}if(s.extensionsUsed)for(let f=0;f<s.extensionsUsed.length;++f){const h=s.extensionsUsed[f],p=s.extensionsRequired||[];switch(h){case Sr.KHR_MATERIALS_UNLIT:o[h]=new Tie;break;case Sr.KHR_DRACO_MESH_COMPRESSION:o[h]=new jie(s,this.dracoLoader);break;case Sr.KHR_TEXTURE_TRANSFORM:o[h]=new Wie;break;case Sr.KHR_MESH_QUANTIZATION:o[h]=new Gie;break;default:p.indexOf(h)>=0&&a[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}c.setExtensions(o),c.setPlugins(a),c.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function bie(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Sr={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Eie{constructor(e){this.parser=e,this.name=Sr.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const f=new rn(16777215);l.color!==void 0&&f.setRGB(l.color[0],l.color[1],l.color[2],Ms);const h=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new KR(f),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new YR(f),c.distance=h;break;case"spot":c=new qR(f),c.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,Qu(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(r,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class Tie{constructor(){this.name=Sr.KHR_MATERIALS_UNLIT}getMaterialType(){return va}extendParams(e,t,r){const i=[];e.color=new rn(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],Ms),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,ds))}return Promise.all(i)}}class Mie{constructor(e){this.parser=e,this.name=Sr.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class Aie{constructor(e){this.parser=e,this.name=Sr.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:al}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new gt(a,a)}return Promise.all(s)}}class Cie{constructor(e){this.parser=e,this.name=Sr.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:al}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class Rie{constructor(e){this.parser=e,this.name=Sr.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:al}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Pie{constructor(e){this.parser=e,this.name=Sr.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:al}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new rn(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],Ms)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,ds)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Iie{constructor(e){this.parser=e,this.name=Sr.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:al}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Lie{constructor(e){this.parser=e,this.name=Sr.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:al}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new rn().setRGB(a[0],a[1],a[2],Ms),Promise.all(s)}}class Die{constructor(e){this.parser=e,this.name=Sr.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:al}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class Nie{constructor(e){this.parser=e,this.name=Sr.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:al}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new rn().setRGB(a[0],a[1],a[2],Ms),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,ds)),Promise.all(s)}}class kie{constructor(e){this.parser=e,this.name=Sr.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:al}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(r.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(s)}}class Oie{constructor(e){this.parser=e,this.name=Sr.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:al}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class Fie{constructor(e){this.parser=e,this.name=Sr.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class Uie{constructor(e){this.parser=e,this.name=Sr.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Bie{constructor(e){this.parser=e,this.name=Sr.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class zie{constructor(e){this.name=Sr.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,f=i.count,h=i.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(f,h,p,i.mode,i.filter).then(function(v){return v.buffer}):o.ready.then(function(){const v=new ArrayBuffer(f*h);return o.decodeGltfBuffer(new Uint8Array(v),f,h,p,i.mode,i.filter),v})})}else return null}}class Vie{constructor(e){this.name=Sr.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=t.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==Cl.TRIANGLES&&c.mode!==Cl.TRIANGLE_STRIP&&c.mode!==Cl.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(f=>(l[c]=f,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const f=c.pop(),h=f.isGroup?f.children:[f],p=c[0].count,v=[];for(const y of h){const w=new jn,S=new ce,_=new Ws,A=new ce(1,1,1),R=new IR(y.geometry,y.material,p);for(let P=0;P<p;P++)l.TRANSLATION&&S.fromBufferAttribute(l.TRANSLATION,P),l.ROTATION&&_.fromBufferAttribute(l.ROTATION,P),l.SCALE&&A.fromBufferAttribute(l.SCALE,P),R.setMatrixAt(P,w.compose(S,_,A));for(const P in l)if(P==="_COLOR_0"){const U=l[P];R.instanceColor=new Np(U.array,U.itemSize,U.normalized)}else P!=="TRANSLATION"&&P!=="ROTATION"&&P!=="SCALE"&&y.geometry.setAttribute(P,l[P]);Ir.prototype.copy.call(R,y),this.parser.assignFinalMaterial(R),v.push(R)}return f.isGroup?(f.clear(),f.add(...v),f):v[0]}))}}const g5="glTF",Av=12,kN={JSON:1313821514,BIN:5130562};class Hie{constructor(e){this.name=Sr.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Av),r=new TextDecoder;if(this.header={magic:r.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==g5)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Av,s=new DataView(e,Av);let o=0;for(;o<i;){const a=s.getUint32(o,!0);o+=4;const l=s.getUint32(o,!0);if(o+=4,l===kN.JSON){const c=new Uint8Array(e,Av+o,a);this.content=r.decode(c)}else if(l===kN.BIN){const c=Av+o;this.body=e.slice(c,c+a)}o+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class jie{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Sr.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const f in o){const h=QA[f]||f.toLowerCase();a[h]=o[f]}for(const f in e.attributes){const h=QA[f]||f.toLowerCase();if(o[f]!==void 0){const p=r.accessors[e.attributes[f]],v=Ng[p.componentType];c[h]=v.name,l[h]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(f){return new Promise(function(h,p){i.decodeDracoFile(f,function(v){for(const y in v.attributes){const w=v.attributes[y],S=l[y];S!==void 0&&(w.normalized=S)}h(v)},a,c,Ms,p)})})}}class Wie{constructor(){this.name=Sr.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Gie{constructor(){this.name=Sr.KHR_MESH_QUANTIZATION}}class v5 extends c0{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,f=i-t,h=(r-t)/f,p=h*h,v=p*h,y=e*c,w=y-c,S=-2*v+3*p,_=v-p,A=1-S,R=_-p+h;for(let P=0;P!==a;P++){const U=o[w+P+a],k=o[w+P+l]*f,E=o[y+P+a],j=o[y+P]*f;s[P]=A*U+R*k+S*E+_*j}return s}}const $ie=new Ws;class Xie extends v5{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return $ie.fromArray(s).normalize().toArray(s),s}}const Cl={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Ng={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},ON={9728:Ts,9729:Ur,9984:WS,9985:Tg,9986:rp,9987:kl},FN={33071:Zi,33648:zg,10497:Dd},lM={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},QA={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},ud={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},qie={CUBICSPLINE:void 0,LINEAR:jg,STEP:Hg},cM={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Yie(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Sx({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:fu})),n.DefaultMaterial}function Gh(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Qu(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Kie(n,e,t){let r=!1,i=!1,s=!1;for(let c=0,f=e.length;c<f;c++){const h=e[c];if(h.POSITION!==void 0&&(r=!0),h.NORMAL!==void 0&&(i=!0),h.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,f=e.length;c<f;c++){const h=e[c];if(r){const p=h.POSITION!==void 0?t.getDependency("accessor",h.POSITION):n.attributes.position;o.push(p)}if(i){const p=h.NORMAL!==void 0?t.getDependency("accessor",h.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=h.COLOR_0!==void 0?t.getDependency("accessor",h.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const f=c[0],h=c[1],p=c[2];return r&&(n.morphAttributes.position=f),i&&(n.morphAttributes.normal=h),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function Zie(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Jie(n){let e;const t=n.extensions&&n.extensions[Sr.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+uM(t.attributes):e=n.indices+":"+uM(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,i=n.targets.length;r<i;r++)e+=":"+uM(n.targets[r]);return e}function uM(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function eC(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Qie(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":n.search(/\.ktx2($|\?)/i)>0||n.search(/^data\:image\/ktx2/)===0?"image/ktx2":"image/png"}const ese=new jn;class tse{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new bie,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=-1,s=!1,o=-1;if(typeof navigator<"u"){const a=navigator.userAgent;r=/^((?!chrome|android).)*safari/i.test(a)===!0;const l=a.match(/Version\/(\d+)/);i=r&&l?parseInt(l[1],10):-1,s=a.indexOf("Firefox")>-1,o=s?a.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||r&&i<17||s&&o<98?this.textureLoader=new V4(this.options.manager):this.textureLoader=new Y4(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ta(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};return Gh(s,a,i),Qu(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,f]of o.children.entries())s(f,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Sr.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Ed.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=lM[i.type],a=Ng[i.componentType],l=i.normalized===!0,c=new a(i.count*o);return Promise.resolve(new jr(c,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=lM[i.type],c=Ng[i.componentType],f=c.BYTES_PER_ELEMENT,h=f*l,p=i.byteOffset||0,v=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,y=i.normalized===!0;let w,S;if(v&&v!==h){const _=Math.floor(p/v),A="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+_+":"+i.count;let R=t.cache.get(A);R||(w=new c(a,_*v,i.count*v/f),R=new mx(w,v/f),t.cache.add(A,R)),S=new Nd(R,l,p%v/f,y)}else a===null?w=new c(i.count*l):w=new c(a,p,i.count*l),S=new jr(w,l,y);if(i.sparse!==void 0){const _=lM.SCALAR,A=Ng[i.sparse.indices.componentType],R=i.sparse.indices.byteOffset||0,P=i.sparse.values.byteOffset||0,U=new A(o[1],R,i.sparse.count*_),k=new c(o[2],P,i.sparse.count*l);a!==null&&(S=new jr(S.array.slice(),S.itemSize,S.normalized)),S.normalized=!1;for(let E=0,j=U.length;E<j;E++){const O=U[E];if(S.setX(O,k[E*l]),l>=2&&S.setY(O,k[E*l+1]),l>=3&&S.setZ(O,k[E*l+2]),l>=4&&S.setW(O,k[E*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}S.normalized=y}return S})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,r).then(function(f){f.flipY=!1,f.name=o.name||a.name||"",f.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(f.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return f.magFilter=ON[p.magFilter]||Ur,f.minFilter=ON[p.minFilter]||kl,f.wrapS=FN[p.wrapS]||Dd,f.wrapT=FN[p.wrapT]||Dd,f.generateMipmaps=!f.isCompressedTexture&&f.minFilter!==Ts&&f.minFilter!==Ur,i.associations.set(f,{textures:e}),f}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(h){c=!0;const p=new Blob([h],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const f=Promise.resolve(l).then(function(h){return new Promise(function(p,v){let y=p;t.isImageBitmapLoader===!0&&(y=function(w){const S=new Br(w);S.needsUpdate=!0,p(S)}),t.load(Ed.resolveURL(h,s.path),y,void 0,v)})}).then(function(h){return c===!0&&a.revokeObjectURL(l),Qu(h,o),h.userData.mimeType=o.mimeType||Qie(o.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),h});return this.sourceCache[e]=f,f}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[Sr.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[Sr.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Sr.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(o.colorSpace=i),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new nb,hs.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Eo,hs.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return Sx}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Sr.KHR_MATERIALS_UNLIT]){const h=i[Sr.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),c.push(h.extendParams(a,s,t))}else{const h=s.pbrMetallicRoughness||{};if(a.color=new rn(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const p=h.baseColorFactor;a.color.setRGB(p[0],p[1],p[2],Ms),a.opacity=p[3]}h.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",h.baseColorTexture,ds)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Dl);const f=s.alphaMode||cM.OPAQUE;if(f===cM.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,f===cM.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==va&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new gt(1,1),s.normalTexture.scale!==void 0)){const h=s.normalTexture.scale;a.normalScale.set(h,h)}if(s.occlusionTexture!==void 0&&o!==va&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==va){const h=s.emissiveFactor;a.emissive=new rn().setRGB(h[0],h[1],h[2],Ms)}return s.emissiveTexture!==void 0&&o!==va&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,ds)),Promise.all(c).then(function(){const h=new o(a);return s.name&&(h.name=s.name),Qu(h,s),t.associations.set(h,{materials:e}),s.extensions&&Gh(i,h,s),h})}createUniqueName(e){const t=Dr.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Sr.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return UN(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],f=Jie(c),h=i[f];if(h)o.push(h.promise);else{let p;c.extensions&&c.extensions[Sr.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=UN(new ar,c,t),i[f]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const f=o[l].material===void 0?Yie(this.cache):this.getDependency("material",o[l].material);a.push(f)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),f=l[l.length-1],h=[];for(let v=0,y=f.length;v<y;v++){const w=f[v],S=o[v];let _;const A=c[v];if(S.mode===Cl.TRIANGLES||S.mode===Cl.TRIANGLE_STRIP||S.mode===Cl.TRIANGLE_FAN||S.mode===void 0)_=s.isSkinnedMesh===!0?new PR(w,A):new Si(w,A),_.isSkinnedMesh===!0&&_.normalizeSkinWeights(),S.mode===Cl.TRIANGLE_STRIP?_.geometry=NN(_.geometry,SR):S.mode===Cl.TRIANGLE_FAN&&(_.geometry=NN(_.geometry,Qw));else if(S.mode===Cl.LINES)_=new Rc(w,A);else if(S.mode===Cl.LINE_STRIP)_=new xf(w,A);else if(S.mode===Cl.LINE_LOOP)_=new LR(w,A);else if(S.mode===Cl.POINTS)_=new DR(w,A);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+S.mode);Object.keys(_.geometry.morphAttributes).length>0&&Zie(_,s),_.name=t.createUniqueName(s.name||"mesh_"+e),Qu(_,s),S.extensions&&Gh(i,_,S),t.assignFinalMaterial(_),h.push(_)}for(let v=0,y=h.length;v<y;v++)t.associations.set(h[v],{meshes:e,primitives:v});if(h.length===1)return s.extensions&&Gh(i,h[0],s),h[0];const p=new lf;s.extensions&&Gh(i,p,s),t.associations.set(p,{meshes:e});for(let v=0,y=h.length;v<y;v++)p.add(h[v]);return p})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new Hi(r4.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new au(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Qu(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let i=0,s=t.joints.length;i<s;i++)r.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let c=0,f=o.length;c<f;c++){const h=o[c];if(h){a.push(h);const p=new jn;s!==null&&p.fromArray(s.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new gx(a,l)})}loadAnimation(e){const t=this.json,r=this,i=t.animations[e],s=i.name?i.name:"animation_"+e,o=[],a=[],l=[],c=[],f=[];for(let h=0,p=i.channels.length;h<p;h++){const v=i.channels[h],y=i.samplers[v.sampler],w=v.target,S=w.node,_=i.parameters!==void 0?i.parameters[y.input]:y.input,A=i.parameters!==void 0?i.parameters[y.output]:y.output;w.node!==void 0&&(o.push(this.getDependency("node",S)),a.push(this.getDependency("accessor",_)),l.push(this.getDependency("accessor",A)),c.push(y),f.push(w))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(f)]).then(function(h){const p=h[0],v=h[1],y=h[2],w=h[3],S=h[4],_=[];for(let A=0,R=p.length;A<R;A++){const P=p[A],U=v[A],k=y[A],E=w[A],j=S[A];if(P===void 0)continue;P.updateMatrix&&P.updateMatrix();const O=r._createAnimationTracks(P,U,k,E,j);if(O)for(let F=0;F<O.length;F++)_.push(O[F])}return new Xg(s,void 0,_)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this,i=t.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let c=0,f=a.length;c<f;c++)o.push(r.getDependency("node",a[c]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const f=c[0],h=c[1],p=c[2];p!==null&&f.traverse(function(v){v.isSkinnedMesh&&v.bind(p,ese)});for(let v=0,y=h.length;v<y;v++)f.add(h[v]);return f})}_loadNodeShallow(e){const t=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let f;if(s.isBone===!0?f=new tb:c.length>1?f=new lf:c.length===1?f=c[0]:f=new Ir,f!==c[0])for(let h=0,p=c.length;h<p;h++)f.add(c[h]);if(s.name&&(f.userData.name=s.name,f.name=o),Qu(f,s),s.extensions&&Gh(r,f,s),s.matrix!==void 0){const h=new jn;h.fromArray(s.matrix),f.applyMatrix4(h)}else s.translation!==void 0&&f.position.fromArray(s.translation),s.rotation!==void 0&&f.quaternion.fromArray(s.rotation),s.scale!==void 0&&f.scale.fromArray(s.scale);return i.associations.has(f)||i.associations.set(f,{}),i.associations.get(f).nodes=e,f}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],i=this,s=new lf;r.name&&(s.name=i.createUniqueName(r.name)),Qu(s,r),r.extensions&&Gh(t,s,r);const o=r.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let f=0,h=l.length;f<h;f++)s.add(l[f]);const c=f=>{const h=new Map;for(const[p,v]of i.associations)(p instanceof hs||p instanceof Br)&&h.set(p,v);return f.traverse(p=>{const v=i.associations.get(p);v!=null&&h.set(p,v)}),h};return i.associations=c(s),s})}_createAnimationTracks(e,t,r,i,s){const o=[],a=e.name?e.name:e.uuid,l=[];ud[s.path]===ud.weights?e.traverse(function(p){p.morphTargetInfluences&&l.push(p.name?p.name:p.uuid)}):l.push(a);let c;switch(ud[s.path]){case ud.weights:c=Op;break;case ud.rotation:c=Fp;break;case ud.position:case ud.scale:c=Up;break;default:switch(r.itemSize){case 1:c=Op;break;case 2:case 3:default:c=Up;break}break}const f=i.interpolation!==void 0?qie[i.interpolation]:jg,h=this._getArrayFromAccessor(r);for(let p=0,v=l.length;p<v;p++){const y=new c(l[p]+"."+ud[s.path],t.array,h,f);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(y),o.push(y)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const r=eC(t.constructor),i=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s++)i[s]=t[s]*r;t=i}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const i=this instanceof Fp?Xie:v5;return new i(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function nse(n,e,t){const r=e.attributes,i=new wo;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new ce(l[0],l[1],l[2]),new ce(c[0],c[1],c[2])),a.normalized){const f=eC(Ng[a.componentType]);i.min.multiplyScalar(f),i.max.multiplyScalar(f)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new ce,l=new ce;for(let c=0,f=s.length;c<f;c++){const h=s[c];if(h.POSITION!==void 0){const p=t.json.accessors[h.POSITION],v=p.min,y=p.max;if(v!==void 0&&y!==void 0){if(l.setX(Math.max(Math.abs(v[0]),Math.abs(y[0]))),l.setY(Math.max(Math.abs(v[1]),Math.abs(y[1]))),l.setZ(Math.max(Math.abs(v[2]),Math.abs(y[2]))),p.normalized){const w=eC(Ng[p.componentType]);l.multiplyScalar(w)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new no;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function UN(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=QA[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return Tr.workingColorSpace!==Ms&&"COLOR_0"in r&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${Tr.workingColorSpace}" not supported.`),Qu(n,e),nse(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?Kie(n,e.targets,t):n})}function BN(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function y5(...n){return e=>{let t=!1;const r=n.map(i=>{const s=BN(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():BN(n[i],null)}}}}function tm(...n){return z.useCallback(y5(...n),n)}var x5=z.forwardRef((n,e)=>{const{children:t,...r}=n,i=z.Children.toArray(t),s=i.find(rse);if(s){const o=s.props.children,a=i.map(l=>l===s?z.Children.count(o)>1?z.Children.only(null):z.isValidElement(o)?o.props.children:null:l);return N.jsx(tC,{...r,ref:e,children:z.isValidElement(o)?z.cloneElement(o,void 0,a):null})}return N.jsx(tC,{...r,ref:e,children:t})});x5.displayName="Slot";var tC=z.forwardRef((n,e)=>{const{children:t,...r}=n;if(z.isValidElement(t)){const i=sse(t);return z.cloneElement(t,{...ise(r,t.props),ref:e?y5(e,i):i})}return z.Children.count(t)>1?z.Children.only(null):null});tC.displayName="SlotClone";var _5=({children:n})=>N.jsx(N.Fragment,{children:n});function rse(n){return z.isValidElement(n)&&n.type===_5}function ise(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{s(...a),i(...a)}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function sse(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var ose=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Yd=ose.reduce((n,e)=>{const t=z.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?x5:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),N.jsx(a,{...o,ref:i})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function ase(n,e){n&&PC.flushSync(()=>n.dispatchEvent(e))}var Gp=globalThis!=null&&globalThis.document?z.useLayoutEffect:()=>{},lse="Portal",w5=z.forwardRef((n,e)=>{var a;const{container:t,...r}=n,[i,s]=z.useState(!1);Gp(()=>s(!0),[]);const o=t||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?MO.createPortal(N.jsx(Yd.div,{...r,ref:e}),o):null});w5.displayName=lse;var cse=w5,zN=Object.prototype.hasOwnProperty;function qy(n,e){var t,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&qy(n[r],e[r]););return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(zN.call(n,t)&&++r&&!zN.call(e,t)||!(t in e)||!qy(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function Mb(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(n[t[r]],e[t[r]]))return!1;return!0}var Ab=function(e,t,r,i){this.name=e,this.fn=t,this.args=r,this.modifiers=i};Ab.prototype._test=function(e){var t=this.fn;try{kg(this.modifiers.slice(),t,this)(e)}catch{t=function(){return!1}}try{return kg(this.modifiers.slice(),t,this)(e)}catch{return!1}};Ab.prototype._check=function(e){try{kg(this.modifiers.slice(),this.fn,this)(e)}catch{if(kg(this.modifiers.slice(),function(r){return r},this)(!1))return}if(!kg(this.modifiers.slice(),this.fn,this)(e))throw null};Ab.prototype._testAsync=function(e){var t=this;return new Promise(function(r,i){b5(t.modifiers.slice(),t.fn,t)(e).then(function(s){s?r(e):i(null)}).catch(function(s){return i(s)})})};function S5(n,e){return e===void 0&&(e="simple"),typeof n=="object"?n[e]:n}function kg(n,e,t){if(n.length){var r=n.shift(),i=kg(n,e,t);return r.perform(i,t)}else return S5(e)}function b5(n,e,t){if(n.length){var r=n.shift(),i=b5(n,e,t);return r.performAsync(i,t)}else return function(s){return Promise.resolve(S5(e,"async")(s))}}var use=function(e,t,r){this.name=e,this.perform=t,this.performAsync=r},HP=function(n){function e(t,r,i,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];n.call(this,o),n.captureStackTrace&&n.captureStackTrace(this,e),this.rule=t,this.value=r,this.cause=i,this.target=s}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e}(Error),mu=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=[]),this.chain=e,this.nextRuleModifiers=t};mu.prototype._applyRule=function(e,t){var r=this;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return r.chain.push(new Ab(t,e.apply(r,i),i,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}};mu.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new use(t,e.simple,e.async)),this};mu.prototype._clone=function(){return new mu(this.chain.slice(),this.nextRuleModifiers.slice())};mu.prototype.test=function(e){return this.chain.every(function(t){return t._test(e)})};mu.prototype.testAll=function(e){var t=[];return this.chain.forEach(function(r){try{r._check(e)}catch(i){t.push(new HP(r,e,i))}}),t};mu.prototype.check=function(e){this.chain.forEach(function(t){try{t._check(e)}catch(r){throw new HP(t,e,r)}})};mu.prototype.testAsync=function(e){var t=this;return new Promise(function(r,i){E5(e,t.chain.slice(),r,i)})};function E5(n,e,t,r){if(e.length){var i=e.shift();i._testAsync(n).then(function(){E5(n,e,t,r)},function(s){r(new HP(i,n,s))})}else t(n)}var VN=function(n,e){return e&&typeof n=="string"&&n.trim().length===0?!0:n==null};function fse(n,e){return e===void 0&&(e=!1),{simple:function(t){return VN(t,e)||n.check(t)===void 0},async:function(t){return VN(t,e)||n.testAsync(t)}}}function ya(){return typeof Proxy<"u"?T5(new mu):nC(new mu)}var Yy={};ya.extend=function(n){Object.assign(Yy,n)};ya.clearCustomRules=function(){Yy={}};function T5(n){return new Proxy(n,{get:function(t,r){if(r in t)return t[r];var i=T5(n._clone());if(r in gS)return i._applyModifier(gS[r],r);if(r in Yy)return i._applyRule(Yy[r],r);if(r in rC)return i._applyRule(rC[r],r)}})}function nC(n){var e=function(i,s){return Object.keys(i).forEach(function(o){s[o]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var c=nC(s._clone()),f=c._applyRule(i[o],o).apply(void 0,a);return f}}),s},t=e(rC,n),r=e(Yy,t);return Object.keys(gS).forEach(function(i){Object.defineProperty(r,i,{get:function(){var s=nC(r._clone());return s._applyModifier(gS[i],i)}})}),r}var gS={not:{simple:function(n){return function(e){return!n(e)}},async:function(n){return function(e){return Promise.resolve(n(e)).then(function(t){return!t}).catch(function(){return!0})}}},some:{simple:function(n){return function(e){return I1(e).some(function(t){try{return n(t)}catch{return!1}})}},async:function(n){return function(e){return Promise.all(I1(e).map(function(t){try{return n(t).catch(function(){return!1})}catch{return!1}})).then(function(t){return t.some(Boolean)})}}},every:{simple:function(n){return function(e){return e!==!1&&I1(e).every(n)}},async:function(n){return function(e){return Promise.all(I1(e).map(n)).then(function(t){return t.every(Boolean)})}}},strict:{simple:function(n,e){return function(t){return HN(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&n(t):n(t)}},async:function(n,e){return function(t){return Promise.resolve(n(t)).then(function(r){return HN(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&r:r}).catch(function(){return!1})}}}};function HN(n){return n&&n.name==="schema"&&n.args.length>0&&typeof n.args[0]=="object"}function I1(n){return typeof n=="string"?n.split(""):n}var rC={equal:function(n){return function(e){return e==n}},exact:function(n){return function(e){return e===n}},number:function(n){return n===void 0&&(n=!0),function(e){return typeof e=="number"&&(n||isFinite(e))}},integer:function(){return function(n){var e=Number.isInteger||dse;return e(n)}},numeric:function(){return function(n){return!isNaN(parseFloat(n))&&isFinite(n)}},string:function(){return rg("string")},boolean:function(){return rg("boolean")},undefined:function(){return rg("undefined")},null:function(){return rg("null")},array:function(){return rg("array")},object:function(){return rg("object")},instanceOf:function(n){return function(e){return e instanceof n}},pattern:function(n){return function(e){return n.test(e)}},lowercase:function(){return function(n){return typeof n=="boolean"||n===n.toLowerCase()&&n.trim()!==""}},uppercase:function(){return function(n){return n===n.toUpperCase()&&n.trim()!==""}},vowel:function(){return function(n){return/^[aeiou]+$/i.test(n)}},consonant:function(){return function(n){return/^(?=[^aeiou])([a-z]+)$/i.test(n)}},first:function(n){return function(e){return e[0]==n}},last:function(n){return function(e){return e[e.length-1]==n}},empty:function(){return function(n){return n.length===0}},length:function(n,e){return function(t){return t.length>=n&&t.length<=(e||n)}},minLength:function(n){return function(e){return e.length>=n}},maxLength:function(n){return function(e){return e.length<=n}},negative:function(){return function(n){return n<0}},positive:function(){return function(n){return n>=0}},between:function(n,e){return function(t){return t>=n&&t<=e}},range:function(n,e){return function(t){return t>=n&&t<=e}},lessThan:function(n){return function(e){return e<n}},lessThanOrEqual:function(n){return function(e){return e<=n}},greaterThan:function(n){return function(e){return e>n}},greaterThanOrEqual:function(n){return function(e){return e>=n}},even:function(){return function(n){return n%2===0}},odd:function(){return function(n){return n%2!==0}},includes:function(n){return function(e){return~e.indexOf(n)}},schema:function(n){return hse(n)},passesAnyOf:function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return function(t){return n.some(function(r){return r.test(t)})}},optional:fse};function rg(n){return function(e){return Array.isArray(e)&&n==="array"||e===null&&n==="null"||typeof e===n}}function dse(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}function hse(n){return{simple:function(e){var t=[];if(Object.keys(n).forEach(function(r){var i=n[r];try{i.check((e||{})[r])}catch(s){s.target=r,t.push(s)}}),t.length>0)throw t;return!0},async:function(e){var t=[],r=Object.keys(n).map(function(i){var s=n[i];return s.testAsync((e||{})[i]).catch(function(o){o.target=i,t.push(o)})});return Promise.all(r).then(function(){if(t.length>0)throw t;return!0})}}}var ei="colors",zo="sizes",yn="space",pse={gap:yn,gridGap:yn,columnGap:yn,gridColumnGap:yn,rowGap:yn,gridRowGap:yn,inset:yn,insetBlock:yn,insetBlockEnd:yn,insetBlockStart:yn,insetInline:yn,insetInlineEnd:yn,insetInlineStart:yn,margin:yn,marginTop:yn,marginRight:yn,marginBottom:yn,marginLeft:yn,marginBlock:yn,marginBlockEnd:yn,marginBlockStart:yn,marginInline:yn,marginInlineEnd:yn,marginInlineStart:yn,padding:yn,paddingTop:yn,paddingRight:yn,paddingBottom:yn,paddingLeft:yn,paddingBlock:yn,paddingBlockEnd:yn,paddingBlockStart:yn,paddingInline:yn,paddingInlineEnd:yn,paddingInlineStart:yn,top:yn,right:yn,bottom:yn,left:yn,scrollMargin:yn,scrollMarginTop:yn,scrollMarginRight:yn,scrollMarginBottom:yn,scrollMarginLeft:yn,scrollMarginX:yn,scrollMarginY:yn,scrollMarginBlock:yn,scrollMarginBlockEnd:yn,scrollMarginBlockStart:yn,scrollMarginInline:yn,scrollMarginInlineEnd:yn,scrollMarginInlineStart:yn,scrollPadding:yn,scrollPaddingTop:yn,scrollPaddingRight:yn,scrollPaddingBottom:yn,scrollPaddingLeft:yn,scrollPaddingX:yn,scrollPaddingY:yn,scrollPaddingBlock:yn,scrollPaddingBlockEnd:yn,scrollPaddingBlockStart:yn,scrollPaddingInline:yn,scrollPaddingInlineEnd:yn,scrollPaddingInlineStart:yn,fontSize:"fontSizes",background:ei,backgroundColor:ei,backgroundImage:ei,borderImage:ei,border:ei,borderBlock:ei,borderBlockEnd:ei,borderBlockStart:ei,borderBottom:ei,borderBottomColor:ei,borderColor:ei,borderInline:ei,borderInlineEnd:ei,borderInlineStart:ei,borderLeft:ei,borderLeftColor:ei,borderRight:ei,borderRightColor:ei,borderTop:ei,borderTopColor:ei,caretColor:ei,color:ei,columnRuleColor:ei,fill:ei,outline:ei,outlineColor:ei,stroke:ei,textDecorationColor:ei,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:zo,minBlockSize:zo,maxBlockSize:zo,inlineSize:zo,minInlineSize:zo,maxInlineSize:zo,width:zo,minWidth:zo,maxWidth:zo,height:zo,minHeight:zo,maxHeight:zo,flexBasis:zo,gridTemplateColumns:zo,gridTemplateRows:zo,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},mse=(n,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,f0=()=>{const n=Object.create(null);return(e,t,...r)=>{const i=(s=>JSON.stringify(s,mse))(e);return i in n?n[i]:n[i]=t(e,...r)}},Ap=Symbol.for("sxs.internal"),jP=(n,e)=>Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)),jN=n=>{for(const e in n)return!0;return!1},{hasOwnProperty:gse}=Object.prototype,iC=n=>n.includes("-")?n:n.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),vse=/\s+(?![^()]*\))/,ig=n=>e=>n(...typeof e=="string"?String(e).split(vse):[e]),WN={appearance:n=>({WebkitAppearance:n,appearance:n}),backfaceVisibility:n=>({WebkitBackfaceVisibility:n,backfaceVisibility:n}),backdropFilter:n=>({WebkitBackdropFilter:n,backdropFilter:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),boxDecorationBreak:n=>({WebkitBoxDecorationBreak:n,boxDecorationBreak:n}),clipPath:n=>({WebkitClipPath:n,clipPath:n}),content:n=>({content:n.includes('"')||n.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(n)?n:`"${n}"`}),hyphens:n=>({WebkitHyphens:n,hyphens:n}),maskImage:n=>({WebkitMaskImage:n,maskImage:n}),maskSize:n=>({WebkitMaskSize:n,maskSize:n}),tabSize:n=>({MozTabSize:n,tabSize:n}),textSizeAdjust:n=>({WebkitTextSizeAdjust:n,textSizeAdjust:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),marginBlock:ig((n,e)=>({marginBlockStart:n,marginBlockEnd:e||n})),marginInline:ig((n,e)=>({marginInlineStart:n,marginInlineEnd:e||n})),maxSize:ig((n,e)=>({maxBlockSize:n,maxInlineSize:e||n})),minSize:ig((n,e)=>({minBlockSize:n,minInlineSize:e||n})),paddingBlock:ig((n,e)=>({paddingBlockStart:n,paddingBlockEnd:e||n})),paddingInline:ig((n,e)=>({paddingInlineStart:n,paddingInlineEnd:e||n}))},fM=/([\d.]+)([^]*)/,yse=(n,e)=>n.length?n.reduce((t,r)=>(t.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),t),[]):e,xse=(n,e)=>n in _se&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,r,i,s)=>r+(i==="stretch"?`-moz-available${s};${iC(n)}:${r}-webkit-fill-available`:`-moz-fit-content${s};${iC(n)}:${r}fit-content`)+s):String(e),_se={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Sf=n=>n?n+"-":"",M5=(n,e,t)=>n.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,s,o,a)=>o=="$"==!!s?r:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?Sf(e)+(a.includes("$")?"":Sf(t))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),wse=/\s*,\s*(?![^()]*\))/,Sse=Object.prototype.toString,Sg=(n,e,t,r,i)=>{let s,o,a;const l=(c,f,h)=>{let p,v;const y=w=>{for(p in w){const A=p.charCodeAt(0)===64,R=A&&Array.isArray(w[p])?w[p]:[w[p]];for(v of R){const P=/[A-Z]/.test(_=p)?_:_.replace(/-[^]/g,k=>k[1].toUpperCase()),U=typeof v=="object"&&v&&v.toString===Sse&&(!r.utils[P]||!f.length);if(P in r.utils&&!U){const k=r.utils[P];if(k!==o){o=k,y(k(v)),o=null;continue}}else if(P in WN){const k=WN[P];if(k!==a){a=k,y(k(v)),a=null;continue}}if(A&&(S=p.slice(1)in r.media?"@media "+r.media[p.slice(1)]:p,p=S.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(k,E,j,O,F,Y)=>{const te=fM.test(E),ie=.0625*(te?-1:1),[ue,_e]=te?[O,E]:[E,O];return"("+(j[0]==="="?"":j[0]===">"===te?"max-":"min-")+ue+":"+(j[0]!=="="&&j.length===1?_e.replace(fM,(he,ge,q)=>Number(ge)+ie*(j===">"?1:-1)+q):_e)+(F?") and ("+(F[0]===">"?"min-":"max-")+ue+":"+(F.length===1?Y.replace(fM,(he,ge,q)=>Number(ge)+ie*(F===">"?-1:1)+q):Y):"")+")"})),U){const k=A?h.concat(p):[...h],E=A?[...f]:yse(f,p.split(wse));s!==void 0&&i(GN(...s)),s=void 0,l(v,E,k)}else s===void 0&&(s=[[],f,h]),p=A||p.charCodeAt(0)!==36?p:`--${Sf(r.prefix)}${p.slice(1).replace(/\$/g,"-")}`,v=U?v:typeof v=="number"?v&&P in bse?String(v)+"px":String(v):M5(xse(P,v??""),r.prefix,r.themeMap[P]),s[0].push(`${A?`${p} `:`${iC(p)}:`}${v}`)}}var S,_};y(c),s!==void 0&&i(GN(...s)),s=void 0};l(n,e,t)},GN=(n,e,t)=>`${t.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${n.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,bse={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},$N=n=>String.fromCharCode(n+(n>25?39:97)),Cp=n=>(e=>{let t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=$N(t%52)+r;return $N(t%52)+r})(((e,t)=>{let r=t.length;for(;r;)e=33*e^t.charCodeAt(--r);return e})(5381,JSON.stringify(n))>>>0),jv=["themed","global","styled","onevar","resonevar","allvar","inline"],Ese=n=>{if(n.href&&!n.href.startsWith(location.origin))return!1;try{return!!n.cssRules}catch{return!1}},Tse=n=>{let e;const t=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const c in e.rules)if(e.rules[c].group===s)return`--sxs{--sxs:${[...e.rules[c].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const c in a)delete a[c]}const i=Object(n).styleSheets||[];for(const a of i)if(Ese(a)){for(let l=0,c=a.cssRules;c[l];++l){const f=Object(c[l]);if(f.type!==1)continue;const h=Object(c[l+1]);if(h.type!==4)continue;++l;const{cssText:p}=f;if(!p.startsWith("--sxs"))continue;const v=p.slice(14,-3).trim().split(/\s+/),y=jv[v[0]];y&&(e||(e={sheet:a,reset:r,rules:{},toString:t}),e.rules[y]={group:h,index:l,cache:new Set(v)})}if(e)break}if(!e){const a=(l,c)=>({type:c,cssRules:[],insertRule(f,h){this.cssRules.splice(h,0,a(f,{import:3,undefined:1}[(f.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,f=>f.cssText).join("")}}`:l}});e={sheet:n?(n.head||n).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:t}}const{sheet:s,rules:o}=e;for(let a=jv.length-1;a>=0;--a){const l=jv[a];if(!o[l]){const c=jv[a+1],f=o[c]?o[c].index:s.cssRules.length;s.insertRule("@media{}",f),s.insertRule(`--sxs{--sxs:${a}}`,f),o[l]={group:s.cssRules[f+1],index:f,cache:new Set([a])}}Mse(o[l])}};return r(),e},Mse=n=>{const e=n.group;let t=e.cssRules.length;n.apply=r=>{try{e.insertRule(r,t),++t}catch{}}},Cv=Symbol(),Ase=f0(),XN=(n,e)=>Ase(n,()=>(...t)=>{let r={type:null,composers:new Set};for(const i of t)if(i!=null)if(i[Ap]){r.type==null&&(r.type=i[Ap].type);for(const s of i[Ap].composers)r.composers.add(s)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(Cse(i,n));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),Rse(n,r,e)}),Cse=({variants:n,compoundVariants:e,defaultVariants:t,...r},i)=>{const s=`${Sf(i.prefix)}c-${Cp(r)}`,o=[],a=[],l=Object.create(null),c=[];for(const p in t)l[p]=String(t[p]);if(typeof n=="object"&&n)for(const p in n){f=l,h=p,gse.call(f,h)||(l[p]="undefined");const v=n[p];for(const y in v){const w={[p]:String(y)};String(y)==="undefined"&&c.push(p);const S=v[y],_=[w,S,!jN(S)];o.push(_)}}var f,h;if(typeof e=="object"&&e)for(const p of e){let{css:v,...y}=p;v=typeof v=="object"&&v||{};for(const S in y)y[S]=String(y[S]);const w=[y,v,!jN(v)];a.push(w)}return[s,r,o,a,l,c]},Rse=(n,e,t)=>{const[r,i,s,o]=Pse(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(h=>{function p(){for(let v=0;v<p[Cv].length;v++){const[y,w]=p[Cv][v];h.rules[y].apply(w)}return p[Cv]=[],null}return p[Cv]=[],p.rules={},jv.forEach(v=>p.rules[v]={apply:y=>p[Cv].push([v,y])}),p})(t):null,l=(a||t).rules,c=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,f=h=>{h=typeof h=="object"&&h||Ise;const{css:p,...v}=h,y={};for(const _ in s)if(delete v[_],_ in h){let A=h[_];typeof A=="object"&&A?y[_]={"@initial":s[_],...A}:(A=String(A),y[_]=A!=="undefined"||o.has(_)?A:s[_])}else y[_]=s[_];const w=new Set([...i]);for(const[_,A,R,P]of e.composers){t.rules.styled.cache.has(_)||(t.rules.styled.cache.add(_),Sg(A,[`.${_}`],[],n,E=>{l.styled.apply(E)}));const U=qN(R,y,n.media),k=qN(P,y,n.media,!0);for(const E of U)if(E!==void 0)for(const[j,O,F]of E){const Y=`${_}-${Cp(O)}-${j}`;w.add(Y);const te=(F?t.rules.resonevar:t.rules.onevar).cache,ie=F?l.resonevar:l.onevar;te.has(Y)||(te.add(Y),Sg(O,[`.${Y}`],[],n,ue=>{ie.apply(ue)}))}for(const E of k)if(E!==void 0)for(const[j,O]of E){const F=`${_}-${Cp(O)}-${j}`;w.add(F),t.rules.allvar.cache.has(F)||(t.rules.allvar.cache.add(F),Sg(O,[`.${F}`],[],n,Y=>{l.allvar.apply(Y)}))}}if(typeof p=="object"&&p){const _=`${r}-i${Cp(p)}-css`;w.add(_),t.rules.inline.cache.has(_)||(t.rules.inline.cache.add(_),Sg(p,[`.${_}`],[],n,A=>{l.inline.apply(A)}))}for(const _ of String(h.className||"").trim().split(/\s+/))_&&w.add(_);const S=v.className=[...w].join(" ");return{type:e.type,className:S,selector:c,props:v,toString:()=>S,deferredInjector:a}};return jP(f,{className:r,selector:c,[Ap]:e,toString:()=>(t.rules.styled.cache.has(r)||f(),r)})},Pse=n=>{let e="";const t=[],r={},i=[];for(const[s,,,,o,a]of n){e===""&&(e=s),t.push(s),i.push(...a);for(const l in o){const c=o[l];(r[l]===void 0||c!=="undefined"||a.includes(c))&&(r[l]=c)}}return[e,t,r,new Set(i)]},qN=(n,e,t,r)=>{const i=[];e:for(let[s,o,a]of n){if(a)continue;let l,c=0,f=!1;for(l in s){const h=s[l];let p=e[l];if(p!==h){if(typeof p!="object"||!p)continue e;{let v,y,w=0;for(const S in p){if(h===String(p[S])){if(S!=="@initial"){const _=S.slice(1);(y=y||[]).push(_ in t?t[_]:S.replace(/^@media ?/,"")),f=!0}c+=w,v=!0}++w}if(y&&y.length&&(o={["@media "+y.join(", ")]:o}),!v)continue e}}}(i[c]=i[c]||[]).push([r?"cv":`${l}-${s[l]}`,o,f])}return i},Ise={},Lse=f0(),Dse=(n,e)=>Lse(n,()=>(...t)=>{const r=()=>{for(let i of t){i=typeof i=="object"&&i||{};let s=Cp(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}Sg(i,[],[],n,o=>{e.rules.global.apply(o)})}}return""};return jP(r,{toString:r})}),Nse=f0(),kse=(n,e)=>Nse(n,()=>t=>{const r=`${Sf(n.prefix)}k-${Cp(t)}`,i=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const s=[];Sg(t,[],[],n,a=>s.push(a));const o=`@keyframes ${r}{${s.join("")}}`;e.rules.global.apply(o)}return r};return jP(i,{get name(){return i()},toString:i})}),Ose=class{constructor(n,e,t,r){this.token=n==null?"":String(n),this.value=e==null?"":String(e),this.scale=t==null?"":String(t),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Sf(this.prefix)+Sf(this.scale)+this.token}toString(){return this.computedValue}},Fse=f0(),Use=(n,e)=>Fse(n,()=>(t,r)=>{r=typeof t=="object"&&t||Object(r);const i=`.${t=(t=typeof t=="string"?t:"")||`${Sf(n.prefix)}t-${Cp(r)}`}`,s={},o=[];for(const l in r){s[l]={};for(const c in r[l]){const f=`--${Sf(n.prefix)}${l}-${c}`,h=M5(String(r[l][c]),n.prefix,l);s[l][c]=new Ose(c,h,l,n.prefix),o.push(`${f}:${h}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const l=`${r===n.theme?":root,":""}.${t}{${o.join(";")}}`;e.rules.themed.apply(l)}return t};return{...s,get className(){return a()},selector:i,toString:a}}),Bse=f0(),zse=f0(),Vse=n=>{const e=(t=>{let r=!1;const i=Bse(t,s=>{r=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,c=typeof s.theme=="object"&&s.theme||{},f={prefix:o,media:a,theme:c,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...pse},utils:typeof s.utils=="object"&&s.utils||{}},h=Tse(l),p={css:XN(f,h),globalCss:Dse(f,h),keyframes:kse(f,h),createTheme:Use(f,h),reset(){h.reset(),p.theme.toString()},theme:{},sheet:h,config:f,prefix:o,getCssText:h.toString,toString:h.toString};return String(p.theme=p.createTheme(c)),p});return r||i.reset(),i})(n);return e.styled=(({config:t,sheet:r})=>zse(t,()=>{const i=XN(t,r);return(...s)=>{const o=i(...s),a=o[Ap].type,l=Te.forwardRef((c,f)=>{const h=c&&c.as||a,{props:p,deferredInjector:v}=o(c);return delete p.as,p.ref=f,v?Te.createElement(Te.Fragment,null,Te.createElement(h,p),Te.createElement(v,null)):Te.createElement(h,p)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[Ap]=o[Ap],l}}))(e),e};function nf(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function A5(n,e=[]){let t=[];function r(s,o){const a=z.createContext(o),l=t.length;t=[...t,o];const c=h=>{var _;const{scope:p,children:v,...y}=h,w=((_=p==null?void 0:p[n])==null?void 0:_[l])||a,S=z.useMemo(()=>y,Object.values(y));return N.jsx(w.Provider,{value:S,children:v})};c.displayName=s+"Provider";function f(h,p){var w;const v=((w=p==null?void 0:p[n])==null?void 0:w[l])||a,y=z.useContext(v);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,f]}const i=()=>{const s=t.map(o=>z.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return z.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,Hse(i,...e)]}function Hse(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return z.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function d0(n){const e=z.useRef(n);return z.useEffect(()=>{e.current=n}),z.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function jse(n,e=globalThis==null?void 0:globalThis.document){const t=d0(n);z.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var Wse="DismissableLayer",sC="dismissableLayer.update",Gse="dismissableLayer.pointerDownOutside",$se="dismissableLayer.focusOutside",YN,C5=z.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),R5=z.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,c=z.useContext(C5),[f,h]=z.useState(null),p=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=z.useState({}),y=tm(e,E=>h(E)),w=Array.from(c.layers),[S]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=w.indexOf(S),A=f?w.indexOf(f):-1,R=c.layersWithOutsidePointerEventsDisabled.size>0,P=A>=_,U=Yse(E=>{const j=E.target,O=[...c.branches].some(F=>F.contains(j));!P||O||(i==null||i(E),o==null||o(E),E.defaultPrevented||a==null||a())},p),k=Kse(E=>{const j=E.target;[...c.branches].some(F=>F.contains(j))||(s==null||s(E),o==null||o(E),E.defaultPrevented||a==null||a())},p);return jse(E=>{A===c.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},p),z.useEffect(()=>{if(f)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(YN=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),KN(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=YN)}},[f,p,t,c]),z.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),KN())},[f,c]),z.useEffect(()=>{const E=()=>v({});return document.addEventListener(sC,E),()=>document.removeEventListener(sC,E)},[]),N.jsx(Yd.div,{...l,ref:y,style:{pointerEvents:R?P?"auto":"none":void 0,...n.style},onFocusCapture:nf(n.onFocusCapture,k.onFocusCapture),onBlurCapture:nf(n.onBlurCapture,k.onBlurCapture),onPointerDownCapture:nf(n.onPointerDownCapture,U.onPointerDownCapture)})});R5.displayName=Wse;var Xse="DismissableLayerBranch",qse=z.forwardRef((n,e)=>{const t=z.useContext(C5),r=z.useRef(null),i=tm(e,r);return z.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),N.jsx(Yd.div,{...n,ref:i})});qse.displayName=Xse;function Yse(n,e=globalThis==null?void 0:globalThis.document){const t=d0(n),r=z.useRef(!1),i=z.useRef(()=>{});return z.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){P5(Gse,t,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function Kse(n,e=globalThis==null?void 0:globalThis.document){const t=d0(n),r=z.useRef(!1);return z.useEffect(()=>{const i=s=>{s.target&&!r.current&&P5($se,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function KN(){const n=new CustomEvent(sC);document.dispatchEvent(n)}function P5(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?ase(i,s):i.dispatchEvent(s)}var Zse=QV.useId||(()=>{}),Jse=0;function Qse(n){const[e,t]=z.useState(Zse());return Gp(()=>{t(r=>r??String(Jse++))},[n]),e?`radix-${e}`:""}const eoe=["top","right","bottom","left"],Ud=Math.min,Ka=Math.max,vS=Math.round,L1=Math.floor,uu=n=>({x:n,y:n}),toe={left:"right",right:"left",bottom:"top",top:"bottom"},noe={start:"end",end:"start"};function oC(n,e,t){return Ka(n,Ud(e,t))}function bf(n,e){return typeof n=="function"?n(e):n}function Ef(n){return n.split("-")[0]}function h0(n){return n.split("-")[1]}function WP(n){return n==="x"?"y":"x"}function GP(n){return n==="y"?"height":"width"}function Bd(n){return["top","bottom"].includes(Ef(n))?"y":"x"}function $P(n){return WP(Bd(n))}function roe(n,e,t){t===void 0&&(t=!1);const r=h0(n),i=$P(n),s=GP(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=yS(o)),[o,yS(o)]}function ioe(n){const e=yS(n);return[aC(n),e,aC(e)]}function aC(n){return n.replace(/start|end/g,e=>noe[e])}function soe(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function ooe(n,e,t,r){const i=h0(n);let s=soe(Ef(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(aC)))),s}function yS(n){return n.replace(/left|right|bottom|top/g,e=>toe[e])}function aoe(n){return{top:0,right:0,bottom:0,left:0,...n}}function I5(n){return typeof n!="number"?aoe(n):{top:n,right:n,bottom:n,left:n}}function xS(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function ZN(n,e,t){let{reference:r,floating:i}=n;const s=Bd(e),o=$P(e),a=GP(o),l=Ef(e),c=s==="y",f=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let v;switch(l){case"top":v={x:f,y:r.y-i.height};break;case"bottom":v={x:f,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:h};break;case"left":v={x:r.x-i.width,y:h};break;default:v={x:r.x,y:r.y}}switch(h0(e)){case"start":v[o]-=p*(t&&c?-1:1);break;case"end":v[o]+=p*(t&&c?-1:1);break}return v}const loe=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:f,y:h}=ZN(c,r,l),p=r,v={},y=0;for(let w=0;w<a.length;w++){const{name:S,fn:_}=a[w],{x:A,y:R,data:P,reset:U}=await _({x:f,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:v,rects:c,platform:o,elements:{reference:n,floating:e}});f=A??f,h=R??h,v={...v,[S]:{...v[S],...P}},U&&y<=50&&(y++,typeof U=="object"&&(U.placement&&(p=U.placement),U.rects&&(c=U.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):U.rects),{x:f,y:h}=ZN(c,p,l)),w=-1)}return{x:f,y:h,placement:p,strategy:i,middlewareData:v}};async function Ky(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:p=!1,padding:v=0}=bf(e,n),y=I5(v),S=a[p?h==="floating"?"reference":"floating":h],_=xS(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(S)))==null||t?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:f,strategy:l})),A=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),P=await(s.isElement==null?void 0:s.isElement(R))?await(s.getScale==null?void 0:s.getScale(R))||{x:1,y:1}:{x:1,y:1},U=xS(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:A,offsetParent:R,strategy:l}):A);return{top:(_.top-U.top+y.top)/P.y,bottom:(U.bottom-_.bottom+y.bottom)/P.y,left:(_.left-U.left+y.left)/P.x,right:(U.right-_.right+y.right)/P.x}}const coe=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:f=0}=bf(n,e)||{};if(c==null)return{};const h=I5(f),p={x:t,y:r},v=$P(i),y=GP(v),w=await o.getDimensions(c),S=v==="y",_=S?"top":"left",A=S?"bottom":"right",R=S?"clientHeight":"clientWidth",P=s.reference[y]+s.reference[v]-p[v]-s.floating[y],U=p[v]-s.reference[v],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let E=k?k[R]:0;(!E||!await(o.isElement==null?void 0:o.isElement(k)))&&(E=a.floating[R]||s.floating[y]);const j=P/2-U/2,O=E/2-w[y]/2-1,F=Ud(h[_],O),Y=Ud(h[A],O),te=F,ie=E-w[y]-Y,ue=E/2-w[y]/2+j,_e=oC(te,ue,ie),he=!l.arrow&&h0(i)!=null&&ue!==_e&&s.reference[y]/2-(ue<te?F:Y)-w[y]/2<0,ge=he?ue<te?ue-te:ue-ie:0;return{[v]:p[v]+ge,data:{[v]:_e,centerOffset:ue-_e-ge,...he&&{alignmentOffset:ge}},reset:he}}}),uoe=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:w=!0,...S}=bf(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const _=Ef(i),A=Bd(a),R=Ef(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(c.floating)),U=p||(R||!w?[yS(a)]:ioe(a)),k=y!=="none";!p&&k&&U.push(...ooe(a,w,y,P));const E=[a,...U],j=await Ky(e,S),O=[];let F=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&O.push(j[_]),h){const ue=roe(i,o,P);O.push(j[ue[0]],j[ue[1]])}if(F=[...F,{placement:i,overflows:O}],!O.every(ue=>ue<=0)){var Y,te;const ue=(((Y=s.flip)==null?void 0:Y.index)||0)+1,_e=E[ue];if(_e)return{data:{index:ue,overflows:F},reset:{placement:_e}};let he=(te=F.filter(ge=>ge.overflows[0]<=0).sort((ge,q)=>ge.overflows[1]-q.overflows[1])[0])==null?void 0:te.placement;if(!he)switch(v){case"bestFit":{var ie;const ge=(ie=F.filter(q=>{if(k){const oe=Bd(q.placement);return oe===A||oe==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(oe=>oe>0).reduce((oe,$)=>oe+$,0)]).sort((q,oe)=>q[1]-oe[1])[0])==null?void 0:ie[0];ge&&(he=ge);break}case"initialPlacement":he=a;break}if(i!==he)return{reset:{placement:he}}}return{}}}};function JN(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function QN(n){return eoe.some(e=>n[e]>=0)}const foe=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=bf(n,e);switch(r){case"referenceHidden":{const s=await Ky(e,{...i,elementContext:"reference"}),o=JN(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:QN(o)}}}case"escaped":{const s=await Ky(e,{...i,altBoundary:!0}),o=JN(s,t.floating);return{data:{escapedOffsets:o,escaped:QN(o)}}}default:return{}}}}};async function doe(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ef(t),a=h0(t),l=Bd(t)==="y",c=["left","top"].includes(o)?-1:1,f=s&&l?-1:1,h=bf(e,n);let{mainAxis:p,crossAxis:v,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof y=="number"&&(v=a==="end"?y*-1:y),l?{x:v*f,y:p*c}:{x:p*c,y:v*f}}const hoe=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await doe(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},poe=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:_,y:A}=S;return{x:_,y:A}}},...l}=bf(n,e),c={x:t,y:r},f=await Ky(e,l),h=Bd(Ef(i)),p=WP(h);let v=c[p],y=c[h];if(s){const S=p==="y"?"top":"left",_=p==="y"?"bottom":"right",A=v+f[S],R=v-f[_];v=oC(A,v,R)}if(o){const S=h==="y"?"top":"left",_=h==="y"?"bottom":"right",A=y+f[S],R=y-f[_];y=oC(A,y,R)}const w=a.fn({...e,[p]:v,[h]:y});return{...w,data:{x:w.x-t,y:w.y-r,enabled:{[p]:s,[h]:o}}}}}},moe=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=bf(n,e),f={x:t,y:r},h=Bd(i),p=WP(h);let v=f[p],y=f[h];const w=bf(a,e),S=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const R=p==="y"?"height":"width",P=s.reference[p]-s.floating[R]+S.mainAxis,U=s.reference[p]+s.reference[R]-S.mainAxis;v<P?v=P:v>U&&(v=U)}if(c){var _,A;const R=p==="y"?"width":"height",P=["top","left"].includes(Ef(i)),U=s.reference[h]-s.floating[R]+(P&&((_=o.offset)==null?void 0:_[h])||0)+(P?0:S.crossAxis),k=s.reference[h]+s.reference[R]+(P?0:((A=o.offset)==null?void 0:A[h])||0)-(P?S.crossAxis:0);y<U?y=U:y>k&&(y=k)}return{[p]:v,[h]:y}}}},goe=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=bf(n,e),f=await Ky(e,c),h=Ef(i),p=h0(i),v=Bd(i)==="y",{width:y,height:w}=s.floating;let S,_;h==="top"||h==="bottom"?(S=h,_=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=h,S=p==="end"?"top":"bottom");const A=w-f.top-f.bottom,R=y-f.left-f.right,P=Ud(w-f[S],A),U=Ud(y-f[_],R),k=!e.middlewareData.shift;let E=P,j=U;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(j=R),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(E=A),k&&!p){const F=Ka(f.left,0),Y=Ka(f.right,0),te=Ka(f.top,0),ie=Ka(f.bottom,0);v?j=y-2*(F!==0||Y!==0?F+Y:Ka(f.left,f.right)):E=w-2*(te!==0||ie!==0?te+ie:Ka(f.top,f.bottom))}await l({...e,availableWidth:j,availableHeight:E});const O=await o.getDimensions(a.floating);return y!==O.width||w!==O.height?{reset:{rects:!0}}:{}}}};function Cb(){return typeof window<"u"}function p0(n){return L5(n)?(n.nodeName||"").toLowerCase():"#document"}function nl(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function xu(n){var e;return(e=(L5(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function L5(n){return Cb()?n instanceof Node||n instanceof nl(n).Node:!1}function Mc(n){return Cb()?n instanceof Element||n instanceof nl(n).Element:!1}function gu(n){return Cb()?n instanceof HTMLElement||n instanceof nl(n).HTMLElement:!1}function ek(n){return!Cb()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof nl(n).ShadowRoot}function Cx(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Ac(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function voe(n){return["table","td","th"].includes(p0(n))}function Rb(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function XP(n){const e=qP(),t=Mc(n)?Ac(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function yoe(n){let e=zd(n);for(;gu(e)&&!t0(e);){if(XP(e))return e;if(Rb(e))return null;e=zd(e)}return null}function qP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function t0(n){return["html","body","#document"].includes(p0(n))}function Ac(n){return nl(n).getComputedStyle(n)}function Pb(n){return Mc(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function zd(n){if(p0(n)==="html")return n;const e=n.assignedSlot||n.parentNode||ek(n)&&n.host||xu(n);return ek(e)?e.host:e}function D5(n){const e=zd(n);return t0(e)?n.ownerDocument?n.ownerDocument.body:n.body:gu(e)&&Cx(e)?e:D5(e)}function Zy(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=D5(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=nl(i);if(s){const a=lC(o);return e.concat(o,o.visualViewport||[],Cx(i)?i:[],a&&t?Zy(a):[])}return e.concat(i,Zy(i,[],t))}function lC(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function N5(n){const e=Ac(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=gu(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=vS(t)!==s||vS(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function YP(n){return Mc(n)?n:n.contextElement}function Og(n){const e=YP(n);if(!gu(e))return uu(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=N5(e);let o=(s?vS(t.width):t.width)/r,a=(s?vS(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const xoe=uu(0);function k5(n){const e=nl(n);return!qP()||!e.visualViewport?xoe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function _oe(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==nl(n)?!1:e}function $p(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=YP(n);let o=uu(1);e&&(r?Mc(r)&&(o=Og(r)):o=Og(n));const a=_oe(s,t,r)?k5(s):uu(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,f=i.width/o.x,h=i.height/o.y;if(s){const p=nl(s),v=r&&Mc(r)?nl(r):r;let y=p,w=lC(y);for(;w&&r&&v!==y;){const S=Og(w),_=w.getBoundingClientRect(),A=Ac(w),R=_.left+(w.clientLeft+parseFloat(A.paddingLeft))*S.x,P=_.top+(w.clientTop+parseFloat(A.paddingTop))*S.y;l*=S.x,c*=S.y,f*=S.x,h*=S.y,l+=R,c+=P,y=nl(w),w=lC(y)}}return xS({width:f,height:h,x:l,y:c})}function KP(n,e){const t=Pb(n).scrollLeft;return e?e.left+t:$p(xu(n)).left+t}function O5(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:KP(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function woe(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=xu(r),a=e?Rb(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=uu(1);const f=uu(0),h=gu(r);if((h||!h&&!s)&&((p0(r)!=="body"||Cx(o))&&(l=Pb(r)),gu(r))){const v=$p(r);c=Og(r),f.x=v.x+r.clientLeft,f.y=v.y+r.clientTop}const p=o&&!h&&!s?O5(o,l,!0):uu(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+f.x+p.x,y:t.y*c.y-l.scrollTop*c.y+f.y+p.y}}function Soe(n){return Array.from(n.getClientRects())}function boe(n){const e=xu(n),t=Pb(n),r=n.ownerDocument.body,i=Ka(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ka(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+KP(n);const a=-t.scrollTop;return Ac(r).direction==="rtl"&&(o+=Ka(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Eoe(n,e){const t=nl(n),r=xu(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=qP();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function Toe(n,e){const t=$p(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=gu(n)?Og(n):uu(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function tk(n,e,t){let r;if(e==="viewport")r=Eoe(n,t);else if(e==="document")r=boe(xu(n));else if(Mc(e))r=Toe(e,t);else{const i=k5(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return xS(r)}function F5(n,e){const t=zd(n);return t===e||!Mc(t)||t0(t)?!1:Ac(t).position==="fixed"||F5(t,e)}function Moe(n,e){const t=e.get(n);if(t)return t;let r=Zy(n,[],!1).filter(a=>Mc(a)&&p0(a)!=="body"),i=null;const s=Ac(n).position==="fixed";let o=s?zd(n):n;for(;Mc(o)&&!t0(o);){const a=Ac(o),l=XP(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Cx(o)&&!l&&F5(n,o))?r=r.filter(f=>f!==o):i=a,o=zd(o)}return e.set(n,r),r}function Aoe(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?Rb(e)?[]:Moe(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,f)=>{const h=tk(e,f,i);return c.top=Ka(h.top,c.top),c.right=Ud(h.right,c.right),c.bottom=Ud(h.bottom,c.bottom),c.left=Ka(h.left,c.left),c},tk(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Coe(n){const{width:e,height:t}=N5(n);return{width:e,height:t}}function Roe(n,e,t){const r=gu(e),i=xu(e),s=t==="fixed",o=$p(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=uu(0);if(r||!r&&!s)if((p0(e)!=="body"||Cx(i))&&(a=Pb(e)),r){const p=$p(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&(l.x=KP(i));const c=i&&!r&&!s?O5(i,a):uu(0),f=o.left+a.scrollLeft-l.x-c.x,h=o.top+a.scrollTop-l.y-c.y;return{x:f,y:h,width:o.width,height:o.height}}function dM(n){return Ac(n).position==="static"}function nk(n,e){if(!gu(n)||Ac(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return xu(n)===t&&(t=t.ownerDocument.body),t}function U5(n,e){const t=nl(n);if(Rb(n))return t;if(!gu(n)){let i=zd(n);for(;i&&!t0(i);){if(Mc(i)&&!dM(i))return i;i=zd(i)}return t}let r=nk(n,e);for(;r&&voe(r)&&dM(r);)r=nk(r,e);return r&&t0(r)&&dM(r)&&!XP(r)?t:r||yoe(n)||t}const Poe=async function(n){const e=this.getOffsetParent||U5,t=this.getDimensions,r=await t(n.floating);return{reference:Roe(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Ioe(n){return Ac(n).direction==="rtl"}const Loe={convertOffsetParentRelativeRectToViewportRelativeRect:woe,getDocumentElement:xu,getClippingRect:Aoe,getOffsetParent:U5,getElementRects:Poe,getClientRects:Soe,getDimensions:Coe,getScale:Og,isElement:Mc,isRTL:Ioe};function Doe(n,e){let t=null,r;const i=xu(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:f,width:h,height:p}=n.getBoundingClientRect();if(a||e(),!h||!p)return;const v=L1(f),y=L1(i.clientWidth-(c+h)),w=L1(i.clientHeight-(f+p)),S=L1(c),A={rootMargin:-v+"px "+-y+"px "+-w+"px "+-S+"px",threshold:Ka(0,Ud(1,l))||1};let R=!0;function P(U){const k=U[0].intersectionRatio;if(k!==l){if(!R)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},1e3)}R=!1}try{t=new IntersectionObserver(P,{...A,root:i.ownerDocument})}catch{t=new IntersectionObserver(P,A)}t.observe(n)}return o(!0),s}function Noe(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=YP(n),f=i||s?[...c?Zy(c):[],...Zy(e)]:[];f.forEach(_=>{i&&_.addEventListener("scroll",t,{passive:!0}),s&&_.addEventListener("resize",t)});const h=c&&a?Doe(c,t):null;let p=-1,v=null;o&&(v=new ResizeObserver(_=>{let[A]=_;A&&A.target===c&&v&&(v.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var R;(R=v)==null||R.observe(e)})),t()}),c&&!l&&v.observe(c),v.observe(e));let y,w=l?$p(n):null;l&&S();function S(){const _=$p(n);w&&(_.x!==w.x||_.y!==w.y||_.width!==w.width||_.height!==w.height)&&t(),w=_,y=requestAnimationFrame(S)}return t(),()=>{var _;f.forEach(A=>{i&&A.removeEventListener("scroll",t),s&&A.removeEventListener("resize",t)}),h==null||h(),(_=v)==null||_.disconnect(),v=null,l&&cancelAnimationFrame(y)}}const koe=hoe,Ooe=poe,Foe=uoe,Uoe=goe,Boe=foe,rk=coe,zoe=moe,Voe=(n,e,t)=>{const r=new Map,i={platform:Loe,...t},s={...i.platform,_c:r};return loe(n,e,{...i,platform:s})};var aw=typeof document<"u"?z.useLayoutEffect:z.useEffect;function _S(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!_S(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!_S(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function B5(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function ik(n,e){const t=B5(n);return Math.round(e*t)/t}function hM(n){const e=z.useRef(n);return aw(()=>{e.current=n}),e}function Hoe(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[f,h]=z.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[p,v]=z.useState(r);_S(p,r)||v(r);const[y,w]=z.useState(null),[S,_]=z.useState(null),A=z.useCallback(q=>{q!==k.current&&(k.current=q,w(q))},[]),R=z.useCallback(q=>{q!==E.current&&(E.current=q,_(q))},[]),P=s||y,U=o||S,k=z.useRef(null),E=z.useRef(null),j=z.useRef(f),O=l!=null,F=hM(l),Y=hM(i),te=hM(c),ie=z.useCallback(()=>{if(!k.current||!E.current)return;const q={placement:e,strategy:t,middleware:p};Y.current&&(q.platform=Y.current),Voe(k.current,E.current,q).then(oe=>{const $={...oe,isPositioned:te.current!==!1};ue.current&&!_S(j.current,$)&&(j.current=$,PC.flushSync(()=>{h($)}))})},[p,e,t,Y,te]);aw(()=>{c===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,h(q=>({...q,isPositioned:!1})))},[c]);const ue=z.useRef(!1);aw(()=>(ue.current=!0,()=>{ue.current=!1}),[]),aw(()=>{if(P&&(k.current=P),U&&(E.current=U),P&&U){if(F.current)return F.current(P,U,ie);ie()}},[P,U,ie,F,O]);const _e=z.useMemo(()=>({reference:k,floating:E,setReference:A,setFloating:R}),[A,R]),he=z.useMemo(()=>({reference:P,floating:U}),[P,U]),ge=z.useMemo(()=>{const q={position:t,left:0,top:0};if(!he.floating)return q;const oe=ik(he.floating,f.x),$=ik(he.floating,f.y);return a?{...q,transform:"translate("+oe+"px, "+$+"px)",...B5(he.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:oe,top:$}},[t,a,he.floating,f.x,f.y]);return z.useMemo(()=>({...f,update:ie,refs:_e,elements:he,floatingStyles:ge}),[f,ie,_e,he,ge])}const joe=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?rk({element:r.current,padding:i}).fn(t):{}:r?rk({element:r,padding:i}).fn(t):{}}}},Woe=(n,e)=>({...koe(n),options:[n,e]}),Goe=(n,e)=>({...Ooe(n),options:[n,e]}),$oe=(n,e)=>({...zoe(n),options:[n,e]}),Xoe=(n,e)=>({...Foe(n),options:[n,e]}),qoe=(n,e)=>({...Uoe(n),options:[n,e]}),Yoe=(n,e)=>({...Boe(n),options:[n,e]}),Koe=(n,e)=>({...joe(n),options:[n,e]});var Zoe="Arrow",z5=z.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return N.jsx(Yd.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:N.jsx("polygon",{points:"0,0 30,0 15,10"})})});z5.displayName=Zoe;var Joe=z5;function Qoe(n){const[e,t]=z.useState(void 0);return Gp(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var ZP="Popper",[V5,H5]=A5(ZP),[eae,j5]=V5(ZP),W5=n=>{const{__scopePopper:e,children:t}=n,[r,i]=z.useState(null);return N.jsx(eae,{scope:e,anchor:r,onAnchorChange:i,children:t})};W5.displayName=ZP;var G5="PopperAnchor",$5=z.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=j5(G5,t),o=z.useRef(null),a=tm(e,o);return z.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:N.jsx(Yd.div,{...i,ref:a})});$5.displayName=G5;var JP="PopperContent",[tae,nae]=V5(JP),X5=z.forwardRef((n,e)=>{var je,pt,bt,Dt,Jt,at;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:y,...w}=n,S=j5(JP,t),[_,A]=z.useState(null),R=tm(e,Xe=>A(Xe)),[P,U]=z.useState(null),k=Qoe(P),E=(k==null?void 0:k.width)??0,j=(k==null?void 0:k.height)??0,O=r+(s!=="center"?"-"+s:""),F=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},Y=Array.isArray(c)?c:[c],te=Y.length>0,ie={padding:F,boundary:Y.filter(iae),altBoundary:te},{refs:ue,floatingStyles:_e,placement:he,isPositioned:ge,middlewareData:q}=Hoe({strategy:"fixed",placement:O,whileElementsMounted:(...Xe)=>Noe(...Xe,{animationFrame:v==="always"}),elements:{reference:S.anchor},middleware:[Woe({mainAxis:i+j,alignmentAxis:o}),l&&Goe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?$oe():void 0,...ie}),l&&Xoe({...ie}),qoe({...ie,apply:({elements:Xe,rects:ae,availableWidth:Bt,availableHeight:ht})=>{const{width:Re,height:mt}=ae.reference,tn=Xe.floating.style;tn.setProperty("--radix-popper-available-width",`${Bt}px`),tn.setProperty("--radix-popper-available-height",`${ht}px`),tn.setProperty("--radix-popper-anchor-width",`${Re}px`),tn.setProperty("--radix-popper-anchor-height",`${mt}px`)}}),P&&Koe({element:P,padding:a}),sae({arrowWidth:E,arrowHeight:j}),p&&Yoe({strategy:"referenceHidden",...ie})]}),[oe,$]=K5(he),ne=d0(y);Gp(()=>{ge&&(ne==null||ne())},[ge,ne]);const we=(je=q.arrow)==null?void 0:je.x,nt=(pt=q.arrow)==null?void 0:pt.y,Ce=((bt=q.arrow)==null?void 0:bt.centerOffset)!==0,[Ve,He]=z.useState();return Gp(()=>{_&&He(window.getComputedStyle(_).zIndex)},[_]),N.jsx("div",{ref:ue.setFloating,"data-radix-popper-content-wrapper":"",style:{..._e,transform:ge?_e.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ve,"--radix-popper-transform-origin":[(Dt=q.transformOrigin)==null?void 0:Dt.x,(Jt=q.transformOrigin)==null?void 0:Jt.y].join(" "),...((at=q.hide)==null?void 0:at.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:N.jsx(tae,{scope:t,placedSide:oe,onArrowChange:U,arrowX:we,arrowY:nt,shouldHideArrow:Ce,children:N.jsx(Yd.div,{"data-side":oe,"data-align":$,...w,ref:R,style:{...w.style,animation:ge?void 0:"none"}})})})});X5.displayName=JP;var q5="PopperArrow",rae={top:"bottom",right:"left",bottom:"top",left:"right"},Y5=z.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=nae(q5,r),o=rae[s.placedSide];return N.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:N.jsx(Joe,{...i,ref:t,style:{...i.style,display:"block"}})})});Y5.displayName=q5;function iae(n){return n!==null}var sae=n=>({name:"transformOrigin",options:n,fn(e){var S,_,A;const{placement:t,rects:r,middlewareData:i}=e,o=((S=i.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[c,f]=K5(t),h={start:"0%",center:"50%",end:"100%"}[f],p=(((_=i.arrow)==null?void 0:_.x)??0)+a/2,v=(((A=i.arrow)==null?void 0:A.y)??0)+l/2;let y="",w="";return c==="bottom"?(y=o?h:`${p}px`,w=`${-l}px`):c==="top"?(y=o?h:`${p}px`,w=`${r.floating.height+l}px`):c==="right"?(y=`${-l}px`,w=o?h:`${v}px`):c==="left"&&(y=`${r.floating.width+l}px`,w=o?h:`${v}px`),{data:{x:y,y:w}}}});function K5(n){const[e,t="center"]=n.split("-");return[e,t]}var oae=W5,aae=$5,lae=X5,cae=Y5;function uae(n,e){return z.useReducer((t,r)=>e[t][r]??t,n)}var Z5=n=>{const{present:e,children:t}=n,r=fae(e),i=typeof t=="function"?t({present:r.isPresent}):z.Children.only(t),s=tm(r.ref,dae(i));return typeof t=="function"||r.isPresent?z.cloneElement(i,{ref:s}):null};Z5.displayName="Presence";function fae(n){const[e,t]=z.useState(),r=z.useRef({}),i=z.useRef(n),s=z.useRef("none"),o=n?"mounted":"unmounted",[a,l]=uae(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return z.useEffect(()=>{const c=D1(r.current);s.current=a==="mounted"?c:"none"},[a]),Gp(()=>{const c=r.current,f=i.current;if(f!==n){const p=s.current,v=D1(c);n?l("MOUNT"):v==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(f&&p!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),Gp(()=>{if(e){let c;const f=e.ownerDocument.defaultView??window,h=v=>{const w=D1(r.current).includes(v.animationName);if(v.target===e&&w&&(l("ANIMATION_END"),!i.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",c=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},p=v=>{v.target===e&&(s.current=D1(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{f.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:z.useCallback(c=>{c&&(r.current=getComputedStyle(c)),t(c)},[])}}function D1(n){return(n==null?void 0:n.animationName)||"none"}function dae(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function hae({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=pae({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:r,a=d0(t),l=z.useCallback(c=>{if(s){const h=typeof c=="function"?c(n):c;h!==n&&a(h)}else i(c)},[s,n,i,a]);return[o,l]}function pae({defaultProp:n,onChange:e}){const t=z.useState(n),[r]=t,i=z.useRef(r),s=d0(e);return z.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),t}var mae="VisuallyHidden",J5=z.forwardRef((n,e)=>N.jsx(Yd.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));J5.displayName=mae;var gae=J5,[Ib,Vhe]=A5("Tooltip",[H5]),Lb=H5(),vae="TooltipProvider",cC="tooltip.open",[Hhe,QP]=Ib(vae),Db="Tooltip",[yae,Nb]=Ib(Db),Q5=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=n,l=QP(Db,n.__scopeTooltip),c=Lb(e),[f,h]=z.useState(null),p=Qse(),v=z.useRef(0),y=o??l.disableHoverableContent,w=a??l.delayDuration,S=z.useRef(!1),[_=!1,A]=hae({prop:r,defaultProp:i,onChange:E=>{E?(l.onOpen(),document.dispatchEvent(new CustomEvent(cC))):l.onClose(),s==null||s(E)}}),R=z.useMemo(()=>_?S.current?"delayed-open":"instant-open":"closed",[_]),P=z.useCallback(()=>{window.clearTimeout(v.current),v.current=0,S.current=!1,A(!0)},[A]),U=z.useCallback(()=>{window.clearTimeout(v.current),v.current=0,A(!1)},[A]),k=z.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{S.current=!0,A(!0),v.current=0},w)},[w,A]);return z.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),N.jsx(oae,{...c,children:N.jsx(yae,{scope:e,contentId:p,open:_,stateAttribute:R,trigger:f,onTriggerChange:h,onTriggerEnter:z.useCallback(()=>{l.isOpenDelayed?k():P()},[l.isOpenDelayed,k,P]),onTriggerLeave:z.useCallback(()=>{y?U():(window.clearTimeout(v.current),v.current=0)},[U,y]),onOpen:P,onClose:U,disableHoverableContent:y,children:t})})};Q5.displayName=Db;var uC="TooltipTrigger",e8=z.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=Nb(uC,t),s=QP(uC,t),o=Lb(t),a=z.useRef(null),l=tm(e,a,i.onTriggerChange),c=z.useRef(!1),f=z.useRef(!1),h=z.useCallback(()=>c.current=!1,[]);return z.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),N.jsx(aae,{asChild:!0,...o,children:N.jsx(Yd.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:nf(n.onPointerMove,p=>{p.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:nf(n.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:nf(n.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:nf(n.onFocus,()=>{c.current||i.onOpen()}),onBlur:nf(n.onBlur,i.onClose),onClick:nf(n.onClick,i.onClose)})})});e8.displayName=uC;var xae="TooltipPortal",[jhe,_ae]=Ib(xae,{forceMount:void 0}),n0="TooltipContent",t8=z.forwardRef((n,e)=>{const t=_ae(n0,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...s}=n,o=Nb(n0,n.__scopeTooltip);return N.jsx(Z5,{present:r||o.open,children:o.disableHoverableContent?N.jsx(n8,{side:i,...s,ref:e}):N.jsx(wae,{side:i,...s,ref:e})})}),wae=z.forwardRef((n,e)=>{const t=Nb(n0,n.__scopeTooltip),r=QP(n0,n.__scopeTooltip),i=z.useRef(null),s=tm(e,i),[o,a]=z.useState(null),{trigger:l,onClose:c}=t,f=i.current,{onPointerInTransitChange:h}=r,p=z.useCallback(()=>{a(null),h(!1)},[h]),v=z.useCallback((y,w)=>{const S=y.currentTarget,_={x:y.clientX,y:y.clientY},A=Eae(_,S.getBoundingClientRect()),R=Tae(_,A),P=Mae(w.getBoundingClientRect()),U=Cae([...R,...P]);a(U),h(!0)},[h]);return z.useEffect(()=>()=>p(),[p]),z.useEffect(()=>{if(l&&f){const y=S=>v(S,f),w=S=>v(S,l);return l.addEventListener("pointerleave",y),f.addEventListener("pointerleave",w),()=>{l.removeEventListener("pointerleave",y),f.removeEventListener("pointerleave",w)}}},[l,f,v,p]),z.useEffect(()=>{if(o){const y=w=>{const S=w.target,_={x:w.clientX,y:w.clientY},A=(l==null?void 0:l.contains(S))||(f==null?void 0:f.contains(S)),R=!Aae(_,o);A?p():R&&(p(),c())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,f,o,c,p]),N.jsx(n8,{...n,ref:s})}),[Sae,bae]=Ib(Db,{isInside:!1}),n8=z.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,l=Nb(n0,t),c=Lb(t),{onClose:f}=l;return z.useEffect(()=>(document.addEventListener(cC,f),()=>document.removeEventListener(cC,f)),[f]),z.useEffect(()=>{if(l.trigger){const h=p=>{const v=p.target;v!=null&&v.contains(l.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,f]),N.jsx(R5,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:N.jsxs(lae,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[N.jsx(_5,{children:r}),N.jsx(Sae,{scope:t,isInside:!0,children:N.jsx(gae,{id:l.contentId,role:"tooltip",children:i||r})})]})})});t8.displayName=n0;var r8="TooltipArrow",i8=z.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=Lb(t);return bae(r8,t).isInside?null:N.jsx(cae,{...i,...r,ref:e})});i8.displayName=r8;function Eae(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Tae(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function Mae(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function Aae(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,f=e[o].y;l>r!=f>r&&t<(c-a)*(r-l)/(f-l)+a&&(i=!i)}return i}function Cae(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),Rae(e)}function Rae(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var Pae=Q5,Iae=e8,Lae=t8,Dae=i8;function Nae(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function ti(n,e){if(n==null)return{};var t=Nae(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}let Ci;(function(n){n[n.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",n[n.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",n[n.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",n[n.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",n[n.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",n[n.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",n[n.THEME_ERROR=6]="THEME_ERROR",n[n.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",n[n.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",n[n.EMPTY_KEY=9]="EMPTY_KEY"})(Ci||(Ci={}));const kae={[Ci.UNSUPPORTED_INPUT]:(n,e)=>[`An input with type \`${n}\` input was found at path \`${e}\` but it's not supported yet.`],[Ci.NO_COMPONENT_FOR_TYPE]:(n,e)=>[`Type \`${n}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[Ci.UNKNOWN_INPUT]:(n,e)=>[`input at path \`${n}\` is not recognized.`,e],[Ci.DUPLICATE_KEYS]:(n,e,t)=>[`Key \`${n}\` of path \`${e}\` already exists at path \`${t}\`. Even nested keys need to be unique. Rename one of the keys.`],[Ci.ALREADY_REGISTERED_TYPE]:n=>[`Type ${n} has already been registered. You can't register a component with the same type.`],[Ci.CLIPBOARD_ERROR]:n=>["Error copying the value",n],[Ci.THEME_ERROR]:(n,e)=>[`Error accessing the theme \`${n}.${e}\` value.`],[Ci.PATH_DOESNT_EXIST]:n=>[`Error getting the value at path \`${n}\`. There is probably an error in your \`render\` function.`],[Ci.PATH_DOESNT_EXIST]:n=>[`Error accessing the value at path \`${n}\``],[Ci.INPUT_TYPE_OVERRIDE]:(n,e,t)=>[`Input at path \`${n}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${t}\`.`],[Ci.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function s8(n,e,...t){const[r,...i]=kae[e](...t);console[n]("LEVA: "+r,...i)}const af=s8.bind(null,"warn"),Oae=s8.bind(null,"log"),Fae=["value"],Uae=["schema"],Bae=["value"],o8=[],Xp={};function sk(n){let{value:e}=n,t=ti(n,Fae);for(let r of o8){const i=r(e,t);if(i)return i}}function Mf(n,e){let{schema:t}=e,r=ti(e,Uae);if(n in Xp){af(Ci.ALREADY_REGISTERED_TYPE,n);return}o8.push((i,s)=>t(i,s)&&n),Xp[n]=r}function pM(n,e,t,r){const{normalize:i}=Xp[n];if(i)return i(e,t,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=ti(e,Bae);return{value:s,settings:o}}function zae(n,e,t,r,i,s){const{sanitize:o}=Xp[n];return o?o(e,t,r,i,s):e}function ok(n,e,t){const{format:r}=Xp[n];return r?r(e,t):e}function Vae(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ak(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Xn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(t),!0).forEach(function(r){Vae(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ak(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const Vd=(n,e,t)=>n>t?t:n<e?e:n,Hae=n=>{if(n===""||typeof n=="number")return n;try{const e=md(n);if(!isNaN(e))return e}catch{}return parseFloat(n)},jae=Math.log(10);function lk(n){let e=Math.abs(+String(n).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const t=Math.floor(Math.log(e)/jae)+1,r=Math.floor(Math.log10(Math.abs(n))),i=Math.pow(10,r-t);return Math.max(i,.001)}const wS=(n,e,t)=>t===e?0:(Vd(n,e,t)-e)/(t-e),SS=(n,e,t)=>n*(t-e)+e,Wae=()=>"_"+Math.random().toString(36).substr(2,9),ck=/\(([0-9+\-*/^ .]+)\)/,uk=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,fk=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,dk=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,hk=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,pk=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function md(n){if(isNaN(Number(n)))if(ck.test(n)){const e=n.replace(ck,(t,r)=>String(md(r)));return md(e)}else if(uk.test(n)){const e=n.replace(uk,(t,r,i)=>String(Math.pow(Number(r),Number(i))));return md(e)}else if(fk.test(n)){const e=n.replace(fk,(t,r,i)=>String(Number(r)*Number(i)));return md(e)}else if(dk.test(n)){const e=n.replace(dk,(t,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return md(e)}else if(hk.test(n)){const e=n.replace(hk,(t,r,i)=>String(Number(r)+Number(i)));return md(e)}else if(pk.test(n)){const e=n.replace(pk,(t,r,i)=>String(Number(r)-Number(i)));return md(e)}else return Number(n);return Number(n)}function Gae(n,e){return e.reduce((t,r)=>(n&&n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}function $ae(n,e){const t=Xn({},n);return e.forEach(r=>r in n&&delete t[r]),t}function Xae(n,e){return n.reduce((t,r,i)=>Object.assign(t,{[e[i]]:r}),{})}function a8(n){return Object.prototype.toString.call(n)==="[object Object]"}const qae=n=>a8(n)&&Object.keys(n).length===0;let bc;(function(n){n.BUTTON="BUTTON",n.BUTTON_GROUP="BUTTON_GROUP",n.MONITOR="MONITOR",n.FOLDER="FOLDER"})(bc||(bc={}));let Cc;(function(n){n.SELECT="SELECT",n.IMAGE="IMAGE",n.NUMBER="NUMBER",n.COLOR="COLOR",n.STRING="STRING",n.BOOLEAN="BOOLEAN",n.INTERVAL="INTERVAL",n.VECTOR3D="VECTOR3D",n.VECTOR2D="VECTOR2D"})(Cc||(Cc={}));const Yae=["type","__customInput"],Kae=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],Zae=["type"];function l8(n,e,t={},r){var i,s;if(typeof n!="object"||Array.isArray(n))return{type:r,input:n,options:Xn({key:e,label:e,optional:!1,disabled:!1,order:0},t)};if("__customInput"in n){const{type:U,__customInput:k}=n,E=ti(n,Yae);return l8(k,e,E,U)}const{render:o,label:a,optional:l,order:c=0,disabled:f,hint:h,onChange:p,onEditStart:v,onEditEnd:y,transient:w}=n,S=ti(n,Kae),_=Xn({render:o,key:e,label:a??e,hint:h,transient:w??!!p,onEditStart:v,onEditEnd:y,disabled:f,optional:l,order:c},t);let{type:A}=S,R=ti(S,Zae);if(A=r??A,A in bc)return{type:A,input:R,options:_};let P;return r&&a8(R)&&"value"in R?P=R.value:P=qae(R)?void 0:R,{type:A,input:P,options:Xn(Xn({},_),{},{onChange:p,optional:(i=_.optional)!==null&&i!==void 0?i:!1,disabled:(s=_.disabled)!==null&&s!==void 0?s:!1})}}function Jae(n,e,t,r){const i=l8(n,e),{type:s,input:o,options:a}=i;if(s)return s in bc?i:{type:s,input:pM(s,o,t,r),options:a};let l=sk(o);return l?{type:l,input:pM(l,o,t,r),options:a}:(l=sk({value:o}),l?{type:l,input:pM(l,{value:o},t,r),options:a}:!1)}function mk(n,e,t,r,i){const{value:s,type:o,settings:a}=n;n.value=c8({type:o,value:s,settings:a},e,t,r),n.fromPanel=i}const Qae=function(e,t,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=r};function c8({type:n,value:e,settings:t},r,i,s){const o=n!=="SELECT"&&typeof r=="function"?r(e):r;let a;try{a=zae(n,o,t,e,i,s)}catch(l){throw new Qae(`The value \`${r}\` did not result in a correct value.`,e,l)}return qy(a,e)?e:a}const u8=(n,e,t=!1)=>{let r=0;return function(){const i=arguments,s=t&&!r,o=()=>n.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,e),s&&o()}},f8=n=>n.shiftKey?5:n.altKey?1/5:1;function ele(n,e){const t=console.error;console.error=()=>{},MO.render(n,e),console.error=t}const tle=["value"],nle=["min","max"],rle=n=>{if(typeof n=="number")return!0;if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?!1:n.substring((""+e).length).trim().length<4}return!1},d8=(n,{min:e=-1/0,max:t=1/0,suffix:r})=>{const i=parseFloat(n);if(n===""||isNaN(i))throw Error("Invalid number");const s=Vd(i,e,t);return r?s+r:s},ile=(n,{pad:e=0,suffix:t})=>{const r=parseFloat(n).toFixed(e);return t?r+t:r},h8=n=>{let{value:e}=n,t=ti(n,tle);const{min:r=-1/0,max:i=1/0}=t,s=ti(t,nle);let o=parseFloat(e);const a=typeof e=="string"?e.substring((""+o).length):void 0;o=Vd(o,r,i);let l=t.step;l||(Number.isFinite(r)?Number.isFinite(i)?l=+(Math.abs(i-r)/100).toPrecision(1):l=+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-o)/100).toPrecision(1)));const c=l?lk(l)*10:lk(o);l=l||c/10;const f=Math.round(Vd(Math.log10(1/c),0,2));return{value:a?o+a:o,settings:Xn({initialValue:o,step:l,pad:f,min:r,max:i,suffix:a},s)}},p8=(n,{step:e,initialValue:t})=>{const r=Math.round((n-t)/e);return t+r*e};var m8=Object.freeze({__proto__:null,schema:rle,sanitize:d8,format:ile,normalize:h8,sanitizeStep:p8});function Wi(){return Wi=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Wi.apply(this,arguments)}const g8=z.createContext({});function Mo(){return z.useContext(g8)}const e2=z.createContext(null),v8=z.createContext(null),y8=z.createContext(null);function Rx(){return z.useContext(v8)}function sle(){return z.useContext(y8)}const x8=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function N1(n,e){const[t,r]=n.split(" "),i={};return t!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${t!=="default"&&t||e.borderColor}`),r&&(i.backgroundColor=r),i}const Rv={$inputStyle:()=>n=>N1(n,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>n=>N1(n,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>n=>N1(n,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>n=>N1(n,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:Wn,css:Whe,createTheme:ole,globalCss:ale,keyframes:Ghe}=Vse({prefix:"leva",theme:x8(),utils:Xn(Xn({},Rv),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:n=>({"&:focus":Rv.$focusStyle()(n)}),$focusWithin:n=>({"&:focus-within":Rv.$focusStyle()(n)}),$hover:n=>({"&:hover":Rv.$hoverStyle()(n)}),$active:n=>({"&:active":Rv.$activeStyle()(n)})})}),lle=ale({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function cle(n){const e=x8();if(!n)return{theme:e,className:""};Object.keys(n).forEach(r=>{Object.assign(e[r],n[r])});const t=ole(e);return{theme:e,className:t.className}}function gf(n,e){const{theme:t}=z.useContext(e2);if(!(n in t)||!(e in t[n]))return af(Ci.THEME_ERROR,n,e),"";let r=e;for(;;){let i=t[n][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const _8=Wn("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),w8=Wn("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${_8}`]:{paddingLeft:0}}),ule=Wn(w8,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),fle=Wn("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),dle=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],hle=["onUpdate"];function t2(n){let{innerLabel:e,value:t,onUpdate:r,onChange:i,onKeyDown:s,type:o,id:a,inputType:l="text",rows:c=0}=n,f=ti(n,dle);const{id:h,emitOnEditStart:p,emitOnEditEnd:v,disabled:y}=Mo(),w=a||h,S=z.useRef(null),_=c>0,A=_?"textarea":"input",R=z.useCallback(k=>E=>{const j=E.currentTarget.value;k(j)},[]);Te.useEffect(()=>{const k=S.current,E=R(j=>{r(j),v()});return k==null||k.addEventListener("blur",E),()=>k==null?void 0:k.removeEventListener("blur",E)},[R,r,v]);const P=z.useCallback(k=>{k.key==="Enter"&&R(r)(k)},[R,r]),U=Object.assign({as:A},_?{rows:c}:{},f);return Te.createElement(fle,{textArea:_},e&&typeof e=="string"?Te.createElement(w8,null,e):e,Te.createElement(_8,Wi({levaType:o,ref:S,id:w,type:l,autoComplete:"off",spellCheck:"false",value:t,onChange:R(i),onFocus:()=>p(),onKeyPress:P,onKeyDown:s,disabled:y},U)))}function ple(n){let{onUpdate:e}=n,t=ti(n,hle);const r=z.useCallback(s=>e(Hae(s)),[e]),i=z.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;e(l=>parseFloat(l)+o*a)}},[e]);return Te.createElement(t2,Wi({},t,{onUpdate:r,onKeyDown:i,type:"number"}))}const bS=Wn("div",{}),fC=Wn("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),mle=Wn("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${fC}::after`]:{opacity:.6},[`${bS}:hover > & + ${fC}::after`]:{opacity:.6},[`${bS}:hover > & > svg`]:{opacity:1}}),S8=Wn("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${bS}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),b8=Wn("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${S8} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),E8=Wn(b8,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),gle=Wn("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),vle=Wn("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),dC=Wn("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),yle=Wn("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${dC}`]:{pointerEvents:"auto"}}}}}),T8=Wn("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),xle=Wn("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),_le=Wn(Dae,{fill:"$toolTipBackground"});function n2({children:n}){const{className:e}=z.useContext(e2);return Te.createElement(cse,{className:e},n)}const wle=["align"];function Sle(){const{id:n,disable:e,disabled:t}=Mo();return Te.createElement(Te.Fragment,null,Te.createElement(vle,{id:n+"__disable",type:"checkbox",checked:!t,onChange:()=>e(!t)}),Te.createElement("label",{htmlFor:n+"__disable"}))}function ble(n){const{id:e,optional:t,hint:r}=Mo(),i=n.htmlFor||(e?{htmlFor:e}:null),s=!r&&typeof n.children=="string"?{title:n.children}:null;return Te.createElement(Te.Fragment,null,t&&Te.createElement(Sle,null),r!==void 0?Te.createElement(Pae,null,Te.createElement(Iae,{asChild:!0},Te.createElement(dC,Wi({},i,n))),Te.createElement(Lae,{side:"top",sideOffset:2},Te.createElement(xle,null,r,Te.createElement(_le,null)))):Te.createElement(dC,Wi({},i,s,n)))}function Lc(n){let{align:e}=n,t=ti(n,wle);const{value:r,label:i,key:s,disabled:o}=Mo(),{hideCopyButton:a}=sle(),l=!a&&s!==void 0,[c,f]=z.useState(!1),h=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:r??""})),f(!0)}catch{af(Ci.CLIPBOARD_ERROR,{[s]:r})}};return Te.createElement(gle,{align:e,onPointerLeave:()=>f(!1)},Te.createElement(ble,t),l&&!o&&Te.createElement("div",{title:`Click to copy ${typeof i=="string"?i:s} value`},c?Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},Te.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),Te.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):Te.createElement("svg",{onClick:h,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},Te.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),Te.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const Ele=["toggled"],Tle=Wn("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function r2(n){let{toggled:e}=n,t=ti(n,Ele);return Te.createElement(Tle,Wi({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},t),Te.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const Mle=["input"];function jl(n){let{input:e}=n,t=ti(n,Mle);return e?Te.createElement(E8,t):Te.createElement(b8,t)}function M8({value:n,type:e,settings:t,setValue:r}){const[i,s]=z.useState(ok(e,n,t)),o=z.useRef(n),a=z.useRef(t);a.current=t;const l=z.useCallback(f=>s(ok(e,f,a.current)),[e]),c=z.useCallback(f=>{try{r(f)}catch(h){const{type:p,previousValue:v}=h;if(p!=="LEVA_ERROR")throw h;l(v)}},[l,r]);return z.useEffect(()=>{qy(n,o.current)||l(n),o.current=n},[n,l]),{displayValue:i,onChange:s,onUpdate:c}}function Px(n,e){const{emitOnEditStart:t,emitOnEditEnd:r}=Mo();return Yte(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),t==null||t());const s=n(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),s},e)}function Ale(n){const e=z.useRef(null),t=z.useRef(null),r=z.useRef(!1);return z.useEffect(()=>{const i=u8(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,n(e.current,t.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[n]),z.useEffect(()=>{t.current=e.current.getContext("2d")},[]),[e,t]}function A8(){const n=z.useRef(null),e=z.useRef({x:0,y:0}),t=z.useCallback(r=>{Object.assign(e.current,r),n.current&&(n.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[n,t]}const Cle=["__refCount"],mM=(n,e)=>{if(!n[e])return null;const t=n[e];return ti(t,Cle)};function Rle(n){const e=Rx(),[t,r]=z.useState(mM(e.getData(),n)),i=z.useCallback(c=>e.setValueAtPath(n,c,!0),[n,e]),s=z.useCallback(c=>e.setSettingsAtPath(n,c),[n,e]),o=z.useCallback(c=>e.disableInputAtPath(n,c),[n,e]),a=z.useCallback(()=>e.emitOnEditStart(n),[n,e]),l=z.useCallback(()=>e.emitOnEditEnd(n),[n,e]);return z.useEffect(()=>{r(mM(e.getData(),n));const c=e.useStore.subscribe(f=>mM(f.data,n),r,{equalityFn:Mb});return()=>c()},[e,n]),[t,{set:i,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:l}]}const Ple=Wn("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),C8=Wn("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),hC=Wn("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),R8=Wn("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),P8=Wn("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function Ile({value:n,min:e,max:t,onDrag:r,step:i,initialValue:s}){const o=z.useRef(null),a=z.useRef(null),l=z.useRef(0),c=gf("sizes","scrubberWidth"),f=Px(({event:p,first:v,xy:[y],movement:[w],memo:S})=>{if(v){const{width:A,left:R}=o.current.getBoundingClientRect();l.current=A-parseFloat(c),S=(p==null?void 0:p.target)===a.current?n:SS((y-R)/A,e,t)}const _=S+SS(w/l.current,0,t-e);return r(p8(_,{step:i,initialValue:s})),S}),h=wS(n,e,t);return Te.createElement(R8,Wi({ref:o},f()),Te.createElement(C8,null,Te.createElement(P8,{style:{left:0,right:`${(1-h)*100}%`}})),Te.createElement(hC,{ref:a,style:{left:`calc(${h} * (100% - ${c}))`}}))}const Lle=Te.memo(({label:n,onUpdate:e,step:t,innerLabelTrim:r})=>{const[i,s]=z.useState(!1),o=Px(({active:a,delta:[l],event:c,memo:f=0})=>(s(a),f+=l/2,Math.abs(f)>=1&&(e(h=>parseFloat(h)+Math.floor(f)*t*f8(c)),f=0),f));return Te.createElement(ule,Wi({dragging:i,title:n.length>1?n:""},o()),n.slice(0,r))});function I8({label:n,id:e,displayValue:t,onUpdate:r,onChange:i,settings:s,innerLabelTrim:o=1}){const a=o>0&&Te.createElement(Lle,{label:n,step:s.step,onUpdate:r,innerLabelTrim:o});return Te.createElement(ple,{id:e,value:String(t),onUpdate:r,onChange:i,innerLabel:a})}function Dle(){const n=Mo(),{label:e,value:t,onUpdate:r,settings:i,id:s}=n,{min:o,max:a}=i,l=a!==1/0&&o!==-1/0;return Te.createElement(jl,{input:!0},Te.createElement(Lc,null,e),Te.createElement(Ple,{hasRange:l},l&&Te.createElement(Ile,Wi({value:parseFloat(t),onDrag:r},i)),Te.createElement(I8,Wi({},n,{id:s,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:Nle}=m8,kle=ti(m8,["sanitizeStep"]);var Ole=Xn({component:Dle},kle);const Fle=(n,e)=>ya().schema({options:ya().passesAnyOf(ya().object(),ya().array())}).test(e),Ule=(n,{values:e})=>{if(e.indexOf(n)<0)throw Error("Selected value doesn't match Select options");return n},Ble=(n,{values:e})=>e.indexOf(n),zle=n=>{let{value:e,options:t}=n,r,i;return Array.isArray(t)?(i=t,r=t.map(s=>String(s))):(i=Object.values(t),r=Object.keys(t)),"value"in n?i.includes(e)||(r.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(t).includes(e)||(t[String(e)]=e),{value:e,settings:{keys:r,values:i}}};var Vle=Object.freeze({__proto__:null,schema:Fle,sanitize:Ule,format:Ble,normalize:zle});const Hle=Wn("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),pC=Wn("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),jle=Wn("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${pC}:focus + &`]:{$focusStyle:""},[`${pC}:hover + &`]:{$hoverStyle:""}});function Wle({displayValue:n,value:e,onUpdate:t,id:r,settings:i,disabled:s}){const{keys:o,values:a}=i,l=z.useRef();return e===a[n]&&(l.current=o[n]),Te.createElement(Hle,null,Te.createElement(pC,{id:r,value:n,onChange:c=>t(a[Number(c.currentTarget.value)]),disabled:s},o.map((c,f)=>Te.createElement("option",{key:c,value:f},c))),Te.createElement(jle,null,l.current),Te.createElement(r2,{toggled:!0}))}function Gle(){const{label:n,value:e,displayValue:t,onUpdate:r,id:i,disabled:s,settings:o}=Mo();return Te.createElement(jl,{input:!0},Te.createElement(Lc,null,n),Te.createElement(Wle,{id:i,value:e,displayValue:t,onUpdate:r,settings:o,disabled:s}))}var $le=Xn({component:Gle},Vle);const Xle=n=>ya().string().test(n),qle=n=>{if(typeof n!="string")throw Error("Invalid string");return n},Yle=({value:n,editable:e=!0,rows:t=!1})=>({value:n,settings:{editable:e,rows:typeof t=="number"?t:t?5:0}});var Kle=Object.freeze({__proto__:null,schema:Xle,sanitize:qle,normalize:Yle});const Zle=["displayValue","onUpdate","onChange","editable"],Jle=Wn("div",{whiteSpace:"pre-wrap"});function Qle(n){let{displayValue:e,onUpdate:t,onChange:r,editable:i=!0}=n,s=ti(n,Zle);return i?Te.createElement(t2,Wi({value:e,onUpdate:t,onChange:r},s)):Te.createElement(Jle,null,e)}function ece(){const{label:n,settings:e,displayValue:t,onUpdate:r,onChange:i}=Mo();return Te.createElement(jl,{input:!0},Te.createElement(Lc,null,n),Te.createElement(Qle,Wi({displayValue:t,onUpdate:r,onChange:i},e)))}var tce=Xn({component:ece},Kle);const nce=n=>ya().boolean().test(n),rce=n=>{if(typeof n!="boolean")throw Error("Invalid boolean");return n};var ice=Object.freeze({__proto__:null,schema:nce,sanitize:rce});const sce=Wn("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function oce({value:n,onUpdate:e,id:t,disabled:r}){return Te.createElement(sce,null,Te.createElement("input",{id:t,type:"checkbox",checked:n,onChange:i=>e(i.currentTarget.checked),disabled:r}),Te.createElement("label",{htmlFor:t},Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function ace(){const{label:n,value:e,onUpdate:t,disabled:r,id:i}=Mo();return Te.createElement(jl,{input:!0},Te.createElement(Lc,null,n),Te.createElement(oce,{value:e,onUpdate:t,id:i,disabled:r}))}var lce=Xn({component:ace},ice);const cce=["locked"];function uce({value:n,id:e,valueKey:t,settings:r,onUpdate:i,innerLabelTrim:s}){const o=z.useRef(n[t]);o.current=n[t];const a=z.useCallback(c=>i({[t]:c8({type:"NUMBER",value:o.current,settings:r},c)}),[i,r,t]),l=M8({type:"NUMBER",value:n[t],settings:r,setValue:a});return Te.createElement(I8,{id:e,label:t,value:n[t],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:r,innerLabelTrim:s})}const fce=Wn("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function dce(n){let{locked:e}=n,t=ti(n,cce);return Te.createElement("svg",Wi({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e?Te.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):Te.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function i2({value:n,onUpdate:e,settings:t,innerLabelTrim:r}){const{id:i,setSettings:s}=Mo(),{lock:o,locked:a}=t;return Te.createElement(fce,{withLock:o},o&&Te.createElement(dce,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(n).map((l,c)=>Te.createElement(uce,{id:c===0?i:`${i}.${l}`,key:l,valueKey:l,value:n,settings:t[l],onUpdate:e,innerLabelTrim:r})))}const L8=(n,e)=>{const t={};let r=0,i=1/0;Object.entries(n).forEach(([s,o])=>{t[s]=h8(Xn({value:o},e[s])).settings,r=Math.max(r,t[s].step),i=Math.min(i,t[s].pad)});for(let s in t){const{step:o,min:a,max:l}=e[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(l))&&(t[s].step=r,t[s].pad=i)}return t},hce=["lock"],pce=["value"];function mce(n){const e=ya().array().length(n).every.number(),t=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===n&&i.every(s=>isFinite(s))};return r=>e.test(r)||t(r)}function gce(n){return Array.isArray(n)?"array":"object"}function yy(n,e,t){return gce(n)===e?n:e==="array"?Object.values(n):Xae(n,t)}const vce=(n,e,t)=>{const r=yy(n,"object",e.keys);for(let o in r)r[o]=d8(r[o],e[o]);const i=Object.keys(r);let s={};if(i.length===e.keys.length)s=r;else{const o=yy(t,"object",e.keys);if(i.length===1&&e.locked){const a=i[0],l=r[a],c=o[a],f=c!==0?l/c:1;for(let h in o)h===a?s[a]=l:s[h]=o[h]*f}else s=Xn(Xn({},o),r)}return yy(s,e.format,e.keys)},yce=(n,e)=>yy(n,"object",e.keys),xce=n=>!!n&&("step"in n||"min"in n||"max"in n);function _ce(n,e,t=[]){const{lock:r=!1}=e,i=ti(e,hce),s=Array.isArray(n)?"array":"object",o=s==="object"?Object.keys(n):t,a=yy(n,"object",o),l=xce(i)?o.reduce((f,h)=>Object.assign(f,{[h]:i}),{}):i,c=L8(a,l);return{value:s==="array"?n:a,settings:Xn(Xn({},c),{},{format:s,keys:o,lock:r,locked:!1})}}function D8(n){return{schema:mce(n.length),normalize:e=>{let{value:t}=e,r=ti(e,pce);return _ce(t,r,n)},format:(e,t)=>yce(e,t),sanitize:(e,t,r)=>vce(e,t,r)}}var wce={grad:.9,turn:360,rad:360/(2*Math.PI)},Zu=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},Vs=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},Ul=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},N8=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},gk=function(n){return{r:Ul(n.r,0,255),g:Ul(n.g,0,255),b:Ul(n.b,0,255),a:Ul(n.a)}},gM=function(n){return{r:Vs(n.r),g:Vs(n.g),b:Vs(n.b),a:Vs(n.a,3)}},Sce=/^#([0-9a-f]{3,8})$/i,k1=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},k8=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},O8=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),c=s%6;return{r:255*[r,a,o,o,l,r][c],g:255*[l,r,r,a,o,o][c],b:255*[o,o,l,r,r,a][c],a:i}},vk=function(n){return{h:N8(n.h),s:Ul(n.s,0,100),l:Ul(n.l,0,100),a:Ul(n.a)}},yk=function(n){return{h:Vs(n.h),s:Vs(n.s),l:Vs(n.l),a:Vs(n.a,3)}},xk=function(n){return O8((t=(e=n).s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}));var e,t,r},xy=function(n){return{h:(e=k8(n)).h,s:(i=(200-(t=e.s))*(r=e.v)/100)>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,t,r,i},bce=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ece=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Tce=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Mce=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,mC={string:[[function(n){var e=Sce.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?Vs(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?Vs(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=Tce.exec(n)||Mce.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:gk({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=bce.exec(n)||Ece.exec(n);if(!e)return null;var t,r,i=vk({h:(t=e[1],r=e[2],r===void 0&&(r="deg"),Number(t)*(wce[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return xk(i)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=i===void 0?1:i;return Zu(e)&&Zu(t)&&Zu(r)?gk({r:Number(e),g:Number(t),b:Number(r),a:Number(s)}):null},"rgb"],[function(n){var e=n.h,t=n.s,r=n.l,i=n.a,s=i===void 0?1:i;if(!Zu(e)||!Zu(t)||!Zu(r))return null;var o=vk({h:Number(e),s:Number(t),l:Number(r),a:Number(s)});return xk(o)},"hsl"],[function(n){var e=n.h,t=n.s,r=n.v,i=n.a,s=i===void 0?1:i;if(!Zu(e)||!Zu(t)||!Zu(r))return null;var o=function(a){return{h:N8(a.h),s:Ul(a.s,0,100),v:Ul(a.v,0,100),a:Ul(a.a)}}({h:Number(e),s:Number(t),v:Number(r),a:Number(s)});return O8(o)},"hsv"]]},_k=function(n,e){for(var t=0;t<e.length;t++){var r=e[t][0](n);if(r)return[r,e[t][1]]}return[null,void 0]},F8=function(n){return typeof n=="string"?_k(n.trim(),mC.string):typeof n=="object"&&n!==null?_k(n,mC.object):[null,void 0]},Ace=function(n){return F8(n)[1]},vM=function(n,e){var t=xy(n);return{h:t.h,s:Ul(t.s+100*e,0,100),l:t.l,a:t.a}},yM=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},wk=function(n,e){var t=xy(n);return{h:t.h,s:t.s,l:Ul(t.l+100*e,0,100),a:t.a}},gC=function(){function n(e){this.parsed=F8(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return Vs(yM(this.rgba),2)},n.prototype.isDark=function(){return yM(this.rgba)<.5},n.prototype.isLight=function(){return yM(this.rgba)>=.5},n.prototype.toHex=function(){return e=gM(this.rgba),t=e.r,r=e.g,i=e.b,o=(s=e.a)<1?k1(Vs(255*s)):"","#"+k1(t)+k1(r)+k1(i)+o;var e,t,r,i,s,o},n.prototype.toRgb=function(){return gM(this.rgba)},n.prototype.toRgbString=function(){return e=gM(this.rgba),t=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+t+", "+r+", "+i+", "+s+")":"rgb("+t+", "+r+", "+i+")";var e,t,r,i,s},n.prototype.toHsl=function(){return yk(xy(this.rgba))},n.prototype.toHslString=function(){return e=yk(xy(this.rgba)),t=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+t+", "+r+"%, "+i+"%, "+s+")":"hsl("+t+", "+r+"%, "+i+"%)";var e,t,r,i,s},n.prototype.toHsv=function(){return e=k8(this.rgba),{h:Vs(e.h),s:Vs(e.s),v:Vs(e.v),a:Vs(e.a,3)};var e},n.prototype.invert=function(){return $o({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),$o(vM(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),$o(vM(this.rgba,-e))},n.prototype.grayscale=function(){return $o(vM(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),$o(wk(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),$o(wk(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?$o({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Vs(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=xy(this.rgba);return typeof e=="number"?$o({h:e,s:t.s,l:t.l,a:t.a}):Vs(t.h)},n.prototype.isEqual=function(e){return this.toHex()===$o(e).toHex()},n}(),$o=function(n){return n instanceof gC?n:new gC(n)},Sk=[],Cce=function(n){n.forEach(function(e){Sk.indexOf(e)<0&&(e(gC,mC),Sk.push(e))})};function Rce(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in t)r[t[i]]=i;var s={};n.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,c=r[this.toHex()];if(c)return c;if(o!=null&&o.closest){var f=this.toRgb(),h=1/0,p="black";if(!s.length)for(var v in t)s[v]=new n(t[v]).toRgb();for(var y in t){var w=(a=f,l=s[y],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));w<h&&(h=w,p=y)}return p}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":t[a];return l?new n(l).toRgb():null},"name"])}function m0(){return(m0=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function s2(n,e){if(n==null)return{};var t,r,i={},s=Object.keys(n);for(r=0;r<s.length;r++)e.indexOf(t=s[r])>=0||(i[t]=n[t]);return i}function vC(n){var e=z.useRef(n),t=z.useRef(function(r){e.current&&e.current(r)});return e.current=n,t.current}var r0=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n<e?e:n},_y=function(n){return"touches"in n},yC=function(n){return n&&n.ownerDocument.defaultView||self},bk=function(n,e,t){var r=n.getBoundingClientRect(),i=_y(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,t):e;return{left:r0((i.pageX-(r.left+yC(n).pageXOffset))/r.width),top:r0((i.pageY-(r.top+yC(n).pageYOffset))/r.height)}},Ek=function(n){!_y(n)&&n.preventDefault()},o2=Te.memo(function(n){var e=n.onMove,t=n.onKey,r=s2(n,["onMove","onKey"]),i=z.useRef(null),s=vC(e),o=vC(t),a=z.useRef(null),l=z.useRef(!1),c=z.useMemo(function(){var v=function(S){Ek(S),(_y(S)?S.touches.length>0:S.buttons>0)&&i.current?s(bk(i.current,S,a.current)):w(!1)},y=function(){return w(!1)};function w(S){var _=l.current,A=yC(i.current),R=S?A.addEventListener:A.removeEventListener;R(_?"touchmove":"mousemove",v),R(_?"touchend":"mouseup",y)}return[function(S){var _=S.nativeEvent,A=i.current;if(A&&(Ek(_),!function(P,U){return U&&!_y(P)}(_,l.current)&&A)){if(_y(_)){l.current=!0;var R=_.changedTouches||[];R.length&&(a.current=R[0].identifier)}A.focus(),s(bk(A,_,a.current)),w(!0)}},function(S){var _=S.which||S.keyCode;_<37||_>40||(S.preventDefault(),o({left:_===39?.05:_===37?-.05:0,top:_===40?.05:_===38?-.05:0}))},w]},[o,s]),f=c[0],h=c[1],p=c[2];return z.useEffect(function(){return p},[p]),Te.createElement("div",m0({},r,{onTouchStart:f,onMouseDown:f,className:"react-colorful__interactive",ref:i,onKeyDown:h,tabIndex:0,role:"slider"}))}),Ix=function(n){return n.filter(Boolean).join(" ")},a2=function(n){var e=n.color,t=n.left,r=n.top,i=r===void 0?.5:r,s=Ix(["react-colorful__pointer",n.className]);return Te.createElement("div",{className:s,style:{top:100*i+"%",left:100*t+"%"}},Te.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},Jo=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t},U8=function(n){var e=n.s,t=n.v,r=n.a,i=(200-e)*t/100;return{h:Jo(n.h),s:Jo(i>0&&i<200?e*t/100/(i<=100?i:200-i)*100:0),l:Jo(i/2),a:Jo(r,2)}},xC=function(n){var e=U8(n);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},xM=function(n){var e=U8(n);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},B8=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),c=s%6;return{r:Jo(255*[r,a,o,o,l,r][c]),g:Jo(255*[l,r,r,a,o,o][c]),b:Jo(255*[o,o,l,r,r,a][c]),a:Jo(i,2)}},z8=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:Jo(60*(a<0?a+6:a)),s:Jo(s?o/s*100:0),v:Jo(s/255*100),a:i}},V8=Te.memo(function(n){var e=n.hue,t=n.onChange,r=Ix(["react-colorful__hue",n.className]);return Te.createElement("div",{className:r},Te.createElement(o2,{onMove:function(i){t({h:360*i.left})},onKey:function(i){t({h:r0(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":Jo(e),"aria-valuemax":"360","aria-valuemin":"0"},Te.createElement(a2,{className:"react-colorful__hue-pointer",left:e/360,color:xC({h:e,s:100,v:100,a:1})})))}),H8=Te.memo(function(n){var e=n.hsva,t=n.onChange,r={backgroundColor:xC({h:e.h,s:100,v:100,a:1})};return Te.createElement("div",{className:"react-colorful__saturation",style:r},Te.createElement(o2,{onMove:function(i){t({s:100*i.left,v:100-100*i.top})},onKey:function(i){t({s:r0(e.s+100*i.left,0,100),v:r0(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Jo(e.s)+"%, Brightness "+Jo(e.v)+"%"},Te.createElement(a2,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:xC(e)})))}),l2=function(n,e){if(n===e)return!0;for(var t in n)if(n[t]!==e[t])return!1;return!0};function j8(n,e,t){var r=vC(t),i=z.useState(function(){return n.toHsva(e)}),s=i[0],o=i[1],a=z.useRef({color:e,hsva:s});z.useEffect(function(){if(!n.equal(e,a.current.color)){var c=n.toHsva(e);a.current={hsva:c,color:e},o(c)}},[e,n]),z.useEffect(function(){var c;l2(s,a.current.hsva)||n.equal(c=n.fromHsva(s),a.current.color)||(a.current={hsva:s,color:c},r(c))},[s,n,r]);var l=z.useCallback(function(c){o(function(f){return Object.assign({},f,c)})},[]);return[s,l]}var Pce=typeof window<"u"?z.useLayoutEffect:z.useEffect,Ice=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},Tk=new Map,W8=function(n){Pce(function(){var e=n.current?n.current.ownerDocument:document;if(e!==void 0&&!Tk.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,Tk.set(e,t);var r=Ice();r&&t.setAttribute("nonce",r),e.head.appendChild(t)}},[])},Lce=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=s2(n,["className","colorModel","color","onChange"]),a=z.useRef(null);W8(a);var l=j8(t,i,s),c=l[0],f=l[1],h=Ix(["react-colorful",e]);return Te.createElement("div",m0({},o,{ref:a,className:h}),Te.createElement(H8,{hsva:c,onChange:f}),Te.createElement(V8,{hue:c.h,onChange:f,className:"react-colorful__last-control"}))},Dce=function(n){var e=n.className,t=n.hsva,r=n.onChange,i={backgroundImage:"linear-gradient(90deg, "+xM(Object.assign({},t,{a:0}))+", "+xM(Object.assign({},t,{a:1}))+")"},s=Ix(["react-colorful__alpha",e]),o=Jo(100*t.a);return Te.createElement("div",{className:s},Te.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),Te.createElement(o2,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:r0(t.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},Te.createElement(a2,{className:"react-colorful__alpha-pointer",left:t.a,color:xM(t)})))},Nce=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=s2(n,["className","colorModel","color","onChange"]),a=z.useRef(null);W8(a);var l=j8(t,i,s),c=l[0],f=l[1],h=Ix(["react-colorful",e]);return Te.createElement("div",m0({},o,{ref:a,className:h}),Te.createElement(H8,{hsva:c,onChange:f}),Te.createElement(V8,{hue:c.h,onChange:f}),Te.createElement(Dce,{hsva:c,onChange:f,className:"react-colorful__last-control"}))},kce={defaultColor:{r:0,g:0,b:0,a:1},toHsva:z8,fromHsva:B8,equal:l2},Oce=function(n){return Te.createElement(Nce,m0({},n,{colorModel:kce}))},Fce={defaultColor:{r:0,g:0,b:0},toHsva:function(n){return z8({r:n.r,g:n.g,b:n.b,a:1})},fromHsva:function(n){return{r:(e=B8(n)).r,g:e.g,b:e.b};var e},equal:l2},Uce=function(n){return Te.createElement(Lce,m0({},n,{colorModel:Fce}))};function g0(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(h){o(h)}}function l(f){try{c(r.throw(f))}catch(h){o(h)}}function c(f){f.done?s(f.value):i(f.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function v0(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(f){return l([c,f])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(t=0)),t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(f){c=[6,f],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Bce(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function zce(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Bce(arguments[e]));return n}var Vce=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Lx(n,e){var t=Hce(n);if(typeof t.path!="string"){var r=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Hce(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var r=e.split(".").pop().toLowerCase(),i=Vce.get(r);i&&Object.defineProperty(n,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return n}var jce=[".DS_Store","Thumbs.db"];function Wce(n){return g0(this,void 0,void 0,function(){return v0(this,function(e){return ES(n)&&Gce(n)?[2,Yce(n.dataTransfer,n.type)]:$ce(n)?[2,Xce(n)]:Array.isArray(n)&&n.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,qce(n)]:[2,[]]})})}function Gce(n){return ES(n.dataTransfer)}function $ce(n){return ES(n)&&ES(n.target)}function ES(n){return typeof n=="object"&&n!==null}function Xce(n){return _C(n.target.files).map(function(e){return Lx(e)})}function qce(n){return g0(this,void 0,void 0,function(){var e;return v0(this,function(t){switch(t.label){case 0:return[4,Promise.all(n.map(function(r){return r.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(r){return Lx(r)})]}})})}function Yce(n,e){return g0(this,void 0,void 0,function(){var t,r;return v0(this,function(i){switch(i.label){case 0:return n===null?[2,[]]:n.items?(t=_C(n.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(Kce))]):[3,2];case 1:return r=i.sent(),[2,Mk(G8(r))];case 2:return[2,Mk(_C(n.files).map(function(s){return Lx(s)}))]}})})}function Mk(n){return n.filter(function(e){return jce.indexOf(e.name)===-1})}function _C(n){if(n===null)return[];for(var e=[],t=0;t<n.length;t++){var r=n[t];e.push(r)}return e}function Kce(n){if(typeof n.webkitGetAsEntry!="function")return Ak(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?$8(e):Ak(n)}function G8(n){return n.reduce(function(e,t){return zce(e,Array.isArray(t)?G8(t):[t])},[])}function Ak(n){var e=n.getAsFile();if(!e)return Promise.reject(n+" is not a File");var t=Lx(e);return Promise.resolve(t)}function Zce(n){return g0(this,void 0,void 0,function(){return v0(this,function(e){return[2,n.isDirectory?$8(n):Jce(n)]})})}function $8(n){var e=n.createReader();return new Promise(function(t,r){var i=[];function s(){var o=this;e.readEntries(function(a){return g0(o,void 0,void 0,function(){var l,c,f;return v0(this,function(h){switch(h.label){case 0:if(a.length)return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=h.sent(),t(l),[3,4];case 3:return c=h.sent(),r(c),[3,4];case 4:return[3,6];case 5:f=Promise.all(a.map(Zce)),i.push(f),s(),h.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function Jce(n){return g0(this,void 0,void 0,function(){return v0(this,function(e){return[2,new Promise(function(t,r){n.file(function(i){var s=Lx(i,n.fullPath);t(s)},function(i){r(i)})})]})})}var O1={},Ck;function Qce(){return Ck||(Ck=1,O1.__esModule=!0,O1.default=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var r=n.name||"",i=(n.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return t.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0}),O1}var eue=Qce();const tue=Vl(eue);function Rk(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Pk(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(t),!0).forEach(function(r){X8(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Rk(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function X8(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ik(n,e){return sue(n)||iue(n,e)||rue(n,e)||nue()}function nue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rue(n,e){if(n){if(typeof n=="string")return Lk(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Lk(n,e)}}function Lk(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function iue(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function sue(n){if(Array.isArray(n))return n}var oue="file-invalid-type",aue="file-too-large",lue="file-too-small",cue="too-many-files",uue=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:oue,message:"File type must be ".concat(t)}},Dk=function(e){return{code:aue,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},Nk=function(e){return{code:lue,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},fue={code:cue,message:"Too many files"};function q8(n,e){var t=n.type==="application/x-moz-file"||tue(n,e);return[t,t?null:uue(e)]}function Y8(n,e,t){if(Pv(n.size))if(Pv(e)&&Pv(t)){if(n.size>t)return[!1,Dk(t)];if(n.size<e)return[!1,Nk(e)]}else{if(Pv(e)&&n.size<e)return[!1,Nk(e)];if(Pv(t)&&n.size>t)return[!1,Dk(t)]}return[!0,null]}function Pv(n){return n!=null}function due(n){var e=n.files,t=n.accept,r=n.minSize,i=n.maxSize,s=n.multiple,o=n.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var l=q8(a,t),c=Ik(l,1),f=c[0],h=Y8(a,r,i),p=Ik(h,1),v=p[0];return f&&v})}function TS(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function F1(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function kk(n){n.preventDefault()}function hue(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function pue(n){return n.indexOf("Edge/")!==-1}function mue(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return hue(n)||pue(n)}function Xc(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!TS(r)&&a&&a.apply(void 0,[r].concat(s)),TS(r)})}}function gue(){return"showOpenFilePicker"in window}function vue(n){return n=typeof n=="string"?n.split(","):n,[{description:"everything",accept:Array.isArray(n)?n.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return Pk(Pk({},e),{},X8({},t,[]))},{}):{}}]}function yue(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function xue(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}var _ue=["children"],wue=["open"],Sue=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],bue=["refKey","onChange","onClick"];function Eue(n){return Aue(n)||Mue(n)||K8(n)||Tue()}function Tue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mue(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Aue(n){if(Array.isArray(n))return wC(n)}function _M(n,e){return Pue(n)||Rue(n,e)||K8(n,e)||Cue()}function Cue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K8(n,e){if(n){if(typeof n=="string")return wC(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return wC(n,e)}}function wC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Rue(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function Pue(n){if(Array.isArray(n))return n}function Ok(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ai(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ok(Object(t),!0).forEach(function(r){SC(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ok(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function SC(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function MS(n,e){if(n==null)return{};var t=Iue(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Iue(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var c2=z.forwardRef(function(n,e){var t=n.children,r=MS(n,_ue),i=J8(r),s=i.open,o=MS(i,wue);return z.useImperativeHandle(e,function(){return{open:s}},[s]),Te.createElement(z.Fragment,null,t(Ai(Ai({},o),{},{open:s})))});c2.displayName="Dropzone";var Z8={disabled:!1,getFilesFromEvent:Wce,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};c2.defaultProps=Z8;c2.propTypes={children:ui.func,accept:ui.oneOfType([ui.string,ui.arrayOf(ui.string)]),multiple:ui.bool,preventDropOnDocument:ui.bool,noClick:ui.bool,noKeyboard:ui.bool,noDrag:ui.bool,noDragEventsBubbling:ui.bool,minSize:ui.number,maxSize:ui.number,maxFiles:ui.number,disabled:ui.bool,getFilesFromEvent:ui.func,onFileDialogCancel:ui.func,onFileDialogOpen:ui.func,useFsAccessApi:ui.bool,onDragEnter:ui.func,onDragLeave:ui.func,onDragOver:ui.func,onDrop:ui.func,onDropAccepted:ui.func,onDropRejected:ui.func,validator:ui.func};var bC={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function J8(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Ai(Ai({},Z8),n),t=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,c=e.onDragEnter,f=e.onDragLeave,h=e.onDragOver,p=e.onDrop,v=e.onDropAccepted,y=e.onDropRejected,w=e.onFileDialogCancel,S=e.onFileDialogOpen,_=e.useFsAccessApi,A=e.preventDropOnDocument,R=e.noClick,P=e.noKeyboard,U=e.noDrag,k=e.noDragEventsBubbling,E=e.validator,j=z.useMemo(function(){return typeof S=="function"?S:Fk},[S]),O=z.useMemo(function(){return typeof w=="function"?w:Fk},[w]),F=z.useRef(null),Y=z.useRef(null),te=z.useReducer(Lue,bC),ie=_M(te,2),ue=ie[0],_e=ie[1],he=ue.isFocused,ge=ue.isFileDialogActive,q=ue.draggedFiles,oe=z.useRef(typeof window<"u"&&window.isSecureContext&&_&&gue()),$=function(){!oe.current&&ge&&setTimeout(function(){if(Y.current){var Oe=Y.current.files;Oe.length||(_e({type:"closeDialog"}),O())}},300)};z.useEffect(function(){return window.addEventListener("focus",$,!1),function(){window.removeEventListener("focus",$,!1)}},[Y,ge,O,oe]);var ne=z.useRef([]),we=function(Oe){F.current&&F.current.contains(Oe.target)||(Oe.preventDefault(),ne.current=[])};z.useEffect(function(){return A&&(document.addEventListener("dragover",kk,!1),document.addEventListener("drop",we,!1)),function(){A&&(document.removeEventListener("dragover",kk),document.removeEventListener("drop",we))}},[F,A]);var nt=z.useCallback(function(xe){xe.preventDefault(),xe.persist(),ht(xe),ne.current=[].concat(Eue(ne.current),[xe.target]),F1(xe)&&Promise.resolve(i(xe)).then(function(Oe){TS(xe)&&!k||(_e({draggedFiles:Oe,isDragActive:!0,type:"setDraggedFiles"}),c&&c(xe))})},[i,c,k]),Ce=z.useCallback(function(xe){xe.preventDefault(),xe.persist(),ht(xe);var Oe=F1(xe);if(Oe&&xe.dataTransfer)try{xe.dataTransfer.dropEffect="copy"}catch{}return Oe&&h&&h(xe),!1},[h,k]),Ve=z.useCallback(function(xe){xe.preventDefault(),xe.persist(),ht(xe);var Oe=ne.current.filter(function(Ge){return F.current&&F.current.contains(Ge)}),Le=Oe.indexOf(xe.target);Le!==-1&&Oe.splice(Le,1),ne.current=Oe,!(Oe.length>0)&&(_e({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),F1(xe)&&f&&f(xe))},[F,f,k]),He=z.useCallback(function(xe,Oe){var Le=[],Ge=[];xe.forEach(function(St){var wt=q8(St,t),Rt=_M(wt,2),vn=Rt[0],xt=Rt[1],Tt=Y8(St,o,s),Zt=_M(Tt,2),Wt=Zt[0],Ot=Zt[1],Ae=E?E(St):null;if(vn&&Wt&&!Ae)Le.push(St);else{var Ye=[xt,Ot];Ae&&(Ye=Ye.concat(Ae)),Ge.push({file:St,errors:Ye.filter(function(_t){return _t})})}}),(!a&&Le.length>1||a&&l>=1&&Le.length>l)&&(Le.forEach(function(St){Ge.push({file:St,errors:[fue]})}),Le.splice(0)),_e({acceptedFiles:Le,fileRejections:Ge,type:"setFiles"}),p&&p(Le,Ge,Oe),Ge.length>0&&y&&y(Ge,Oe),Le.length>0&&v&&v(Le,Oe)},[_e,a,t,o,s,l,p,v,y,E]),je=z.useCallback(function(xe){xe.preventDefault(),xe.persist(),ht(xe),ne.current=[],F1(xe)&&Promise.resolve(i(xe)).then(function(Oe){TS(xe)&&!k||He(Oe,xe)}),_e({type:"reset"})},[i,He,k]),pt=z.useCallback(function(){if(oe.current){_e({type:"openDialog"}),j();var xe={multiple:a,types:vue(t)};window.showOpenFilePicker(xe).then(function(Oe){return i(Oe)}).then(function(Oe){He(Oe,null),_e({type:"closeDialog"})}).catch(function(Oe){yue(Oe)?(O(Oe),_e({type:"closeDialog"})):xue(Oe)&&(oe.current=!1,Y.current&&(Y.current.value=null,Y.current.click()))});return}Y.current&&(_e({type:"openDialog"}),j(),Y.current.value=null,Y.current.click())},[_e,j,O,_,He,t,a]),bt=z.useCallback(function(xe){!F.current||!F.current.isEqualNode(xe.target)||(xe.key===" "||xe.key==="Enter"||xe.keyCode===32||xe.keyCode===13)&&(xe.preventDefault(),pt())},[F,pt]),Dt=z.useCallback(function(){_e({type:"focus"})},[]),Jt=z.useCallback(function(){_e({type:"blur"})},[]),at=z.useCallback(function(){R||(mue()?setTimeout(pt,0):pt())},[R,pt]),Xe=function(Oe){return r?null:Oe},ae=function(Oe){return P?null:Xe(Oe)},Bt=function(Oe){return U?null:Xe(Oe)},ht=function(Oe){k&&Oe.stopPropagation()},Re=z.useMemo(function(){return function(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Oe=xe.refKey,Le=Oe===void 0?"ref":Oe,Ge=xe.role,St=xe.onKeyDown,wt=xe.onFocus,Rt=xe.onBlur,vn=xe.onClick,xt=xe.onDragEnter,Tt=xe.onDragOver,Zt=xe.onDragLeave,Wt=xe.onDrop,Ot=MS(xe,Sue);return Ai(Ai(SC({onKeyDown:ae(Xc(St,bt)),onFocus:ae(Xc(wt,Dt)),onBlur:ae(Xc(Rt,Jt)),onClick:Xe(Xc(vn,at)),onDragEnter:Bt(Xc(xt,nt)),onDragOver:Bt(Xc(Tt,Ce)),onDragLeave:Bt(Xc(Zt,Ve)),onDrop:Bt(Xc(Wt,je)),role:typeof Ge=="string"&&Ge!==""?Ge:"button"},Le,F),!r&&!P?{tabIndex:0}:{}),Ot)}},[F,bt,Dt,Jt,at,nt,Ce,Ve,je,P,U,r]),mt=z.useCallback(function(xe){xe.stopPropagation()},[]),tn=z.useMemo(function(){return function(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Oe=xe.refKey,Le=Oe===void 0?"ref":Oe,Ge=xe.onChange,St=xe.onClick,wt=MS(xe,bue),Rt=SC({accept:t,multiple:a,type:"file",style:{display:"none"},onChange:Xe(Xc(Ge,je)),onClick:Xe(Xc(St,mt)),tabIndex:-1},Le,Y);return Ai(Ai({},Rt),wt)}},[Y,t,a,je,r]),It=q.length,se=It>0&&due({files:q,accept:t,minSize:o,maxSize:s,multiple:a,maxFiles:l}),ee=It>0&&!se;return Ai(Ai({},ue),{},{isDragAccept:se,isDragReject:ee,isFocused:he&&!r,getRootProps:Re,getInputProps:tn,rootRef:F,inputRef:Y,open:Xe(pt)})}function Lue(n,e){switch(e.type){case"focus":return Ai(Ai({},n),{},{isFocused:!0});case"blur":return Ai(Ai({},n),{},{isFocused:!1});case"openDialog":return Ai(Ai({},bC),{},{isFileDialogActive:!0});case"closeDialog":return Ai(Ai({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":var t=e.isDragActive,r=e.draggedFiles;return Ai(Ai({},n),{},{draggedFiles:r,isDragActive:t});case"setFiles":return Ai(Ai({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return Ai({},bC);default:return n}}function Fk(){}function Due(n){let e;const t=new Set,r=(c,f)=>{const h=typeof c=="function"?c(e):c;if(h!==e){const p=e;e=f?h:Object.assign({},e,h),t.forEach(v=>v(e,p))}},i=()=>e,s=(c,f=i,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=f(e);function v(){const y=f(e);if(!h(p,y)){const w=p;c(p=y,w)}}return t.add(v),()=>t.delete(v)},l={setState:r,getState:i,subscribe:(c,f,h)=>f||h?s(c,f,h):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const Nue=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Uk=Nue?z.useEffect:z.useLayoutEffect;function kue(n){const e=typeof n=="function"?Due(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=z.useReducer(S=>S+1,0),o=e.getState(),a=z.useRef(o),l=z.useRef(r),c=z.useRef(i),f=z.useRef(!1),h=z.useRef();h.current===void 0&&(h.current=r(o));let p,v=!1;(a.current!==o||l.current!==r||c.current!==i||f.current)&&(p=r(o),v=!i(h.current,p)),Uk(()=>{v&&(h.current=p),a.current=o,l.current=r,c.current=i,f.current=!1});const y=z.useRef(o);Uk(()=>{const S=()=>{try{const A=e.getState(),R=l.current(A);c.current(h.current,R)||(a.current=A,h.current=R,s())}catch{f.current=!0,s()}},_=e.subscribe(S);return e.getState()!==y.current&&S(),_},[]);const w=v?p:h.current;return z.useDebugValue(w),w};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}const Oue=n=>(e,t,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let c=o;if(a){const f=(l==null?void 0:l.equalityFn)||Object.is;let h=o(r.getState());c=p=>{const v=o(p);if(!f(h,v)){const y=h;a(h=v,y)}},l!=null&&l.fireImmediately&&a(h,h)}return i(c)},n(e,t,r)};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var wM,Bk;function Fue(){return Bk||(Bk=1,wM=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1}),wM}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var SM,zk;function Q8(){if(zk)return SM;zk=1;var n=Fue();function e(t){return n(t)===!0&&Object.prototype.toString.call(t)==="[object Object]"}return SM=function(r){var i,s;return!(e(r)===!1||(i=r.constructor,typeof i!="function")||(s=i.prototype,e(s)===!1)||s.hasOwnProperty("isPrototypeOf")===!1)},SM}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var bM,Vk;function u2(){if(Vk)return bM;Vk=1;var n=Q8();return bM=function(t){return n(t)||typeof t=="function"||Array.isArray(t)},bM}/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var EM,Hk;function Uue(){return Hk||(Hk=1,EM=function(e,t,r){for(var i in e)if(t.call(r,e[i],i,e)===!1)break}),EM}var TM,jk;function Bue(){if(jk)return TM;jk=1;var n=u2(),e=Uue();function t(o,a){for(var l=arguments.length,c=0;++c<l;){var f=arguments[c];i(f)&&e(f,r,o)}return o}function r(o,a){if(s(a)){var l=this[a];i(o)&&i(l)?t(l,o):this[a]=o}}function i(o){return n(o)&&!Array.isArray(o)}function s(o){return o!=="__proto__"&&o!=="constructor"&&o!=="prototype"}return TM=t,TM}/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var MM,Wk;function zue(){if(Wk)return MM;Wk=1,MM=function(t,r,i,s,o){if(!n(t)||!r)return t;if(r=e(r),i&&(r+="."+e(i)),s&&(r+="."+e(s)),o&&(r+="."+e(o)),r in t)return t[r];for(var a=r.split("."),l=a.length,c=-1;t&&++c<l;){for(var f=a[c];f[f.length-1]==="\\";)f=f.slice(0,-1)+"."+a[++c];t=t[f]}return t};function n(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function e(t){return t?Array.isArray(t)?t.join("."):t:""}return MM}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var AM,Gk;function Vue(){return Gk||(Gk=1,AM=function(n,e){if(n===null||typeof n>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return n;for(var t=Object.prototype.propertyIsEnumerable,r=Object(n),i=arguments.length,s=0;++s<i;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),l=0;l<a.length;l++){var c=a[l];t.call(o,c)&&(r[c]=o[c])}return r}),AM}var CM,$k;function Hue(){if($k)return CM;$k=1;var n=u2(),e=Vue();CM=Object.assign||function(a){if(a===null||typeof a>"u")throw new TypeError("Cannot convert undefined or null to object");s(a)||(a={});for(var l=1;l<arguments.length;l++){var c=arguments[l];r(c)&&(c=i(c)),s(c)&&(t(a,c),e(a,c))}return a};function t(a,l){for(var c in l)o(l,c)&&(a[c]=l[c])}function r(a){return a&&typeof a=="string"}function i(a){var l={};for(var c in a)l[c]=a[c];return l}function s(a){return a&&typeof a=="object"||n(a)}function o(a,l){return Object.prototype.hasOwnProperty.call(a,l)}return CM}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var RM,Xk;function jue(){if(Xk)return RM;Xk=1;var n=Hue();RM=function(i,s,o){if(typeof i!="string")throw new TypeError("expected a string");typeof s=="function"&&(o=s,s=null),typeof s=="string"&&(s={sep:s});var a=n({sep:"."},s),l=a.quotes||['"',"'","`"],c;a.brackets===!0?c={"<":">","(":")","[":"]","{":"}"}:a.brackets&&(c=a.brackets);var f=[],h=[],p=[""],v=a.sep,y=i.length,w=-1,S;function _(){if(c&&h.length)return c[h[h.length-1]]}for(;++w<y;){var A=i[w],R=i[w+1],P={val:A,idx:w,arr:p,str:i};if(f.push(P),A==="\\"){P.val=r(a,i,w)===!0?A+R:R,P.escaped=!0,typeof o=="function"&&o(P),p[p.length-1]+=P.val,w++;continue}if(c&&c[A]){h.push(A);var U=_(),k=w+1;if(i.indexOf(U,k+1)!==-1)for(;h.length&&k<y;){var E=i[++k];if(E==="\\"){E++;continue}if(l.indexOf(E)!==-1){k=e(i,E,k+1);continue}if(U=_(),h.length&&i.indexOf(U,k+1)===-1)break;if(c[E]){h.push(E);continue}U===E&&h.pop()}if(S=k,S===-1){p[p.length-1]+=A;continue}A=i.slice(w,S+1),P.val=A,P.idx=w=S}if(l.indexOf(A)!==-1){if(S=e(i,A,w+1),S===-1){p[p.length-1]+=A;continue}t(A,a)===!0?A=i.slice(w,S+1):A=i.slice(w+1,S),P.val=A,P.idx=w=S}if(typeof o=="function"&&(o(P,f),A=P.val,w=P.idx),P.val===v&&P.split!==!1){p.push("");continue}p[p.length-1]+=P.val}return p};function e(i,s,o,a){var l=i.indexOf(s,o);return i.charAt(l-1)==="\\"?e(i,s,l+1):l}function t(i,s){return s.keepDoubleQuotes===!0&&i==='"'||s.keepSingleQuotes===!0&&i==="'"?!0:s.keepQuotes}function r(i,s,o){return typeof i.keepEscaping=="function"?i.keepEscaping(s,o):i.keepEscaping===!0||s[o+1]==="\\"}return RM}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var PM,qk;function Wue(){return qk||(qk=1,PM=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")}),PM}var IM,Yk;function Gue(){if(Yk)return IM;Yk=1;var n=Wue();IM=function(i){n(i)||(i={});for(var s=arguments.length,o=1;o<s;o++){var a=arguments[o];n(a)&&e(i,a)}return i};function e(r,i){for(var s in i)t(i,s)&&(r[s]=i[s])}function t(r,i){return Object.prototype.hasOwnProperty.call(r,i)}return IM}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var LM,Kk;function $ue(){return Kk||(Kk=1,LM=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")}),LM}/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var DM,Zk;function Xue(){if(Zk)return DM;Zk=1;var n=jue(),e=Gue(),t=Q8(),r=$ue();DM=function(s,o,a){if(!r(s)||(Array.isArray(o)&&(o=[].concat.apply([],o).join(".")),typeof o!="string"))return s;for(var l=n(o,{sep:".",brackets:!0}).filter(i),c=l.length,f=-1,h=s;++f<c;){var p=l[f];if(f!==c-1){r(h[p])||(h[p]={}),h=h[p];continue}t(h[p])&&t(a)?h[p]=e({},h[p],a):h[p]=a}return s};function i(s){return s!=="__proto__"&&s!=="constructor"&&s!=="prototype"}return DM}var NM,Jk;function que(){if(Jk)return NM;Jk=1;var n=u2(),e=Bue(),t=zue(),r=Xue();return NM=function(s,o,a){if(!n(s))throw new TypeError("expected an object");if(typeof o!="string"||a==null)return e.apply(null,arguments);if(typeof a=="string")return r(s,o,a),s;var l=t(s,o);return n(a)&&n(l)&&(a=e({},l,a)),r(s,o,a),s},NM}var Yue=que();const Kue=Vl(Yue),f2=(...n)=>n.filter(Boolean).join(".");function Zue(n){const e=n.split(".");return[e.pop(),e.join(".")||void 0]}function Jue(n,e){return Object.entries(Gae(n,e)).reduce((t,[,{value:r,disabled:i,key:s}])=>(t[s]=i?void 0:r,t),{})}function Que(n,e){const t=z.useRef();return qy(n,t.current)||(t.current=n),t.current}function eV(n,e){return z.useMemo(n,Que(e))}function efe(n){const e=z.useRef(null),t=z.useRef(null),r=z.useRef(!0);return z.useLayoutEffect(()=>{n||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),z.useEffect(()=>{if(r.current){r.current=!1;return}let i;const s=e.current,o=()=>{n&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),t.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=t.current.getBoundingClientRect();return s.style.height=a+"px",n||(s.style.overflow="hidden",i=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(i)}},[n]),{wrapperRef:e,contentRef:t}}const tfe=n=>{const[e,t]=z.useState(n.getVisiblePaths());return z.useEffect(()=>{t(n.getVisiblePaths());const r=n.useStore.subscribe(n.getVisiblePaths,t,{equalityFn:Mb});return()=>r()},[n]),e};function nfe(n,e,t){return n.useStore(i=>{const s=Xn(Xn({},t),i.data);return Jue(s,e)},Mb)}function tV(n=3){const e=z.useRef(null),t=z.useRef(null),[r,i]=z.useState(!1),s=z.useCallback(()=>i(!0),[]),o=z.useCallback(()=>i(!1),[]);return z.useLayoutEffect(()=>{if(r){const{bottom:a,top:l,left:c}=e.current.getBoundingClientRect(),{height:f}=t.current.getBoundingClientRect(),h=a+f>window.innerHeight-40?"up":"down";t.current.style.position="fixed",t.current.style.zIndex="10000",t.current.style.left=c+"px",h==="down"?t.current.style.top=a+n+"px":t.current.style.bottom=window.innerHeight-l+n+"px"}},[n,r]),{popinRef:e,wrapperRef:t,shown:r,show:s,hide:o}}Cce([Rce]);const rfe={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};ya.extend({color:()=>n=>$o(n).isValid()});const ife=n=>ya().color().test(n);function nV(n,{format:e,hasAlpha:t,isString:r}){const i=rfe[e]+(r&&e!=="hex"?"String":""),s=n[i]();return typeof s=="object"&&!t?$ae(s,["a"]):s}const rV=(n,e)=>{const t=$o(n);if(!t.isValid())throw Error("Invalid color");return nV(t,e)},sfe=(n,e)=>nV($o(n),Xn(Xn({},e),{},{isString:!0,format:"hex"})),ofe=({value:n})=>{const e=Ace(n),t=e==="name"?"hex":e,r=typeof n=="object"?"a"in n:e==="hex"&&n.length===8||/^(rgba)|(hsla)|(hsva)/.test(n),i={format:t,hasAlpha:r,isString:typeof n=="string"};return{value:rV(n,i),settings:i}};var afe=Object.freeze({__proto__:null,schema:ife,sanitize:rV,format:sfe,normalize:ofe});const lfe=Wn("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),cfe=Wn("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),ufe=Wn("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function Qk(n,e){return e!=="rgb"?$o(n).toRgb():n}function ffe({value:n,displayValue:e,settings:t,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:s}=Mo(),{format:o,hasAlpha:a}=t,{popinRef:l,wrapperRef:c,shown:f,show:h,hide:p}=tV(),v=z.useRef(0),[y,w]=z.useState(()=>Qk(n,o)),S=a?Oce:Uce,_=()=>{w(Qk(n,o)),h(),i()},A=()=>{p(),s(),window.clearTimeout(v.current)},R=()=>{v.current=window.setTimeout(A,500)};return z.useEffect(()=>()=>window.clearTimeout(v.current),[]),Te.createElement(Te.Fragment,null,Te.createElement(lfe,{ref:l,active:f,onClick:()=>_(),style:{color:e}}),f&&Te.createElement(n2,null,Te.createElement(T8,{onPointerUp:A}),Te.createElement(ufe,{ref:c,onMouseEnter:()=>window.clearTimeout(v.current),onMouseLeave:P=>P.buttons===0&&R()},Te.createElement(S,{color:y,onChange:r}))))}function dfe(){const{value:n,displayValue:e,label:t,onChange:r,onUpdate:i,settings:s}=Mo();return Te.createElement(jl,{input:!0},Te.createElement(Lc,null,t),Te.createElement(cfe,null,Te.createElement(ffe,{value:n,displayValue:e,onChange:r,onUpdate:i,settings:s}),Te.createElement(t2,{value:e,onChange:r,onUpdate:i})))}var hfe=Xn({component:dfe},afe);function pfe(){const{label:n,displayValue:e,onUpdate:t,settings:r}=Mo();return Te.createElement(jl,{input:!0},Te.createElement(Lc,null,n),Te.createElement(i2,{value:e,settings:r,onUpdate:t}))}var mfe=Xn({component:pfe},D8(["x","y","z"]));const gfe=Wn("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),vfe=Wn("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function yfe({value:n,settings:e,onUpdate:t}){const r=z.useRef(),i=z.useRef(0),s=z.useRef(0),o=z.useRef(1),[a,l]=z.useState(!1),[c,f]=z.useState(!1),[h,p]=A8(),v=z.useRef(null),y=z.useRef(null);z.useLayoutEffect(()=>{if(a){const{top:te,left:ie,width:ue,height:_e}=v.current.getBoundingClientRect();y.current.style.left=ie+ue/2+"px",y.current.style.top=te+_e/2+"px"}},[a]);const{keys:[w,S],joystick:_}=e,A=_==="invertY"?1:-1,{[w]:{step:R},[S]:{step:P}}=e,U=gf("sizes","joystickWidth"),k=gf("sizes","joystickHeight"),E=parseFloat(U)*.8/2,j=parseFloat(k)*.8/2,O=z.useCallback(()=>{r.current||(f(!0),i.current&&p({x:i.current*E}),s.current&&p({y:s.current*-j}),r.current=window.setInterval(()=>{t(te=>{const ie=R*i.current*o.current,ue=A*P*s.current*o.current;return Array.isArray(te)?{[w]:te[0]+ie,[S]:te[1]+ue}:{[w]:te[w]+ie,[S]:te[S]+ue}})},16))},[E,j,t,p,R,P,w,S,A]),F=z.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,f(!1)},[]);z.useEffect(()=>{function te(ie){o.current=f8(ie)}return window.addEventListener("keydown",te),window.addEventListener("keyup",te),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",te),window.removeEventListener("keyup",te)}},[]);const Y=Px(({first:te,active:ie,delta:[ue,_e],movement:[he,ge]})=>{te&&l(!0);const q=Vd(he,-E,E),oe=Vd(ge,-j,j);i.current=Math.abs(he)>Math.abs(q)?Math.sign(he-q):0,s.current=Math.abs(ge)>Math.abs(oe)?Math.sign(oe-ge):0;let $=n[w],ne=n[S];ie?(i.current||($+=ue*R*o.current,p({x:q})),s.current||(ne-=A*_e*P*o.current,p({y:oe})),i.current||s.current?O():F(),t({[w]:$,[S]:ne})):(l(!1),i.current=0,s.current=0,p({x:0,y:0}),F())});return Te.createElement(gfe,Wi({ref:v},Y()),a&&Te.createElement(n2,null,Te.createElement(vfe,{ref:y,isOutOfBounds:c},Te.createElement("div",null),Te.createElement("span",{ref:h}))))}const xfe=Wn("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function _fe(){const{label:n,displayValue:e,onUpdate:t,settings:r}=Mo();return Te.createElement(jl,{input:!0},Te.createElement(Lc,null,n),Te.createElement(xfe,{withJoystick:!!r.joystick},r.joystick&&Te.createElement(yfe,{value:e,settings:r,onUpdate:t}),Te.createElement(i2,{value:e,settings:r,onUpdate:t})))}const wfe=["joystick"],iV=D8(["x","y"]),Sfe=n=>{let{joystick:e=!0}=n,t=ti(n,wfe);const{value:r,settings:i}=iV.normalize(t);return{value:r,settings:Xn(Xn({},i),{},{joystick:e})}};var bfe=Xn(Xn({component:_fe},iV),{},{normalize:Sfe});const Efe=n=>{if(n!==void 0){if(n instanceof File)try{return URL.createObjectURL(n)}catch{return}if(typeof n=="string"&&n.indexOf("blob:")===0)return n;throw Error("Invalid image format [undefined | blob |File].")}},Tfe=(n,e)=>typeof e=="object"&&"image"in e,Mfe=({image:n})=>({value:n});var Afe=Object.freeze({__proto__:null,sanitize:Efe,schema:Tfe,normalize:Mfe});const Cfe=Wn("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),Rfe=Wn("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),Pfe=Wn("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),Ife=Wn("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),Lfe=Wn("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),Dfe=Wn("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function Nfe(){const{label:n,value:e,onUpdate:t,disabled:r}=Mo(),{popinRef:i,wrapperRef:s,shown:o,show:a,hide:l}=tV(),c=z.useCallback(y=>{y.length&&t(y[0])},[t]),f=z.useCallback(y=>{y.stopPropagation(),t(void 0)},[t]),{getRootProps:h,getInputProps:p,isDragAccept:v}=J8({maxFiles:1,accept:"image/*",onDrop:c,disabled:r});return Te.createElement(jl,{input:!0},Te.createElement(Lc,null,n),Te.createElement(Cfe,null,Te.createElement(Pfe,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&Te.createElement(n2,null,Te.createElement(T8,{onPointerUp:l,style:{cursor:"pointer"}}),Te.createElement(Ife,{ref:s,style:{backgroundImage:`url(${e})`}})),Te.createElement(Rfe,h({isDragAccept:v}),Te.createElement("input",p()),Te.createElement(Lfe,null,v?"drop image":"click or drop")),Te.createElement(Dfe,{onClick:f,disabled:!e})))}var kfe=Xn({component:Nfe},Afe);const eO=ya().number(),Ofe=(n,e)=>ya().array().length(2).every.number().test(n)&&ya().schema({min:eO,max:eO}).test(e),AS=n=>({min:n[0],max:n[1]}),sV=(n,{bounds:[e,t]},r)=>{const i=Array.isArray(n)?AS(n):n,s={min:r[0],max:r[1]},{min:o,max:a}=Xn(Xn({},s),i);return[Vd(Number(o),e,Math.max(e,a)),Vd(Number(a),Math.min(t,o),t)]},Ffe=({value:n,min:e,max:t})=>{const r={min:e,max:t},i=L8(AS(n),{min:r,max:r}),s=[e,t],o=Xn(Xn({},i),{},{bounds:s});return{value:sV(AS(n),o,n),settings:o}};var Ufe=Object.freeze({__proto__:null,schema:Ofe,format:AS,sanitize:sV,normalize:Ffe});const Bfe=["value","bounds","onDrag"],zfe=["bounds"],Vfe=Wn("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function Hfe(n){let{value:e,bounds:[t,r],onDrag:i}=n,s=ti(n,Bfe);const o=z.useRef(null),a=z.useRef(null),l=z.useRef(null),c=z.useRef(0),f=gf("sizes","scrubberWidth"),h=Px(({event:y,first:w,xy:[S],movement:[_],memo:A={}})=>{if(w){const{width:P,left:U}=o.current.getBoundingClientRect();c.current=P-parseFloat(f);const k=(y==null?void 0:y.target)===a.current||(y==null?void 0:y.target)===l.current;A.pos=SS((S-U)/P,t,r);const E=Math.abs(A.pos-e.min)-Math.abs(A.pos-e.max);A.key=E<0||E===0&&A.pos<=e.min?"min":"max",k&&(A.pos=e[A.key])}const R=A.pos+SS(_/c.current,0,r-t);return i({[A.key]:Nle(R,s[A.key])}),A}),p=`calc(${wS(e.min,t,r)} * (100% - ${f} - 8px) + 4px)`,v=`calc(${1-wS(e.max,t,r)} * (100% - ${f} - 8px) + 4px)`;return Te.createElement(R8,Wi({ref:o},h()),Te.createElement(C8,null,Te.createElement(P8,{style:{left:p,right:v}})),Te.createElement(hC,{position:"left",ref:a,style:{left:p}}),Te.createElement(hC,{position:"right",ref:l,style:{right:v}}))}function jfe(){const{label:n,displayValue:e,onUpdate:t,settings:r}=Mo(),i=ti(r,zfe);return Te.createElement(Te.Fragment,null,Te.createElement(jl,{input:!0},Te.createElement(Lc,null,n),Te.createElement(Vfe,null,Te.createElement(Hfe,Wi({value:e},r,{onDrag:t})),Te.createElement(i2,{value:e,settings:i,onUpdate:t,innerLabelTrim:0}))))}var Wfe=Xn({component:jfe},Ufe);const Gfe=()=>{const n=new Map;return{on:(e,t)=>{let r=n.get(e);r===void 0&&(r=new Set,n.set(e,r)),r.add(t)},off:(e,t)=>{const r=n.get(e);r!==void 0&&(r.delete(t),r.size===0&&n.delete(e))},emit:(e,...t)=>{const r=n.get(e);if(r!==void 0)for(const i of r)i(...t)}}},$fe=["type","value"],Xfe=["onChange","transient","onEditStart","onEditEnd"],qfe=function(){const e=kue(Oue(()=>({data:{}}))),t=Gfe();this.storeId=Wae(),this.useStore=e;const r={},i=new Set;this.getVisiblePaths=()=>{const o=this.getData(),a=Object.keys(o),l=[];Object.entries(r).forEach(([f,h])=>{h.render&&a.some(p=>p.indexOf(f)===0)&&!h.render(this.get)&&l.push(f+".")});const c=[];return i.forEach(f=>{f in o&&o[f].__refCount>0&&l.every(h=>f.indexOf(h)===-1)&&(!o[f].render||o[f].render(this.get))&&c.push(f)}),c},this.setOrderedPaths=o=>{o.forEach(a=>i.add(a))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(a=>{const l=a.data;return o.forEach(c=>{if(c in l){const f=l[c];f.__refCount--,f.__refCount===0&&f.type in bc&&delete l[c]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>r[o]||{},this.getData=()=>e.getState().data,this.addData=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([f,h])=>{let p=c[f];if(p){const{type:v,value:y}=h,w=ti(h,$fe);v!==p.type?af(Ci.INPUT_TYPE_OVERRIDE,v):((p.__refCount===0||a)&&Object.assign(p,w),p.__refCount++)}else c[f]=Xn(Xn({},h),{},{__refCount:1})}),{data:c}})},this.setValueAtPath=(o,a,l)=>{e.setState(c=>{const f=c.data;return mk(f[o],a,o,this,l),{data:f}})},this.setSettingsAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].settings=Xn(Xn({},c[o].settings),a),{data:c}})},this.disableInputAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].disabled=a,{data:c}})},this.set=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([f,h])=>{try{mk(c[f],h,void 0,void 0,a)}catch{}}),{data:c}})},this.getInput=o=>{try{return this.getData()[o]}catch{af(Ci.PATH_DOESNT_EXIST,o)}},this.get=o=>{var a;return(a=this.getInput(o))===null||a===void 0?void 0:a.value},this.emitOnEditStart=o=>{t.emit(`onEditStart:${o}`,this.get(o),o,Xn(Xn({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{t.emit(`onEditEnd:${o}`,this.get(o),o,Xn(Xn({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,a)=>{const l=`onEditStart:${o}`;return t.on(l,a),()=>t.off(l,a)},this.subscribeToEditEnd=(o,a)=>{const l=`onEditEnd:${o}`;return t.on(l,a),()=>t.off(l,a)};const s=(o,a,l)=>{const c={};return Object.entries(o).forEach(([f,h])=>{if(f==="")return af(Ci.EMPTY_KEY);let p=f2(a,f);if(h.type===bc.FOLDER){const v=s(h.schema,p,l);Object.assign(c,v),p in r||(r[p]=h.settings)}else if(f in l)af(Ci.DUPLICATE_KEYS,f,p,l[f].path);else{const v=Jae(h,f,p,c);if(v){const{type:y,options:w,input:S}=v,{onChange:_,transient:A,onEditStart:R,onEditEnd:P}=w,U=ti(w,Xfe);c[p]=Xn(Xn(Xn({type:y},U),S),{},{fromPanel:!0}),l[f]={path:p,onChange:_,transient:A,onEditStart:R,onEditEnd:P}}else af(Ci.UNKNOWN_INPUT,p,h)}}),c};this.getDataFromSchema=o=>{const a={};return[s(o,"",a),a]}},oV=new qfe,Yfe={collapsed:!1};function Kfe(n,e){return{type:bc.FOLDER,schema:n,settings:Xn(Xn({},Yfe),e)}}const tO=n=>"__levaInput"in n,Zfe=(n,e)=>{const t={},r=e?e.toLowerCase():null;return n.forEach(i=>{const[s,o]=Zue(i);(!r||s.toLowerCase().indexOf(r)>-1)&&Kue(t,o,{[s]:{__levaInput:!0,path:i}})}),t},Jfe=["type","label","path","valueKey","value","settings","setValue","disabled"];function Qfe(n){let{type:e,label:t,path:r,valueKey:i,value:s,settings:o,setValue:a,disabled:l}=n,c=ti(n,Jfe);const{displayValue:f,onChange:h,onUpdate:p}=M8({type:e,value:s,settings:o,setValue:a}),v=Xp[e].component;return v?Te.createElement(g8.Provider,{value:Xn({key:i,path:r,id:""+r,label:t,displayValue:f,value:s,onChange:h,onUpdate:p,settings:o,setValue:a,disabled:l},c)},Te.createElement(yle,{disabled:l},Te.createElement(v,null))):(af(Ci.NO_COMPONENT_FOR_TYPE,e,r),null)}const ede=Wn("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function tde({onClick:n,settings:e,label:t}){const r=Rx();return Te.createElement(jl,null,Te.createElement(ede,{disabled:e.disabled,onClick:()=>n(r.get)},t))}const nde=Wn("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),rde=Wn("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),ide=({label:n,opts:e})=>{let t=typeof n=="string"&&n.trim()===""?null:n,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(t=e.label),r=e.opts),{label:t,opts:r}};function sde(n){const{label:e,opts:t}=ide(n),r=Rx();return Te.createElement(jl,{input:!!e},e&&Te.createElement(Lc,null,e),Te.createElement(nde,null,Object.entries(t).map(([i,s])=>Te.createElement(rde,{key:i,onClick:()=>s(r.get)},i))))}const ode=Wn("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),aV=100;function ade(n,e){n.push(e),n.length>aV&&n.shift()}const lde=z.forwardRef(function({initialValue:n},e){const t=gf("colors","highlight3"),r=gf("colors","elevation2"),i=gf("colors","highlight1"),[s,o]=z.useMemo(()=>[$o(i).alpha(.4).toRgbString(),$o(i).alpha(.1).toRgbString()],[i]),a=z.useRef([n]),l=z.useRef(n),c=z.useRef(n),f=z.useRef(),h=z.useCallback((y,w)=>{if(!y)return;const{width:S,height:_}=y,A=new Path2D,R=S/aV,P=_*.05;for(let E=0;E<a.current.length;E++){const j=wS(a.current[E],l.current,c.current),O=R*E,F=_-j*(_-P*2)-P;A.lineTo(O,F)}w.clearRect(0,0,S,_);const U=new Path2D(A);U.lineTo(R*(a.current.length+1),_),U.lineTo(0,_),U.lineTo(0,0);const k=w.createLinearGradient(0,0,0,_);k.addColorStop(0,s),k.addColorStop(1,o),w.fillStyle=k,w.fill(U),w.strokeStyle=r,w.lineJoin="round",w.lineWidth=14,w.stroke(A),w.strokeStyle=t,w.lineWidth=2,w.stroke(A)},[t,r,s,o]),[p,v]=Ale(h);return z.useImperativeHandle(e,()=>({frame:y=>{(l.current===void 0||y<l.current)&&(l.current=y),(c.current===void 0||y>c.current)&&(c.current=y),ade(a.current,y),f.current=requestAnimationFrame(()=>h(p.current,v.current))}}),[p,v,h]),z.useEffect(()=>()=>cancelAnimationFrame(f.current),[]),Te.createElement(ode,{ref:p})}),nO=n=>Number.isFinite(n)?n.toPrecision(2):n.toString(),cde=z.forwardRef(function({initialValue:n},e){const[t,r]=z.useState(nO(n));return z.useImperativeHandle(e,()=>({frame:i=>r(nO(i))}),[]),Te.createElement("div",null,t)});function rO(n){return typeof n=="function"?n():n.current}function ude({label:n,objectOrFn:e,settings:t}){const r=z.useRef(),i=z.useRef(rO(e));return z.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=r.current)===null||o===void 0||o.frame(rO(e))},t.interval);return()=>window.clearInterval(s)},[e,t.interval]),Te.createElement(jl,{input:!0},Te.createElement(Lc,{align:"top"},n),t.graph?Te.createElement(lde,{ref:r,initialValue:i.current}):Te.createElement(cde,{ref:r,initialValue:i.current}))}const fde=["type","label","key"],dde={[bc.BUTTON]:tde,[bc.BUTTON_GROUP]:sde,[bc.MONITOR]:ude},hde=Te.memo(({path:n})=>{const[e,{set:t,setSettings:r,disable:i,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=Rle(n);if(!e)return null;const{type:l,label:c,key:f}=e,h=ti(e,fde);if(l in bc){const p=dde[l];return Te.createElement(p,Wi({label:c,path:n},h))}return l in Xp?Te.createElement(Qfe,Wi({key:s+n,type:l,label:c,storeId:s,path:n,valueKey:f,setValue:t,setSettings:r,disable:i,emitOnEditStart:o,emitOnEditEnd:a},h)):(Oae(Ci.UNSUPPORTED_INPUT,l,n),null)});function pde({toggle:n,toggled:e,name:t}){return Te.createElement(mle,{onClick:()=>n()},Te.createElement(r2,{toggled:e}),Te.createElement("div",null,t))}const mde=({name:n,path:e,tree:t})=>{const r=Rx(),i=f2(e,n),{collapsed:s,color:o}=r.getFolderSettings(i),[a,l]=z.useState(!s),c=z.useRef(null),f=gf("colors","folderWidgetColor"),h=gf("colors","folderTextColor");return z.useLayoutEffect(()=>{c.current.style.setProperty("--leva-colors-folderWidgetColor",o||f),c.current.style.setProperty("--leva-colors-folderTextColor",o||h)},[o,f,h]),Te.createElement(bS,{ref:c},Te.createElement(pde,{name:n,toggled:a,toggle:()=>l(p=>!p)}),Te.createElement(lV,{parent:i,tree:t,toggled:a}))},lV=Te.memo(({isRoot:n=!1,fill:e=!1,flat:t=!1,parent:r,tree:i,toggled:s})=>{const{wrapperRef:o,contentRef:a}=efe(s),l=Rx(),c=([h,p])=>{var v;return(tO(p)?(v=l.getInput(p.path))===null||v===void 0?void 0:v.order:l.getFolderSettings(f2(r,h)).order)||0},f=Object.entries(i).sort((h,p)=>c(h)-c(p));return Te.createElement(fC,{ref:o,isRoot:n,fill:e,flat:t},Te.createElement(S8,{ref:a,isRoot:n,toggled:s},f.map(([h,p])=>tO(p)?Te.createElement(hde,{key:p.path,valueKey:p.valueKey,path:p.path}):Te.createElement(mde,{key:h,name:h,path:r,tree:p}))))}),gde=Wn("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${E8}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),cV=40,CS=Wn("i",{$flexCenter:"",width:cV,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),vde=Wn("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),yde=Wn("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${CS}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),xde=Wn("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),_de=Wn("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:cV}}}}),wde=Te.forwardRef(({setFilter:n,toggle:e},t)=>{const[r,i]=z.useState(""),s=z.useMemo(()=>u8(n,250),[n]),o=()=>{n(""),i("")},a=l=>{const c=l.currentTarget.value;e(!0),i(c)};return z.useEffect(()=>{s(r)},[r,s]),Te.createElement(Te.Fragment,null,Te.createElement(xde,{ref:t,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:a}),Te.createElement(CS,{onClick:()=>o(),style:{visibility:r?"visible":"hidden"}},Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},Te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function Sde({setFilter:n,onDrag:e,onDragStart:t,onDragEnd:r,toggle:i,toggled:s,title:o,drag:a,filterEnabled:l,from:c}){const[f,h]=z.useState(!1),p=z.useRef(null);z.useEffect(()=>{var y,w;f?(y=p.current)===null||y===void 0||y.focus():(w=p.current)===null||w===void 0||w.blur()},[f]);const v=Px(({offset:[y,w],first:S,last:_})=>{e({x:y,y:w}),S&&t({x:y,y:w}),_&&r({x:y,y:w})},{filterTaps:!0,from:({offset:[y,w]})=>[(c==null?void 0:c.x)||y,(c==null?void 0:c.y)||w]});return z.useEffect(()=>{const y=w=>{w.key==="L"&&w.shiftKey&&w.metaKey&&h(S=>!S)};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[]),Te.createElement(Te.Fragment,null,Te.createElement(vde,{mode:a?"drag":void 0},Te.createElement(CS,{active:!s,onClick:()=>i()},Te.createElement(r2,{toggled:s,width:12,height:8})),Te.createElement(_de,Wi({},a?v():{},{drag:a,filterEnabled:l}),o===void 0&&a?Te.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},Te.createElement("circle",{cx:"2",cy:"2",r:"2"}),Te.createElement("circle",{cx:"14",cy:"2",r:"2"}),Te.createElement("circle",{cx:"26",cy:"2",r:"2"}),Te.createElement("circle",{cx:"2",cy:"12",r:"2"}),Te.createElement("circle",{cx:"14",cy:"12",r:"2"}),Te.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),l&&Te.createElement(CS,{active:f,onClick:()=>h(y=>!y)},Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},Te.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),Te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),Te.createElement(yde,{toggled:f},Te.createElement(wde,{ref:p,setFilter:n,toggle:i})))}const bde=["store","hidden","theme","collapsed"];function Ede(n){let{store:e,hidden:t=!1,theme:r,collapsed:i=!1}=n,s=ti(n,bde);const o=eV(()=>cle(r),[r]),[a,l]=z.useState(!i),c=typeof i=="object"?!i.collapsed:a,f=z.useMemo(()=>typeof i=="object"?h=>{typeof h=="function"?i.onChange(!h(!i.collapsed)):i.onChange(!h)}:l,[i]);return!e||t?null:Te.createElement(e2.Provider,{value:o},Te.createElement(Tde,Wi({store:e},s,{toggled:c,setToggle:f,rootClass:o.className})))}const Tde=Te.memo(({store:n,rootClass:e,fill:t=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:l,setToggle:c})=>{var f,h;const p=tfe(n),[v,y]=z.useState(""),w=z.useMemo(()=>Zfe(p,v),[p,v]),[S,_]=A8(),A=i||p.length>0,R=typeof o=="object"&&o.title||void 0,P=typeof o=="object"&&(f=o.drag)!==null&&f!==void 0?f:!0,U=typeof o=="object"&&(h=o.filter)!==null&&h!==void 0?h:!0,k=typeof o=="object"&&o.position||void 0,E=typeof o=="object"&&o.onDrag||void 0,j=typeof o=="object"&&o.onDragStart||void 0,O=typeof o=="object"&&o.onDragEnd||void 0;return Te.useEffect(()=>{_({x:k==null?void 0:k.x,y:k==null?void 0:k.y})},[k,_]),lle(),Te.createElement(y8.Provider,{value:{hideCopyButton:a}},Te.createElement(gde,{ref:S,className:e,fill:t,flat:r,oneLineLabels:s,hideTitleBar:!o,style:{display:A?"block":"none"}},o&&Te.createElement(Sde,{onDrag:F=>{_(F),E==null||E(F)},onDragStart:F=>j==null?void 0:j(F),onDragEnd:F=>O==null?void 0:O(F),setFilter:y,toggle:F=>c(Y=>F??!Y),toggled:l,title:R,drag:P,filterEnabled:U,from:k}),A&&Te.createElement(v8.Provider,{value:n},Te.createElement(lV,{isRoot:!0,fill:t,flat:r,tree:w,toggled:l}))))}),Mde=["isRoot"];let RS=!1,dp=null;function uV(n){let{isRoot:e=!1}=n,t=ti(n,Mde);return z.useEffect(()=>(RS=!0,!e&&dp&&(dp.remove(),dp=null),()=>{e||(RS=!1)}),[e]),Te.createElement(Ede,Wi({store:oV},t))}function Ade(n){z.useEffect(()=>{n&&!RS&&(dp||(dp=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(dp),ele(Te.createElement(uV,{isRoot:!0}),dp))),RS=!0)},[n])}function Cde(n,e,t,r,i){let s,o,a,l,c;return typeof n=="string"?(o=n,s=e,Array.isArray(t)&&(c=t)):(s=n,Array.isArray(e)?c=e:(l=e,c=t)),{schema:s,folderName:o,folderSettings:a,hookSettings:l,deps:c||[]}}function Rde(n,e,t,r,i){const{folderName:s,schema:o,folderSettings:a,hookSettings:l,deps:c}=Cde(n,e,t),f=typeof o=="function",h=z.useRef(!1),p=z.useRef(!0),v=eV(()=>{h.current=!0;const Y=typeof o=="function"?o():o;return s?{[s]:Kfe(Y,a)}:Y},c),y=!(l!=null&&l.store);Ade(y);const[w]=z.useState(()=>(l==null?void 0:l.store)||oV),[S,_]=z.useMemo(()=>w.getDataFromSchema(v),[w,v]),[A,R,P,U,k]=z.useMemo(()=>{const Y=[],te=[],ie={},ue={},_e={};return Object.values(_).forEach(({path:he,onChange:ge,onEditStart:q,onEditEnd:oe,transient:$})=>{Y.push(he),ge?(ie[he]=ge,$||te.push(he)):te.push(he),q&&(ue[he]=q),oe&&(_e[he]=oe)}),[Y,te,ie,ue,_e]},[_]),E=z.useMemo(()=>w.orderPaths(A),[A,w]),j=nfe(w,R,S),O=z.useCallback(Y=>{const te=Object.entries(Y).reduce((ie,[ue,_e])=>Object.assign(ie,{[_[ue].path]:_e}),{});w.set(te,!1)},[w,_]),F=z.useCallback(Y=>w.get(_[Y].path),[w,_]);return z.useEffect(()=>{const Y=!p.current&&h.current;return w.addData(S,Y),p.current=!1,h.current=!1,()=>w.disposePaths(E)},[w,E,S]),z.useEffect(()=>{const Y=[];return Object.entries(P).forEach(([te,ie])=>{ie(w.get(te),te,Xn({initial:!0,get:w.get},w.getInput(te)));const ue=w.useStore.subscribe(_e=>{const he=_e.data[te];return[he.disabled?void 0:he.value,he]},([_e,he])=>ie(_e,te,Xn({initial:!1,get:w.get},he)),{equalityFn:Mb});Y.push(ue)}),()=>Y.forEach(te=>te())},[w,P]),z.useEffect(()=>{const Y=[];return Object.entries(U).forEach(([te,ie])=>Y.push(w.subscribeToEditStart(te,ie))),Object.entries(k).forEach(([te,ie])=>Y.push(w.subscribeToEditEnd(te,ie))),()=>Y.forEach(te=>te())},[U,k,w]),f?[j,O,F]:j}Mf(Cc.SELECT,$le);Mf(Cc.IMAGE,kfe);Mf(Cc.NUMBER,Ole);Mf(Cc.COLOR,hfe);Mf(Cc.STRING,tce);Mf(Cc.BOOLEAN,lce);Mf(Cc.INTERVAL,Wfe);Mf(Cc.VECTOR3D,mfe);Mf(Cc.VECTOR2D,bfe);const Pde=()=>{const n=z.useRef(),[e,t]=z.useState([0,0]),r=Bp(Sie,"/assets/models/abstract-v1.glb"),i=Rde({thickness:{value:.2,min:0,max:3,step:.05},roughness:{value:0,min:0,max:1,step:.1},transmission:{value:1,min:0,max:1,step:.1},ior:{value:1.2,min:0,max:3,step:.1},chromaticAberration:{value:.02,min:0,max:1},backside:{value:!0}}),s=new al({thickness:i.thickness,roughness:i.roughness,transmission:i.transmission,ior:i.ior,metalness:1,clearcoat:1,clearcoatRoughness:0,color:"#ffffff",side:i.backside?2:0});return r.scene.traverse(o=>{o.isMesh&&(o.material=s)}),cP(()=>{n.current&&(n.current.rotation.y+=.005,n.current.rotation.z-=.005,n.current.rotation.x-=.005)}),z.useEffect(()=>{const o=a=>{const l=a.clientX/window.innerWidth*2-1,c=-(a.clientY/window.innerHeight)*2+1;t([l,c])};return window.addEventListener("mousemove",o),()=>{window.removeEventListener("mousemove",o)}},[]),N.jsx("primitive",{object:r.scene,scale:.8,ref:n})},Ide=()=>N.jsxs(nte,{camera:{position:[0,0,-200],zoom:1.5},children:[N.jsx(uV,{hidden:!0}),N.jsxs(z.Suspense,{fallback:null,children:[N.jsx("ambientLight",{intensity:.5}),N.jsx("directionalLight",{intensity:2,position:[0,2,3]}),N.jsx(Pde,{}),N.jsx(jne,{preset:"studio"}),N.jsx(wne,{enabled:!1})]})]}),Lde=()=>{const n=z.useRef(null),e=z.useRef(null),[t,r]=z.useState({width:0,height:0}),{scrollYProgress:i}=sU({target:e,offset:["start end","end start"]}),s=N.jsx(N.Fragment,{children:"Carlos Padilla Carlos Padilla"});return z.useEffect(()=>{Rr.registerPlugin(Jn);const o=()=>{if(n.current){const{width:a,height:l}=n.current.getBoundingClientRect();r({width:a,height:l})}};return o(),window.addEventListener("resize",o),Rr.to(e.current,{opacity:.5,scrollTrigger:{trigger:e.current,start:"top top",end:"bottom +=100",scrub:!0}}),()=>{window.removeEventListener("resize",o)}},[]),N.jsxs("section",{className:"bg-white-200 w-full flex items-center justify-items-center relative min-h-screen",id:"introduction-section",ref:e,children:[N.jsx("div",{"data-text":"Scroll Down",className:"absolute top-[10vh] left-[5vw] md:w-[45vw] sm:flex hidden lg:w-[30vw] h-[60vh] bg-[#ffa500] border-[30px] after:absolute after:content-[attr(data-text)] after:bg-white-100 border-white-100 after:left-0 after:bottom-0 after:w-full after:h-[7vh] after:pt-4 after:font-lay  after:uppercase after:text-black-950 after:text-[.8rem]",children:N.jsxs("nav",{className:"flex flex-col p-4",children:[N.jsxs("a",{className:"font-lay uppercase z-50 text-white-50 text-[.8rem] group flex items-center gap-1",href:"#works",children:[N.jsx("span",{children:"Works"}),N.jsx("svg",{className:"rotate-180 group-hover:translate-y-[-3px] group-hover:translate-x-[3px] transition-all duration-200",width:"9",height:"8",viewBox:"0 0 9 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:N.jsx("path",{className:"fill-transparent group-hover:fill-white-50 transition-all duration-200",d:"M8.49966 1.01851C8.50988 0.742553 8.29446 0.510563 8.01851 0.500342L3.52159 0.33379C3.24564 0.32357 3.01365 0.538989 3.00343 0.814942C2.99321 1.09089 3.20862 1.32288 3.48458 1.33311L7.48184 1.48115L7.33379 5.47841C7.32357 5.75436 7.53899 5.98635 7.81494 5.99657C8.09089 6.0068 8.32288 5.79138 8.3331 5.51542L8.49966 1.01851ZM1.34023 7.8664L8.34023 1.3664L7.65977 0.633603L0.659774 7.1336L1.34023 7.8664Z"})})]}),N.jsxs(Es,{className:"font-lay uppercase z-50 text-white-50 text-[.8rem] group flex items-center gap-1",to:"/blog/",children:[N.jsx("span",{children:"Blog"}),N.jsx("svg",{className:"group-hover:translate-y-[-3px] group-hover:translate-x-[3px] transition-all duration-200",width:"9",height:"8",viewBox:"0 0 9 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:N.jsx("path",{className:"fill-transparent group-hover:fill-white-50 transition-all duration-200",d:"M8.49966 1.01851C8.50988 0.742553 8.29446 0.510563 8.01851 0.500342L3.52159 0.33379C3.24564 0.32357 3.01365 0.538989 3.00343 0.814942C2.99321 1.09089 3.20862 1.32288 3.48458 1.33311L7.48184 1.48115L7.33379 5.47841C7.32357 5.75436 7.53899 5.98635 7.81494 5.99657C8.09089 6.0068 8.32288 5.79138 8.3331 5.51542L8.49966 1.01851ZM1.34023 7.8664L8.34023 1.3664L7.65977 0.633603L0.659774 7.1336L1.34023 7.8664Z"})})]}),N.jsxs("a",{className:"font-lay uppercase z-50 text-white-50 text-[.8rem] group flex items-center gap-1",href:"#services",children:[N.jsx("span",{children:"Services"}),N.jsx("svg",{className:"rotate-180 group-hover:translate-y-[-3px] group-hover:translate-x-[3px] transition-all duration-200",width:"9",height:"8",viewBox:"0 0 9 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:N.jsx("path",{className:"fill-transparent group-hover:fill-white-50 transition-all duration-200",d:"M8.49966 1.01851C8.50988 0.742553 8.29446 0.510563 8.01851 0.500342L3.52159 0.33379C3.24564 0.32357 3.01365 0.538989 3.00343 0.814942C2.99321 1.09089 3.20862 1.32288 3.48458 1.33311L7.48184 1.48115L7.33379 5.47841C7.32357 5.75436 7.53899 5.98635 7.81494 5.99657C8.09089 6.0068 8.32288 5.79138 8.3331 5.51542L8.49966 1.01851ZM1.34023 7.8664L8.34023 1.3664L7.65977 0.633603L0.659774 7.1336L1.34023 7.8664Z"})})]}),N.jsxs(Es,{className:"font-lay uppercase z-50 text-white-50 text-[.8rem] group flex items-center gap-1",to:"/demos/",children:[N.jsx("span",{children:"Demos"}),N.jsx("svg",{className:"group-hover:translate-y-[-3px] group-hover:translate-x-[3px] transition-all duration-200",width:"9",height:"8",viewBox:"0 0 9 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:N.jsx("path",{className:"fill-transparent group-hover:fill-white-50 transition-all duration-200",d:"M8.49966 1.01851C8.50988 0.742553 8.29446 0.510563 8.01851 0.500342L3.52159 0.33379C3.24564 0.32357 3.01365 0.538989 3.00343 0.814942C2.99321 1.09089 3.20862 1.32288 3.48458 1.33311L7.48184 1.48115L7.33379 5.47841C7.32357 5.75436 7.53899 5.98635 7.81494 5.99657C8.09089 6.0068 8.32288 5.79138 8.3331 5.51542L8.49966 1.01851ZM1.34023 7.8664L8.34023 1.3664L7.65977 0.633603L0.659774 7.1336L1.34023 7.8664Z"})})]})]})}),N.jsx("div",{className:"absolute top-0 right-0 w-full h-full pointer-events-none",children:N.jsx(Ide,{})}),N.jsxs("div",{className:"absolute w-full left-0 bottom-0",children:[N.jsx("div",{className:"absolute right-4 bottom-full lg:w-[20%] md:w-[30%] sm:w-[40%] w-[60%]",children:N.jsxs("p",{className:"font-lay uppercase text-black-950 text-right text-base leading-none",children:["Independent Front End Developer, Currently DEWAL, Base in Almera, Spain // Portfolio @ ",new Date().getFullYear()]})}),N.jsx("div",{className:"select-none overflow-hidden z-[111111111111]",children:N.jsx(Pp.h1,{style:{x:W1(i,[0,1],["100%","-100%"])},className:"relative leading-none text-black-950 uppercase font-sans font-bold text-[6rem] sm:text-[8rem] md:text-[10rem] lg:text-[12rem] text-nowrap",children:s})})]})]})},Dde=({data:n})=>{const e=z.useRef(null),t=z.useRef(null),r=z.useRef(null);return z.useEffect(()=>{Rr.registerPlugin(Jn);const i=r.current.querySelectorAll("span");i.forEach(s=>{Rr.set(s,{opacity:.3})}),Rr.to(i,{scrollTrigger:{trigger:t.current,scrub:!0,start:"top center",end:"+=300"},opacity:1,ease:"none",stagger:1}),Rr.to(e.current,{scrollTrigger:{trigger:"#introduction-section",scrub:!0,start:"bottom bottom",end:"bottom +=100"},height:"200px",ease:"none"})},[]),N.jsxs("section",{className:"w-full bg-black-950 relative z-30",ref:t,children:[N.jsx("div",{className:"absolute w-full h-auto left-0 bottom-full items-end",children:N.jsx("div",{ref:e,className:"h-0 bg-black-950"})}),N.jsxs("div",{className:"w-[90%] mx-auto flex flex-col gap-3 py-8",children:[N.jsx("p",{className:"font-lay uppercase text-white-50 text-[.8rem]",children:"About"}),N.jsx("p",{ref:r,className:"font-lay font-light text-white-50 leading-6 md:w-[50%] sm:w-[70%] w-[85%] text-[1.2rem]",children:n.about.phrase.split("").map((i,s)=>N.jsx("span",{children:i},s))})]})]})},Nde=({data:n})=>{const e=z.useRef(null),t=z.useRef(null),r=z.useRef([]);return z.useEffect(()=>{const i=r.current;Rr.timeline({defaults:{ease:"sine"},scrollTrigger:{trigger:e.current,start:"center center",end:"+=250%",pin:e.current.parentNode,scrub:.5}}).from(i,{stagger:.07,y:()=>Rr.utils.random(window.innerHeight,window.innerHeight*1.8)}).from(t.current,{duration:1.2,ease:"power4",yPercent:180,autoAlpha:0},.8)},[n.scrollLayoutImages]),N.jsxs("section",{className:"w-full bg-black-950 relative min-h-screen content-center grid place-items-center grid-scroll-layout",children:[N.jsx("div",{className:"grid w-full h-full grid-cols-8 grid-scroll-layout-template grid-scroll-layout-main gap-2",ref:e,children:n.scrollLayoutImages.map((i,s)=>N.jsx("div",{ref:o=>r.current[s]=o,className:"bg-center pointer-events-none will-change-transform bg-cover translate-z-custom",style:{gridArea:i.pos,backgroundImage:`url(${i.src})`}},s))}),N.jsx("div",{className:"relative flex flex-col items-end grid-scroll-layout-main",ref:t,children:N.jsxs("div",{className:"flex flex-col",children:[N.jsx("h2",{className:"text-white-50 select-none text-left text-5xl font-saol font-normal",children:"Projects."}),N.jsx("p",{className:"text-white-50 mt-2 select-none text-center text-xl sm:text-3xl font-lay font-normal",children:"Works, personal projects and demos"})]})})]})};var lw={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var kde=lw.exports,iO;function Ode(){return iO||(iO=1,function(n){(function(e,t){n.exports=e.document?t(e,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return t(r)}})(typeof window<"u"?window:kde,function(e,t){var r=[],i=Object.getPrototypeOf,s=r.slice,o=r.flat?function(b){return r.flat.call(b)}:function(b){return r.concat.apply([],b)},a=r.push,l=r.indexOf,c={},f=c.toString,h=c.hasOwnProperty,p=h.toString,v=p.call(Object),y={},w=function(C){return typeof C=="function"&&typeof C.nodeType!="number"&&typeof C.item!="function"},S=function(C){return C!=null&&C===C.window},_=e.document,A={type:!0,src:!0,nonce:!0,noModule:!0};function R(b,C,D){D=D||_;var V,G,X=D.createElement("script");if(X.text=b,C)for(V in A)G=C[V]||C.getAttribute&&C.getAttribute(V),G&&X.setAttribute(V,G);D.head.appendChild(X).parentNode.removeChild(X)}function P(b){return b==null?b+"":typeof b=="object"||typeof b=="function"?c[f.call(b)]||"object":typeof b}var U="3.7.1",k=/HTML$/i,E=function(b,C){return new E.fn.init(b,C)};E.fn=E.prototype={jquery:U,constructor:E,length:0,toArray:function(){return s.call(this)},get:function(b){return b==null?s.call(this):b<0?this[b+this.length]:this[b]},pushStack:function(b){var C=E.merge(this.constructor(),b);return C.prevObject=this,C},each:function(b){return E.each(this,b)},map:function(b){return this.pushStack(E.map(this,function(C,D){return b.call(C,D,C)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,function(b,C){return(C+1)%2}))},odd:function(){return this.pushStack(E.grep(this,function(b,C){return C%2}))},eq:function(b){var C=this.length,D=+b+(b<0?C:0);return this.pushStack(D>=0&&D<C?[this[D]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:r.sort,splice:r.splice},E.extend=E.fn.extend=function(){var b,C,D,V,G,X,J=arguments[0]||{},Se=1,ve=arguments.length,De=!1;for(typeof J=="boolean"&&(De=J,J=arguments[Se]||{},Se++),typeof J!="object"&&!w(J)&&(J={}),Se===ve&&(J=this,Se--);Se<ve;Se++)if((b=arguments[Se])!=null)for(C in b)V=b[C],!(C==="__proto__"||J===V)&&(De&&V&&(E.isPlainObject(V)||(G=Array.isArray(V)))?(D=J[C],G&&!Array.isArray(D)?X=[]:!G&&!E.isPlainObject(D)?X={}:X=D,G=!1,J[C]=E.extend(De,X,V)):V!==void 0&&(J[C]=V));return J},E.extend({expando:"jQuery"+(U+Math.random()).replace(/\D/g,""),isReady:!0,error:function(b){throw new Error(b)},noop:function(){},isPlainObject:function(b){var C,D;return!b||f.call(b)!=="[object Object]"?!1:(C=i(b),C?(D=h.call(C,"constructor")&&C.constructor,typeof D=="function"&&p.call(D)===v):!0)},isEmptyObject:function(b){var C;for(C in b)return!1;return!0},globalEval:function(b,C,D){R(b,{nonce:C&&C.nonce},D)},each:function(b,C){var D,V=0;if(j(b))for(D=b.length;V<D&&C.call(b[V],V,b[V])!==!1;V++);else for(V in b)if(C.call(b[V],V,b[V])===!1)break;return b},text:function(b){var C,D="",V=0,G=b.nodeType;if(!G)for(;C=b[V++];)D+=E.text(C);return G===1||G===11?b.textContent:G===9?b.documentElement.textContent:G===3||G===4?b.nodeValue:D},makeArray:function(b,C){var D=C||[];return b!=null&&(j(Object(b))?E.merge(D,typeof b=="string"?[b]:b):a.call(D,b)),D},inArray:function(b,C,D){return C==null?-1:l.call(C,b,D)},isXMLDoc:function(b){var C=b&&b.namespaceURI,D=b&&(b.ownerDocument||b).documentElement;return!k.test(C||D&&D.nodeName||"HTML")},merge:function(b,C){for(var D=+C.length,V=0,G=b.length;V<D;V++)b[G++]=C[V];return b.length=G,b},grep:function(b,C,D){for(var V,G=[],X=0,J=b.length,Se=!D;X<J;X++)V=!C(b[X],X),V!==Se&&G.push(b[X]);return G},map:function(b,C,D){var V,G,X=0,J=[];if(j(b))for(V=b.length;X<V;X++)G=C(b[X],X,D),G!=null&&J.push(G);else for(X in b)G=C(b[X],X,D),G!=null&&J.push(G);return o(J)},guid:1,support:y}),typeof Symbol=="function"&&(E.fn[Symbol.iterator]=r[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(b,C){c["[object "+C+"]"]=C.toLowerCase()});function j(b){var C=!!b&&"length"in b&&b.length,D=P(b);return w(b)||S(b)?!1:D==="array"||C===0||typeof C=="number"&&C>0&&C-1 in b}function O(b,C){return b.nodeName&&b.nodeName.toLowerCase()===C.toLowerCase()}var F=r.pop,Y=r.sort,te=r.splice,ie="[\\x20\\t\\r\\n\\f]",ue=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g");E.contains=function(b,C){var D=C&&C.parentNode;return b===D||!!(D&&D.nodeType===1&&(b.contains?b.contains(D):b.compareDocumentPosition&&b.compareDocumentPosition(D)&16))};var _e=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function he(b,C){return C?b==="\0"?"":b.slice(0,-1)+"\\"+b.charCodeAt(b.length-1).toString(16)+" ":"\\"+b}E.escapeSelector=function(b){return(b+"").replace(_e,he)};var ge=_,q=a;(function(){var b,C,D,V,G,X=q,J,Se,ve,De,lt,ft=E.expando,$e=0,Mt=0,Un=Pa(),dr=Pa(),Qn=Pa(),Oi=Pa(),hi=function(de,Pe){return de===Pe&&(G=!0),0},$s="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",io="(?:\\\\[\\da-fA-F]{1,6}"+ie+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",hr="\\["+ie+"*("+io+")(?:"+ie+"*([*^$|!~]?=)"+ie+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+io+"))|)"+ie+"*\\]",dl=":("+io+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+hr+")*)|.*)\\)|)",gr=new RegExp(ie+"+","g"),zr=new RegExp("^"+ie+"*,"+ie+"*"),so=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),Uc=new RegExp(ie+"|>"),Xs=new RegExp(dl),ns=new RegExp("^"+io+"$"),oi={ID:new RegExp("^#("+io+")"),CLASS:new RegExp("^\\.("+io+")"),TAG:new RegExp("^("+io+"|[*])"),ATTR:new RegExp("^"+hr),PSEUDO:new RegExp("^"+dl),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+$s+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},Is=/^(?:input|select|textarea|button)$/i,rs=/^h\d$/i,gi=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ra=/[+~]/,ra=new RegExp("\\\\[\\da-fA-F]{1,6}"+ie+"?|\\\\([^\\r\\n\\f])","g"),Ro=function(de,Pe){var qe="0x"+de.slice(1)-65536;return Pe||(qe<0?String.fromCharCode(qe+65536):String.fromCharCode(qe>>10|55296,qe&1023|56320))},Zd=function(){qs()},ms=La(function(de){return de.disabled===!0&&O(de,"fieldset")},{dir:"parentNode",next:"legend"});function Gi(){try{return J.activeElement}catch{}}try{X.apply(r=s.call(ge.childNodes),ge.childNodes),r[ge.childNodes.length].nodeType}catch{X={apply:function(Pe,qe){q.apply(Pe,s.call(qe))},call:function(Pe){q.apply(Pe,s.call(arguments,1))}}}function kn(de,Pe,qe,tt){var rt,jt,qt,hn,en,Bn,Ln,fn=Pe&&Pe.ownerDocument,Dn=Pe?Pe.nodeType:9;if(qe=qe||[],typeof de!="string"||!de||Dn!==1&&Dn!==9&&Dn!==11)return qe;if(!tt&&(qs(Pe),Pe=Pe||J,ve)){if(Dn!==11&&(en=gi.exec(de)))if(rt=en[1]){if(Dn===9)if(qt=Pe.getElementById(rt)){if(qt.id===rt)return X.call(qe,qt),qe}else return qe;else if(fn&&(qt=fn.getElementById(rt))&&kn.contains(Pe,qt)&&qt.id===rt)return X.call(qe,qt),qe}else{if(en[2])return X.apply(qe,Pe.getElementsByTagName(de)),qe;if((rt=en[3])&&Pe.getElementsByClassName)return X.apply(qe,Pe.getElementsByClassName(rt)),qe}if(!Oi[de+" "]&&(!De||!De.test(de))){if(Ln=de,fn=Pe,Dn===1&&(Uc.test(de)||so.test(de))){for(fn=Ra.test(de)&&Xl(Pe.parentNode)||Pe,(fn!=Pe||!y.scope)&&((hn=Pe.getAttribute("id"))?hn=E.escapeSelector(hn):Pe.setAttribute("id",hn=ft)),Bn=ia(de),jt=Bn.length;jt--;)Bn[jt]=(hn?"#"+hn:":scope")+" "+Po(Bn[jt]);Ln=Bn.join(",")}try{return X.apply(qe,fn.querySelectorAll(Ln)),qe}catch{Oi(de,!0)}finally{hn===ft&&Pe.removeAttribute("id")}}}return oo(de.replace(ue,"$1"),Pe,qe,tt)}function Pa(){var de=[];function Pe(qe,tt){return de.push(qe+" ")>C.cacheLength&&delete Pe[de.shift()],Pe[qe+" "]=tt}return Pe}function ai(de){return de[ft]=!0,de}function hl(de){var Pe=J.createElement("fieldset");try{return!!de(Pe)}catch{return!1}finally{Pe.parentNode&&Pe.parentNode.removeChild(Pe),Pe=null}}function Jd(de){return function(Pe){return O(Pe,"input")&&Pe.type===de}}function Nf(de){return function(Pe){return(O(Pe,"input")||O(Pe,"button"))&&Pe.type===de}}function Ia(de){return function(Pe){return"form"in Pe?Pe.parentNode&&Pe.disabled===!1?"label"in Pe?"label"in Pe.parentNode?Pe.parentNode.disabled===de:Pe.disabled===de:Pe.isDisabled===de||Pe.isDisabled!==!de&&ms(Pe)===de:Pe.disabled===de:"label"in Pe?Pe.disabled===de:!1}}function pl(de){return ai(function(Pe){return Pe=+Pe,ai(function(qe,tt){for(var rt,jt=de([],qe.length,Pe),qt=jt.length;qt--;)qe[rt=jt[qt]]&&(qe[rt]=!(tt[rt]=qe[rt]))})})}function Xl(de){return de&&typeof de.getElementsByTagName<"u"&&de}function qs(de){var Pe,qe=de?de.ownerDocument||de:ge;return qe==J||qe.nodeType!==9||!qe.documentElement||(J=qe,Se=J.documentElement,ve=!E.isXMLDoc(J),lt=Se.matches||Se.webkitMatchesSelector||Se.msMatchesSelector,Se.msMatchesSelector&&ge!=J&&(Pe=J.defaultView)&&Pe.top!==Pe&&Pe.addEventListener("unload",Zd),y.getById=hl(function(tt){return Se.appendChild(tt).id=E.expando,!J.getElementsByName||!J.getElementsByName(E.expando).length}),y.disconnectedMatch=hl(function(tt){return lt.call(tt,"*")}),y.scope=hl(function(){return J.querySelectorAll(":scope")}),y.cssHas=hl(function(){try{return J.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),y.getById?(C.filter.ID=function(tt){var rt=tt.replace(ra,Ro);return function(jt){return jt.getAttribute("id")===rt}},C.find.ID=function(tt,rt){if(typeof rt.getElementById<"u"&&ve){var jt=rt.getElementById(tt);return jt?[jt]:[]}}):(C.filter.ID=function(tt){var rt=tt.replace(ra,Ro);return function(jt){var qt=typeof jt.getAttributeNode<"u"&&jt.getAttributeNode("id");return qt&&qt.value===rt}},C.find.ID=function(tt,rt){if(typeof rt.getElementById<"u"&&ve){var jt,qt,hn,en=rt.getElementById(tt);if(en){if(jt=en.getAttributeNode("id"),jt&&jt.value===tt)return[en];for(hn=rt.getElementsByName(tt),qt=0;en=hn[qt++];)if(jt=en.getAttributeNode("id"),jt&&jt.value===tt)return[en]}return[]}}),C.find.TAG=function(tt,rt){return typeof rt.getElementsByTagName<"u"?rt.getElementsByTagName(tt):rt.querySelectorAll(tt)},C.find.CLASS=function(tt,rt){if(typeof rt.getElementsByClassName<"u"&&ve)return rt.getElementsByClassName(tt)},De=[],hl(function(tt){var rt;Se.appendChild(tt).innerHTML="<a id='"+ft+"' href='' disabled='disabled'></a><select id='"+ft+"-\r\\' disabled='disabled'><option selected=''></option></select>",tt.querySelectorAll("[selected]").length||De.push("\\["+ie+"*(?:value|"+$s+")"),tt.querySelectorAll("[id~="+ft+"-]").length||De.push("~="),tt.querySelectorAll("a#"+ft+"+*").length||De.push(".#.+[+~]"),tt.querySelectorAll(":checked").length||De.push(":checked"),rt=J.createElement("input"),rt.setAttribute("type","hidden"),tt.appendChild(rt).setAttribute("name","D"),Se.appendChild(tt).disabled=!0,tt.querySelectorAll(":disabled").length!==2&&De.push(":enabled",":disabled"),rt=J.createElement("input"),rt.setAttribute("name",""),tt.appendChild(rt),tt.querySelectorAll("[name='']").length||De.push("\\["+ie+"*name"+ie+"*="+ie+`*(?:''|"")`)}),y.cssHas||De.push(":has"),De=De.length&&new RegExp(De.join("|")),hi=function(tt,rt){if(tt===rt)return G=!0,0;var jt=!tt.compareDocumentPosition-!rt.compareDocumentPosition;return jt||(jt=(tt.ownerDocument||tt)==(rt.ownerDocument||rt)?tt.compareDocumentPosition(rt):1,jt&1||!y.sortDetached&&rt.compareDocumentPosition(tt)===jt?tt===J||tt.ownerDocument==ge&&kn.contains(ge,tt)?-1:rt===J||rt.ownerDocument==ge&&kn.contains(ge,rt)?1:V?l.call(V,tt)-l.call(V,rt):0:jt&4?-1:1)}),J}kn.matches=function(de,Pe){return kn(de,null,null,Pe)},kn.matchesSelector=function(de,Pe){if(qs(de),ve&&!Oi[Pe+" "]&&(!De||!De.test(Pe)))try{var qe=lt.call(de,Pe);if(qe||y.disconnectedMatch||de.document&&de.document.nodeType!==11)return qe}catch{Oi(Pe,!0)}return kn(Pe,J,null,[de]).length>0},kn.contains=function(de,Pe){return(de.ownerDocument||de)!=J&&qs(de),E.contains(de,Pe)},kn.attr=function(de,Pe){(de.ownerDocument||de)!=J&&qs(de);var qe=C.attrHandle[Pe.toLowerCase()],tt=qe&&h.call(C.attrHandle,Pe.toLowerCase())?qe(de,Pe,!ve):void 0;return tt!==void 0?tt:de.getAttribute(Pe)},kn.error=function(de){throw new Error("Syntax error, unrecognized expression: "+de)},E.uniqueSort=function(de){var Pe,qe=[],tt=0,rt=0;if(G=!y.sortStable,V=!y.sortStable&&s.call(de,0),Y.call(de,hi),G){for(;Pe=de[rt++];)Pe===de[rt]&&(tt=qe.push(rt));for(;tt--;)te.call(de,qe[tt],1)}return V=null,de},E.fn.uniqueSort=function(){return this.pushStack(E.uniqueSort(s.apply(this)))},C=E.expr={cacheLength:50,createPseudo:ai,match:oi,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(de){return de[1]=de[1].replace(ra,Ro),de[3]=(de[3]||de[4]||de[5]||"").replace(ra,Ro),de[2]==="~="&&(de[3]=" "+de[3]+" "),de.slice(0,4)},CHILD:function(de){return de[1]=de[1].toLowerCase(),de[1].slice(0,3)==="nth"?(de[3]||kn.error(de[0]),de[4]=+(de[4]?de[5]+(de[6]||1):2*(de[3]==="even"||de[3]==="odd")),de[5]=+(de[7]+de[8]||de[3]==="odd")):de[3]&&kn.error(de[0]),de},PSEUDO:function(de){var Pe,qe=!de[6]&&de[2];return oi.CHILD.test(de[0])?null:(de[3]?de[2]=de[4]||de[5]||"":qe&&Xs.test(qe)&&(Pe=ia(qe,!0))&&(Pe=qe.indexOf(")",qe.length-Pe)-qe.length)&&(de[0]=de[0].slice(0,Pe),de[2]=qe.slice(0,Pe)),de.slice(0,3))}},filter:{TAG:function(de){var Pe=de.replace(ra,Ro).toLowerCase();return de==="*"?function(){return!0}:function(qe){return O(qe,Pe)}},CLASS:function(de){var Pe=Un[de+" "];return Pe||(Pe=new RegExp("(^|"+ie+")"+de+"("+ie+"|$)"))&&Un(de,function(qe){return Pe.test(typeof qe.className=="string"&&qe.className||typeof qe.getAttribute<"u"&&qe.getAttribute("class")||"")})},ATTR:function(de,Pe,qe){return function(tt){var rt=kn.attr(tt,de);return rt==null?Pe==="!=":Pe?(rt+="",Pe==="="?rt===qe:Pe==="!="?rt!==qe:Pe==="^="?qe&&rt.indexOf(qe)===0:Pe==="*="?qe&&rt.indexOf(qe)>-1:Pe==="$="?qe&&rt.slice(-qe.length)===qe:Pe==="~="?(" "+rt.replace(gr," ")+" ").indexOf(qe)>-1:Pe==="|="?rt===qe||rt.slice(0,qe.length+1)===qe+"-":!1):!0}},CHILD:function(de,Pe,qe,tt,rt){var jt=de.slice(0,3)!=="nth",qt=de.slice(-4)!=="last",hn=Pe==="of-type";return tt===1&&rt===0?function(en){return!!en.parentNode}:function(en,Bn,Ln){var fn,Dn,ln,Nr,ni,li=jt!==qt?"nextSibling":"previousSibling",ss=en.parentNode,Vr=hn&&en.nodeName.toLowerCase(),ka=!Ln&&!hn,vi=!1;if(ss){if(jt){for(;li;){for(ln=en;ln=ln[li];)if(hn?O(ln,Vr):ln.nodeType===1)return!1;ni=li=de==="only"&&!ni&&"nextSibling"}return!0}if(ni=[qt?ss.firstChild:ss.lastChild],qt&&ka){for(Dn=ss[ft]||(ss[ft]={}),fn=Dn[de]||[],Nr=fn[0]===$e&&fn[1],vi=Nr&&fn[2],ln=Nr&&ss.childNodes[Nr];ln=++Nr&&ln&&ln[li]||(vi=Nr=0)||ni.pop();)if(ln.nodeType===1&&++vi&&ln===en){Dn[de]=[$e,Nr,vi];break}}else if(ka&&(Dn=en[ft]||(en[ft]={}),fn=Dn[de]||[],Nr=fn[0]===$e&&fn[1],vi=Nr),vi===!1)for(;(ln=++Nr&&ln&&ln[li]||(vi=Nr=0)||ni.pop())&&!((hn?O(ln,Vr):ln.nodeType===1)&&++vi&&(ka&&(Dn=ln[ft]||(ln[ft]={}),Dn[de]=[$e,vi]),ln===en)););return vi-=rt,vi===tt||vi%tt===0&&vi/tt>=0}}},PSEUDO:function(de,Pe){var qe,tt=C.pseudos[de]||C.setFilters[de.toLowerCase()]||kn.error("unsupported pseudo: "+de);return tt[ft]?tt(Pe):tt.length>1?(qe=[de,de,"",Pe],C.setFilters.hasOwnProperty(de.toLowerCase())?ai(function(rt,jt){for(var qt,hn=tt(rt,Pe),en=hn.length;en--;)qt=l.call(rt,hn[en]),rt[qt]=!(jt[qt]=hn[en])}):function(rt){return tt(rt,0,qe)}):tt}},pseudos:{not:ai(function(de){var Pe=[],qe=[],tt=Na(de.replace(ue,"$1"));return tt[ft]?ai(function(rt,jt,qt,hn){for(var en,Bn=tt(rt,null,hn,[]),Ln=rt.length;Ln--;)(en=Bn[Ln])&&(rt[Ln]=!(jt[Ln]=en))}):function(rt,jt,qt){return Pe[0]=rt,tt(Pe,null,qt,qe),Pe[0]=null,!qe.pop()}}),has:ai(function(de){return function(Pe){return kn(de,Pe).length>0}}),contains:ai(function(de){return de=de.replace(ra,Ro),function(Pe){return(Pe.textContent||E.text(Pe)).indexOf(de)>-1}}),lang:ai(function(de){return ns.test(de||"")||kn.error("unsupported lang: "+de),de=de.replace(ra,Ro).toLowerCase(),function(Pe){var qe;do if(qe=ve?Pe.lang:Pe.getAttribute("xml:lang")||Pe.getAttribute("lang"))return qe=qe.toLowerCase(),qe===de||qe.indexOf(de+"-")===0;while((Pe=Pe.parentNode)&&Pe.nodeType===1);return!1}}),target:function(de){var Pe=e.location&&e.location.hash;return Pe&&Pe.slice(1)===de.id},root:function(de){return de===Se},focus:function(de){return de===Gi()&&J.hasFocus()&&!!(de.type||de.href||~de.tabIndex)},enabled:Ia(!1),disabled:Ia(!0),checked:function(de){return O(de,"input")&&!!de.checked||O(de,"option")&&!!de.selected},selected:function(de){return de.parentNode&&de.parentNode.selectedIndex,de.selected===!0},empty:function(de){for(de=de.firstChild;de;de=de.nextSibling)if(de.nodeType<6)return!1;return!0},parent:function(de){return!C.pseudos.empty(de)},header:function(de){return rs.test(de.nodeName)},input:function(de){return Is.test(de.nodeName)},button:function(de){return O(de,"input")&&de.type==="button"||O(de,"button")},text:function(de){var Pe;return O(de,"input")&&de.type==="text"&&((Pe=de.getAttribute("type"))==null||Pe.toLowerCase()==="text")},first:pl(function(){return[0]}),last:pl(function(de,Pe){return[Pe-1]}),eq:pl(function(de,Pe,qe){return[qe<0?qe+Pe:qe]}),even:pl(function(de,Pe){for(var qe=0;qe<Pe;qe+=2)de.push(qe);return de}),odd:pl(function(de,Pe){for(var qe=1;qe<Pe;qe+=2)de.push(qe);return de}),lt:pl(function(de,Pe,qe){var tt;for(qe<0?tt=qe+Pe:qe>Pe?tt=Pe:tt=qe;--tt>=0;)de.push(tt);return de}),gt:pl(function(de,Pe,qe){for(var tt=qe<0?qe+Pe:qe;++tt<Pe;)de.push(tt);return de})}},C.pseudos.nth=C.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[b]=Jd(b);for(b in{submit:!0,reset:!0})C.pseudos[b]=Nf(b);function Eu(){}Eu.prototype=C.filters=C.pseudos,C.setFilters=new Eu;function ia(de,Pe){var qe,tt,rt,jt,qt,hn,en,Bn=dr[de+" "];if(Bn)return Pe?0:Bn.slice(0);for(qt=de,hn=[],en=C.preFilter;qt;){(!qe||(tt=zr.exec(qt)))&&(tt&&(qt=qt.slice(tt[0].length)||qt),hn.push(rt=[])),qe=!1,(tt=so.exec(qt))&&(qe=tt.shift(),rt.push({value:qe,type:tt[0].replace(ue," ")}),qt=qt.slice(qe.length));for(jt in C.filter)(tt=oi[jt].exec(qt))&&(!en[jt]||(tt=en[jt](tt)))&&(qe=tt.shift(),rt.push({value:qe,type:jt,matches:tt}),qt=qt.slice(qe.length));if(!qe)break}return Pe?qt.length:qt?kn.error(de):dr(de,hn).slice(0)}function Po(de){for(var Pe=0,qe=de.length,tt="";Pe<qe;Pe++)tt+=de[Pe].value;return tt}function La(de,Pe,qe){var tt=Pe.dir,rt=Pe.next,jt=rt||tt,qt=qe&&jt==="parentNode",hn=Mt++;return Pe.first?function(en,Bn,Ln){for(;en=en[tt];)if(en.nodeType===1||qt)return de(en,Bn,Ln);return!1}:function(en,Bn,Ln){var fn,Dn,ln=[$e,hn];if(Ln){for(;en=en[tt];)if((en.nodeType===1||qt)&&de(en,Bn,Ln))return!0}else for(;en=en[tt];)if(en.nodeType===1||qt)if(Dn=en[ft]||(en[ft]={}),rt&&O(en,rt))en=en[tt]||en;else{if((fn=Dn[jt])&&fn[0]===$e&&fn[1]===hn)return ln[2]=fn[2];if(Dn[jt]=ln,ln[2]=de(en,Bn,Ln))return!0}return!1}}function kf(de){return de.length>1?function(Pe,qe,tt){for(var rt=de.length;rt--;)if(!de[rt](Pe,qe,tt))return!1;return!0}:de[0]}function Da(de,Pe,qe){for(var tt=0,rt=Pe.length;tt<rt;tt++)kn(de,Pe[tt],qe);return qe}function Tu(de,Pe,qe,tt,rt){for(var jt,qt=[],hn=0,en=de.length,Bn=Pe!=null;hn<en;hn++)(jt=de[hn])&&(!qe||qe(jt,tt,rt))&&(qt.push(jt),Bn&&Pe.push(hn));return qt}function ml(de,Pe,qe,tt,rt,jt){return tt&&!tt[ft]&&(tt=ml(tt)),rt&&!rt[ft]&&(rt=ml(rt,jt)),ai(function(qt,hn,en,Bn){var Ln,fn,Dn,ln,Nr=[],ni=[],li=hn.length,ss=qt||Da(Pe||"*",en.nodeType?[en]:en,[]),Vr=de&&(qt||!Pe)?Tu(ss,Nr,de,en,Bn):ss;if(qe?(ln=rt||(qt?de:li||tt)?[]:hn,qe(Vr,ln,en,Bn)):ln=Vr,tt)for(Ln=Tu(ln,ni),tt(Ln,[],en,Bn),fn=Ln.length;fn--;)(Dn=Ln[fn])&&(ln[ni[fn]]=!(Vr[ni[fn]]=Dn));if(qt){if(rt||de){if(rt){for(Ln=[],fn=ln.length;fn--;)(Dn=ln[fn])&&Ln.push(Vr[fn]=Dn);rt(null,ln=[],Ln,Bn)}for(fn=ln.length;fn--;)(Dn=ln[fn])&&(Ln=rt?l.call(qt,Dn):Nr[fn])>-1&&(qt[Ln]=!(hn[Ln]=Dn))}}else ln=Tu(ln===hn?ln.splice(li,ln.length):ln),rt?rt(null,hn,ln,Bn):X.apply(hn,ln)})}function is(de){for(var Pe,qe,tt,rt=de.length,jt=C.relative[de[0].type],qt=jt||C.relative[" "],hn=jt?1:0,en=La(function(fn){return fn===Pe},qt,!0),Bn=La(function(fn){return l.call(Pe,fn)>-1},qt,!0),Ln=[function(fn,Dn,ln){var Nr=!jt&&(ln||Dn!=D)||((Pe=Dn).nodeType?en(fn,Dn,ln):Bn(fn,Dn,ln));return Pe=null,Nr}];hn<rt;hn++)if(qe=C.relative[de[hn].type])Ln=[La(kf(Ln),qe)];else{if(qe=C.filter[de[hn].type].apply(null,de[hn].matches),qe[ft]){for(tt=++hn;tt<rt&&!C.relative[de[tt].type];tt++);return ml(hn>1&&kf(Ln),hn>1&&Po(de.slice(0,hn-1).concat({value:de[hn-2].type===" "?"*":""})).replace(ue,"$1"),qe,hn<tt&&is(de.slice(hn,tt)),tt<rt&&is(de=de.slice(tt)),tt<rt&&Po(de))}Ln.push(qe)}return kf(Ln)}function ql(de,Pe){var qe=Pe.length>0,tt=de.length>0,rt=function(jt,qt,hn,en,Bn){var Ln,fn,Dn,ln=0,Nr="0",ni=jt&&[],li=[],ss=D,Vr=jt||tt&&C.find.TAG("*",Bn),ka=$e+=ss==null?1:Math.random()||.1,vi=Vr.length;for(Bn&&(D=qt==J||qt||Bn);Nr!==vi&&(Ln=Vr[Nr])!=null;Nr++){if(tt&&Ln){for(fn=0,!qt&&Ln.ownerDocument!=J&&(qs(Ln),hn=!ve);Dn=de[fn++];)if(Dn(Ln,qt||J,hn)){X.call(en,Ln);break}Bn&&($e=ka)}qe&&((Ln=!Dn&&Ln)&&ln--,jt&&ni.push(Ln))}if(ln+=Nr,qe&&Nr!==ln){for(fn=0;Dn=Pe[fn++];)Dn(ni,li,qt,hn);if(jt){if(ln>0)for(;Nr--;)ni[Nr]||li[Nr]||(li[Nr]=F.call(en));li=Tu(li)}X.apply(en,li),Bn&&!jt&&li.length>0&&ln+Pe.length>1&&E.uniqueSort(en)}return Bn&&($e=ka,D=ss),ni};return qe?ai(rt):rt}function Na(de,Pe){var qe,tt=[],rt=[],jt=Qn[de+" "];if(!jt){for(Pe||(Pe=ia(de)),qe=Pe.length;qe--;)jt=is(Pe[qe]),jt[ft]?tt.push(jt):rt.push(jt);jt=Qn(de,ql(rt,tt)),jt.selector=de}return jt}function oo(de,Pe,qe,tt){var rt,jt,qt,hn,en,Bn=typeof de=="function"&&de,Ln=!tt&&ia(de=Bn.selector||de);if(qe=qe||[],Ln.length===1){if(jt=Ln[0]=Ln[0].slice(0),jt.length>2&&(qt=jt[0]).type==="ID"&&Pe.nodeType===9&&ve&&C.relative[jt[1].type]){if(Pe=(C.find.ID(qt.matches[0].replace(ra,Ro),Pe)||[])[0],Pe)Bn&&(Pe=Pe.parentNode);else return qe;de=de.slice(jt.shift().value.length)}for(rt=oi.needsContext.test(de)?0:jt.length;rt--&&(qt=jt[rt],!C.relative[hn=qt.type]);)if((en=C.find[hn])&&(tt=en(qt.matches[0].replace(ra,Ro),Ra.test(jt[0].type)&&Xl(Pe.parentNode)||Pe))){if(jt.splice(rt,1),de=tt.length&&Po(jt),!de)return X.apply(qe,tt),qe;break}}return(Bn||Na(de,Ln))(tt,Pe,!ve,qe,!Pe||Ra.test(de)&&Xl(Pe.parentNode)||Pe),qe}y.sortStable=ft.split("").sort(hi).join("")===ft,qs(),y.sortDetached=hl(function(de){return de.compareDocumentPosition(J.createElement("fieldset"))&1}),E.find=kn,E.expr[":"]=E.expr.pseudos,E.unique=E.uniqueSort,kn.compile=Na,kn.select=oo,kn.setDocument=qs,kn.tokenize=ia,kn.escape=E.escapeSelector,kn.getText=E.text,kn.isXML=E.isXMLDoc,kn.selectors=E.expr,kn.support=E.support,kn.uniqueSort=E.uniqueSort})();var oe=function(b,C,D){for(var V=[],G=D!==void 0;(b=b[C])&&b.nodeType!==9;)if(b.nodeType===1){if(G&&E(b).is(D))break;V.push(b)}return V},$=function(b,C){for(var D=[];b;b=b.nextSibling)b.nodeType===1&&b!==C&&D.push(b);return D},ne=E.expr.match.needsContext,we=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function nt(b,C,D){return w(C)?E.grep(b,function(V,G){return!!C.call(V,G,V)!==D}):C.nodeType?E.grep(b,function(V){return V===C!==D}):typeof C!="string"?E.grep(b,function(V){return l.call(C,V)>-1!==D}):E.filter(C,b,D)}E.filter=function(b,C,D){var V=C[0];return D&&(b=":not("+b+")"),C.length===1&&V.nodeType===1?E.find.matchesSelector(V,b)?[V]:[]:E.find.matches(b,E.grep(C,function(G){return G.nodeType===1}))},E.fn.extend({find:function(b){var C,D,V=this.length,G=this;if(typeof b!="string")return this.pushStack(E(b).filter(function(){for(C=0;C<V;C++)if(E.contains(G[C],this))return!0}));for(D=this.pushStack([]),C=0;C<V;C++)E.find(b,G[C],D);return V>1?E.uniqueSort(D):D},filter:function(b){return this.pushStack(nt(this,b||[],!1))},not:function(b){return this.pushStack(nt(this,b||[],!0))},is:function(b){return!!nt(this,typeof b=="string"&&ne.test(b)?E(b):b||[],!1).length}});var Ce,Ve=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,He=E.fn.init=function(b,C,D){var V,G;if(!b)return this;if(D=D||Ce,typeof b=="string")if(b[0]==="<"&&b[b.length-1]===">"&&b.length>=3?V=[null,b,null]:V=Ve.exec(b),V&&(V[1]||!C))if(V[1]){if(C=C instanceof E?C[0]:C,E.merge(this,E.parseHTML(V[1],C&&C.nodeType?C.ownerDocument||C:_,!0)),we.test(V[1])&&E.isPlainObject(C))for(V in C)w(this[V])?this[V](C[V]):this.attr(V,C[V]);return this}else return G=_.getElementById(V[2]),G&&(this[0]=G,this.length=1),this;else return!C||C.jquery?(C||D).find(b):this.constructor(C).find(b);else{if(b.nodeType)return this[0]=b,this.length=1,this;if(w(b))return D.ready!==void 0?D.ready(b):b(E)}return E.makeArray(b,this)};He.prototype=E.fn,Ce=E(_);var je=/^(?:parents|prev(?:Until|All))/,pt={children:!0,contents:!0,next:!0,prev:!0};E.fn.extend({has:function(b){var C=E(b,this),D=C.length;return this.filter(function(){for(var V=0;V<D;V++)if(E.contains(this,C[V]))return!0})},closest:function(b,C){var D,V=0,G=this.length,X=[],J=typeof b!="string"&&E(b);if(!ne.test(b)){for(;V<G;V++)for(D=this[V];D&&D!==C;D=D.parentNode)if(D.nodeType<11&&(J?J.index(D)>-1:D.nodeType===1&&E.find.matchesSelector(D,b))){X.push(D);break}}return this.pushStack(X.length>1?E.uniqueSort(X):X)},index:function(b){return b?typeof b=="string"?l.call(E(b),this[0]):l.call(this,b.jquery?b[0]:b):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(b,C){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(b,C))))},addBack:function(b){return this.add(b==null?this.prevObject:this.prevObject.filter(b))}});function bt(b,C){for(;(b=b[C])&&b.nodeType!==1;);return b}E.each({parent:function(b){var C=b.parentNode;return C&&C.nodeType!==11?C:null},parents:function(b){return oe(b,"parentNode")},parentsUntil:function(b,C,D){return oe(b,"parentNode",D)},next:function(b){return bt(b,"nextSibling")},prev:function(b){return bt(b,"previousSibling")},nextAll:function(b){return oe(b,"nextSibling")},prevAll:function(b){return oe(b,"previousSibling")},nextUntil:function(b,C,D){return oe(b,"nextSibling",D)},prevUntil:function(b,C,D){return oe(b,"previousSibling",D)},siblings:function(b){return $((b.parentNode||{}).firstChild,b)},children:function(b){return $(b.firstChild)},contents:function(b){return b.contentDocument!=null&&i(b.contentDocument)?b.contentDocument:(O(b,"template")&&(b=b.content||b),E.merge([],b.childNodes))}},function(b,C){E.fn[b]=function(D,V){var G=E.map(this,C,D);return b.slice(-5)!=="Until"&&(V=D),V&&typeof V=="string"&&(G=E.filter(V,G)),this.length>1&&(pt[b]||E.uniqueSort(G),je.test(b)&&G.reverse()),this.pushStack(G)}});var Dt=/[^\x20\t\r\n\f]+/g;function Jt(b){var C={};return E.each(b.match(Dt)||[],function(D,V){C[V]=!0}),C}E.Callbacks=function(b){b=typeof b=="string"?Jt(b):E.extend({},b);var C,D,V,G,X=[],J=[],Se=-1,ve=function(){for(G=G||b.once,V=C=!0;J.length;Se=-1)for(D=J.shift();++Se<X.length;)X[Se].apply(D[0],D[1])===!1&&b.stopOnFalse&&(Se=X.length,D=!1);b.memory||(D=!1),C=!1,G&&(D?X=[]:X="")},De={add:function(){return X&&(D&&!C&&(Se=X.length-1,J.push(D)),function lt(ft){E.each(ft,function($e,Mt){w(Mt)?(!b.unique||!De.has(Mt))&&X.push(Mt):Mt&&Mt.length&&P(Mt)!=="string"&&lt(Mt)})}(arguments),D&&!C&&ve()),this},remove:function(){return E.each(arguments,function(lt,ft){for(var $e;($e=E.inArray(ft,X,$e))>-1;)X.splice($e,1),$e<=Se&&Se--}),this},has:function(lt){return lt?E.inArray(lt,X)>-1:X.length>0},empty:function(){return X&&(X=[]),this},disable:function(){return G=J=[],X=D="",this},disabled:function(){return!X},lock:function(){return G=J=[],!D&&!C&&(X=D=""),this},locked:function(){return!!G},fireWith:function(lt,ft){return G||(ft=ft||[],ft=[lt,ft.slice?ft.slice():ft],J.push(ft),C||ve()),this},fire:function(){return De.fireWith(this,arguments),this},fired:function(){return!!V}};return De};function at(b){return b}function Xe(b){throw b}function ae(b,C,D,V){var G;try{b&&w(G=b.promise)?G.call(b).done(C).fail(D):b&&w(G=b.then)?G.call(b,C,D):C.apply(void 0,[b].slice(V))}catch(X){D.apply(void 0,[X])}}E.extend({Deferred:function(b){var C=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],D="pending",V={state:function(){return D},always:function(){return G.done(arguments).fail(arguments),this},catch:function(X){return V.then(null,X)},pipe:function(){var X=arguments;return E.Deferred(function(J){E.each(C,function(Se,ve){var De=w(X[ve[4]])&&X[ve[4]];G[ve[1]](function(){var lt=De&&De.apply(this,arguments);lt&&w(lt.promise)?lt.promise().progress(J.notify).done(J.resolve).fail(J.reject):J[ve[0]+"With"](this,De?[lt]:arguments)})}),X=null}).promise()},then:function(X,J,Se){var ve=0;function De(lt,ft,$e,Mt){return function(){var Un=this,dr=arguments,Qn=function(){var hi,$s;if(!(lt<ve)){if(hi=$e.apply(Un,dr),hi===ft.promise())throw new TypeError("Thenable self-resolution");$s=hi&&(typeof hi=="object"||typeof hi=="function")&&hi.then,w($s)?Mt?$s.call(hi,De(ve,ft,at,Mt),De(ve,ft,Xe,Mt)):(ve++,$s.call(hi,De(ve,ft,at,Mt),De(ve,ft,Xe,Mt),De(ve,ft,at,ft.notifyWith))):($e!==at&&(Un=void 0,dr=[hi]),(Mt||ft.resolveWith)(Un,dr))}},Oi=Mt?Qn:function(){try{Qn()}catch(hi){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(hi,Oi.error),lt+1>=ve&&($e!==Xe&&(Un=void 0,dr=[hi]),ft.rejectWith(Un,dr))}};lt?Oi():(E.Deferred.getErrorHook?Oi.error=E.Deferred.getErrorHook():E.Deferred.getStackHook&&(Oi.error=E.Deferred.getStackHook()),e.setTimeout(Oi))}}return E.Deferred(function(lt){C[0][3].add(De(0,lt,w(Se)?Se:at,lt.notifyWith)),C[1][3].add(De(0,lt,w(X)?X:at)),C[2][3].add(De(0,lt,w(J)?J:Xe))}).promise()},promise:function(X){return X!=null?E.extend(X,V):V}},G={};return E.each(C,function(X,J){var Se=J[2],ve=J[5];V[J[1]]=Se.add,ve&&Se.add(function(){D=ve},C[3-X][2].disable,C[3-X][3].disable,C[0][2].lock,C[0][3].lock),Se.add(J[3].fire),G[J[0]]=function(){return G[J[0]+"With"](this===G?void 0:this,arguments),this},G[J[0]+"With"]=Se.fireWith}),V.promise(G),b&&b.call(G,G),G},when:function(b){var C=arguments.length,D=C,V=Array(D),G=s.call(arguments),X=E.Deferred(),J=function(Se){return function(ve){V[Se]=this,G[Se]=arguments.length>1?s.call(arguments):ve,--C||X.resolveWith(V,G)}};if(C<=1&&(ae(b,X.done(J(D)).resolve,X.reject,!C),X.state()==="pending"||w(G[D]&&G[D].then)))return X.then();for(;D--;)ae(G[D],J(D),X.reject);return X.promise()}});var Bt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(b,C){e.console&&e.console.warn&&b&&Bt.test(b.name)&&e.console.warn("jQuery.Deferred exception: "+b.message,b.stack,C)},E.readyException=function(b){e.setTimeout(function(){throw b})};var ht=E.Deferred();E.fn.ready=function(b){return ht.then(b).catch(function(C){E.readyException(C)}),this},E.extend({isReady:!1,readyWait:1,ready:function(b){(b===!0?--E.readyWait:E.isReady)||(E.isReady=!0,!(b!==!0&&--E.readyWait>0)&&ht.resolveWith(_,[E]))}}),E.ready.then=ht.then;function Re(){_.removeEventListener("DOMContentLoaded",Re),e.removeEventListener("load",Re),E.ready()}_.readyState==="complete"||_.readyState!=="loading"&&!_.documentElement.doScroll?e.setTimeout(E.ready):(_.addEventListener("DOMContentLoaded",Re),e.addEventListener("load",Re));var mt=function(b,C,D,V,G,X,J){var Se=0,ve=b.length,De=D==null;if(P(D)==="object"){G=!0;for(Se in D)mt(b,C,Se,D[Se],!0,X,J)}else if(V!==void 0&&(G=!0,w(V)||(J=!0),De&&(J?(C.call(b,V),C=null):(De=C,C=function(lt,ft,$e){return De.call(E(lt),$e)})),C))for(;Se<ve;Se++)C(b[Se],D,J?V:V.call(b[Se],Se,C(b[Se],D)));return G?b:De?C.call(b):ve?C(b[0],D):X},tn=/^-ms-/,It=/-([a-z])/g;function se(b,C){return C.toUpperCase()}function ee(b){return b.replace(tn,"ms-").replace(It,se)}var xe=function(b){return b.nodeType===1||b.nodeType===9||!+b.nodeType};function Oe(){this.expando=E.expando+Oe.uid++}Oe.uid=1,Oe.prototype={cache:function(b){var C=b[this.expando];return C||(C={},xe(b)&&(b.nodeType?b[this.expando]=C:Object.defineProperty(b,this.expando,{value:C,configurable:!0}))),C},set:function(b,C,D){var V,G=this.cache(b);if(typeof C=="string")G[ee(C)]=D;else for(V in C)G[ee(V)]=C[V];return G},get:function(b,C){return C===void 0?this.cache(b):b[this.expando]&&b[this.expando][ee(C)]},access:function(b,C,D){return C===void 0||C&&typeof C=="string"&&D===void 0?this.get(b,C):(this.set(b,C,D),D!==void 0?D:C)},remove:function(b,C){var D,V=b[this.expando];if(V!==void 0){if(C!==void 0)for(Array.isArray(C)?C=C.map(ee):(C=ee(C),C=C in V?[C]:C.match(Dt)||[]),D=C.length;D--;)delete V[C[D]];(C===void 0||E.isEmptyObject(V))&&(b.nodeType?b[this.expando]=void 0:delete b[this.expando])}},hasData:function(b){var C=b[this.expando];return C!==void 0&&!E.isEmptyObject(C)}};var Le=new Oe,Ge=new Oe,St=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,wt=/[A-Z]/g;function Rt(b){return b==="true"?!0:b==="false"?!1:b==="null"?null:b===+b+""?+b:St.test(b)?JSON.parse(b):b}function vn(b,C,D){var V;if(D===void 0&&b.nodeType===1)if(V="data-"+C.replace(wt,"-$&").toLowerCase(),D=b.getAttribute(V),typeof D=="string"){try{D=Rt(D)}catch{}Ge.set(b,C,D)}else D=void 0;return D}E.extend({hasData:function(b){return Ge.hasData(b)||Le.hasData(b)},data:function(b,C,D){return Ge.access(b,C,D)},removeData:function(b,C){Ge.remove(b,C)},_data:function(b,C,D){return Le.access(b,C,D)},_removeData:function(b,C){Le.remove(b,C)}}),E.fn.extend({data:function(b,C){var D,V,G,X=this[0],J=X&&X.attributes;if(b===void 0){if(this.length&&(G=Ge.get(X),X.nodeType===1&&!Le.get(X,"hasDataAttrs"))){for(D=J.length;D--;)J[D]&&(V=J[D].name,V.indexOf("data-")===0&&(V=ee(V.slice(5)),vn(X,V,G[V])));Le.set(X,"hasDataAttrs",!0)}return G}return typeof b=="object"?this.each(function(){Ge.set(this,b)}):mt(this,function(Se){var ve;if(X&&Se===void 0)return ve=Ge.get(X,b),ve!==void 0||(ve=vn(X,b),ve!==void 0)?ve:void 0;this.each(function(){Ge.set(this,b,Se)})},null,C,arguments.length>1,null,!0)},removeData:function(b){return this.each(function(){Ge.remove(this,b)})}}),E.extend({queue:function(b,C,D){var V;if(b)return C=(C||"fx")+"queue",V=Le.get(b,C),D&&(!V||Array.isArray(D)?V=Le.access(b,C,E.makeArray(D)):V.push(D)),V||[]},dequeue:function(b,C){C=C||"fx";var D=E.queue(b,C),V=D.length,G=D.shift(),X=E._queueHooks(b,C),J=function(){E.dequeue(b,C)};G==="inprogress"&&(G=D.shift(),V--),G&&(C==="fx"&&D.unshift("inprogress"),delete X.stop,G.call(b,J,X)),!V&&X&&X.empty.fire()},_queueHooks:function(b,C){var D=C+"queueHooks";return Le.get(b,D)||Le.access(b,D,{empty:E.Callbacks("once memory").add(function(){Le.remove(b,[C+"queue",D])})})}}),E.fn.extend({queue:function(b,C){var D=2;return typeof b!="string"&&(C=b,b="fx",D--),arguments.length<D?E.queue(this[0],b):C===void 0?this:this.each(function(){var V=E.queue(this,b,C);E._queueHooks(this,b),b==="fx"&&V[0]!=="inprogress"&&E.dequeue(this,b)})},dequeue:function(b){return this.each(function(){E.dequeue(this,b)})},clearQueue:function(b){return this.queue(b||"fx",[])},promise:function(b,C){var D,V=1,G=E.Deferred(),X=this,J=this.length,Se=function(){--V||G.resolveWith(X,[X])};for(typeof b!="string"&&(C=b,b=void 0),b=b||"fx";J--;)D=Le.get(X[J],b+"queueHooks"),D&&D.empty&&(V++,D.empty.add(Se));return Se(),G.promise(C)}});var xt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Tt=new RegExp("^(?:([+-])=|)("+xt+")([a-z%]*)$","i"),Zt=["Top","Right","Bottom","Left"],Wt=_.documentElement,Ot=function(b){return E.contains(b.ownerDocument,b)},Ae={composed:!0};Wt.getRootNode&&(Ot=function(b){return E.contains(b.ownerDocument,b)||b.getRootNode(Ae)===b.ownerDocument});var Ye=function(b,C){return b=C||b,b.style.display==="none"||b.style.display===""&&Ot(b)&&E.css(b,"display")==="none"};function _t(b,C,D,V){var G,X,J=20,Se=V?function(){return V.cur()}:function(){return E.css(b,C,"")},ve=Se(),De=D&&D[3]||(E.cssNumber[C]?"":"px"),lt=b.nodeType&&(E.cssNumber[C]||De!=="px"&&+ve)&&Tt.exec(E.css(b,C));if(lt&&lt[3]!==De){for(ve=ve/2,De=De||lt[3],lt=+ve||1;J--;)E.style(b,C,lt+De),(1-X)*(1-(X=Se()/ve||.5))<=0&&(J=0),lt=lt/X;lt=lt*2,E.style(b,C,lt+De),D=D||[]}return D&&(lt=+lt||+ve||0,G=D[1]?lt+(D[1]+1)*D[2]:+D[2],V&&(V.unit=De,V.start=lt,V.end=G)),G}var me={};function Be(b){var C,D=b.ownerDocument,V=b.nodeName,G=me[V];return G||(C=D.body.appendChild(D.createElement(V)),G=E.css(C,"display"),C.parentNode.removeChild(C),G==="none"&&(G="block"),me[V]=G,G)}function ze(b,C){for(var D,V,G=[],X=0,J=b.length;X<J;X++)V=b[X],V.style&&(D=V.style.display,C?(D==="none"&&(G[X]=Le.get(V,"display")||null,G[X]||(V.style.display="")),V.style.display===""&&Ye(V)&&(G[X]=Be(V))):D!=="none"&&(G[X]="none",Le.set(V,"display",D)));for(X=0;X<J;X++)G[X]!=null&&(b[X].style.display=G[X]);return b}E.fn.extend({show:function(){return ze(this,!0)},hide:function(){return ze(this)},toggle:function(b){return typeof b=="boolean"?b?this.show():this.hide():this.each(function(){Ye(this)?E(this).show():E(this).hide()})}});var ot=/^(?:checkbox|radio)$/i,Ft=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ut=/^$|^module$|\/(?:java|ecma)script/i;(function(){var b=_.createDocumentFragment(),C=b.appendChild(_.createElement("div")),D=_.createElement("input");D.setAttribute("type","radio"),D.setAttribute("checked","checked"),D.setAttribute("name","t"),C.appendChild(D),y.checkClone=C.cloneNode(!0).cloneNode(!0).lastChild.checked,C.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!C.cloneNode(!0).lastChild.defaultValue,C.innerHTML="<option></option>",y.option=!!C.lastChild})();var Qt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Qt.tbody=Qt.tfoot=Qt.colgroup=Qt.caption=Qt.thead,Qt.th=Qt.td,y.option||(Qt.optgroup=Qt.option=[1,"<select multiple='multiple'>","</select>"]);function _n(b,C){var D;return typeof b.getElementsByTagName<"u"?D=b.getElementsByTagName(C||"*"):typeof b.querySelectorAll<"u"?D=b.querySelectorAll(C||"*"):D=[],C===void 0||C&&O(b,C)?E.merge([b],D):D}function mr(b,C){for(var D=0,V=b.length;D<V;D++)Le.set(b[D],"globalEval",!C||Le.get(C[D],"globalEval"))}var Gt=/<|&#?\w+;/;function nn(b,C,D,V,G){for(var X,J,Se,ve,De,lt,ft=C.createDocumentFragment(),$e=[],Mt=0,Un=b.length;Mt<Un;Mt++)if(X=b[Mt],X||X===0)if(P(X)==="object")E.merge($e,X.nodeType?[X]:X);else if(!Gt.test(X))$e.push(C.createTextNode(X));else{for(J=J||ft.appendChild(C.createElement("div")),Se=(Ft.exec(X)||["",""])[1].toLowerCase(),ve=Qt[Se]||Qt._default,J.innerHTML=ve[1]+E.htmlPrefilter(X)+ve[2],lt=ve[0];lt--;)J=J.lastChild;E.merge($e,J.childNodes),J=ft.firstChild,J.textContent=""}for(ft.textContent="",Mt=0;X=$e[Mt++];){if(V&&E.inArray(X,V)>-1){G&&G.push(X);continue}if(De=Ot(X),J=_n(ft.appendChild(X),"script"),De&&mr(J),D)for(lt=0;X=J[lt++];)Ut.test(X.type||"")&&D.push(X)}return ft}var Pn=/^([^.]*)(?:\.(.+)|)/;function zt(){return!0}function En(){return!1}function an(b,C,D,V,G,X){var J,Se;if(typeof C=="object"){typeof D!="string"&&(V=V||D,D=void 0);for(Se in C)an(b,Se,D,V,C[Se],X);return b}if(V==null&&G==null?(G=D,V=D=void 0):G==null&&(typeof D=="string"?(G=V,V=void 0):(G=V,V=D,D=void 0)),G===!1)G=En;else if(!G)return b;return X===1&&(J=G,G=function(ve){return E().off(ve),J.apply(this,arguments)},G.guid=J.guid||(J.guid=E.guid++)),b.each(function(){E.event.add(this,C,G,V,D)})}E.event={global:{},add:function(b,C,D,V,G){var X,J,Se,ve,De,lt,ft,$e,Mt,Un,dr,Qn=Le.get(b);if(xe(b))for(D.handler&&(X=D,D=X.handler,G=X.selector),G&&E.find.matchesSelector(Wt,G),D.guid||(D.guid=E.guid++),(ve=Qn.events)||(ve=Qn.events=Object.create(null)),(J=Qn.handle)||(J=Qn.handle=function(Oi){return typeof E<"u"&&E.event.triggered!==Oi.type?E.event.dispatch.apply(b,arguments):void 0}),C=(C||"").match(Dt)||[""],De=C.length;De--;)Se=Pn.exec(C[De])||[],Mt=dr=Se[1],Un=(Se[2]||"").split(".").sort(),Mt&&(ft=E.event.special[Mt]||{},Mt=(G?ft.delegateType:ft.bindType)||Mt,ft=E.event.special[Mt]||{},lt=E.extend({type:Mt,origType:dr,data:V,handler:D,guid:D.guid,selector:G,needsContext:G&&E.expr.match.needsContext.test(G),namespace:Un.join(".")},X),($e=ve[Mt])||($e=ve[Mt]=[],$e.delegateCount=0,(!ft.setup||ft.setup.call(b,V,Un,J)===!1)&&b.addEventListener&&b.addEventListener(Mt,J)),ft.add&&(ft.add.call(b,lt),lt.handler.guid||(lt.handler.guid=D.guid)),G?$e.splice($e.delegateCount++,0,lt):$e.push(lt),E.event.global[Mt]=!0)},remove:function(b,C,D,V,G){var X,J,Se,ve,De,lt,ft,$e,Mt,Un,dr,Qn=Le.hasData(b)&&Le.get(b);if(!(!Qn||!(ve=Qn.events))){for(C=(C||"").match(Dt)||[""],De=C.length;De--;){if(Se=Pn.exec(C[De])||[],Mt=dr=Se[1],Un=(Se[2]||"").split(".").sort(),!Mt){for(Mt in ve)E.event.remove(b,Mt+C[De],D,V,!0);continue}for(ft=E.event.special[Mt]||{},Mt=(V?ft.delegateType:ft.bindType)||Mt,$e=ve[Mt]||[],Se=Se[2]&&new RegExp("(^|\\.)"+Un.join("\\.(?:.*\\.|)")+"(\\.|$)"),J=X=$e.length;X--;)lt=$e[X],(G||dr===lt.origType)&&(!D||D.guid===lt.guid)&&(!Se||Se.test(lt.namespace))&&(!V||V===lt.selector||V==="**"&&lt.selector)&&($e.splice(X,1),lt.selector&&$e.delegateCount--,ft.remove&&ft.remove.call(b,lt));J&&!$e.length&&((!ft.teardown||ft.teardown.call(b,Un,Qn.handle)===!1)&&E.removeEvent(b,Mt,Qn.handle),delete ve[Mt])}E.isEmptyObject(ve)&&Le.remove(b,"handle events")}},dispatch:function(b){var C,D,V,G,X,J,Se=new Array(arguments.length),ve=E.event.fix(b),De=(Le.get(this,"events")||Object.create(null))[ve.type]||[],lt=E.event.special[ve.type]||{};for(Se[0]=ve,C=1;C<arguments.length;C++)Se[C]=arguments[C];if(ve.delegateTarget=this,!(lt.preDispatch&&lt.preDispatch.call(this,ve)===!1)){for(J=E.event.handlers.call(this,ve,De),C=0;(G=J[C++])&&!ve.isPropagationStopped();)for(ve.currentTarget=G.elem,D=0;(X=G.handlers[D++])&&!ve.isImmediatePropagationStopped();)(!ve.rnamespace||X.namespace===!1||ve.rnamespace.test(X.namespace))&&(ve.handleObj=X,ve.data=X.data,V=((E.event.special[X.origType]||{}).handle||X.handler).apply(G.elem,Se),V!==void 0&&(ve.result=V)===!1&&(ve.preventDefault(),ve.stopPropagation()));return lt.postDispatch&&lt.postDispatch.call(this,ve),ve.result}},handlers:function(b,C){var D,V,G,X,J,Se=[],ve=C.delegateCount,De=b.target;if(ve&&De.nodeType&&!(b.type==="click"&&b.button>=1)){for(;De!==this;De=De.parentNode||this)if(De.nodeType===1&&!(b.type==="click"&&De.disabled===!0)){for(X=[],J={},D=0;D<ve;D++)V=C[D],G=V.selector+" ",J[G]===void 0&&(J[G]=V.needsContext?E(G,this).index(De)>-1:E.find(G,this,null,[De]).length),J[G]&&X.push(V);X.length&&Se.push({elem:De,handlers:X})}}return De=this,ve<C.length&&Se.push({elem:De,handlers:C.slice(ve)}),Se},addProp:function(b,C){Object.defineProperty(E.Event.prototype,b,{enumerable:!0,configurable:!0,get:w(C)?function(){if(this.originalEvent)return C(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[b]},set:function(D){Object.defineProperty(this,b,{enumerable:!0,configurable:!0,writable:!0,value:D})}})},fix:function(b){return b[E.expando]?b:new E.Event(b)},special:{load:{noBubble:!0},click:{setup:function(b){var C=this||b;return ot.test(C.type)&&C.click&&O(C,"input")&&wn(C,"click",!0),!1},trigger:function(b){var C=this||b;return ot.test(C.type)&&C.click&&O(C,"input")&&wn(C,"click"),!0},_default:function(b){var C=b.target;return ot.test(C.type)&&C.click&&O(C,"input")&&Le.get(C,"click")||O(C,"a")}},beforeunload:{postDispatch:function(b){b.result!==void 0&&b.originalEvent&&(b.originalEvent.returnValue=b.result)}}}};function wn(b,C,D){if(!D){Le.get(b,C)===void 0&&E.event.add(b,C,zt);return}Le.set(b,C,!1),E.event.add(b,C,{namespace:!1,handler:function(V){var G,X=Le.get(this,C);if(V.isTrigger&1&&this[C]){if(X)(E.event.special[C]||{}).delegateType&&V.stopPropagation();else if(X=s.call(arguments),Le.set(this,C,X),this[C](),G=Le.get(this,C),Le.set(this,C,!1),X!==G)return V.stopImmediatePropagation(),V.preventDefault(),G}else X&&(Le.set(this,C,E.event.trigger(X[0],X.slice(1),this)),V.stopPropagation(),V.isImmediatePropagationStopped=zt)}})}E.removeEvent=function(b,C,D){b.removeEventListener&&b.removeEventListener(C,D)},E.Event=function(b,C){if(!(this instanceof E.Event))return new E.Event(b,C);b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||b.defaultPrevented===void 0&&b.returnValue===!1?zt:En,this.target=b.target&&b.target.nodeType===3?b.target.parentNode:b.target,this.currentTarget=b.currentTarget,this.relatedTarget=b.relatedTarget):this.type=b,C&&E.extend(this,C),this.timeStamp=b&&b.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:En,isPropagationStopped:En,isImmediatePropagationStopped:En,isSimulated:!1,preventDefault:function(){var b=this.originalEvent;this.isDefaultPrevented=zt,b&&!this.isSimulated&&b.preventDefault()},stopPropagation:function(){var b=this.originalEvent;this.isPropagationStopped=zt,b&&!this.isSimulated&&b.stopPropagation()},stopImmediatePropagation:function(){var b=this.originalEvent;this.isImmediatePropagationStopped=zt,b&&!this.isSimulated&&b.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(b,C){function D(V){if(_.documentMode){var G=Le.get(this,"handle"),X=E.event.fix(V);X.type=V.type==="focusin"?"focus":"blur",X.isSimulated=!0,G(V),X.target===X.currentTarget&&G(X)}else E.event.simulate(C,V.target,E.event.fix(V))}E.event.special[b]={setup:function(){var V;if(wn(this,b,!0),_.documentMode)V=Le.get(this,C),V||this.addEventListener(C,D),Le.set(this,C,(V||0)+1);else return!1},trigger:function(){return wn(this,b),!0},teardown:function(){var V;if(_.documentMode)V=Le.get(this,C)-1,V?Le.set(this,C,V):(this.removeEventListener(C,D),Le.remove(this,C));else return!1},_default:function(V){return Le.get(V.target,b)},delegateType:C},E.event.special[C]={setup:function(){var V=this.ownerDocument||this.document||this,G=_.documentMode?this:V,X=Le.get(G,C);X||(_.documentMode?this.addEventListener(C,D):V.addEventListener(b,D,!0)),Le.set(G,C,(X||0)+1)},teardown:function(){var V=this.ownerDocument||this.document||this,G=_.documentMode?this:V,X=Le.get(G,C)-1;X?Le.set(G,C,X):(_.documentMode?this.removeEventListener(C,D):V.removeEventListener(b,D,!0),Le.remove(G,C))}}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(b,C){E.event.special[b]={delegateType:C,bindType:C,handle:function(D){var V,G=this,X=D.relatedTarget,J=D.handleObj;return(!X||X!==G&&!E.contains(G,X))&&(D.type=J.origType,V=J.handler.apply(this,arguments),D.type=C),V}}}),E.fn.extend({on:function(b,C,D,V){return an(this,b,C,D,V)},one:function(b,C,D,V){return an(this,b,C,D,V,1)},off:function(b,C,D){var V,G;if(b&&b.preventDefault&&b.handleObj)return V=b.handleObj,E(b.delegateTarget).off(V.namespace?V.origType+"."+V.namespace:V.origType,V.selector,V.handler),this;if(typeof b=="object"){for(G in b)this.off(G,C,b[G]);return this}return(C===!1||typeof C=="function")&&(D=C,C=void 0),D===!1&&(D=En),this.each(function(){E.event.remove(this,b,D,C)})}});var br=/<script|<style|<link/i,Nn=/checked\s*(?:[^=]|=\s*.checked.)/i,dn=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Xr(b,C){return O(b,"table")&&O(C.nodeType!==11?C:C.firstChild,"tr")&&E(b).children("tbody")[0]||b}function Mr(b){return b.type=(b.getAttribute("type")!==null)+"/"+b.type,b}function Z(b){return(b.type||"").slice(0,5)==="true/"?b.type=b.type.slice(5):b.removeAttribute("type"),b}function re(b,C){var D,V,G,X,J,Se,ve;if(C.nodeType===1){if(Le.hasData(b)&&(X=Le.get(b),ve=X.events,ve)){Le.remove(C,"handle events");for(G in ve)for(D=0,V=ve[G].length;D<V;D++)E.event.add(C,G,ve[G][D])}Ge.hasData(b)&&(J=Ge.access(b),Se=E.extend({},J),Ge.set(C,Se))}}function Me(b,C){var D=C.nodeName.toLowerCase();D==="input"&&ot.test(b.type)?C.checked=b.checked:(D==="input"||D==="textarea")&&(C.defaultValue=b.defaultValue)}function Fe(b,C,D,V){C=o(C);var G,X,J,Se,ve,De,lt=0,ft=b.length,$e=ft-1,Mt=C[0],Un=w(Mt);if(Un||ft>1&&typeof Mt=="string"&&!y.checkClone&&Nn.test(Mt))return b.each(function(dr){var Qn=b.eq(dr);Un&&(C[0]=Mt.call(this,dr,Qn.html())),Fe(Qn,C,D,V)});if(ft&&(G=nn(C,b[0].ownerDocument,!1,b,V),X=G.firstChild,G.childNodes.length===1&&(G=X),X||V)){for(J=E.map(_n(G,"script"),Mr),Se=J.length;lt<ft;lt++)ve=G,lt!==$e&&(ve=E.clone(ve,!0,!0),Se&&E.merge(J,_n(ve,"script"))),D.call(b[lt],ve,lt);if(Se)for(De=J[J.length-1].ownerDocument,E.map(J,Z),lt=0;lt<Se;lt++)ve=J[lt],Ut.test(ve.type||"")&&!Le.access(ve,"globalEval")&&E.contains(De,ve)&&(ve.src&&(ve.type||"").toLowerCase()!=="module"?E._evalUrl&&!ve.noModule&&E._evalUrl(ve.src,{nonce:ve.nonce||ve.getAttribute("nonce")},De):R(ve.textContent.replace(dn,""),ve,De))}return b}function Je(b,C,D){for(var V,G=C?E.filter(C,b):b,X=0;(V=G[X])!=null;X++)!D&&V.nodeType===1&&E.cleanData(_n(V)),V.parentNode&&(D&&Ot(V)&&mr(_n(V,"script")),V.parentNode.removeChild(V));return b}E.extend({htmlPrefilter:function(b){return b},clone:function(b,C,D){var V,G,X,J,Se=b.cloneNode(!0),ve=Ot(b);if(!y.noCloneChecked&&(b.nodeType===1||b.nodeType===11)&&!E.isXMLDoc(b))for(J=_n(Se),X=_n(b),V=0,G=X.length;V<G;V++)Me(X[V],J[V]);if(C)if(D)for(X=X||_n(b),J=J||_n(Se),V=0,G=X.length;V<G;V++)re(X[V],J[V]);else re(b,Se);return J=_n(Se,"script"),J.length>0&&mr(J,!ve&&_n(b,"script")),Se},cleanData:function(b){for(var C,D,V,G=E.event.special,X=0;(D=b[X])!==void 0;X++)if(xe(D)){if(C=D[Le.expando]){if(C.events)for(V in C.events)G[V]?E.event.remove(D,V):E.removeEvent(D,V,C.handle);D[Le.expando]=void 0}D[Ge.expando]&&(D[Ge.expando]=void 0)}}}),E.fn.extend({detach:function(b){return Je(this,b,!0)},remove:function(b){return Je(this,b)},text:function(b){return mt(this,function(C){return C===void 0?E.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=C)})},null,b,arguments.length)},append:function(){return Fe(this,arguments,function(b){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var C=Xr(this,b);C.appendChild(b)}})},prepend:function(){return Fe(this,arguments,function(b){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var C=Xr(this,b);C.insertBefore(b,C.firstChild)}})},before:function(){return Fe(this,arguments,function(b){this.parentNode&&this.parentNode.insertBefore(b,this)})},after:function(){return Fe(this,arguments,function(b){this.parentNode&&this.parentNode.insertBefore(b,this.nextSibling)})},empty:function(){for(var b,C=0;(b=this[C])!=null;C++)b.nodeType===1&&(E.cleanData(_n(b,!1)),b.textContent="");return this},clone:function(b,C){return b=b??!1,C=C??b,this.map(function(){return E.clone(this,b,C)})},html:function(b){return mt(this,function(C){var D=this[0]||{},V=0,G=this.length;if(C===void 0&&D.nodeType===1)return D.innerHTML;if(typeof C=="string"&&!br.test(C)&&!Qt[(Ft.exec(C)||["",""])[1].toLowerCase()]){C=E.htmlPrefilter(C);try{for(;V<G;V++)D=this[V]||{},D.nodeType===1&&(E.cleanData(_n(D,!1)),D.innerHTML=C);D=0}catch{}}D&&this.empty().append(C)},null,b,arguments.length)},replaceWith:function(){var b=[];return Fe(this,arguments,function(C){var D=this.parentNode;E.inArray(this,b)<0&&(E.cleanData(_n(this)),D&&D.replaceChild(C,this))},b)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,C){E.fn[b]=function(D){for(var V,G=[],X=E(D),J=X.length-1,Se=0;Se<=J;Se++)V=Se===J?this:this.clone(!0),E(X[Se])[C](V),a.apply(G,V.get());return this.pushStack(G)}});var Qe=new RegExp("^("+xt+")(?!px)[a-z%]+$","i"),vt=/^--/,K=function(b){var C=b.ownerDocument.defaultView;return(!C||!C.opener)&&(C=e),C.getComputedStyle(b)},fe=function(b,C,D){var V,G,X={};for(G in C)X[G]=b.style[G],b.style[G]=C[G];V=D.call(b);for(G in C)b.style[G]=X[G];return V},be=new RegExp(Zt.join("|"),"i");(function(){function b(){if(De){ve.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",De.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Wt.appendChild(ve).appendChild(De);var lt=e.getComputedStyle(De);D=lt.top!=="1%",Se=C(lt.marginLeft)===12,De.style.right="60%",X=C(lt.right)===36,V=C(lt.width)===36,De.style.position="absolute",G=C(De.offsetWidth/3)===12,Wt.removeChild(ve),De=null}}function C(lt){return Math.round(parseFloat(lt))}var D,V,G,X,J,Se,ve=_.createElement("div"),De=_.createElement("div");De.style&&(De.style.backgroundClip="content-box",De.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle=De.style.backgroundClip==="content-box",E.extend(y,{boxSizingReliable:function(){return b(),V},pixelBoxStyles:function(){return b(),X},pixelPosition:function(){return b(),D},reliableMarginLeft:function(){return b(),Se},scrollboxSize:function(){return b(),G},reliableTrDimensions:function(){var lt,ft,$e,Mt;return J==null&&(lt=_.createElement("table"),ft=_.createElement("tr"),$e=_.createElement("div"),lt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ft.style.cssText="box-sizing:content-box;border:1px solid",ft.style.height="1px",$e.style.height="9px",$e.style.display="block",Wt.appendChild(lt).appendChild(ft).appendChild($e),Mt=e.getComputedStyle(ft),J=parseInt(Mt.height,10)+parseInt(Mt.borderTopWidth,10)+parseInt(Mt.borderBottomWidth,10)===ft.offsetHeight,Wt.removeChild(lt)),J}}))})();function Ee(b,C,D){var V,G,X,J,Se=vt.test(C),ve=b.style;return D=D||K(b),D&&(J=D.getPropertyValue(C)||D[C],Se&&J&&(J=J.replace(ue,"$1")||void 0),J===""&&!Ot(b)&&(J=E.style(b,C)),!y.pixelBoxStyles()&&Qe.test(J)&&be.test(C)&&(V=ve.width,G=ve.minWidth,X=ve.maxWidth,ve.minWidth=ve.maxWidth=ve.width=J,J=D.width,ve.width=V,ve.minWidth=G,ve.maxWidth=X)),J!==void 0?J+"":J}function le(b,C){return{get:function(){if(b()){delete this.get;return}return(this.get=C).apply(this,arguments)}}}var it=["Webkit","Moz","ms"],et=_.createElement("div").style,ut={};function yt(b){for(var C=b[0].toUpperCase()+b.slice(1),D=it.length;D--;)if(b=it[D]+C,b in et)return b}function Pt(b){var C=E.cssProps[b]||ut[b];return C||(b in et?b:ut[b]=yt(b)||b)}var kt=/^(none|table(?!-c[ea]).+)/,At={position:"absolute",visibility:"hidden",display:"block"},Lt={letterSpacing:"0",fontWeight:"400"};function Yt(b,C,D){var V=Tt.exec(C);return V?Math.max(0,V[2]-(D||0))+(V[3]||"px"):C}function un(b,C,D,V,G,X){var J=C==="width"?1:0,Se=0,ve=0,De=0;if(D===(V?"border":"content"))return 0;for(;J<4;J+=2)D==="margin"&&(De+=E.css(b,D+Zt[J],!0,G)),V?(D==="content"&&(ve-=E.css(b,"padding"+Zt[J],!0,G)),D!=="margin"&&(ve-=E.css(b,"border"+Zt[J]+"Width",!0,G))):(ve+=E.css(b,"padding"+Zt[J],!0,G),D!=="padding"?ve+=E.css(b,"border"+Zt[J]+"Width",!0,G):Se+=E.css(b,"border"+Zt[J]+"Width",!0,G));return!V&&X>=0&&(ve+=Math.max(0,Math.ceil(b["offset"+C[0].toUpperCase()+C.slice(1)]-X-ve-Se-.5))||0),ve+De}function On(b,C,D){var V=K(b),G=!y.boxSizingReliable()||D,X=G&&E.css(b,"boxSizing",!1,V)==="border-box",J=X,Se=Ee(b,C,V),ve="offset"+C[0].toUpperCase()+C.slice(1);if(Qe.test(Se)){if(!D)return Se;Se="auto"}return(!y.boxSizingReliable()&&X||!y.reliableTrDimensions()&&O(b,"tr")||Se==="auto"||!parseFloat(Se)&&E.css(b,"display",!1,V)==="inline")&&b.getClientRects().length&&(X=E.css(b,"boxSizing",!1,V)==="border-box",J=ve in b,J&&(Se=b[ve])),Se=parseFloat(Se)||0,Se+un(b,C,D||(X?"border":"content"),J,V,Se)+"px"}E.extend({cssHooks:{opacity:{get:function(b,C){if(C){var D=Ee(b,"opacity");return D===""?"1":D}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(b,C,D,V){if(!(!b||b.nodeType===3||b.nodeType===8||!b.style)){var G,X,J,Se=ee(C),ve=vt.test(C),De=b.style;if(ve||(C=Pt(Se)),J=E.cssHooks[C]||E.cssHooks[Se],D!==void 0){if(X=typeof D,X==="string"&&(G=Tt.exec(D))&&G[1]&&(D=_t(b,C,G),X="number"),D==null||D!==D)return;X==="number"&&!ve&&(D+=G&&G[3]||(E.cssNumber[Se]?"":"px")),!y.clearCloneStyle&&D===""&&C.indexOf("background")===0&&(De[C]="inherit"),(!J||!("set"in J)||(D=J.set(b,D,V))!==void 0)&&(ve?De.setProperty(C,D):De[C]=D)}else return J&&"get"in J&&(G=J.get(b,!1,V))!==void 0?G:De[C]}},css:function(b,C,D,V){var G,X,J,Se=ee(C),ve=vt.test(C);return ve||(C=Pt(Se)),J=E.cssHooks[C]||E.cssHooks[Se],J&&"get"in J&&(G=J.get(b,!0,D)),G===void 0&&(G=Ee(b,C,V)),G==="normal"&&C in Lt&&(G=Lt[C]),D===""||D?(X=parseFloat(G),D===!0||isFinite(X)?X||0:G):G}}),E.each(["height","width"],function(b,C){E.cssHooks[C]={get:function(D,V,G){if(V)return kt.test(E.css(D,"display"))&&(!D.getClientRects().length||!D.getBoundingClientRect().width)?fe(D,At,function(){return On(D,C,G)}):On(D,C,G)},set:function(D,V,G){var X,J=K(D),Se=!y.scrollboxSize()&&J.position==="absolute",ve=Se||G,De=ve&&E.css(D,"boxSizing",!1,J)==="border-box",lt=G?un(D,C,G,De,J):0;return De&&Se&&(lt-=Math.ceil(D["offset"+C[0].toUpperCase()+C.slice(1)]-parseFloat(J[C])-un(D,C,"border",!1,J)-.5)),lt&&(X=Tt.exec(V))&&(X[3]||"px")!=="px"&&(D.style[C]=V,V=E.css(D,C)),Yt(D,V,lt)}}}),E.cssHooks.marginLeft=le(y.reliableMarginLeft,function(b,C){if(C)return(parseFloat(Ee(b,"marginLeft"))||b.getBoundingClientRect().left-fe(b,{marginLeft:0},function(){return b.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(b,C){E.cssHooks[b+C]={expand:function(D){for(var V=0,G={},X=typeof D=="string"?D.split(" "):[D];V<4;V++)G[b+Zt[V]+C]=X[V]||X[V-2]||X[0];return G}},b!=="margin"&&(E.cssHooks[b+C].set=Yt)}),E.fn.extend({css:function(b,C){return mt(this,function(D,V,G){var X,J,Se={},ve=0;if(Array.isArray(V)){for(X=K(D),J=V.length;ve<J;ve++)Se[V[ve]]=E.css(D,V[ve],!1,X);return Se}return G!==void 0?E.style(D,V,G):E.css(D,V)},b,C,arguments.length>1)}});function Ht(b,C,D,V,G){return new Ht.prototype.init(b,C,D,V,G)}E.Tween=Ht,Ht.prototype={constructor:Ht,init:function(b,C,D,V,G,X){this.elem=b,this.prop=D,this.easing=G||E.easing._default,this.options=C,this.start=this.now=this.cur(),this.end=V,this.unit=X||(E.cssNumber[D]?"":"px")},cur:function(){var b=Ht.propHooks[this.prop];return b&&b.get?b.get(this):Ht.propHooks._default.get(this)},run:function(b){var C,D=Ht.propHooks[this.prop];return this.options.duration?this.pos=C=E.easing[this.easing](b,this.options.duration*b,0,1,this.options.duration):this.pos=C=b,this.now=(this.end-this.start)*C+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),D&&D.set?D.set(this):Ht.propHooks._default.set(this),this}},Ht.prototype.init.prototype=Ht.prototype,Ht.propHooks={_default:{get:function(b){var C;return b.elem.nodeType!==1||b.elem[b.prop]!=null&&b.elem.style[b.prop]==null?b.elem[b.prop]:(C=E.css(b.elem,b.prop,""),!C||C==="auto"?0:C)},set:function(b){E.fx.step[b.prop]?E.fx.step[b.prop](b):b.elem.nodeType===1&&(E.cssHooks[b.prop]||b.elem.style[Pt(b.prop)]!=null)?E.style(b.elem,b.prop,b.now+b.unit):b.elem[b.prop]=b.now}}},Ht.propHooks.scrollTop=Ht.propHooks.scrollLeft={set:function(b){b.elem.nodeType&&b.elem.parentNode&&(b.elem[b.prop]=b.now)}},E.easing={linear:function(b){return b},swing:function(b){return .5-Math.cos(b*Math.PI)/2},_default:"swing"},E.fx=Ht.prototype.init,E.fx.step={};var Xt,er,In=/^(?:toggle|show|hide)$/,_r=/queueHooks$/;function Yn(){er&&(_.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(Yn):e.setTimeout(Yn,E.fx.interval),E.fx.tick())}function vr(){return e.setTimeout(function(){Xt=void 0}),Xt=Date.now()}function lr(b,C){var D,V=0,G={height:b};for(C=C?1:0;V<4;V+=2-C)D=Zt[V],G["margin"+D]=G["padding"+D]=b;return C&&(G.opacity=G.width=b),G}function Sn(b,C,D){for(var V,G=($n.tweeners[C]||[]).concat($n.tweeners["*"]),X=0,J=G.length;X<J;X++)if(V=G[X].call(D,C,b))return V}function cr(b,C,D){var V,G,X,J,Se,ve,De,lt,ft="width"in C||"height"in C,$e=this,Mt={},Un=b.style,dr=b.nodeType&&Ye(b),Qn=Le.get(b,"fxshow");D.queue||(J=E._queueHooks(b,"fx"),J.unqueued==null&&(J.unqueued=0,Se=J.empty.fire,J.empty.fire=function(){J.unqueued||Se()}),J.unqueued++,$e.always(function(){$e.always(function(){J.unqueued--,E.queue(b,"fx").length||J.empty.fire()})}));for(V in C)if(G=C[V],In.test(G)){if(delete C[V],X=X||G==="toggle",G===(dr?"hide":"show"))if(G==="show"&&Qn&&Qn[V]!==void 0)dr=!0;else continue;Mt[V]=Qn&&Qn[V]||E.style(b,V)}if(ve=!E.isEmptyObject(C),!(!ve&&E.isEmptyObject(Mt))){ft&&b.nodeType===1&&(D.overflow=[Un.overflow,Un.overflowX,Un.overflowY],De=Qn&&Qn.display,De==null&&(De=Le.get(b,"display")),lt=E.css(b,"display"),lt==="none"&&(De?lt=De:(ze([b],!0),De=b.style.display||De,lt=E.css(b,"display"),ze([b]))),(lt==="inline"||lt==="inline-block"&&De!=null)&&E.css(b,"float")==="none"&&(ve||($e.done(function(){Un.display=De}),De==null&&(lt=Un.display,De=lt==="none"?"":lt)),Un.display="inline-block")),D.overflow&&(Un.overflow="hidden",$e.always(function(){Un.overflow=D.overflow[0],Un.overflowX=D.overflow[1],Un.overflowY=D.overflow[2]})),ve=!1;for(V in Mt)ve||(Qn?"hidden"in Qn&&(dr=Qn.hidden):Qn=Le.access(b,"fxshow",{display:De}),X&&(Qn.hidden=!dr),dr&&ze([b],!0),$e.done(function(){dr||ze([b]),Le.remove(b,"fxshow");for(V in Mt)E.style(b,V,Mt[V])})),ve=Sn(dr?Qn[V]:0,V,$e),V in Qn||(Qn[V]=ve.start,dr&&(ve.end=ve.start,ve.start=0))}}function Kr(b,C){var D,V,G,X,J;for(D in b)if(V=ee(D),G=C[V],X=b[D],Array.isArray(X)&&(G=X[1],X=b[D]=X[0]),D!==V&&(b[V]=X,delete b[D]),J=E.cssHooks[V],J&&"expand"in J){X=J.expand(X),delete b[V];for(D in X)D in b||(b[D]=X[D],C[D]=G)}else C[V]=G}function $n(b,C,D){var V,G,X=0,J=$n.prefilters.length,Se=E.Deferred().always(function(){delete ve.elem}),ve=function(){if(G)return!1;for(var ft=Xt||vr(),$e=Math.max(0,De.startTime+De.duration-ft),Mt=$e/De.duration||0,Un=1-Mt,dr=0,Qn=De.tweens.length;dr<Qn;dr++)De.tweens[dr].run(Un);return Se.notifyWith(b,[De,Un,$e]),Un<1&&Qn?$e:(Qn||Se.notifyWith(b,[De,1,0]),Se.resolveWith(b,[De]),!1)},De=Se.promise({elem:b,props:E.extend({},C),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},D),originalProperties:C,originalOptions:D,startTime:Xt||vr(),duration:D.duration,tweens:[],createTween:function(ft,$e){var Mt=E.Tween(b,De.opts,ft,$e,De.opts.specialEasing[ft]||De.opts.easing);return De.tweens.push(Mt),Mt},stop:function(ft){var $e=0,Mt=ft?De.tweens.length:0;if(G)return this;for(G=!0;$e<Mt;$e++)De.tweens[$e].run(1);return ft?(Se.notifyWith(b,[De,1,0]),Se.resolveWith(b,[De,ft])):Se.rejectWith(b,[De,ft]),this}}),lt=De.props;for(Kr(lt,De.opts.specialEasing);X<J;X++)if(V=$n.prefilters[X].call(De,b,lt,De.opts),V)return w(V.stop)&&(E._queueHooks(De.elem,De.opts.queue).stop=V.stop.bind(V)),V;return E.map(lt,Sn,De),w(De.opts.start)&&De.opts.start.call(b,De),De.progress(De.opts.progress).done(De.opts.done,De.opts.complete).fail(De.opts.fail).always(De.opts.always),E.fx.timer(E.extend(ve,{elem:b,anim:De,queue:De.opts.queue})),De}E.Animation=E.extend($n,{tweeners:{"*":[function(b,C){var D=this.createTween(b,C);return _t(D.elem,b,Tt.exec(C),D),D}]},tweener:function(b,C){w(b)?(C=b,b=["*"]):b=b.match(Dt);for(var D,V=0,G=b.length;V<G;V++)D=b[V],$n.tweeners[D]=$n.tweeners[D]||[],$n.tweeners[D].unshift(C)},prefilters:[cr],prefilter:function(b,C){C?$n.prefilters.unshift(b):$n.prefilters.push(b)}}),E.speed=function(b,C,D){var V=b&&typeof b=="object"?E.extend({},b):{complete:D||!D&&C||w(b)&&b,duration:b,easing:D&&C||C&&!w(C)&&C};return E.fx.off?V.duration=0:typeof V.duration!="number"&&(V.duration in E.fx.speeds?V.duration=E.fx.speeds[V.duration]:V.duration=E.fx.speeds._default),(V.queue==null||V.queue===!0)&&(V.queue="fx"),V.old=V.complete,V.complete=function(){w(V.old)&&V.old.call(this),V.queue&&E.dequeue(this,V.queue)},V},E.fn.extend({fadeTo:function(b,C,D,V){return this.filter(Ye).css("opacity",0).show().end().animate({opacity:C},b,D,V)},animate:function(b,C,D,V){var G=E.isEmptyObject(b),X=E.speed(C,D,V),J=function(){var Se=$n(this,E.extend({},b),X);(G||Le.get(this,"finish"))&&Se.stop(!0)};return J.finish=J,G||X.queue===!1?this.each(J):this.queue(X.queue,J)},stop:function(b,C,D){var V=function(G){var X=G.stop;delete G.stop,X(D)};return typeof b!="string"&&(D=C,C=b,b=void 0),C&&this.queue(b||"fx",[]),this.each(function(){var G=!0,X=b!=null&&b+"queueHooks",J=E.timers,Se=Le.get(this);if(X)Se[X]&&Se[X].stop&&V(Se[X]);else for(X in Se)Se[X]&&Se[X].stop&&_r.test(X)&&V(Se[X]);for(X=J.length;X--;)J[X].elem===this&&(b==null||J[X].queue===b)&&(J[X].anim.stop(D),G=!1,J.splice(X,1));(G||!D)&&E.dequeue(this,b)})},finish:function(b){return b!==!1&&(b=b||"fx"),this.each(function(){var C,D=Le.get(this),V=D[b+"queue"],G=D[b+"queueHooks"],X=E.timers,J=V?V.length:0;for(D.finish=!0,E.queue(this,b,[]),G&&G.stop&&G.stop.call(this,!0),C=X.length;C--;)X[C].elem===this&&X[C].queue===b&&(X[C].anim.stop(!0),X.splice(C,1));for(C=0;C<J;C++)V[C]&&V[C].finish&&V[C].finish.call(this);delete D.finish})}}),E.each(["toggle","show","hide"],function(b,C){var D=E.fn[C];E.fn[C]=function(V,G,X){return V==null||typeof V=="boolean"?D.apply(this,arguments):this.animate(lr(C,!0),V,G,X)}}),E.each({slideDown:lr("show"),slideUp:lr("hide"),slideToggle:lr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(b,C){E.fn[b]=function(D,V,G){return this.animate(C,D,V,G)}}),E.timers=[],E.fx.tick=function(){var b,C=0,D=E.timers;for(Xt=Date.now();C<D.length;C++)b=D[C],!b()&&D[C]===b&&D.splice(C--,1);D.length||E.fx.stop(),Xt=void 0},E.fx.timer=function(b){E.timers.push(b),E.fx.start()},E.fx.interval=13,E.fx.start=function(){er||(er=!0,Yn())},E.fx.stop=function(){er=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(b,C){return b=E.fx&&E.fx.speeds[b]||b,C=C||"fx",this.queue(C,function(D,V){var G=e.setTimeout(D,b);V.stop=function(){e.clearTimeout(G)}})},function(){var b=_.createElement("input"),C=_.createElement("select"),D=C.appendChild(_.createElement("option"));b.type="checkbox",y.checkOn=b.value!=="",y.optSelected=D.selected,b=_.createElement("input"),b.value="t",b.type="radio",y.radioValue=b.value==="t"}();var Wr,Rs=E.expr.attrHandle;E.fn.extend({attr:function(b,C){return mt(this,E.attr,b,C,arguments.length>1)},removeAttr:function(b){return this.each(function(){E.removeAttr(this,b)})}}),E.extend({attr:function(b,C,D){var V,G,X=b.nodeType;if(!(X===3||X===8||X===2)){if(typeof b.getAttribute>"u")return E.prop(b,C,D);if((X!==1||!E.isXMLDoc(b))&&(G=E.attrHooks[C.toLowerCase()]||(E.expr.match.bool.test(C)?Wr:void 0)),D!==void 0){if(D===null){E.removeAttr(b,C);return}return G&&"set"in G&&(V=G.set(b,D,C))!==void 0?V:(b.setAttribute(C,D+""),D)}return G&&"get"in G&&(V=G.get(b,C))!==null?V:(V=E.find.attr(b,C),V??void 0)}},attrHooks:{type:{set:function(b,C){if(!y.radioValue&&C==="radio"&&O(b,"input")){var D=b.value;return b.setAttribute("type",C),D&&(b.value=D),C}}}},removeAttr:function(b,C){var D,V=0,G=C&&C.match(Dt);if(G&&b.nodeType===1)for(;D=G[V++];)b.removeAttribute(D)}}),Wr={set:function(b,C,D){return C===!1?E.removeAttr(b,D):b.setAttribute(D,D),D}},E.each(E.expr.match.bool.source.match(/\w+/g),function(b,C){var D=Rs[C]||E.find.attr;Rs[C]=function(V,G,X){var J,Se,ve=G.toLowerCase();return X||(Se=Rs[ve],Rs[ve]=J,J=D(V,G,X)!=null?ve:null,Rs[ve]=Se),J}});var tr=/^(?:input|select|textarea|button)$/i,Dc=/^(?:a|area)$/i;E.fn.extend({prop:function(b,C){return mt(this,E.prop,b,C,arguments.length>1)},removeProp:function(b){return this.each(function(){delete this[E.propFix[b]||b]})}}),E.extend({prop:function(b,C,D){var V,G,X=b.nodeType;if(!(X===3||X===8||X===2))return(X!==1||!E.isXMLDoc(b))&&(C=E.propFix[C]||C,G=E.propHooks[C]),D!==void 0?G&&"set"in G&&(V=G.set(b,D,C))!==void 0?V:b[C]=D:G&&"get"in G&&(V=G.get(b,C))!==null?V:b[C]},propHooks:{tabIndex:{get:function(b){var C=E.find.attr(b,"tabindex");return C?parseInt(C,10):tr.test(b.nodeName)||Dc.test(b.nodeName)&&b.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(E.propHooks.selected={get:function(b){var C=b.parentNode;return C&&C.parentNode&&C.parentNode.selectedIndex,null},set:function(b){var C=b.parentNode;C&&(C.selectedIndex,C.parentNode&&C.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this});function Ao(b){var C=b.match(Dt)||[];return C.join(" ")}function Ma(b){return b.getAttribute&&b.getAttribute("class")||""}function Af(b){return Array.isArray(b)?b:typeof b=="string"?b.match(Dt)||[]:[]}E.fn.extend({addClass:function(b){var C,D,V,G,X,J;return w(b)?this.each(function(Se){E(this).addClass(b.call(this,Se,Ma(this)))}):(C=Af(b),C.length?this.each(function(){if(V=Ma(this),D=this.nodeType===1&&" "+Ao(V)+" ",D){for(X=0;X<C.length;X++)G=C[X],D.indexOf(" "+G+" ")<0&&(D+=G+" ");J=Ao(D),V!==J&&this.setAttribute("class",J)}}):this)},removeClass:function(b){var C,D,V,G,X,J;return w(b)?this.each(function(Se){E(this).removeClass(b.call(this,Se,Ma(this)))}):arguments.length?(C=Af(b),C.length?this.each(function(){if(V=Ma(this),D=this.nodeType===1&&" "+Ao(V)+" ",D){for(X=0;X<C.length;X++)for(G=C[X];D.indexOf(" "+G+" ")>-1;)D=D.replace(" "+G+" "," ");J=Ao(D),V!==J&&this.setAttribute("class",J)}}):this):this.attr("class","")},toggleClass:function(b,C){var D,V,G,X,J=typeof b,Se=J==="string"||Array.isArray(b);return w(b)?this.each(function(ve){E(this).toggleClass(b.call(this,ve,Ma(this),C),C)}):typeof C=="boolean"&&Se?C?this.addClass(b):this.removeClass(b):(D=Af(b),this.each(function(){if(Se)for(X=E(this),G=0;G<D.length;G++)V=D[G],X.hasClass(V)?X.removeClass(V):X.addClass(V);else(b===void 0||J==="boolean")&&(V=Ma(this),V&&Le.set(this,"__className__",V),this.setAttribute&&this.setAttribute("class",V||b===!1?"":Le.get(this,"__className__")||""))}))},hasClass:function(b){var C,D,V=0;for(C=" "+b+" ";D=this[V++];)if(D.nodeType===1&&(" "+Ao(Ma(D))+" ").indexOf(C)>-1)return!0;return!1}});var Cf=/\r/g;E.fn.extend({val:function(b){var C,D,V,G=this[0];return arguments.length?(V=w(b),this.each(function(X){var J;this.nodeType===1&&(V?J=b.call(this,X,E(this).val()):J=b,J==null?J="":typeof J=="number"?J+="":Array.isArray(J)&&(J=E.map(J,function(Se){return Se==null?"":Se+""})),C=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()],(!C||!("set"in C)||C.set(this,J,"value")===void 0)&&(this.value=J))})):G?(C=E.valHooks[G.type]||E.valHooks[G.nodeName.toLowerCase()],C&&"get"in C&&(D=C.get(G,"value"))!==void 0?D:(D=G.value,typeof D=="string"?D.replace(Cf,""):D??"")):void 0}}),E.extend({valHooks:{option:{get:function(b){var C=E.find.attr(b,"value");return C??Ao(E.text(b))}},select:{get:function(b){var C,D,V,G=b.options,X=b.selectedIndex,J=b.type==="select-one",Se=J?null:[],ve=J?X+1:G.length;for(X<0?V=ve:V=J?X:0;V<ve;V++)if(D=G[V],(D.selected||V===X)&&!D.disabled&&(!D.parentNode.disabled||!O(D.parentNode,"optgroup"))){if(C=E(D).val(),J)return C;Se.push(C)}return Se},set:function(b,C){for(var D,V,G=b.options,X=E.makeArray(C),J=G.length;J--;)V=G[J],(V.selected=E.inArray(E.valHooks.option.get(V),X)>-1)&&(D=!0);return D||(b.selectedIndex=-1),X}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(b,C){if(Array.isArray(C))return b.checked=E.inArray(E(b).val(),C)>-1}},y.checkOn||(E.valHooks[this].get=function(b){return b.getAttribute("value")===null?"on":b.value})});var ll=e.location,cl={guid:Date.now()},Nc=/\?/;E.parseXML=function(b){var C,D;if(!b||typeof b!="string")return null;try{C=new e.DOMParser().parseFromString(b,"text/xml")}catch{}return D=C&&C.getElementsByTagName("parsererror")[0],(!C||D)&&E.error("Invalid XML: "+(D?E.map(D.childNodes,function(V){return V.textContent}).join(`
`):b)),C};var Co=/^(?:focusinfocus|focusoutblur)$/,nr=function(b){b.stopPropagation()};E.extend(E.event,{trigger:function(b,C,D,V){var G,X,J,Se,ve,De,lt,ft,$e=[D||_],Mt=h.call(b,"type")?b.type:b,Un=h.call(b,"namespace")?b.namespace.split("."):[];if(X=ft=J=D=D||_,!(D.nodeType===3||D.nodeType===8)&&!Co.test(Mt+E.event.triggered)&&(Mt.indexOf(".")>-1&&(Un=Mt.split("."),Mt=Un.shift(),Un.sort()),ve=Mt.indexOf(":")<0&&"on"+Mt,b=b[E.expando]?b:new E.Event(Mt,typeof b=="object"&&b),b.isTrigger=V?2:3,b.namespace=Un.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+Un.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=D),C=C==null?[b]:E.makeArray(C,[b]),lt=E.event.special[Mt]||{},!(!V&&lt.trigger&&lt.trigger.apply(D,C)===!1))){if(!V&&!lt.noBubble&&!S(D)){for(Se=lt.delegateType||Mt,Co.test(Se+Mt)||(X=X.parentNode);X;X=X.parentNode)$e.push(X),J=X;J===(D.ownerDocument||_)&&$e.push(J.defaultView||J.parentWindow||e)}for(G=0;(X=$e[G++])&&!b.isPropagationStopped();)ft=X,b.type=G>1?Se:lt.bindType||Mt,De=(Le.get(X,"events")||Object.create(null))[b.type]&&Le.get(X,"handle"),De&&De.apply(X,C),De=ve&&X[ve],De&&De.apply&&xe(X)&&(b.result=De.apply(X,C),b.result===!1&&b.preventDefault());return b.type=Mt,!V&&!b.isDefaultPrevented()&&(!lt._default||lt._default.apply($e.pop(),C)===!1)&&xe(D)&&ve&&w(D[Mt])&&!S(D)&&(J=D[ve],J&&(D[ve]=null),E.event.triggered=Mt,b.isPropagationStopped()&&ft.addEventListener(Mt,nr),D[Mt](),b.isPropagationStopped()&&ft.removeEventListener(Mt,nr),E.event.triggered=void 0,J&&(D[ve]=J)),b.result}},simulate:function(b,C,D){var V=E.extend(new E.Event,D,{type:b,isSimulated:!0});E.event.trigger(V,null,C)}}),E.fn.extend({trigger:function(b,C){return this.each(function(){E.event.trigger(b,C,this)})},triggerHandler:function(b,C){var D=this[0];if(D)return E.event.trigger(b,C,D,!0)}});var Aa=/\[\]$/,ul=/\r?\n/g,kc=/^(?:submit|button|image|reset|file)$/i,fl=/^(?:input|select|textarea|keygen)/i;function Kd(b,C,D,V){var G;if(Array.isArray(C))E.each(C,function(X,J){D||Aa.test(b)?V(b,J):Kd(b+"["+(typeof J=="object"&&J!=null?X:"")+"]",J,D,V)});else if(!D&&P(C)==="object")for(G in C)Kd(b+"["+G+"]",C[G],D,V);else V(b,C)}E.param=function(b,C){var D,V=[],G=function(X,J){var Se=w(J)?J():J;V[V.length]=encodeURIComponent(X)+"="+encodeURIComponent(Se??"")};if(b==null)return"";if(Array.isArray(b)||b.jquery&&!E.isPlainObject(b))E.each(b,function(){G(this.name,this.value)});else for(D in b)Kd(D,b[D],C,G);return V.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var b=E.prop(this,"elements");return b?E.makeArray(b):this}).filter(function(){var b=this.type;return this.name&&!E(this).is(":disabled")&&fl.test(this.nodeName)&&!kc.test(b)&&(this.checked||!ot.test(b))}).map(function(b,C){var D=E(this).val();return D==null?null:Array.isArray(D)?E.map(D,function(V){return{name:C.name,value:V.replace(ul,`\r
`)}}):{name:C.name,value:D.replace(ul,`\r
`)}}).get()}});var bi=/%20/g,Wl=/#.*$/,y0=/([?&])_=[^&]*/,Rf=/^(.*?):[ \t]*([^\r\n]*)$/mg,Pf=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,wu=/^(?:GET|HEAD)$/,na=/^\/\//,Oc={},Gl={},es="*/".concat("*"),Ps=_.createElement("a");Ps.href=ll.href;function Su(b){return function(C,D){typeof C!="string"&&(D=C,C="*");var V,G=0,X=C.toLowerCase().match(Dt)||[];if(w(D))for(;V=X[G++];)V[0]==="+"?(V=V.slice(1)||"*",(b[V]=b[V]||[]).unshift(D)):(b[V]=b[V]||[]).push(D)}}function If(b,C,D,V){var G={},X=b===Gl;function J(Se){var ve;return G[Se]=!0,E.each(b[Se]||[],function(De,lt){var ft=lt(C,D,V);if(typeof ft=="string"&&!X&&!G[ft])return C.dataTypes.unshift(ft),J(ft),!1;if(X)return!(ve=ft)}),ve}return J(C.dataTypes[0])||!G["*"]&&J("*")}function Fc(b,C){var D,V,G=E.ajaxSettings.flatOptions||{};for(D in C)C[D]!==void 0&&((G[D]?b:V||(V={}))[D]=C[D]);return V&&E.extend(!0,b,V),b}function Lf(b,C,D){for(var V,G,X,J,Se=b.contents,ve=b.dataTypes;ve[0]==="*";)ve.shift(),V===void 0&&(V=b.mimeType||C.getResponseHeader("Content-Type"));if(V){for(G in Se)if(Se[G]&&Se[G].test(V)){ve.unshift(G);break}}if(ve[0]in D)X=ve[0];else{for(G in D){if(!ve[0]||b.converters[G+" "+ve[0]]){X=G;break}J||(J=G)}X=X||J}if(X)return X!==ve[0]&&ve.unshift(X),D[X]}function ro(b,C,D,V){var G,X,J,Se,ve,De={},lt=b.dataTypes.slice();if(lt[1])for(J in b.converters)De[J.toLowerCase()]=b.converters[J];for(X=lt.shift();X;)if(b.responseFields[X]&&(D[b.responseFields[X]]=C),!ve&&V&&b.dataFilter&&(C=b.dataFilter(C,b.dataType)),ve=X,X=lt.shift(),X){if(X==="*")X=ve;else if(ve!=="*"&&ve!==X){if(J=De[ve+" "+X]||De["* "+X],!J){for(G in De)if(Se=G.split(" "),Se[1]===X&&(J=De[ve+" "+Se[0]]||De["* "+Se[0]],J)){J===!0?J=De[G]:De[G]!==!0&&(X=Se[0],lt.unshift(Se[1]));break}}if(J!==!0)if(J&&b.throws)C=J(C);else try{C=J(C)}catch(ft){return{state:"parsererror",error:J?ft:"No conversion from "+ve+" to "+X}}}}return{state:"success",data:C}}E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ll.href,type:"GET",isLocal:Pf.test(ll.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":es,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(b,C){return C?Fc(Fc(b,E.ajaxSettings),C):Fc(E.ajaxSettings,b)},ajaxPrefilter:Su(Oc),ajaxTransport:Su(Gl),ajax:function(b,C){typeof b=="object"&&(C=b,b=void 0),C=C||{};var D,V,G,X,J,Se,ve,De,lt,ft,$e=E.ajaxSetup({},C),Mt=$e.context||$e,Un=$e.context&&(Mt.nodeType||Mt.jquery)?E(Mt):E.event,dr=E.Deferred(),Qn=E.Callbacks("once memory"),Oi=$e.statusCode||{},hi={},$s={},io="canceled",hr={readyState:0,getResponseHeader:function(gr){var zr;if(ve){if(!X)for(X={};zr=Rf.exec(G);)X[zr[1].toLowerCase()+" "]=(X[zr[1].toLowerCase()+" "]||[]).concat(zr[2]);zr=X[gr.toLowerCase()+" "]}return zr==null?null:zr.join(", ")},getAllResponseHeaders:function(){return ve?G:null},setRequestHeader:function(gr,zr){return ve==null&&(gr=$s[gr.toLowerCase()]=$s[gr.toLowerCase()]||gr,hi[gr]=zr),this},overrideMimeType:function(gr){return ve==null&&($e.mimeType=gr),this},statusCode:function(gr){var zr;if(gr)if(ve)hr.always(gr[hr.status]);else for(zr in gr)Oi[zr]=[Oi[zr],gr[zr]];return this},abort:function(gr){var zr=gr||io;return D&&D.abort(zr),dl(0,zr),this}};if(dr.promise(hr),$e.url=((b||$e.url||ll.href)+"").replace(na,ll.protocol+"//"),$e.type=C.method||C.type||$e.method||$e.type,$e.dataTypes=($e.dataType||"*").toLowerCase().match(Dt)||[""],$e.crossDomain==null){Se=_.createElement("a");try{Se.href=$e.url,Se.href=Se.href,$e.crossDomain=Ps.protocol+"//"+Ps.host!=Se.protocol+"//"+Se.host}catch{$e.crossDomain=!0}}if($e.data&&$e.processData&&typeof $e.data!="string"&&($e.data=E.param($e.data,$e.traditional)),If(Oc,$e,C,hr),ve)return hr;De=E.event&&$e.global,De&&E.active++===0&&E.event.trigger("ajaxStart"),$e.type=$e.type.toUpperCase(),$e.hasContent=!wu.test($e.type),V=$e.url.replace(Wl,""),$e.hasContent?$e.data&&$e.processData&&($e.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&($e.data=$e.data.replace(bi,"+")):(ft=$e.url.slice(V.length),$e.data&&($e.processData||typeof $e.data=="string")&&(V+=(Nc.test(V)?"&":"?")+$e.data,delete $e.data),$e.cache===!1&&(V=V.replace(y0,"$1"),ft=(Nc.test(V)?"&":"?")+"_="+cl.guid+++ft),$e.url=V+ft),$e.ifModified&&(E.lastModified[V]&&hr.setRequestHeader("If-Modified-Since",E.lastModified[V]),E.etag[V]&&hr.setRequestHeader("If-None-Match",E.etag[V])),($e.data&&$e.hasContent&&$e.contentType!==!1||C.contentType)&&hr.setRequestHeader("Content-Type",$e.contentType),hr.setRequestHeader("Accept",$e.dataTypes[0]&&$e.accepts[$e.dataTypes[0]]?$e.accepts[$e.dataTypes[0]]+($e.dataTypes[0]!=="*"?", "+es+"; q=0.01":""):$e.accepts["*"]);for(lt in $e.headers)hr.setRequestHeader(lt,$e.headers[lt]);if($e.beforeSend&&($e.beforeSend.call(Mt,hr,$e)===!1||ve))return hr.abort();if(io="abort",Qn.add($e.complete),hr.done($e.success),hr.fail($e.error),D=If(Gl,$e,C,hr),!D)dl(-1,"No Transport");else{if(hr.readyState=1,De&&Un.trigger("ajaxSend",[hr,$e]),ve)return hr;$e.async&&$e.timeout>0&&(J=e.setTimeout(function(){hr.abort("timeout")},$e.timeout));try{ve=!1,D.send(hi,dl)}catch(gr){if(ve)throw gr;dl(-1,gr)}}function dl(gr,zr,so,Uc){var Xs,ns,oi,Is,rs,gi=zr;ve||(ve=!0,J&&e.clearTimeout(J),D=void 0,G=Uc||"",hr.readyState=gr>0?4:0,Xs=gr>=200&&gr<300||gr===304,so&&(Is=Lf($e,hr,so)),!Xs&&E.inArray("script",$e.dataTypes)>-1&&E.inArray("json",$e.dataTypes)<0&&($e.converters["text script"]=function(){}),Is=ro($e,Is,hr,Xs),Xs?($e.ifModified&&(rs=hr.getResponseHeader("Last-Modified"),rs&&(E.lastModified[V]=rs),rs=hr.getResponseHeader("etag"),rs&&(E.etag[V]=rs)),gr===204||$e.type==="HEAD"?gi="nocontent":gr===304?gi="notmodified":(gi=Is.state,ns=Is.data,oi=Is.error,Xs=!oi)):(oi=gi,(gr||!gi)&&(gi="error",gr<0&&(gr=0))),hr.status=gr,hr.statusText=(zr||gi)+"",Xs?dr.resolveWith(Mt,[ns,gi,hr]):dr.rejectWith(Mt,[hr,gi,oi]),hr.statusCode(Oi),Oi=void 0,De&&Un.trigger(Xs?"ajaxSuccess":"ajaxError",[hr,$e,Xs?ns:oi]),Qn.fireWith(Mt,[hr,gi]),De&&(Un.trigger("ajaxComplete",[hr,$e]),--E.active||E.event.trigger("ajaxStop")))}return hr},getJSON:function(b,C,D){return E.get(b,C,D,"json")},getScript:function(b,C){return E.get(b,void 0,C,"script")}}),E.each(["get","post"],function(b,C){E[C]=function(D,V,G,X){return w(V)&&(X=X||G,G=V,V=void 0),E.ajax(E.extend({url:D,type:C,dataType:X,data:V,success:G},E.isPlainObject(D)&&D))}}),E.ajaxPrefilter(function(b){var C;for(C in b.headers)C.toLowerCase()==="content-type"&&(b.contentType=b.headers[C]||"")}),E._evalUrl=function(b,C,D){return E.ajax({url:b,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(V){E.globalEval(V,C,D)}})},E.fn.extend({wrapAll:function(b){var C;return this[0]&&(w(b)&&(b=b.call(this[0])),C=E(b,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&C.insertBefore(this[0]),C.map(function(){for(var D=this;D.firstElementChild;)D=D.firstElementChild;return D}).append(this)),this},wrapInner:function(b){return w(b)?this.each(function(C){E(this).wrapInner(b.call(this,C))}):this.each(function(){var C=E(this),D=C.contents();D.length?D.wrapAll(b):C.append(b)})},wrap:function(b){var C=w(b);return this.each(function(D){E(this).wrapAll(C?b.call(this,D):b)})},unwrap:function(b){return this.parent(b).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(b){return!E.expr.pseudos.visible(b)},E.expr.pseudos.visible=function(b){return!!(b.offsetWidth||b.offsetHeight||b.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var nm={0:200,1223:204},ps=E.ajaxSettings.xhr();y.cors=!!ps&&"withCredentials"in ps,y.ajax=ps=!!ps,E.ajaxTransport(function(b){var C,D;if(y.cors||ps&&!b.crossDomain)return{send:function(V,G){var X,J=b.xhr();if(J.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(X in b.xhrFields)J[X]=b.xhrFields[X];b.mimeType&&J.overrideMimeType&&J.overrideMimeType(b.mimeType),!b.crossDomain&&!V["X-Requested-With"]&&(V["X-Requested-With"]="XMLHttpRequest");for(X in V)J.setRequestHeader(X,V[X]);C=function(Se){return function(){C&&(C=D=J.onload=J.onerror=J.onabort=J.ontimeout=J.onreadystatechange=null,Se==="abort"?J.abort():Se==="error"?typeof J.status!="number"?G(0,"error"):G(J.status,J.statusText):G(nm[J.status]||J.status,J.statusText,(J.responseType||"text")!=="text"||typeof J.responseText!="string"?{binary:J.response}:{text:J.responseText},J.getAllResponseHeaders()))}},J.onload=C(),D=J.onerror=J.ontimeout=C("error"),J.onabort!==void 0?J.onabort=D:J.onreadystatechange=function(){J.readyState===4&&e.setTimeout(function(){C&&D()})},C=C("abort");try{J.send(b.hasContent&&b.data||null)}catch(Se){if(C)throw Se}},abort:function(){C&&C()}}}),E.ajaxPrefilter(function(b){b.crossDomain&&(b.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(b){return E.globalEval(b),b}}}),E.ajaxPrefilter("script",function(b){b.cache===void 0&&(b.cache=!1),b.crossDomain&&(b.type="GET")}),E.ajaxTransport("script",function(b){if(b.crossDomain||b.scriptAttrs){var C,D;return{send:function(V,G){C=E("<script>").attr(b.scriptAttrs||{}).prop({charset:b.scriptCharset,src:b.url}).on("load error",D=function(X){C.remove(),D=null,X&&G(X.type==="error"?404:200,X.type)}),_.head.appendChild(C[0])},abort:function(){D&&D()}}}});var Df=[],ts=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var b=Df.pop()||E.expando+"_"+cl.guid++;return this[b]=!0,b}}),E.ajaxPrefilter("json jsonp",function(b,C,D){var V,G,X,J=b.jsonp!==!1&&(ts.test(b.url)?"url":typeof b.data=="string"&&(b.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&ts.test(b.data)&&"data");if(J||b.dataTypes[0]==="jsonp")return V=b.jsonpCallback=w(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,J?b[J]=b[J].replace(ts,"$1"+V):b.jsonp!==!1&&(b.url+=(Nc.test(b.url)?"&":"?")+b.jsonp+"="+V),b.converters["script json"]=function(){return X||E.error(V+" was not called"),X[0]},b.dataTypes[0]="json",G=e[V],e[V]=function(){X=arguments},D.always(function(){G===void 0?E(e).removeProp(V):e[V]=G,b[V]&&(b.jsonpCallback=C.jsonpCallback,Df.push(V)),X&&w(G)&&G(X[0]),X=G=void 0}),"script"}),y.createHTMLDocument=function(){var b=_.implementation.createHTMLDocument("").body;return b.innerHTML="<form></form><form></form>",b.childNodes.length===2}(),E.parseHTML=function(b,C,D){if(typeof b!="string")return[];typeof C=="boolean"&&(D=C,C=!1);var V,G,X;return C||(y.createHTMLDocument?(C=_.implementation.createHTMLDocument(""),V=C.createElement("base"),V.href=_.location.href,C.head.appendChild(V)):C=_),G=we.exec(b),X=!D&&[],G?[C.createElement(G[1])]:(G=nn([b],C,X),X&&X.length&&E(X).remove(),E.merge([],G.childNodes))},E.fn.load=function(b,C,D){var V,G,X,J=this,Se=b.indexOf(" ");return Se>-1&&(V=Ao(b.slice(Se)),b=b.slice(0,Se)),w(C)?(D=C,C=void 0):C&&typeof C=="object"&&(G="POST"),J.length>0&&E.ajax({url:b,type:G||"GET",dataType:"html",data:C}).done(function(ve){X=arguments,J.html(V?E("<div>").append(E.parseHTML(ve)).find(V):ve)}).always(D&&function(ve,De){J.each(function(){D.apply(this,X||[ve.responseText,De,ve])})}),this},E.expr.pseudos.animated=function(b){return E.grep(E.timers,function(C){return b===C.elem}).length},E.offset={setOffset:function(b,C,D){var V,G,X,J,Se,ve,De,lt=E.css(b,"position"),ft=E(b),$e={};lt==="static"&&(b.style.position="relative"),Se=ft.offset(),X=E.css(b,"top"),ve=E.css(b,"left"),De=(lt==="absolute"||lt==="fixed")&&(X+ve).indexOf("auto")>-1,De?(V=ft.position(),J=V.top,G=V.left):(J=parseFloat(X)||0,G=parseFloat(ve)||0),w(C)&&(C=C.call(b,D,E.extend({},Se))),C.top!=null&&($e.top=C.top-Se.top+J),C.left!=null&&($e.left=C.left-Se.left+G),"using"in C?C.using.call(b,$e):ft.css($e)}},E.fn.extend({offset:function(b){if(arguments.length)return b===void 0?this:this.each(function(G){E.offset.setOffset(this,b,G)});var C,D,V=this[0];if(V)return V.getClientRects().length?(C=V.getBoundingClientRect(),D=V.ownerDocument.defaultView,{top:C.top+D.pageYOffset,left:C.left+D.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var b,C,D,V=this[0],G={top:0,left:0};if(E.css(V,"position")==="fixed")C=V.getBoundingClientRect();else{for(C=this.offset(),D=V.ownerDocument,b=V.offsetParent||D.documentElement;b&&(b===D.body||b===D.documentElement)&&E.css(b,"position")==="static";)b=b.parentNode;b&&b!==V&&b.nodeType===1&&(G=E(b).offset(),G.top+=E.css(b,"borderTopWidth",!0),G.left+=E.css(b,"borderLeftWidth",!0))}return{top:C.top-G.top-E.css(V,"marginTop",!0),left:C.left-G.left-E.css(V,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var b=this.offsetParent;b&&E.css(b,"position")==="static";)b=b.offsetParent;return b||Wt})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,C){var D=C==="pageYOffset";E.fn[b]=function(V){return mt(this,function(G,X,J){var Se;if(S(G)?Se=G:G.nodeType===9&&(Se=G.defaultView),J===void 0)return Se?Se[C]:G[X];Se?Se.scrollTo(D?Se.pageXOffset:J,D?J:Se.pageYOffset):G[X]=J},b,V,arguments.length)}}),E.each(["top","left"],function(b,C){E.cssHooks[C]=le(y.pixelPosition,function(D,V){if(V)return V=Ee(D,C),Qe.test(V)?E(D).position()[C]+"px":V})}),E.each({Height:"height",Width:"width"},function(b,C){E.each({padding:"inner"+b,content:C,"":"outer"+b},function(D,V){E.fn[V]=function(G,X){var J=arguments.length&&(D||typeof G!="boolean"),Se=D||(G===!0||X===!0?"margin":"border");return mt(this,function(ve,De,lt){var ft;return S(ve)?V.indexOf("outer")===0?ve["inner"+b]:ve.document.documentElement["client"+b]:ve.nodeType===9?(ft=ve.documentElement,Math.max(ve.body["scroll"+b],ft["scroll"+b],ve.body["offset"+b],ft["offset"+b],ft["client"+b])):lt===void 0?E.css(ve,De,Se):E.style(ve,De,lt,Se)},C,J?G:void 0,J)}})}),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(b,C){E.fn[C]=function(D){return this.on(C,D)}}),E.fn.extend({bind:function(b,C,D){return this.on(b,null,C,D)},unbind:function(b,C){return this.off(b,null,C)},delegate:function(b,C,D,V){return this.on(C,b,D,V)},undelegate:function(b,C,D){return arguments.length===1?this.off(b,"**"):this.off(C,b||"**",D)},hover:function(b,C){return this.on("mouseenter",b).on("mouseleave",C||b)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(b,C){E.fn[C]=function(D,V){return arguments.length>0?this.on(C,null,D,V):this.trigger(C)}});var bu=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;E.proxy=function(b,C){var D,V,G;if(typeof C=="string"&&(D=b[C],C=b,b=D),!!w(b))return V=s.call(arguments,2),G=function(){return b.apply(C||this,V.concat(s.call(arguments)))},G.guid=b.guid=b.guid||E.guid++,G},E.holdReady=function(b){b?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=O,E.isFunction=w,E.isWindow=S,E.camelCase=ee,E.type=P,E.now=Date.now,E.isNumeric=function(b){var C=E.type(b);return(C==="number"||C==="string")&&!isNaN(b-parseFloat(b))},E.trim=function(b){return b==null?"":(b+"").replace(bu,"$1")};var $l=e.jQuery,Ca=e.$;return E.noConflict=function(b){return e.$===E&&(e.$=Ca),b&&e.jQuery===E&&(e.jQuery=$l),E},typeof t>"u"&&(e.jQuery=e.$=E),E})}(lw)),lw.exports}var Fde=Ode();const Ll=Vl(Fde),Ude=({name:n,link:e,color:t})=>{const r=z.useRef(null),i=()=>{Rr.to(r.current,{top:"-20px",backgroundColor:t,duration:.3})},s=()=>{Rr.to(r.current,{top:"0",backgroundColor:"#000000",duration:.3,delay:.1})};return N.jsx("a",{href:e,target:"_blank",className:"cursor-pointer pt-2 relative -mb-[20px] bg-black-950 border-t border-t-black-200 block",ref:r,onMouseEnter:i,onMouseLeave:s,children:N.jsx("p",{className:"lg:text-6xl text-4xl pl-[10px] uppercase font-lay leading-none text-white-200 m-0 text-nowrap overflow-hidden",children:n})})},Bde=({label:n})=>N.jsxs("li",{className:"text-white-50 text-base flex items-center select-none gap-2",children:[N.jsx("svg",{className:"w-[.4rem] h-[.4rem] fill-white-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:N.jsx("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"})}),N.jsx("span",{children:n})]}),zde=({image:n,index:e,name:t})=>N.jsx("div",{children:N.jsx("img",{src:n,alt:`${t} Website Photo ${e}`,className:"w-[100%] object-cover"})}),Vde=({name:n,category:e,client:t,year:r,alert:i,project:s})=>{const o=z.useRef(null),a=z.useRef(null),[l,c]=z.useState(!1),f=()=>{c(!l)},h=v=>{var y=Ll(o.current).outerHeight(),w=v.pageY-Ll(o.current).offset().top,S=Ll(a.current);w<y/2?S.css("top","-100%"):S.css("top","100%"),S.stop().animate({top:"0"},300)},p=v=>{var y=Ll(o.current).outerHeight(),w=v.pageY-Ll(o.current).offset().top,S=Ll(a.current);w<y/2?S.stop().animate({top:"-100%"},300):S.stop().animate({top:"100%"},300)};return N.jsxs(N.Fragment,{children:[N.jsxs("button",{onClick:f,className:"project-button group",ref:o,onMouseEnter:h,onMouseLeave:p,children:[N.jsx("div",{className:"project-button-border"}),N.jsx("span",{className:"project-button-span flex w-[35vw] max-[600px]:flex-1 group-hover:after:pl-4","data-text":n,children:n}),N.jsx("span",{className:"project-button-span min-[600px]:flex w-[45vw] hidden","data-text":e,children:e}),N.jsx("span",{className:"project-button-span w-[25vw] min-[1300px]:flex hidden","data-text":t,children:t}),N.jsx("span",{className:"project-button-span flex w-[20vw] group-hover:after:pr-4 justify-end after:right-0 after:left-[unset] min-[500px]:w-[10vw]","data-text":r,children:r}),N.jsx("div",{className:"project-button-background group-hover:top-0",ref:a})]}),N.jsx(eU,{children:l&&N.jsx(Pp.div,{className:"py-4",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},children:N.jsxs("div",{className:"flex flex-col gap-8",children:[N.jsx("h2",{className:"text-white-50 font-lay text-2xl font-normal leading-7 w-full select-none min-[500px]:w-[80%] min-[700px]:w-[60%]",children:s.description}),N.jsx("div",{className:"flex",children:N.jsxs("a",{href:s.link,target:"_blank",className:"primary-button primary-button-after group flex px-3 py-1",children:[N.jsx("svg",{className:"w-[.6rem] h-[.6rem] transition-all duration-500 ease-in relative z-10 fill-black-950 group-hover:fill-white-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:N.jsx("path",{d:"M352 0c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9L370.7 96 201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L416 141.3l41.4 41.4c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6l0-128c0-17.7-14.3-32-32-32L352 0zM80 32C35.8 32 0 67.8 0 112L0 432c0 44.2 35.8 80 80 80l320 0c44.2 0 80-35.8 80-80l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 112c0 8.8-7.2 16-16 16L80 448c-8.8 0-16-7.2-16-16l0-320c0-8.8 7.2-16 16-16l112 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 32z"})}),N.jsx("span",{className:"relative z-20 text-nowrap",children:"See website"})]})}),N.jsx("div",{children:N.jsx("ul",{className:"list-none flex flex-col gap-1",children:s.labels.map((v,y)=>N.jsx(Bde,{label:v},`${s.id}-label-${y}`))})}),N.jsx("div",{className:"w-full flex gap-4 flex-wrap min-[1000px]:flex-nowrap",children:s.images.map((v,y)=>N.jsx(zde,{image:v,index:y,name:s.name},`${s.id}-image-${y}`))})]})})})]})},Hde=[{id:"p-009",name:"Almera Turismo",category:"GSAP, React, Parallax",client:"-",year:"2024",description:"Almera Turismo, is a small project of my city, inspired by Axel Vanhessche's 'Works' page. With a horizontal scroll and parallax images with a spectacular result.",link:"/demos/almeria-turismo",labels:["GSAP","ScrollTrigger","React","TailwindCSS","Design","Development"],images:["/assets/images/projects/almeria-turismo-3.gif","/assets/images/projects/almeria-turismo-1.png","/assets/images/projects/almeria-turismo-2.png"]},{id:"p-008",name:"Mirko Vigna Portfolio",category:"Framer Motion, TailwindCSS",client:"-",year:"2024",description:"Mirko Vigna's portfolio is a spec work that I have done to practice frammer motion, gsap and react, being this, possibly my best project to date.",link:"https://codepen.io/cpadlab/pen/Wbeorrq",labels:["Motion Frammer","GSAP","ScrollTrigger","React","TailwindCSS","Design","Development"],images:["/assets/images/projects/mirko-vigna-3.gif","/assets/images/projects/mirko-vigna-1.png","/assets/images/projects/mirko-vigna-2.png"]},{id:"p-001",name:"Dot Dager Portfolio",category:"GSAP Animation",client:"-",year:"2024",description:"The Dot Dager Portfolio is a project made for their contest in collaboration with Fiverr. A minimalist website with a clean design and scroll animations with gsap.",link:"https://codepen.io/cpadlab/pen/dPbpYEd",labels:["GSAP","ScrollTrigger","JQuery","Design","Development"],images:["/assets/images/projects/dot-dager-1.gif","/assets/images/projects/dot-dager-3.png","/assets/images/projects/dot-dager-2.png"]},{id:"p-002",name:"Nicols Padilla",category:"React, GSAP Animation",client:"Nicols Padilla, UAL",year:"2024",description:"I developed the web page of Dr. Nicols Padilla, Senior Lecturer in Computer Science at the University of Almera (UAL). In this version 2024, we have implemented smooth transitions between sections using GSAP, improved the aesthetic design and expanded the information on the home page. Web developed using React and Tailwind CSS.",link:"https://w3.ual.es/personal/npadilla/",labels:["React","TailwindCSS","GSAP","SmoothScroll","Design","Development"],images:["/assets/images/projects/npadilla-3.gif","/assets/images/projects/npadilla-2.png","/assets/images/projects/npadilla-1.png"]},{id:"p-003",name:"Tesla Landing Page",category:"GSAP Horizontal Scroll",client:"-",year:"2024",description:"Tesla's project (Spec Work) recreates the design of the official site (as per its October 31, 2024 version), adding a unique twist: a horizontal scroll effect implemented with GSAP. The result is a fluid and immersive visual experience that merges the original Tesla style with innovative navigation.",link:"https://codepen.io/cpadlab/pen/dPbpGXK",labels:["Gsap","ScrollMagic","JQuery","Development"],images:["/assets/images/projects/tesla-1.gif","/assets/images/projects/tesla-2.png","/assets/images/projects/tesla-3.png"]},{id:"p-004",name:"Clan Nyeri",category:"Web design, Development",client:"Asoc. Nyeri",year:"2024",description:"I developed the website for the Nyeri Youth Association, with a compact and efficient design that presents all the information of the association in a clear and accessible way: projects, news, blog, and more. It is a static website optimized with jQuery and powered with Slick for a fluid and modern navigation.",link:"https://www.clannyeri.com/",labels:["JQuery","Slick","Design","Development","RSS"],images:["/assets/images/projects/nyeri-3.png","/assets/images/projects/nyeri-1.png","/assets/images/projects/nyeri-2.png"]},{id:"p-005",name:"Alwed",category:"Locomotive Scroll",client:"-",year:"2024",description:"Alwed (Spec Work), is a personal project where I have implemented Locomotive Scroll to create a fluid and modern experience on the website of a fictitious web development company.",link:"https://codepen.io/cpadlab/pen/WbeGQZP",labels:["Locomotive Scroll","JQuery","Design","Development"],images:["/assets/images/projects/alwed-1.gif","/assets/images/projects/alwed-2.png","/assets/images/projects/alwed-3.png"]},{id:"p-006",name:"Psikebana Website",category:"Web design, Development",client:"Ilu Martnez",year:"2024",description:"I carried out the development of the website of the psychologist Ilu Martnez, with a colorful and intuitive design that follows the branding of her personal brand. The website has dynamic animations that give life to a page full of information.",link:"https://psikebana.com/",labels:["Animations","JQuery","Slick","Animate.css","Design","Development","RSS"],images:["/assets/images/projects/psikebana-3.png","/assets/images/projects/psikebana-1.png","/assets/images/projects/psikebana-2.png"]},{id:"p-007",name:"MATE Propiedades",category:"Web Development",client:"Grupo Mate Propiedades",year:"2024",description:"The MATE Propiedades Group website is a static website programmed using only HTML and CSS with the objective of creating a public facing brochure accessible from anywhere in the world.",link:"https://grupomatepropiedades.com/",labels:["HTML","CSS","Development"],images:["/assets/images/projects/matepropiedades-1.png","/assets/images/projects/matepropiedades-2.png","/assets/images/projects/matepropiedades-3.png"]}],jde=[{id:"p-009",name:"Almera Turismo",link:"/demos/almeria-turismo",color:"#0C34F0"},{id:"p-008",name:"Mirko Vigna",link:"https://codepen.io/cpadlab/pen/Wbeorrq",color:"#F06318"},{id:"p-001",name:"Dot Dager",link:"https://codepen.io/cpadlab/pen/dPbpYEd",color:"#F0183C"},{id:"p-002",name:"Nicols Padilla",link:"https://w3.ual.es/personal/npadilla/",color:"#0C34F0"},{id:"p-003",name:"Tesla",link:"https://codepen.io/cpadlab/pen/dPbpGXK",color:"#8C0CF0"}],EC={overwiew:Hde,highlights:jde},Wde=()=>N.jsxs("section",{className:"bg-black-950",id:"works",children:[N.jsx("div",{className:"w-[90%] mx-auto flex flex-col gap-3 pt-[5em] pb-8",children:N.jsx("p",{className:"font-lay uppercase text-white-50 text-[.8rem]",children:"Featured projects"})}),N.jsxs("div",{className:"w-[90%] mx-auto",children:[N.jsx("div",{className:"flex items-center pb-[5em]",children:N.jsx("div",{className:"relative w-full",children:EC.highlights.map((n,e)=>N.jsx(Ude,{name:n.name,link:n.link,color:n.color},e))})}),N.jsx("div",{className:"pb-8",children:N.jsx("p",{className:"font-lay uppercase text-white-50 text-[.8rem]",children:"Summary projects"})}),N.jsx("div",{children:N.jsxs("div",{className:"project-button cursor-default",children:[N.jsx("span",{className:"project-button-span after:text-white-400 flex w-[35vw] max-[600px]:flex-1 group-hover:after:pl-4","data-text":"Project",children:"Project"}),N.jsx("span",{className:"project-button-span after:text-white-400 min-[600px]:flex w-[45vw] hidden","data-text":"Category",children:"Category"}),N.jsx("span",{className:"project-button-span after:text-white-400 w-[25vw] min-[1300px]:flex hidden","data-text":"Client",children:"Client"}),N.jsx("span",{className:"project-button-span after:text-white-400 flex w-[20vw] group-hover:after:pr-4 justify-end after:right-0 after:left-[unset] min-[500px]:w-[10vw]","data-text":"Year",children:"Year"})]})}),N.jsx("div",{children:EC.overwiew.map((n,e)=>N.jsx(Vde,{project:n,name:n.name,category:n.category,client:n.client,year:n.year},e))})]})]}),Gde=()=>{const n=["https://blog.olivierlarose.com/_next/image?url=%2F_next%2Fstatic%2Fmedia%2F1.e3500283.jpg&w=828&q=75","https://blog.olivierlarose.com/_next/image?url=%2F_next%2Fstatic%2Fmedia%2F2.c87bbd43.jpg&w=828&q=75","https://blog.olivierlarose.com/_next/image?url=%2F_next%2Fstatic%2Fmedia%2F3.a565eeaf.jpg&w=828&q=75"],e=z.useRef(null),t=z.useRef([]);z.useEffect(()=>{Rr.timeline({defaults:{ease:"sine.out"},scrollTrigger:{trigger:e.current,start:"center center",end:"+=250%",pin:e.current.parentNode,scrub:.5}}).to(t.current,{stagger:.2,duration:1,keyframes:{"0%":{WebkitMaskSize:"0px 0px"},"100%":{WebkitMaskSize:(s,o)=>{const a=Rr.utils.clamp(0,1.5,Jn.progress||.5);return`${a*7e3}px ${a*7e3}`}}}})},[]);const r=["React","GSAP","Tailwind CSS","JQuery","Framer Motion"],i=["Landing Page","Wordpress","Shopify","Eccommerce","Blog","Portfolio"];return N.jsx("section",{className:"bg-black-950 w-full relative content-center pt-12",id:"services",children:N.jsx("div",{className:"w-full h-screen relative",ref:e,children:n.map((s,o)=>N.jsx("div",{className:"absolute top-0 h-full w-full",children:N.jsxs("div",{className:"mask-star relative",ref:a=>t.current[o]=a,children:[N.jsx("img",{className:"h-full w-full object-cover",src:s,alt:""}),o===2?N.jsxs("div",{className:"absolute bottom-4 flex justify-between w-[90%] left-1/2 -translate-x-1/2 h-auto flex-wrap gap-4 select-none",children:[N.jsx("ul",{children:r.map((a,l)=>N.jsx("p",{className:"font-lay uppercase text-white-200 text-[.8rem]",children:a},l))}),N.jsx("ul",{children:N.jsxs("div",{children:[N.jsx("p",{className:"font-lay uppercase text-white-200 text-[.8rem]",children:"Development"}),N.jsx("p",{className:"font-lay uppercase text-white-200 text-[.8rem]",children:"Design"})]})}),N.jsx("ul",{children:i.map((a,l)=>N.jsx("p",{className:"font-lay uppercase text-white-200 text-[.8rem]",children:a},l))})]}):N.jsx(N.Fragment,{})]})},o))})})},PS=[{id:"blo-004",date:"2024-12-15",title:"Text Parallax with Framer Motion",description:"Implementation of a scrolling parallax text using Framer Motion and React.",type:"Tutorial",image:"/assets/images/blog/blo-004.webp",gif:"/assets/images/blog/blo-004.gif",link:"https://medium.com/@cpadlab/text-parallax-with-framer-motion-a724d1ce85d0"},{id:"blo-002",date:"2024-12-11",title:"Awesome GSAP Section Transition",description:"Implementation of a transition between sections using React and TailwindCSS, inspired by Jack Elder.",image:"/assets/images/blog/blo-002.webp",type:"Tutorial",gif:"/assets/images/blog/blo-002.gif",link:"https://medium.com/@cpadlab/awesome-gsap-section-transition-aba4271c0e0c"},{id:"blo-001",date:"2024-11-19",title:"JQuery Mask Entry Animation",description:"Implementation of an intro animation with clip-path mask for images using jQuery and jQuery UI, inspired by the Olivier Larose blog.",image:"/assets/images/blog/blo-001.webp",type:"Tutorial",gif:"/assets/images/blog/blo-001.gif",link:"https://medium.com/@cpadlab/jquery-mask-entry-animation-62325bb9b35b"}],fV=({date:n,title:e,description:t,image:r,type:i,gif:s,link:o})=>{const[a,l]=z.useState(!1);return N.jsxs("a",{target:"_blank",href:o,"data-type":i,children:[N.jsx("div",{className:"hover:-translate-y-[10px] transition-all duration-300",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:a?N.jsx("img",{src:s,alt:e,className:"w-full rounded-2xl"}):N.jsx("img",{src:r,alt:e,className:"w-full rounded-2xl"})}),N.jsxs("div",{className:"flex flex-col gap-2 pt-4",children:[N.jsxs("div",{className:"flex justify-between",children:[N.jsx("time",{dateTime:new Date(n).toISOString().split("T")[0],className:"text-white-400",children:new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),N.jsx("span",{className:"py-1 px-3 bg-white-900 text-[.8rem] text-white-400 rounded-lg",children:i})]}),N.jsx("h2",{className:"text-[1.2rem] text-white-100",children:e}),N.jsx("p",{className:"text-white-300",children:t})]})]})},$de=()=>{const[n,e]=z.useState(4);return z.useEffect(()=>{const t=()=>{window.innerWidth<=500?e(3):window.innerWidth<=768?e(2):window.innerWidth<=1024?e(3):e(4)};return t(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[]),N.jsxs("section",{className:"pt-[5em] pb-8 w-[90%] mx-auto",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsx("h2",{className:"font-lay uppercase text-white-50 text-[.8rem]",children:"Blog"}),N.jsx("div",{className:"flex",children:N.jsx(Es,{to:"/blog",className:"relative no-underline after:content-[''] after:absolute after:bg-white-50 after:h-[1px] after:w-0 after:left-0 after:bottom-[0px] after:transition-all hover:after:w-full after:duration-200 after:ease-in",children:N.jsx("span",{"data-text":"See all",className:"text-white-300 transition-all duration-300 hover:text-white-50",children:"See all"})})})]}),N.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 pt-10 gap-6",children:PS.slice(0,n).map(t=>N.jsx(fV,{date:t.date,title:t.title,description:t.description,image:t.image,type:t.type,gif:t.gif,link:t.link},t.id))})]})},Xde=()=>{const n=e=>{e.preventDefault();const t=e.target,r=t.contact_text_lastname.value,i=t.contact_text_firstname.value,s=t.contact_email.value,o=t.contact_tel.value||"N/A",a=t.contact_text_organization.value||"N/A",l=t.contact_text_lookingfor.value,c=t.contact_textarea.value||"N/A",f=encodeURIComponent("New Contact Request"),h=encodeURIComponent(`Name: ${i} ${r}
Email: ${s}
Phone: ${o}
Organization: ${a}
Looking for: ${l}

Message:
${c}`),p=`mailto:your-email@example.com?subject=${f}&body=${h}`;window.location.href=p};return N.jsxs("section",{className:"pt-8 pb-[5em] w-[90%] mx-auto font-lay",children:[N.jsx("h2",{className:"text-white-50 font-normal text-2xl font-lay",children:"Every good partnership starts with a coffee."}),N.jsx("h2",{className:"text-white-50 font-normal text-2xl font-lay",children:"Let's make an appointment."}),N.jsxs("form",{className:"pt-8 flex flex-col gap-6",onSubmit:n,children:[N.jsxs("div",{className:"flex gap-4 w-full",children:[N.jsxs("div",{className:"flex gap-6 flex-1 flex-col",children:[N.jsx("input",{className:"contact-input",name:"contact_text_lastname",type:"text",required:!0,placeholder:"Last name*",autoComplete:"family-name"}),N.jsx("input",{className:"contact-input",name:"contact_email",type:"email",required:!0,placeholder:"Email*",autoComplete:"email"}),N.jsx("input",{className:"contact-input",name:"contact_text_organization",type:"text",placeholder:"Organization",autoComplete:"organization"})]}),N.jsxs("div",{className:"flex gap-6 flex-1 flex-col",children:[N.jsx("input",{className:"contact-input",name:"contact_text_firstname",type:"text",required:!0,placeholder:"First name*",autoComplete:"given-name"}),N.jsx("input",{className:"contact-input",name:"contact_tel",type:"tel",placeholder:"Phone",autoComplete:"tel"}),N.jsx("input",{className:"contact-input",name:"contact_text_lookingfor",type:"text",required:!0,placeholder:"I'm looking for*",autoComplete:"off"})]})]}),N.jsxs("div",{className:"flex gap-8",children:[N.jsx("textarea",{className:"contact-input",placeholder:"Message",rows:"1",name:"contact_textarea"}),N.jsx("div",{className:"flex",children:N.jsx("button",{className:"primary-button primary-button-after",type:"submit",children:N.jsx("span",{className:"relative z-20 text-nowrap",children:"Send"})})})]})]})]})},d2=()=>N.jsx("footer",{className:"sticky bg-white-200 p-4 flex items-center pt-12 pb-12 bottom-0 min-h-[50vh]",children:N.jsxs("div",{className:"mx-auto w-[90%] flex flex-col overflow-x-hidden gap-8",children:[N.jsxs("div",{className:"flex gap-8 font-lay",children:[N.jsxs("div",{className:"flex flex-col gap-2",children:[N.jsx("h3",{className:"font-bold text-black-950",children:"Social Media"}),N.jsx("a",{className:"footer-link",href:"https://github.com/cpadlab",target:"_blank",children:N.jsx("span",{className:"footer-link-span",children:"Github"})}),N.jsx("a",{className:"footer-link",href:"https://www.linkedin.com/in/cpadilla10/",target:"_blank",children:N.jsx("span",{className:"footer-link-span",children:"LinkedIn"})}),N.jsx("a",{className:"footer-link",href:"https://codepen.io/cpadlab",target:"_blank",children:N.jsx("span",{className:"footer-link-span",children:"CodePen"})}),N.jsx("a",{className:"footer-link",href:"https://www.youtube.com/@wual",target:"_blank",children:N.jsx("span",{className:"footer-link-span",children:"YouTube"})}),N.jsx("a",{className:"footer-link",href:"https://medium.com/@cpadlab",target:"_blank",children:N.jsx("span",{className:"footer-link-span",children:"Medium"})}),N.jsx("a",{className:"footer-link",href:"https://es.fiverr.com/cpadlab",target:"_blank",children:N.jsx("span",{className:"footer-link-span",children:"Fiverr"})})]}),N.jsxs("div",{className:"flex flex-col gap-2",children:[N.jsx("h3",{className:"font-bold text-black-950",children:"Page"}),N.jsx(Es,{className:"footer-link",to:"/",children:N.jsx("span",{className:"footer-link-span",children:"Home"})}),N.jsx(Es,{className:"footer-link",to:"/blog",children:N.jsx("span",{className:"footer-link-span",children:"Blog"})}),N.jsx(Es,{className:"footer-link",to:"/demos",children:N.jsx("span",{className:"footer-link-span",children:"Demos"})}),N.jsx("a",{className:"footer-link",href:"mailto:cpadlab@proton.me",target:"_blank",children:N.jsx("span",{className:"footer-link-span",children:"E-Mail"})})]})]}),N.jsx("h2",{className:"text-black-950 uppercase select-none leading-[1] min-[600px]:text-[8rem] min-[450px]:text-[6rem] min-[370px]:text-[5rem] text-[4rem] font-bold font-lay",children:N.jsx("span",{children:"Carlos Padilla"})}),N.jsxs("p",{className:"font-lay text-base text-black-950 relative no-underline",children:["Copyright  ",new Date().getFullYear()," Carlos Padilla - All rights reserved"]})]})}),dV=()=>{const[n,e]=z.useState(!1),t=()=>{e(!n)},r={open:{opacity:1,scale:1,y:0,PointerEvent:"all",transition:{type:"spring",stiffness:300,damping:20}},closed:{opacity:0,scale:.95,y:"-100%",PointerEvent:"none",transition:{type:"spring",stiffness:300,damping:20}}},i={open:{opacity:.6,y:0,transition:{type:"spring",stiffness:300,damping:20}},closed:{opacity:0,y:"-100%",transition:{type:"spring",stiffness:300,damping:20}}},s=[{name:"Github",url:"https://github.com/cpadlab"},{name:"LinkedIn",url:"https://www.linkedin.com/in/cpadilla10/"},{name:"CodePen",url:"https://codepen.io/cpadlab"},{name:"YouTube",url:"https://www.youtube.com/@wual"},{name:"Medium",url:"https://medium.com/@cpadlab"},{name:"Fiverr",url:"https://es.fiverr.com/cpadlab"}];return N.jsxs(N.Fragment,{children:[N.jsx("header",{className:"fixed w-full flex justify-center top-0 left-0 z-[111111] mix-blend-difference p-4",children:N.jsxs("button",{onClick:t,className:"flex items-center gap-2 cursor-pointer",children:[N.jsxs("div",{className:"w-[2em] h-[1em] relative",children:[N.jsx("div",{className:`absolute w-full bg-white-50 h-[.2em] left-0 transition-transform duration-300 ${n?"top-1/2 -translate-y-1/2 -rotate-45":"top-[.2em]"}`}),N.jsx("div",{className:`absolute w-full bg-white-50 h-[.2em] left-0 transition-transform duration-300 ${n?"top-1/2 -translate-y-1/2 rotate-45":"bottom-[.2em]"}`})]}),N.jsx("label",{className:"cursor-pointer font-lay uppercase text-white-50 text-right text-base",children:"menu"})]})}),N.jsxs(Pp.nav,{initial:"closed",animate:n?"open":"closed",variants:r,className:"fixed w-full top-0 left-0 z-[1111] px-4 bg-white-50 pt-12 shadow-2xl",children:[N.jsxs("ul",{className:"sm:justify-start justify-center border-t border-t-black-950 pt-4 flex flex-wrap gap-x-4",children:[N.jsx("li",{className:"py-4",children:N.jsx(Es,{to:"/",className:'px-4 pt-3 mb-2 after:absolute relative transition-all duration-200 after:content-[""] hover:after:w-full after:w-0 after:overflow-hidden hover:after:px-0 after:h-full after:transition-all after:duration-200 after:left-0 cursor-pointer after:top-0 after:bottom-0 after:bg-white-50 after:mix-blend-difference sm:leading-[7.3rem] leading-[3.3rem] text-7xl sm:text-9xl font-lay uppercase font-bold',children:"Home"})}),N.jsx("li",{className:"py-4",children:N.jsx(Es,{to:"/blog",className:'after:absolute relative px-4 pt-3 mb-2 transition-all duration-200 after:content-[""] hover:after:w-full after:w-0 after:overflow-hidden hover:after:px-0 after:h-full after:transition-all after:duration-200 after:left-0 cursor-pointer after:top-0 after:bottom-0 after:bg-white-50 after:mix-blend-difference sm:leading-[7.3rem] leading-[3.3rem] text-7xl sm:text-9xl font-lay uppercase font-bold',children:"Blog"})}),N.jsx("li",{className:"py-4",children:N.jsx(Es,{to:"/demos",className:'after:absolute relative px-4 pt-3 mb-2 transition-all duration-200 after:content-[""] hover:after:w-full after:w-0 after:overflow-hidden hover:after:px-0 after:h-full after:transition-all after:duration-200 after:left-0 cursor-pointer after:top-0 after:bottom-0 after:bg-white-50 after:mix-blend-difference sm:leading-[7.3rem] leading-[3.3rem] text-7xl sm:text-9xl font-lay uppercase font-bold',children:"Demos"})})]}),N.jsx("ul",{className:"border-t border-t-black-950 py-4 flex flex-wrap gap-x-8 sm:justify-start justify-center",children:s.map((o,a)=>N.jsxs("a",{className:"font-lay uppercase text-black-950 text-right text-base group flex items-center gap-1",href:o.url,target:"_blank",children:[N.jsx("span",{children:o.name}),N.jsx("svg",{className:"group-hover:translate-y-[-3px] group-hover:translate-x-[3px] transition-all duration-200",width:"9",height:"8",viewBox:"0 0 9 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:N.jsx("path",{className:"fill-black-500 group-hover:fill-black-950 transition-all duration-200",d:"M8.49966 1.01851C8.50988 0.742553 8.29446 0.510563 8.01851 0.500342L3.52159 0.33379C3.24564 0.32357 3.01365 0.538989 3.00343 0.814942C2.99321 1.09089 3.20862 1.32288 3.48458 1.33311L7.48184 1.48115L7.33379 5.47841C7.32357 5.75436 7.53899 5.98635 7.81494 5.99657C8.09089 6.0068 8.32288 5.79138 8.3331 5.51542L8.49966 1.01851ZM1.34023 7.8664L8.34023 1.3664L7.65977 0.633603L0.659774 7.1336L1.34023 7.8664Z"})})]},a))}),N.jsx("ul",{className:"border-t border-t-black-950 py-4",children:N.jsxs("p",{className:"font-lay uppercase text-black-950 sm:text-right text-center",children:[N.jsxs("b",{children:["Copyright  ",new Date().getFullYear()," Carlos Padilla"]})," - All rights reserved"]})})]}),N.jsx(Pp.div,{initial:"closed",animate:n?"open":"closed",variants:i,className:"fixed w-screen top-0 left-0 right-0 bottom-0 h-screen z-[111] bg-black-950 opacity-50"})]})};var qde="1.1.18";function hV(n,e,t){return Math.max(n,Math.min(e,t))}function Yde(n,e,t){return(1-t)*n+t*e}function Kde(n,e,t,r){return Yde(n,e,1-Math.exp(-t*r))}function Zde(n,e){return(n%e+e)%e}var Jde=class{constructor(){An(this,"isRunning",!1);An(this,"value",0);An(this,"from",0);An(this,"to",0);An(this,"currentTime",0);An(this,"lerp");An(this,"duration");An(this,"easing");An(this,"onUpdate")}advance(n){var t;if(!this.isRunning)return;let e=!1;if(this.duration&&this.easing){this.currentTime+=n;const r=hV(0,this.currentTime/this.duration,1);e=r>=1;const i=e?1:this.easing(r);this.value=this.from+(this.to-this.from)*i}else this.lerp?(this.value=Kde(this.value,this.to,this.lerp*60,n),Math.round(this.value)===this.to&&(this.value=this.to,e=!0)):(this.value=this.to,e=!0);e&&this.stop(),(t=this.onUpdate)==null||t.call(this,this.value,e)}stop(){this.isRunning=!1}fromTo(n,e,{lerp:t,duration:r,easing:i,onStart:s,onUpdate:o}){this.from=this.value=n,this.to=e,this.lerp=t,this.duration=r,this.easing=i,this.currentTime=0,this.isRunning=!0,s==null||s(),this.onUpdate=o}};function Qde(n,e){let t;return function(...r){let i=this;clearTimeout(t),t=setTimeout(()=>{t=void 0,n.apply(i,r)},e)}}var ehe=class{constructor(n,e,{autoResize:t=!0,debounce:r=250}={}){An(this,"width",0);An(this,"height",0);An(this,"scrollHeight",0);An(this,"scrollWidth",0);An(this,"debouncedResize");An(this,"wrapperResizeObserver");An(this,"contentResizeObserver");An(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});An(this,"onWrapperResize",()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});An(this,"onContentResize",()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=n,this.content=e,t&&(this.debouncedResize=Qde(this.resize,r),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var n,e;(n=this.wrapperResizeObserver)==null||n.disconnect(),(e=this.contentResizeObserver)==null||e.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},pV=class{constructor(){An(this,"events",{})}emit(n,...e){var r;let t=this.events[n]||[];for(let i=0,s=t.length;i<s;i++)(r=t[i])==null||r.call(t,...e)}on(n,e){var t;return(t=this.events[n])!=null&&t.push(e)||(this.events[n]=[e]),()=>{var r;this.events[n]=(r=this.events[n])==null?void 0:r.filter(i=>e!==i)}}off(n,e){var t;this.events[n]=(t=this.events[n])==null?void 0:t.filter(r=>e!==r)}destroy(){this.events={}}},sO=100/6,fd={passive:!1},the=class{constructor(n,e={wheelMultiplier:1,touchMultiplier:1}){An(this,"touchStart",{x:0,y:0});An(this,"lastDelta",{x:0,y:0});An(this,"window",{width:0,height:0});An(this,"emitter",new pV);An(this,"onTouchStart",n=>{const{clientX:e,clientY:t}=n.targetTouches?n.targetTouches[0]:n;this.touchStart.x=e,this.touchStart.y=t,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:n})});An(this,"onTouchMove",n=>{const{clientX:e,clientY:t}=n.targetTouches?n.targetTouches[0]:n,r=-(e-this.touchStart.x)*this.options.touchMultiplier,i=-(t-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=e,this.touchStart.y=t,this.lastDelta={x:r,y:i},this.emitter.emit("scroll",{deltaX:r,deltaY:i,event:n})});An(this,"onTouchEnd",n=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:n})});An(this,"onWheel",n=>{let{deltaX:e,deltaY:t,deltaMode:r}=n;const i=r===1?sO:r===2?this.window.width:1,s=r===1?sO:r===2?this.window.height:1;e*=i,t*=s,e*=this.options.wheelMultiplier,t*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:e,deltaY:t,event:n})});An(this,"onWindowResize",()=>{this.window={width:window.innerWidth,height:window.innerHeight}});this.element=n,this.options=e,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,fd),this.element.addEventListener("touchstart",this.onTouchStart,fd),this.element.addEventListener("touchmove",this.onTouchMove,fd),this.element.addEventListener("touchend",this.onTouchEnd,fd)}on(n,e){return this.emitter.on(n,e)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,fd),this.element.removeEventListener("touchstart",this.onTouchStart,fd),this.element.removeEventListener("touchmove",this.onTouchMove,fd),this.element.removeEventListener("touchend",this.onTouchEnd,fd)}},nhe=class{constructor({wrapper:n=window,content:e=document.documentElement,eventsTarget:t=n,smoothWheel:r=!0,syncTouch:i=!1,syncTouchLerp:s=.075,touchInertiaMultiplier:o=35,duration:a,easing:l=U=>Math.min(1,1.001-Math.pow(2,-10*U)),lerp:c=.1,infinite:f=!1,orientation:h="vertical",gestureOrientation:p="vertical",touchMultiplier:v=1,wheelMultiplier:y=1,autoResize:w=!0,prevent:S,virtualScroll:_,overscroll:A=!0,autoRaf:R=!1,__experimental__naiveDimensions:P=!1}={}){An(this,"_isScrolling",!1);An(this,"_isStopped",!1);An(this,"_isLocked",!1);An(this,"_preventNextNativeScrollEvent",!1);An(this,"_resetVelocityTimeout",null);An(this,"__rafID",null);An(this,"isTouching");An(this,"time",0);An(this,"userData",{});An(this,"lastVelocity",0);An(this,"velocity",0);An(this,"direction",0);An(this,"options");An(this,"targetScroll");An(this,"animatedScroll");An(this,"animate",new Jde);An(this,"emitter",new pV);An(this,"dimensions");An(this,"virtualScroll");An(this,"onPointerDown",n=>{n.button===1&&this.reset()});An(this,"onVirtualScroll",n=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(n)===!1)return;const{deltaX:e,deltaY:t,event:r}=n;if(this.emitter.emit("virtual-scroll",{deltaX:e,deltaY:t,event:r}),r.ctrlKey||r.lenisStopPropagation)return;const i=r.type.includes("touch"),s=r.type.includes("wheel");this.isTouching=r.type==="touchstart"||r.type==="touchmove";const o=e===0&&t===0;if(this.options.syncTouch&&i&&r.type==="touchstart"&&o&&!this.isStopped&&!this.isLocked){this.reset();return}const l=this.options.gestureOrientation==="vertical"&&t===0||this.options.gestureOrientation==="horizontal"&&e===0;if(o||l)return;let c=r.composedPath();c=c.slice(0,c.indexOf(this.rootElement));const f=this.options.prevent;if(c.find(S=>{var _,A,R;return S instanceof HTMLElement&&(typeof f=="function"&&(f==null?void 0:f(S))||((_=S.hasAttribute)==null?void 0:_.call(S,"data-lenis-prevent"))||i&&((A=S.hasAttribute)==null?void 0:A.call(S,"data-lenis-prevent-touch"))||s&&((R=S.hasAttribute)==null?void 0:R.call(S,"data-lenis-prevent-wheel")))}))return;if(this.isStopped||this.isLocked){r.preventDefault();return}if(!(this.options.syncTouch&&i||this.options.smoothWheel&&s)){this.isScrolling="native",this.animate.stop(),r.lenisStopPropagation=!0;return}let p=t;this.options.gestureOrientation==="both"?p=Math.abs(t)>Math.abs(e)?t:e:this.options.gestureOrientation==="horizontal"&&(p=e),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&t>0||this.animatedScroll===this.limit&&t<0))&&(r.lenisStopPropagation=!0),r.preventDefault();const v=i&&this.options.syncTouch,w=i&&r.type==="touchend"&&Math.abs(p)>5;w&&(p=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+p,{programmatic:!1,...v?{lerp:w?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})});An(this,"onNativeScroll",()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){const n=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-n,this.direction=Math.sign(this.animatedScroll-n),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}});An(this,"raf",n=>{const e=n-(this.time||n);this.time=n,this.animate.advance(e*.001),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))});window.lenisVersion=qde,(!n||n===document.documentElement||n===document.body)&&(n=window),this.options={wrapper:n,content:e,eventsTarget:t,smoothWheel:r,syncTouch:i,syncTouchLerp:s,touchInertiaMultiplier:o,duration:a,easing:l,lerp:c,infinite:f,gestureOrientation:p,orientation:h,touchMultiplier:v,wheelMultiplier:y,autoResize:w,prevent:S,virtualScroll:_,overscroll:A,autoRaf:R,__experimental__naiveDimensions:P},this.dimensions=new ehe(n,e,{autoResize:w}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new the(t,{touchMultiplier:v,wheelMultiplier:y}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(n,e){return this.emitter.on(n,e)}off(n,e){return this.emitter.off(n,e)}setScroll(n){this.isHorizontal?this.rootElement.scrollLeft=n:this.rootElement.scrollTop=n}resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.reset(),this.isStopped=!1)}stop(){this.isStopped||(this.reset(),this.isStopped=!0)}scrollTo(n,{offset:e=0,immediate:t=!1,lock:r=!1,duration:i=this.options.duration,easing:s=this.options.easing,lerp:o=this.options.lerp,onStart:a,onComplete:l,force:c=!1,programmatic:f=!0,userData:h}={}){if(!((this.isStopped||this.isLocked)&&!c)){if(typeof n=="string"&&["top","left","start"].includes(n))n=0;else if(typeof n=="string"&&["bottom","right","end"].includes(n))n=this.limit;else{let p;if(typeof n=="string"?p=document.querySelector(n):n instanceof HTMLElement&&(n!=null&&n.nodeType)&&(p=n),p){if(this.options.wrapper!==window){const y=this.rootElement.getBoundingClientRect();e-=this.isHorizontal?y.left:y.top}const v=p.getBoundingClientRect();n=(this.isHorizontal?v.left:v.top)+this.animatedScroll}}if(typeof n=="number"){if(n+=e,n=Math.round(n),this.options.infinite?f&&(this.targetScroll=this.animatedScroll=this.scroll):n=hV(0,n,this.limit),n===this.targetScroll){a==null||a(this),l==null||l(this);return}if(this.userData=h??{},t){this.animatedScroll=this.targetScroll=n,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),l==null||l(this),this.userData={};return}f||(this.targetScroll=n),this.animate.fromTo(this.animatedScroll,n,{duration:i,easing:s,lerp:o,onStart:()=>{r&&(this.isLocked=!0),this.isScrolling="smooth",a==null||a(this)},onUpdate:(p,v)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=p-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=p,this.setScroll(this.scroll),f&&(this.targetScroll=p),v||this.emit(),v&&(this.reset(),this.emit(),l==null||l(this),this.userData={},this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?Zde(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(n){this._isScrolling!==n&&(this._isScrolling=n,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(n){this._isStopped!==n&&(this._isStopped=n,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(n){this._isLocked!==n&&(this._isLocked=n,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let n="lenis";return this.isStopped&&(n+=" lenis-stopped"),this.isLocked&&(n+=" lenis-locked"),this.isScrolling&&(n+=" lenis-scrolling"),this.isScrolling==="smooth"&&(n+=" lenis-smooth"),n}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};Rr.registerPlugin(Jn);const rhe=()=>(z.useEffect(()=>{const n=new nhe({lerp:.15});return n.on("scroll",Jn.update),Rr.ticker.add(e=>{n.raf(e*1e3)}),Rr.ticker.lagSmoothing(0),()=>{Rr.ticker.remove(e=>n.raf(e*1e3)),n.destroy()}},[]),null),ihe={phrase:"Welcome! I'm Carlos Padilla, front-end developer with experience in technologies like React, GSAP, jQuery, TailwindCSS, Python, among others. I'm passionate about exploring new trends and effects in web development, and in my free time I enjoy traveling and creating content. In addition, I have a special interest in cybersecurity and pentesting, backed by eJPT certification. Currently, I am pursuing a degree in Multiplatform Application Development (D.A.M.), and I also have a degree in Microcomputer Systems and Networks (S.M.R.). Do you want to discover my world?"},she=[{src:"/assets/images/scroll-layout/39.webp",pos:"1 / 1"},{src:"/assets/images/scroll-layout/38.webp",pos:"1 / 3"},{src:"/assets/images/scroll-layout/37.webp",pos:"1 / 4"},{src:"/assets/images/scroll-layout/36.webp",pos:"1 / 5"},{src:"/assets/images/scroll-layout/35.webp",pos:"1 / 7"},{src:"/assets/images/scroll-layout/6.webp",pos:"2 / 1"},{src:"/assets/images/scroll-layout/7.webp",pos:"2 / 3"},{src:"/assets/images/scroll-layout/8.webp",pos:"2 / 4"},{src:"/assets/images/scroll-layout/9.webp",pos:"2 / 6"},{src:"/assets/images/scroll-layout/1.webp",pos:"2 / 7"},{src:"/assets/images/scroll-layout/2.webp",pos:"2 / 8"},{src:"/assets/images/scroll-layout/3.webp",pos:"3 / 1"},{src:"/assets/images/scroll-layout/4.webp",pos:"3 / 2"},{src:"/assets/images/scroll-layout/5.webp",pos:"3 / 4"},{src:"/assets/images/scroll-layout/34.webp",pos:"3 / 5"},{src:"/assets/images/scroll-layout/16.webp",pos:"3 / 7"},{src:"/assets/images/scroll-layout/17.webp",pos:"3 / 8"}],oO={about:ihe,scrollLayoutImages:she},ohe=()=>N.jsxs(N.Fragment,{children:[N.jsx(Hl,{children:N.jsx("title",{children:"Carlos Padilla - Freelance Front End Developer"})}),N.jsx(rhe,{}),N.jsx(dV,{}),N.jsxs("main",{className:"overflow-x-hidden z-[2] relative bg-black-950 min-h-screen shadow-2xl",children:[N.jsx("div",{className:"bg-black-950",children:N.jsx(Lde,{})}),N.jsx(Dde,{data:oO}),N.jsx("div",{className:"bg-black-950 relative p-2 items-center justify-center flex",children:N.jsx("div",{className:"w-full mask",children:N.jsx(Nde,{data:oO})})}),N.jsx(Wde,{}),N.jsx(Gde,{}),N.jsx($de,{}),N.jsx(Xde,{})]}),N.jsx(d2,{})]}),ahe=({selectedType:n})=>{const e=n?PS.filter(t=>t.type===n):PS;return N.jsx("section",{className:"pt-8 pb-8 w-[90%] mx-auto",children:N.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:e.map(t=>N.jsx(fV,{date:t.date,title:t.title,description:t.description,image:t.image,type:t.type,gif:t.gif,link:t.link},t.id))})})},lhe=({onSelectType:n})=>{const e=[...new Set(PS.map(r=>r.type))],t=r=>{n(r==="All"?null:r)};return N.jsx("section",{className:"pt-4 w-[90%] mx-auto",children:N.jsxs("div",{className:"flex items-stretch gap-2 flex-wrap",children:[N.jsx("button",{className:"bg-red-950 px-4 py-2 rounded-lg text-[.8rem] text-red-200 font-inter uppercase hover:text-white-50 hover:bg-red-900 transition-all duration-300",onClick:()=>t("All"),children:N.jsx("span",{children:"All"})}),e.map(r=>N.jsx("button",{className:"bg-red-950 px-4 py-2 rounded-lg text-[.8rem] text-red-200 font-inter uppercase hover:text-white-50 hover:bg-red-900 transition-all duration-300",onClick:()=>t(r),children:N.jsx("span",{children:r})},r)),N.jsxs(Es,{to:"/demos/",className:"bg-red-950 px-4 py-2 rounded-lg text-[.8rem] text-red-200 font-inter uppercase hover:text-white-50 hover:bg-red-900 transition-all duration-300 flex items-center gap-1 relative group",children:[N.jsx("span",{children:"Demos"}),N.jsx("svg",{className:"group-hover:translate-y-[-3px] group-hover:translate-x-[3px] transition-all duration-200",width:"9",height:"8",viewBox:"0 0 9 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:N.jsx("path",{className:"fill-red-200 group-hover:fill-white-50 transition-all duration-200",d:"M8.49966 1.01851C8.50988 0.742553 8.29446 0.510563 8.01851 0.500342L3.52159 0.33379C3.24564 0.32357 3.01365 0.538989 3.00343 0.814942C2.99321 1.09089 3.20862 1.32288 3.48458 1.33311L7.48184 1.48115L7.33379 5.47841C7.32357 5.75436 7.53899 5.98635 7.81494 5.99657C8.09089 6.0068 8.32288 5.79138 8.3331 5.51542L8.49966 1.01851ZM1.34023 7.8664L8.34023 1.3664L7.65977 0.633603L0.659774 7.1336L1.34023 7.8664Z"})})]})]})})},mV="/assets/home-banner-1280-DjQ6pOqr.webp",che=()=>{const[n,e]=z.useState(null),t=r=>{e(r===n?null:r)};return N.jsxs(N.Fragment,{children:[N.jsx(Hl,{children:N.jsx("title",{children:"Blog - Carlos Padilla"})}),N.jsx(dV,{}),N.jsxs("main",{className:"z-[2] relative bg-black-950 min-h-screen shadow-2xl ",children:[N.jsx("div",{className:"pt-[5em] w-[90%] mx-auto",id:"banner",children:N.jsx("img",{className:"rounded-2xl h-[150px] blur-md w-full object-cover",src:mV,alt:"Background",loading:"eager"})}),N.jsx("div",{className:"pt-8 w-[90%] mx-auto",children:N.jsx("div",{className:"flex items-center justify-between",children:N.jsx("h2",{className:"text-white-100 font-inter text-[2rem] leading-tight",children:"Welcome to my blog! Explore my most recent posts, my latest explorations, case studies and more..."})})}),N.jsx(lhe,{onSelectType:t}),N.jsx(ahe,{selectedType:n})]}),N.jsx(d2,{})]})},uhe=[{title:"Text Parallax with Framer Motion",link:"/demos/text-parallax"},{title:"Background sliding on hover",link:"/demos/background-sliding-on-hover"},{title:"GSAP Section Transition",link:"/demos/gsap-section-transition"},{title:"JQuery Mask Entry Animation",link:"/demos/mask-entry-animation"}],fhe=[{title:"Almera Turismo",link:"/demos/almeria-turismo"},{title:"Mirko Vigna Portfolio",link:"/demos/mirko-vigna-portfolio"},{title:"Dot Dager Portfolio",link:"/demos/dot-dager-portfolio"},{title:"Tesla Landing Page",link:"/demos/tesla-landing-page"},{title:"Alwed",link:"/demos/alwed"}],IS={demos:uhe,websites:fhe},_u=({active:n})=>{const[e,t]=z.useState(!1),r=()=>{t(!e)},i={open:{opacity:1,scale:1,y:0,PointerEvent:"all",transition:{type:"spring",stiffness:300,damping:20}},closed:{opacity:0,scale:.95,y:"-150%",PointerEvent:"none",transition:{type:"spring",stiffness:300,damping:20}}};return N.jsx("div",{className:"bg-black-950 relative w-full p-4 border-b border-b-white-600 flex items-center gap-4 justify-left",children:N.jsxs("div",{className:"relative",children:[N.jsxs("button",{className:"px-4 py-1 relative cursor-pointer bg-white-950 text-white-400 rounded-2xl flex flex-row-reverse items-center gap-2 max-w-[300px] w-auto min-w-[300px] overflow-hidden",onClick:r,children:[N.jsx("svg",{className:"cursor-pointer fill-white-400 w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",children:N.jsx("path",{d:"M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"})}),N.jsx("p",{className:"cursor-pointer flex-1 text-left",children:n})]}),N.jsxs(Pp.div,{initial:"closed",animate:e?"open":"closed",variants:i,className:"bg-white-950 border border-white-700 rounded-2xl flex flex-col absolute left-0 top-[120%] max-h-[300px] overflow-x-hidden overflow-y-scroll py-2 z-50",id:"demos-select",children:[N.jsxs("ul",{className:"",children:[N.jsxs("li",{className:"px-4 py-2",children:[N.jsx("p",{className:"text-white-500 font-bold font-lay",children:"Introduction"}),N.jsx("div",{className:"w-full h-px bg-white-500"})]}),N.jsx("li",{className:"flex items-center gap-2 group px-4 hover:bg-white-700 transition-colors duration-150 ease-in",children:N.jsx(Es,{className:"text-white-500 text-nowrap font-lay group-hover:text-white-50 transition-colors duration-200",to:"/demos",children:"All demos"})}),N.jsx("li",{className:"flex items-center gap-2 group px-4 hover:bg-white-700 transition-colors duration-150 ease-in",children:N.jsx(Es,{className:"text-white-500 text-nowrap font-lay group-hover:text-white-50 transition-colors duration-200",to:"/blog",children:"Blog"})}),N.jsx("li",{className:"flex items-center gap-2 group px-4 hover:bg-white-700 transition-colors duration-150 ease-in",children:N.jsx(Es,{className:"text-white-500 text-nowrap font-lay group-hover:text-white-50 transition-colors duration-200",to:"/",children:"Home"})})]}),N.jsxs("ul",{className:"",children:[N.jsxs("li",{className:"px-4 py-2",children:[N.jsx("p",{className:"text-white-500 font-bold font-lay",children:"Websites"}),N.jsx("div",{className:"w-full h-px bg-white-500"})]}),IS.websites.map((s,o)=>N.jsx("li",{className:"flex items-center gap-2 group px-4 hover:bg-white-700 transition-colors duration-150 ease-in",children:N.jsx(Es,{className:"text-white-500 text-nowrap font-lay group-hover:text-white-50 transition-colors duration-200",to:s.link,children:s.title})},o))]}),N.jsxs("ul",{className:"",children:[N.jsxs("li",{className:"px-4 py-2",children:[N.jsx("p",{className:"text-white-500 font-bold font-lay",children:"Demos"}),N.jsx("div",{className:"w-full h-px bg-white-500"})]}),IS.demos.map((s,o)=>N.jsx("li",{className:"flex items-center gap-2 group px-4 hover:bg-white-700 transition-colors duration-150 ease-in",children:N.jsx(Es,{className:"text-white-500 text-nowrap font-lay group-hover:text-white-50 transition-colors duration-200",to:s.link,children:s.title})},o))]})]})]})})},dhe=()=>N.jsxs(N.Fragment,{children:[N.jsx(_u,{active:"All demos"}),N.jsx(Hl,{children:N.jsx("title",{children:"All demos | Carlos Padilla"})}),N.jsxs("main",{className:"z-[2] relative bg-black-950 min-h-screen shadow-2xl",children:[N.jsx("div",{className:"pt-[5em] w-[90%] mx-auto",id:"banner",children:N.jsx("img",{className:"rounded-2xl h-[150px] blur-md w-full object-cover",src:mV,alt:"Background",loading:"eager"})}),N.jsx("div",{className:"pt-8 w-[90%] mx-auto",children:N.jsx("div",{className:"flex items-center justify-between",children:N.jsx("h2",{className:"text-white-100 font-inter text-[2rem] leading-tight",children:"Welcome to my demos! Personal Projects, Spec Works and Live Tutorial Demonstrations..."})})}),N.jsx("div",{className:"pt-8 w-[90%] mx-auto",children:N.jsxs("div",{className:"",children:[N.jsxs("ul",{className:"",children:[N.jsxs("li",{className:"px-4 py-2",children:[N.jsx("p",{className:"text-white-500 font-bold font-lay",children:"Websites"}),N.jsx("div",{className:"w-full h-px bg-white-500"})]}),IS.websites.map((n,e)=>N.jsx("li",{className:"flex items-center gap-2 group px-4 hover:bg-white-700 transition-colors duration-150 ease-in",children:N.jsx(Es,{className:"text-white-500 text-nowrap font-lay group-hover:text-white-50 transition-colors duration-200",to:n.link,children:n.title})},e))]}),N.jsxs("ul",{className:"",children:[N.jsxs("li",{className:"px-4 py-2",children:[N.jsx("p",{className:"text-white-500 font-bold font-lay",children:"Demos"}),N.jsx("div",{className:"w-full h-px bg-white-500"})]}),IS.demos.map((n,e)=>N.jsx("li",{className:"flex items-center gap-2 group px-4 hover:bg-white-700 transition-colors duration-150 ease-in",children:N.jsx(Es,{className:"text-white-500 text-nowrap font-lay group-hover:text-white-50 transition-colors duration-200",to:n.link,children:n.title})},e))]})]})})]}),N.jsx(d2,{})]}),hhe=()=>N.jsx(N.Fragment,{children:N.jsx("section",{className:"h-screen flex items-center justify-center overflow-hidden",children:N.jsxs("div",{className:"mx-auto",children:[N.jsx("div",{className:"select-none overflow-hidden relative flex justify-center",children:N.jsxs("h1",{className:"relative leading-none text-white-200 uppercase font-bold text-[4rem] sm:text-[6rem] lg:text-[8rem] text-nowrap",children:["Carlos ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Padilla"})," Carlos ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Padilla"})," Carlos ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Padilla"})]})}),N.jsx("div",{className:"select-none overflow-hidden relative flex justify-center",children:N.jsxs("h1",{className:"relative leading-none text-white-200 uppercase font-bold text-[4rem] sm:text-[6rem] lg:text-[8rem] text-nowrap",children:[N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Carlos"})," Padilla ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Carlos"})," Padilla ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Carlos"})," Padilla"]})}),N.jsx("div",{className:"select-none overflow-hidden relative flex justify-center",children:N.jsxs("h1",{className:"relative leading-none text-white-200 uppercase font-bold text-[4rem] sm:text-[6rem] lg:text-[8rem] text-nowrap",children:["Carlos ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Padilla"})," Carlos ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Padilla"})," Carlos ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Padilla"})]})}),N.jsx("div",{className:"select-none overflow-hidden relative flex justify-center",children:N.jsxs("h1",{className:"relative leading-none text-white-200 uppercase font-bold text-[4rem] sm:text-[6rem] lg:text-[8rem] text-nowrap",children:[N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Carlos"})," Padilla ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Carlos"})," Padilla ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Carlos"})," Padilla"]})}),N.jsx("div",{className:"select-none overflow-hidden relative flex justify-center",children:N.jsxs("h1",{className:"relative leading-none text-white-200 uppercase font-bold text-[4rem] sm:text-[6rem] lg:text-[8rem] text-nowrap",children:["Carlos ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Padilla"})," Carlos ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Padilla"})," Carlos ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Padilla"})]})}),N.jsx("div",{className:"select-none overflow-hidden relative flex justify-center",children:N.jsxs("h1",{className:"relative leading-none text-white-200 uppercase font-bold text-[4rem] sm:text-[6rem] lg:text-[8rem] text-nowrap",children:[N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Carlos"})," Padilla ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Carlos"})," Padilla ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Carlos"})," Padilla"]})}),N.jsx("div",{className:"select-none overflow-hidden relative flex justify-center",children:N.jsxs("h1",{className:"relative leading-none text-white-200 uppercase font-bold text-[4rem] sm:text-[6rem] lg:text-[8rem] text-nowrap",children:["Carlos ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Padilla"})," Carlos ",N.jsx("span",{className:"text-black-950 text-stroke  font-saol lowercase",children:"Padilla"})," Carlos ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Padilla"})]})}),N.jsx("div",{className:"select-none overflow-hidden relative flex justify-center",children:N.jsxs("h1",{className:"relative leading-none text-white-200 uppercase font-bold text-[4rem] sm:text-[6rem] lg:text-[8rem] text-nowrap",children:[N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Carlos"})," Padilla ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Carlos"})," Padilla ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Carlos"})," Padilla"]})}),N.jsx("div",{className:"select-none overflow-hidden relative flex justify-center",children:N.jsxs("h1",{className:"relative leading-none text-white-200 uppercase font-bold text-[4rem] sm:text-[6rem] lg:text-[8rem] text-nowrap",children:["404 ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Not"})," Found ",N.jsx("span",{className:"text-black-950 text-stroke  font-saol lowercase",children:"404"})," Not ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Found"})]})}),N.jsx("div",{className:"select-none overflow-hidden relative flex justify-center",children:N.jsxs("h1",{className:"relative leading-none text-white-200 uppercase font-bold text-[4rem] sm:text-[6rem] lg:text-[8rem] text-nowrap",children:["404 ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Not"})," Found ",N.jsx("span",{className:"text-black-950 text-stroke  font-saol lowercase",children:"404"})," Not ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Found"})]})}),N.jsx("div",{className:"select-none overflow-hidden relative flex justify-center",children:N.jsxs("h1",{className:"relative leading-none text-white-200 uppercase font-bold text-[4rem] sm:text-[6rem] lg:text-[8rem] text-nowrap",children:["404 ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Not"})," Found ",N.jsx("span",{className:"text-black-950 text-stroke  font-saol lowercase",children:"404"})," Not ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Found"})]})}),N.jsx("div",{className:"select-none overflow-hidden relative flex justify-center",children:N.jsxs("h1",{className:"relative leading-none text-white-200 uppercase font-bold text-[4rem] sm:text-[6rem] lg:text-[8rem] text-nowrap",children:[N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Carlos"})," Padilla ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Carlos"})," Padilla ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Carlos"})," Padilla"]})}),N.jsx("div",{className:"select-none overflow-hidden relative flex justify-center",children:N.jsxs("h1",{className:"relative leading-none text-white-200 uppercase font-bold text-[4rem] sm:text-[6rem] lg:text-[8rem] text-nowrap",children:["Carlos ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Padilla"})," Carlos ",N.jsx("span",{className:"text-black-950 text-stroke  font-saol lowercase",children:"Padilla"})," Carlos ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Padilla"})]})}),N.jsx("div",{className:"select-none overflow-hidden relative flex justify-center",children:N.jsxs("h1",{className:"relative leading-none text-white-200 uppercase font-bold text-[4rem] sm:text-[6rem] lg:text-[8rem] text-nowrap",children:[N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Carlos"})," Padilla ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Carlos"})," Padilla ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Carlos"})," Padilla"]})}),N.jsx("div",{className:"select-none overflow-hidden relative flex justify-center",children:N.jsxs("h1",{className:"relative leading-none text-white-200 uppercase font-bold text-[4rem] sm:text-[6rem] lg:text-[8rem] text-nowrap",children:["Carlos ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Padilla"})," Carlos ",N.jsx("span",{className:"text-black-950 text-stroke  font-saol lowercase",children:"Padilla"})," Carlos ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Padilla"})]})}),N.jsx("div",{className:"select-none overflow-hidden relative flex justify-center",children:N.jsxs("h1",{className:"relative leading-none text-white-200 uppercase font-bold text-[4rem] sm:text-[6rem] lg:text-[8rem] text-nowrap",children:["Carlos ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Padilla"})," Carlos ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Padilla"})," Carlos ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Padilla"})]})}),N.jsx("div",{className:"select-none overflow-hidden relative flex justify-center",children:N.jsxs("h1",{className:"relative leading-none text-white-200 uppercase font-bold text-[4rem] sm:text-[6rem] lg:text-[8rem] text-nowrap",children:[N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Carlos"})," Padilla ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Carlos"})," Padilla ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Carlos"})," Padilla"]})}),N.jsx("div",{className:"select-none overflow-hidden relative flex justify-center",children:N.jsxs("h1",{className:"relative leading-none text-white-200 uppercase font-bold text-[4rem] sm:text-[6rem] lg:text-[8rem] text-nowrap",children:["Carlos ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Padilla"})," Carlos ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Padilla"})," Carlos ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Padilla"})]})}),N.jsx("div",{className:"select-none overflow-hidden relative flex justify-center",children:N.jsxs("h1",{className:"relative leading-none text-white-200 uppercase font-bold text-[4rem] sm:text-[6rem] lg:text-[8rem] text-nowrap",children:[N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Carlos"})," Padilla ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Carlos"})," Padilla ",N.jsx("span",{className:"text-black-950 text-stroke text-stroke-white-200 font-saol lowercase",children:"Carlos"})," Padilla"]})})]})})}),phe="/assets/image-I-_KN4Qn.webp";Rr.registerPlugin(Jn);const mhe=()=>{const n=z.useRef(null),e=z.useRef(null),t=z.useRef(null),r=s=>{const o=50-50*s+"%",a=25-25*s+"%",l=50+50*s+"%",c=35*(1-s)+"%",f=50+50*s+"%",h=75+25*s+"%",p=50-50*s+"%",v=65+35*s+"%";Rr.set(e.current,{"clip-path":`polygon(${o} ${a}, ${l} ${c}, ${f} ${h}, ${p} ${v})`})},i=()=>{t.current&&t.current.kill(),t.current=Rr.to({},{duration:1,ease:"easeOutCubic",onUpdate:function(){r(this.progress())}}),Rr.to(n.current,{width:"90%",borderRadius:"3em",scrollTrigger:{trigger:n.current,start:"top top",end:"bottom top",scrub:!0}}),Rr.set(e.current,{display:"block"})};return z.useEffect(()=>(Rr.registerPlugin(Jn),i(),()=>{t.current&&t.current.kill()}),[]),N.jsxs(N.Fragment,{children:[N.jsx(Hl,{children:N.jsx("title",{children:"JQuery Mask Entry Animation | Carlos Padilla"})}),N.jsx(_u,{active:"Mask Entry Animation"}),N.jsxs("main",{children:[N.jsx("section",{ref:n,id:"home",className:"flex flex-col items-center justify-end p-2 min-h-screen overflow-hidden relative mx-auto z-10",children:N.jsx("div",{ref:e,className:"absolute left-1/2 -translate-x-1/2 top-0 w-full h-full overflow-hidden hidden",children:N.jsx("img",{src:phe,className:"w-full h-full object-cover",sizes:"100vw",alt:"Fullscreen Background",loading:"eager"})})}),N.jsxs("section",{className:"h-[50vh] flex items-center justify-center gap-4",children:[N.jsxs("a",{href:"https://github.com/cpadlab/JQuery-Mask-Entry-Animation",target:"_blank",className:"py-2 px-4 bg-white-50 text-black-950 rounded-2xl group flex items-center gap-1",children:[N.jsx("span",{children:"Code"}),N.jsx("svg",{className:"group-hover:translate-y-[-3px] group-hover:translate-x-[3px] transition-all duration-200",width:"9",height:"8",viewBox:"0 0 9 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:N.jsx("path",{className:"fill-black-900 group-hover:fill-black-950 transition-all duration-200",d:"M8.49966 1.01851C8.50988 0.742553 8.29446 0.510563 8.01851 0.500342L3.52159 0.33379C3.24564 0.32357 3.01365 0.538989 3.00343 0.814942C2.99321 1.09089 3.20862 1.32288 3.48458 1.33311L7.48184 1.48115L7.33379 5.47841C7.32357 5.75436 7.53899 5.98635 7.81494 5.99657C8.09089 6.0068 8.32288 5.79138 8.3331 5.51542L8.49966 1.01851ZM1.34023 7.8664L8.34023 1.3664L7.65977 0.633603L0.659774 7.1336L1.34023 7.8664Z"})})]}),N.jsxs("a",{href:"https://medium.com/@cpadlab/jquery-mask-entry-animation-62325bb9b35b",target:"_blank",className:"py-2 px-4 bg-white-50 text-black-950 rounded-2xl group flex items-center gap-1",children:[N.jsx("span",{children:"Article"}),N.jsx("svg",{className:"group-hover:translate-y-[-3px] group-hover:translate-x-[3px] transition-all duration-200",width:"9",height:"8",viewBox:"0 0 9 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:N.jsx("path",{className:"fill-black-900 group-hover:fill-black-950 transition-all duration-200",d:"M8.49966 1.01851C8.50988 0.742553 8.29446 0.510563 8.01851 0.500342L3.52159 0.33379C3.24564 0.32357 3.01365 0.538989 3.00343 0.814942C2.99321 1.09089 3.20862 1.32288 3.48458 1.33311L7.48184 1.48115L7.33379 5.47841C7.32357 5.75436 7.53899 5.98635 7.81494 5.99657C8.09089 6.0068 8.32288 5.79138 8.3331 5.51542L8.49966 1.01851ZM1.34023 7.8664L8.34023 1.3664L7.65977 0.633603L0.659774 7.1336L1.34023 7.8664Z"})})]})]})]})]})},ghe=({name:n,category:e,client:t,year:r})=>{const i=z.useRef(null),s=z.useRef(null),o=c=>{var f=Ll(i.current).outerHeight(),h=c.pageY-Ll(i.current).offset().top,p=Ll(s.current);h<f/2?p.css("top","-100%"):p.css("top","100%"),p.stop().animate({top:"0"},300)},a=()=>{alert("Clicked!")},l=c=>{var f=Ll(i.current).outerHeight(),h=c.pageY-Ll(i.current).offset().top,p=Ll(s.current);h<f/2?p.stop().animate({top:"-100%"},300):p.stop().animate({top:"100%"},300)};return N.jsx(N.Fragment,{children:N.jsxs("button",{className:"project-button group",ref:i,onMouseEnter:o,onMouseLeave:l,onClick:a,children:[N.jsx("div",{className:"project-button-border"}),N.jsx("span",{className:"project-button-span flex w-[35vw] max-[600px]:flex-1 group-hover:after:pl-4","data-text":n,children:n}),N.jsx("span",{className:"project-button-span min-[600px]:flex w-[45vw] hidden","data-text":e,children:e}),N.jsx("span",{className:"project-button-span w-[25vw] min-[1300px]:flex hidden","data-text":t,children:t}),N.jsx("span",{className:"project-button-span flex w-[20vw] group-hover:after:pr-4 justify-end after:right-0 after:left-[unset] min-[500px]:w-[10vw]","data-text":r,children:r}),N.jsx("div",{className:"project-button-background group-hover:top-0",ref:s})]})})},vhe=()=>N.jsxs(N.Fragment,{children:[N.jsx(_u,{active:"Background sliding on hover"}),N.jsx(Hl,{children:N.jsx("title",{children:"Vertical background sliding on hover with JQuery | Carlos Padilla"})}),N.jsx("main",{children:N.jsxs("section",{className:"w-[90%] mx-auto pt-[5em]",children:[N.jsx("div",{children:N.jsxs("div",{className:"project-button cursor-default",children:[N.jsx("span",{className:"project-button-span after:text-white-400 flex w-[35vw] max-[600px]:flex-1 group-hover:after:pl-4","data-text":"Project",children:"Project"}),N.jsx("span",{className:"project-button-span after:text-white-400 min-[600px]:flex w-[45vw] hidden","data-text":"Category",children:"Category"}),N.jsx("span",{className:"project-button-span after:text-white-400 w-[25vw] min-[1300px]:flex hidden","data-text":"Client",children:"Client"}),N.jsx("span",{className:"project-button-span after:text-white-400 flex w-[20vw] group-hover:after:pr-4 justify-end after:right-0 after:left-[unset] min-[500px]:w-[10vw]","data-text":"Year",children:"Year"})]})}),N.jsx("div",{children:EC.overwiew.map((n,e)=>N.jsx(ghe,{name:n.name,category:n.category,client:n.client,year:n.year},e))})]})})]}),yhe=()=>{const n=z.useRef([]),e=z.useRef(null);return z.useEffect(()=>{Rr.registerPlugin(Jn),n.current.forEach((t,r)=>{const i=[100,200,400,200,300];Rr.to(t,{scrollTrigger:{trigger:e.current,scrub:!0,start:"bottom bottom",end:"bottom +=100"},height:`${i[r]}px`,ease:"none"})}),Rr.to(e.current,{scrollTrigger:{trigger:e.current,scrub:!0,start:"bottom bottom",end:"bottom +=100"},opacity:0,ease:"none"})},[]),N.jsxs(N.Fragment,{children:[N.jsx(_u,{active:"GSAP Section Transition"}),N.jsx(Hl,{children:N.jsx("title",{children:"Awesome GSAP Section Transition | Carlos Padilla"})}),N.jsxs("main",{children:[N.jsx("section",{ref:e,className:"h-screen flex items-center justify-center",children:N.jsx("p",{className:"text-white-50 font-sans text-xl",children:"Scroll"})}),N.jsxs("section",{className:"relative z-10",children:[N.jsx("div",{className:"grid grid-cols-5 absolute w-full h-auto left-0 bottom-full items-end",children:[...Array(5)].map((t,r)=>N.jsx("div",{ref:i=>n.current[r]=i,className:"bg-white-50 h-0"},r))}),N.jsxs("div",{className:"bg-white-50 h-screen flex items-center justify-center gap-4",children:[N.jsxs("a",{href:"https://github.com/cpadlab/Awesome-GSAP-Section-Transition/",target:"_blank",className:"py-2 px-4 bg-black-950 text-white-50 rounded-2xl group flex items-center gap-1",children:[N.jsx("span",{children:"Code"}),N.jsx("svg",{className:"group-hover:translate-y-[-3px] group-hover:translate-x-[3px] transition-all duration-200",width:"9",height:"8",viewBox:"0 0 9 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:N.jsx("path",{className:"fill-white-400 group-hover:fill-white-50 transition-all duration-200",d:"M8.49966 1.01851C8.50988 0.742553 8.29446 0.510563 8.01851 0.500342L3.52159 0.33379C3.24564 0.32357 3.01365 0.538989 3.00343 0.814942C2.99321 1.09089 3.20862 1.32288 3.48458 1.33311L7.48184 1.48115L7.33379 5.47841C7.32357 5.75436 7.53899 5.98635 7.81494 5.99657C8.09089 6.0068 8.32288 5.79138 8.3331 5.51542L8.49966 1.01851ZM1.34023 7.8664L8.34023 1.3664L7.65977 0.633603L0.659774 7.1336L1.34023 7.8664Z"})})]}),N.jsxs("a",{href:"https://medium.com/@cpadlab/awesome-gsap-section-transition-aba4271c0e0c",target:"_blank",className:"py-2 px-4 bg-black-950 text-white-50 rounded-2xl group flex items-center gap-1",children:[N.jsx("span",{children:"Article"}),N.jsx("svg",{className:"group-hover:translate-y-[-3px] group-hover:translate-x-[3px] transition-all duration-200",width:"9",height:"8",viewBox:"0 0 9 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:N.jsx("path",{className:"fill-white-400 group-hover:fill-white-50 transition-all duration-200",d:"M8.49966 1.01851C8.50988 0.742553 8.29446 0.510563 8.01851 0.500342L3.52159 0.33379C3.24564 0.32357 3.01365 0.538989 3.00343 0.814942C2.99321 1.09089 3.20862 1.32288 3.48458 1.33311L7.48184 1.48115L7.33379 5.47841C7.32357 5.75436 7.53899 5.98635 7.81494 5.99657C8.09089 6.0068 8.32288 5.79138 8.3331 5.51542L8.49966 1.01851ZM1.34023 7.8664L8.34023 1.3664L7.65977 0.633603L0.659774 7.1336L1.34023 7.8664Z"})})]})]})]})]})]})},xhe=()=>{const n=z.useRef(null),{scrollYProgress:e}=sU({target:n,offset:["start end","end start"]}),t=[W1(e,[0,1],["0%","20%"]),W1(e,[0,1],["0%","-20%"]),W1(e,[0,1],["0%","20%"])],r=N.jsxs(N.Fragment,{children:["Scroll ",N.jsx("span",{className:"text-black-950 text-stroke font-sans",children:"Down"})," Scroll ",N.jsx("span",{className:"text-black-950 text-stroke font-sans",children:"Down"})," Scroll ",N.jsx("span",{className:"text-black-950 text-stroke font-sans",children:"Down"})]});return N.jsxs(N.Fragment,{children:[N.jsx(Hl,{children:N.jsx("title",{children:"Text Parallax with Framer Motion | Carlos Padilla"})}),N.jsx(_u,{active:"Text Parallax with Framer Motion"}),N.jsxs("main",{children:[N.jsx("div",{className:"h-screen flex items-center justify-center",children:N.jsx("p",{className:"text-white-50",children:"Scroll Down"})}),N.jsx("section",{ref:n,children:t.map((i,s)=>N.jsx("div",{className:"select-none overflow-hidden flex justify-center",children:N.jsxs(Pp.h1,{style:{x:i},className:"relative leading-none text-white-50 uppercase font-sans font-bold text-[4rem] sm:text-[6rem] lg:text-[8rem] text-nowrap",children:[s%2===0?N.jsx("span",{className:"text-black-950 text-stroke font-sans",children:"Scroll"}):null,r]})},s))}),N.jsxs("div",{className:"h-screen flex items-center justify-center gap-4",children:[N.jsxs("a",{href:"https://github.com/cpadlab/Framer-Motion-Text-Parallax",target:"_blank",className:"py-2 px-4 bg-white-50 text-black-950 rounded-2xl group flex items-center gap-1",children:[N.jsx("span",{children:"Code"}),N.jsx("svg",{className:"group-hover:translate-y-[-3px] group-hover:translate-x-[3px] transition-all duration-200",width:"9",height:"8",viewBox:"0 0 9 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:N.jsx("path",{className:"fill-black-900 group-hover:fill-black-950 transition-all duration-200",d:"M8.49966 1.01851C8.50988 0.742553 8.29446 0.510563 8.01851 0.500342L3.52159 0.33379C3.24564 0.32357 3.01365 0.538989 3.00343 0.814942C2.99321 1.09089 3.20862 1.32288 3.48458 1.33311L7.48184 1.48115L7.33379 5.47841C7.32357 5.75436 7.53899 5.98635 7.81494 5.99657C8.09089 6.0068 8.32288 5.79138 8.3331 5.51542L8.49966 1.01851ZM1.34023 7.8664L8.34023 1.3664L7.65977 0.633603L0.659774 7.1336L1.34023 7.8664Z"})})]}),N.jsxs("a",{href:"https://medium.com/@cpadlab/text-parallax-with-framer-motion-a724d1ce85d0",target:"_blank",className:"py-2 px-4 bg-white-50 text-black-950 rounded-2xl group flex items-center gap-1",children:[N.jsx("span",{children:"Article"}),N.jsx("svg",{className:"group-hover:translate-y-[-3px] group-hover:translate-x-[3px] transition-all duration-200",width:"9",height:"8",viewBox:"0 0 9 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:N.jsx("path",{className:"fill-black-900 group-hover:fill-black-950 transition-all duration-200",d:"M8.49966 1.01851C8.50988 0.742553 8.29446 0.510563 8.01851 0.500342L3.52159 0.33379C3.24564 0.32357 3.01365 0.538989 3.00343 0.814942C2.99321 1.09089 3.20862 1.32288 3.48458 1.33311L7.48184 1.48115L7.33379 5.47841C7.32357 5.75436 7.53899 5.98635 7.81494 5.99657C8.09089 6.0068 8.32288 5.79138 8.3331 5.51542L8.49966 1.01851ZM1.34023 7.8664L8.34023 1.3664L7.65977 0.633603L0.659774 7.1336L1.34023 7.8664Z"})})]})]})]})]})};/*!
 * ScrollToPlugin 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Zo,gV,vf,tu,Cd,vV,yV,U1,xV=function(){return typeof window<"u"},_V=function(){return Zo||xV()&&(Zo=window.gsap)&&Zo.registerPlugin&&Zo},wV=function(e){return typeof e=="string"},aO=function(e){return typeof e=="function"},Jy=function(e,t){var r=t==="x"?"Width":"Height",i="scroll"+r,s="client"+r;return e===vf||e===tu||e===Cd?Math.max(tu[i],Cd[i])-(vf["inner"+r]||tu[s]||Cd[s]):e[i]-e["offset"+r]},Qy=function(e,t){var r="scroll"+(t==="x"?"Left":"Top");return e===vf&&(e.pageXOffset!=null?r="page"+t.toUpperCase()+"Offset":e=tu[r]!=null?tu:Cd),function(){return e[r]}},_he=function(e,t,r,i){if(aO(e)&&(e=e(t,r,i)),typeof e!="object")return wV(e)&&e!=="max"&&e.charAt(1)!=="="?{x:e,y:e}:{y:e};if(e.nodeType)return{y:e,x:e};var s={},o;for(o in e)s[o]=o!=="onAutoKill"&&aO(e[o])?e[o](t,r,i):e[o];return s},SV=function(e,t){if(e=vV(e)[0],!e||!e.getBoundingClientRect)return console.warn("scrollTo target doesn't exist. Using 0")||{x:0,y:0};var r=e.getBoundingClientRect(),i=!t||t===vf||t===Cd,s=i?{top:tu.clientTop-(vf.pageYOffset||tu.scrollTop||Cd.scrollTop||0),left:tu.clientLeft-(vf.pageXOffset||tu.scrollLeft||Cd.scrollLeft||0)}:t.getBoundingClientRect(),o={x:r.left-s.left,y:r.top-s.top};return!i&&t&&(o.x+=Qy(t,"x")(),o.y+=Qy(t,"y")()),o},lO=function(e,t,r,i,s){return!isNaN(e)&&typeof e!="object"?parseFloat(e)-s:wV(e)&&e.charAt(1)==="="?parseFloat(e.substr(2))*(e.charAt(0)==="-"?-1:1)+i-s:e==="max"?Jy(t,r)-s:Math.min(Jy(t,r),SV(e,t)[r]-s)},cO=function(){Zo=_V(),xV()&&Zo&&typeof document<"u"&&document.body&&(vf=window,Cd=document.body,tu=document.documentElement,vV=Zo.utils.toArray,Zo.config({autoKillThreshold:7}),yV=Zo.config(),gV=1)},Dx={version:"3.12.5",name:"scrollTo",rawVars:1,register:function(e){Zo=e,cO()},init:function(e,t,r,i,s){gV||cO();var o=this,a=Zo.getProperty(e,"scrollSnapType");o.isWin=e===vf,o.target=e,o.tween=r,t=_he(t,i,e,s),o.vars=t,o.autoKill=!!t.autoKill,o.getX=Qy(e,"x"),o.getY=Qy(e,"y"),o.x=o.xPrev=o.getX(),o.y=o.yPrev=o.getY(),U1||(U1=Zo.core.globals().ScrollTrigger),Zo.getProperty(e,"scrollBehavior")==="smooth"&&Zo.set(e,{scrollBehavior:"auto"}),a&&a!=="none"&&(o.snap=1,o.snapInline=e.style.scrollSnapType,e.style.scrollSnapType="none"),t.x!=null?(o.add(o,"x",o.x,lO(t.x,e,"x",o.x,t.offsetX||0),i,s),o._props.push("scrollTo_x")):o.skipX=1,t.y!=null?(o.add(o,"y",o.y,lO(t.y,e,"y",o.y,t.offsetY||0),i,s),o._props.push("scrollTo_y")):o.skipY=1},render:function(e,t){for(var r=t._pt,i=t.target,s=t.tween,o=t.autoKill,a=t.xPrev,l=t.yPrev,c=t.isWin,f=t.snap,h=t.snapInline,p,v,y,w,S;r;)r.r(e,r.d),r=r._next;p=c||!t.skipX?t.getX():a,v=c||!t.skipY?t.getY():l,y=v-l,w=p-a,S=yV.autoKillThreshold,t.x<0&&(t.x=0),t.y<0&&(t.y=0),o&&(!t.skipX&&(w>S||w<-S)&&p<Jy(i,"x")&&(t.skipX=1),!t.skipY&&(y>S||y<-S)&&v<Jy(i,"y")&&(t.skipY=1),t.skipX&&t.skipY&&(s.kill(),t.vars.onAutoKill&&t.vars.onAutoKill.apply(s,t.vars.onAutoKillParams||[]))),c?vf.scrollTo(t.skipX?p:t.x,t.skipY?v:t.y):(t.skipY||(i.scrollTop=t.y),t.skipX||(i.scrollLeft=t.x)),f&&(e===1||e===0)&&(v=i.scrollTop,p=i.scrollLeft,h?i.style.scrollSnapType=h:i.style.removeProperty("scroll-snap-type"),i.scrollTop=v+1,i.scrollLeft=p+1,i.scrollTop=v,i.scrollLeft=p),t.xPrev=t.x,t.yPrev=t.y,U1&&U1.update()},kill:function(e){var t=e==="scrollTo",r=this._props.indexOf(e);return(t||e==="scrollTo_x")&&(this.skipX=1),(t||e==="scrollTo_y")&&(this.skipY=1),r>-1&&this._props.splice(r,1),!this._props.length}};Dx.max=Jy;Dx.getOffset=SV;Dx.buildGetter=Qy;_V()&&Zo.registerPlugin(Dx);const whe=({isHovered:n,scrollTween:e})=>{const t=z.useRef([z.useRef(null),z.useRef(null)]);return z.useEffect(()=>{Rr.registerPlugin(Jn);let r=0,i=0,s=0,o=0;t.current.forEach((a,l)=>{const c=l+1;Rr.to(a.current,{duration:.018,repeat:-1,onRepeat:function(){r+=(s-r)/8,i+=(o-i)/8,Rr.set(a.current,{css:{left:r-c,top:i-c}})}})}),document.addEventListener("mousemove",a=>{s=a.clientX,o=a.clientY})},[]),N.jsxs(N.Fragment,{children:[N.jsx("div",{className:`sm:flex hidden fixed z-50 mix-blend-difference pointer-events-none  ${n?"opacity-1":"opacity-0"} transition-opacity duration-200`,ref:t.current[0],id:"cursor",children:N.jsx("svg",{className:"fill-white-50 w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 480 480",children:N.jsx("path",{d:"M398.7 240A239.4 239.4 0 0 0 480 60V0h-60c-71.7 0-136 31.4-180 81.3A239.4 239.4 0 0 0 60 0H0v60c0 71.7 31.4 136 81.3 180A239.4 239.4 0 0 0 0 420v60h60c71.7 0 136-31.4 180-81.3A239.4 239.4 0 0 0 420 480h60v-60c0-71.7-31.4-136-81.3-180Z"})})}),N.jsx("div",{className:`fixed z-50 sm:flex hidden mix-blend-difference pl-8 overflow-hidden pointer-events-none ${n?"opacity-1":"opacity-0"} transition-opacity duration-200`,ref:t.current[1],children:N.jsx("p",{className:"text-white-50 text-nowrap font-neueMontreal uppercase",children:"Read more"})})]})},She=()=>N.jsxs("section",{className:"h-screen min-w-[100vw] pr-[25vw] overflow-y-hidden border-r-[1px] border-r-black-950 relative",children:[N.jsx("div",{className:"flex sm:justify-start justify-end items-end h-full pl-4 pb-4",children:N.jsx("h1",{className:"text-[10rem] sm:text-[17rem] leading-[.75] uppercase font-bulevar z-40",children:"Almera"})}),N.jsx("div",{className:"absolute max-w-[400px] left-1/2 -translate-y-1/2 -translate-x-1/2 z-10 top-[30vh] sm:top-1/2",children:N.jsx("p",{className:"font-neueMontreal uppercase text-black-950",children:"Sumrgete en ese mar de sensaciones que conocemos como Almera, en nuestros orgenes y cultura, lugares que visitar y experiencias que vivir, nuestras tradiciones y gastronoma."})}),N.jsxs("div",{className:"absolute w-1/2 h-1/2 bottom-4 right-8 overflow-hidden",children:[N.jsx("p",{className:"font-neueMontreal uppercase text-right",children:"Scroll Down"}),N.jsx("div",{className:"w-[1200px] relative",children:N.jsx("img",{src:"/assets/images/demos/turismo-almeria/09.jpg",alt:"Paisajes de Almera",className:"object-cover w-full h-full",id:"parallax"})})]})]}),bhe=({image:n,title:e,id:t,onHoverChange:r})=>{var i=z.useRef(null);return N.jsxs("button",{className:"h-screen w-[600px] relative flex overflow-hidden items-end justify-end bg-black-950 cursor-pointer",ref:i,id:"tourist-offer-card",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[N.jsx("div",{className:"absolute left-0 top-0 w-[860px] h-full -z-[0] opacity-100 mask-180",children:N.jsx("img",{src:n,alt:e,className:"object-cover w-full h-full absolute left-0 top-0",id:"parallax"})}),N.jsxs("div",{className:"z-10 p-4 select-none",children:[N.jsx("div",{className:"flex justify-end",children:N.jsx("p",{className:"px-2 py-1 w-fit border-[1px] border-white-50 text-right rounded-full text-white-50 leading-none",children:t})}),N.jsx("p",{className:"leading-[.75] text-[5rem] sm:text-[6rem] mt-[1rem] text-right max-w-[400px] text-white-50 font-bulevar uppercase",children:e})]})]})},Ehe=[{id:"001",title:"Turismo de Naturaleza",image:"/assets/images/demos/turismo-almeria/02.jpg"},{id:"002",title:"Tierra de Cine",image:"/assets/images/demos/turismo-almeria/04.jpg"},{id:"003",title:"Turismo Cultural",image:"/assets/images/demos/turismo-almeria/05.jpg"},{id:"004",title:"Turismo Grastronmico",image:"/assets/images/demos/turismo-almeria/06.jpg"},{id:"005",title:"Turismo Urbano",image:"/assets/images/demos/turismo-almeria/03.jpg"},{id:"006",title:"Playas de Almera",image:"/assets/images/demos/turismo-almeria/01.jpg"},{id:"007",title:"Museos de Almera",image:"/assets/images/demos/turismo-almeria/07.jpg"},{id:"008",title:"Congresos en Almera",image:"/assets/images/demos/turismo-almeria/08.jpg"}],The=[{id:1,title:"Huellas de Infancia",image:"/assets/images/demos/turismo-almeria/10.jpg",link:"https://www.turismodealmeria.org/evento/huellas-de-la-infancia-2/"},{id:2,title:"Tnez en Sepia",image:"/assets/images/demos/turismo-almeria/11.webp",link:"https://www.turismodealmeria.org/evento/tunez-en-sepia-fotografias-de-la-coleccion-del-museo-arqueologico-nacional/"},{id:3,title:"III Jornada - Libros en la Calle",image:"/assets/images/demos/turismo-almeria/12.jpg",link:"https://www.turismodealmeria.org/evento/iii-jornada-libros-en-la-calle/s"},{id:4,title:"Los Domingos de Barrio Amable",image:"/assets/images/demos/turismo-almeria/13.jpg",link:"https://www.turismodealmeria.org/evento/los-domingos-del-barrio-amable/"},{id:5,title:"Pica - Pica: Hola Caracola",image:"/assets/images/demos/turismo-almeria/14.jpg",link:"https://www.turismodealmeria.org/evento/pica-pica-hola-caracola/"}],Mhe={tourist_offer:Ehe,coming_soon_events:The},Ahe=({setIsHovered:n})=>N.jsx(N.Fragment,{children:N.jsxs("section",{className:"flex",id:"tourist-offer-section",children:[N.jsx("div",{className:"h-screen bg-white-50 border-r-[1px] border-r-black-950 px-4 flex justify-start pb-4 flex-col-reverse",children:N.jsx("p",{className:"leading-none vertical-text text-[3rem] sm:text-[4rem] mt-[1rem] text-black-950 font-neueMontreal",children:"Oferta Turstica"})}),Mhe.tourist_offer.map((e,t)=>N.jsx(bhe,{image:e.image,title:e.title,id:e.id,onHoverChange:n},t))]})}),Che=()=>{const n=z.useRef(null),e=z.useRef(null),[t,r]=z.useState(window.innerWidth),[i,s]=z.useState(!1);let o;z.useEffect(()=>(Rr.registerPlugin(Dx,Jn),window.addEventListener("resize",a),o=Rr.to(n.current,{x:()=>-(n.current.scrollWidth-window.innerWidth),ease:"none",scrollTrigger:{trigger:n.current,invalidateOnRefresh:!0,pin:!0,scrub:1,end:()=>"+="+n.current.scrollWidth}}),Rr.utils.toArray("#parallax").forEach(l=>{Rr.timeline({defaults:{ease:"none"},scrollTrigger:{containerAnimation:o,trigger:l,start:"left right",end:"left left",scrub:!0}}).fromTo(l,{x:0},{x:-250},0)}),Rr.timeline({defaults:{ease:"none"},scrollTrigger:{containerAnimation:o,trigger:"#tourist-offer-section",start:"top center",end:"bottom +=300",scrub:!0}}).to("#cursor",{rotate:"1080deg"}),()=>{window.removeEventListener("resize",a)}),[]);const a=()=>{r(window.innerWidth)};return N.jsxs(N.Fragment,{children:[N.jsx(Hl,{children:N.jsx("title",{children:"Almera Turismo | Carlos Padilla"})}),N.jsx(_u,{active:"Almera Turismo"}),N.jsx("main",{className:"overflow-x-hidden bg-white-50",children:N.jsx("div",{ref:n,children:N.jsxs("div",{ref:e,className:"flex w-fit overflow-hidden flex-nowrap",children:[N.jsx(She,{}),N.jsx(Ahe,{setIsHovered:s}),N.jsx("section",{className:"w-screen border-l-[1px] border-l-black-950 flex justify-center items-center flex-col",children:N.jsxs("div",{children:[N.jsx("p",{className:"leading-none text-[3rem] sm:text-[4rem] mt-[1rem] text-black-950 font-neueMontreal",children:"No te puedes perder"}),N.jsx("p",{className:"leading-none text-base sm:text-[2.5rem] text-black-950 font-neueMontreal",children:"A qu esperas?"})]})}),N.jsx("div",{className:"w-[10vh]"})]})})}),N.jsx(whe,{isHovered:i})]})},Rhe=()=>N.jsxs(N.Fragment,{children:[N.jsx(_u,{active:"Alwed"}),N.jsx(Hl,{children:N.jsx("title",{children:"Alwed | Carlos Padilla"})}),N.jsx("main",{className:"relative",children:N.jsx("div",{className:"h-screen",children:N.jsx("iframe",{className:"h-full absolute w-full",height:"100vh",scrolling:"no",title:"Alwed -  Spec Work // Ficticious Brand",src:"https://codepen.io/cpadlab/embed/WbeGQZP?default-tab=result&theme-id=dark",frameBorder:"no",loading:"lazy",allowtransparency:"true",allowFullScreen:!0})})})]}),Phe=()=>N.jsxs(N.Fragment,{children:[N.jsx(_u,{active:"Dot Dager Porfolio"}),N.jsx(Hl,{children:N.jsx("title",{children:"Dot Dager Porfolio | Carlos Padilla"})}),N.jsx("main",{className:"relative",children:N.jsx("div",{className:"h-screen",children:N.jsx("iframe",{className:"h-full absolute w-full",height:"100vh",scrolling:"no",title:"Dot Dager - Portfolio",src:"https://codepen.io/cpadlab/embed/dPbpYEd?default-tab=result&theme-id=dark",frameBorder:"no",loading:"lazy",allowtransparency:"true",allowFullScreen:!0})})})]}),Ihe=()=>N.jsxs(N.Fragment,{children:[N.jsx(_u,{active:"Mirko Vigna Porfolio"}),N.jsx(Hl,{children:N.jsx("title",{children:"Mirko Vigna Porfolio | Carlos Padilla"})}),N.jsx("main",{className:"relative",children:N.jsx("div",{className:"h-screen",children:N.jsx("iframe",{className:"h-full absolute w-full",height:"100vh",scrolling:"no",title:"Mirko Vigna Portfolio",src:"https://codepen.io/cpadlab/embed/Wbeorrq?default-tab=result&theme-id=dark",frameBorder:"no",loading:"lazy",allowtransparency:"true",allowFullScreen:!0})})})]}),Lhe=()=>N.jsxs(N.Fragment,{children:[N.jsx(_u,{active:"Tesla Landing Page"}),N.jsx(Hl,{children:N.jsx("title",{children:"Tesla Landing Page | Carlos Padilla"})}),N.jsx("main",{className:"relative",children:N.jsx("div",{className:"h-screen",children:N.jsx("iframe",{className:"h-full absolute w-full",height:"100vh",scrolling:"no",title:"Tesla Landing Page - Spec Work",src:"https://codepen.io/cpadlab/embed/dPbpGXK?default-tab=result&theme-id=dark",frameBorder:"no",loading:"lazy",allowtransparency:"true",allowFullScreen:!0})})})]});function Dhe(){const n=Hd();return N.jsx(N.Fragment,{children:N.jsx(eU,{mode:"wait",children:N.jsx(Pp.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:N.jsx(dU,{children:N.jsxs(KH,{children:[N.jsx(da,{path:"/",element:N.jsx(ohe,{})}),N.jsx(da,{path:"/blog",element:N.jsx(che,{})}),N.jsx(da,{path:"/demos",element:N.jsx(dhe,{})}),N.jsx(da,{path:"/demos/mask-entry-animation",element:N.jsx(mhe,{})}),N.jsx(da,{path:"/demos/background-sliding-on-hover",element:N.jsx(vhe,{})}),N.jsx(da,{path:"/demos/gsap-section-transition",element:N.jsx(yhe,{})}),N.jsx(da,{path:"/demos/text-parallax",element:N.jsx(xhe,{})}),N.jsx(da,{path:"/demos/almeria-turismo",element:N.jsx(Che,{})}),N.jsx(da,{path:"/demos/alwed",element:N.jsx(Rhe,{})}),N.jsx(da,{path:"/demos/tesla-landing-page",element:N.jsx(Lhe,{})}),N.jsx(da,{path:"/demos/dot-dager-portfolio",element:N.jsx(Phe,{})}),N.jsx(da,{path:"/demos/mirko-vigna-portfolio",element:N.jsx(Ihe,{})}),N.jsx(da,{path:"*",element:N.jsx(hhe,{})})]})})},n.pathname)})})}sH.createRoot(document.getElementById("root")).render(N.jsx(Te.StrictMode,{children:N.jsx(_6,{children:N.jsx(Dhe,{})})}));
